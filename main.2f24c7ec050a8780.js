var bge=Object.defineProperty,xge=Object.defineProperties,wge=Object.getOwnPropertyDescriptors,RV=Object.getOwnPropertySymbols,Mge=Object.prototype.hasOwnProperty,Sge=Object.prototype.propertyIsEnumerable,IV=Math.pow,kV=(Ks,h,te)=>h in Ks?bge(Ks,h,{enumerable:!0,configurable:!0,writable:!0,value:te}):Ks[h]=te,Ds=(Ks,h)=>{for(var te in h||(h={}))Mge.call(h,te)&&kV(Ks,te,h[te]);if(RV)for(var te of RV(h))Sge.call(h,te)&&kV(Ks,te,h[te]);return Ks},My=(Ks,h)=>xge(Ks,wge(h));(self.webpackChunktrackers=self.webpackChunktrackers||[]).push([[179],{241:(Ks,h,te)=>{"use strict";function j(i){return"function"==typeof i}function k(i){const t=i(n=>{Error.call(n),n.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const g=k(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function w(i,e){if(i){const t=i.indexOf(e);0<=t&&i.splice(t,1)}}class S{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(j(n))try{n()}catch(s){e=s instanceof g?s.errors:[s]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const s of r)try{f(s)}catch(o){e=null!=e?e:[],o instanceof g?e=[...e,...o.errors]:e.push(o)}}if(e)throw new g(e)}}add(e){var t;if(e&&e!==this)if(this.closed)f(e);else{if(e instanceof S){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&w(t,e)}remove(e){const{_teardowns:t}=this;t&&w(t,e),e instanceof S&&e._removeParent(this)}}S.EMPTY=(()=>{const i=new S;return i.closed=!0,i})();const M=S.EMPTY;function b(i){return i instanceof S||i&&"closed"in i&&j(i.remove)&&j(i.add)&&j(i.unsubscribe)}function f(i){j(i)?i():i.unsubscribe()}const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},d={setTimeout(...i){const{delegate:e}=d;return((null==e?void 0:e.setTimeout)||setTimeout)(...i)},clearTimeout(i){const{delegate:e}=d;return((null==e?void 0:e.clearTimeout)||clearTimeout)(i)},delegate:void 0};function p(i){d.setTimeout(()=>{const{onUnhandledError:e}=u;if(!e)throw i;e(i)})}function m(){}const v=R("C",void 0,void 0);function R(i,e,t){return{kind:i,value:e,error:t}}let B=null;function V(i){if(u.useDeprecatedSynchronousErrorHandling){const e=!B;if(e&&(B={errorThrown:!1,error:null}),i(),e){const{errorThrown:t,error:n}=B;if(B=null,t)throw n}}else i()}class K extends S{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,b(e)&&e.add(this)):this.destination=X}static create(e,t,n){return new Q(e,t,n)}next(e){this.isStopped?ne(function I(i){return R("N",i,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ne(function D(i){return R("E",void 0,i)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ne(v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Q extends K{constructor(e,t,n){let r;if(super(),j(e))r=e;else if(e){let s;({next:r,error:t,complete:n}=e),this&&u.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,r=null==r?void 0:r.bind(s),t=null==t?void 0:t.bind(s),n=null==n?void 0:n.bind(s)}this.destination={next:r?W(r):m,error:W(null!=t?t:Z),complete:n?W(n):m}}}function W(i,e){return(...t)=>{try{i(...t)}catch(n){u.useDeprecatedSynchronousErrorHandling?function G(i){u.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=i)}(n):p(n)}}}function Z(i){throw i}function ne(i,e){const{onStoppedNotification:t}=u;t&&d.setTimeout(()=>t(i,e))}const X={closed:!0,next:m,error:Z,complete:m},se="function"==typeof Symbol&&Symbol.observable||"@@observable";function oe(i){return i}let xe=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new i;return n.source=this,n.operator=t,n}subscribe(t,n,r){const s=function Oe(i){return i&&i instanceof K||function Ve(i){return i&&j(i.next)&&j(i.error)&&j(i.complete)}(i)&&b(i)}(t)?t:new Q(t,n,r);return V(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=Ue(n))((r,s)=>{const o=new Q({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[se](){return this}pipe(...t){return function Be(i){return 0===i.length?oe:1===i.length?i[0]:function(t){return i.reduce((n,r)=>r(n),t)}}(t)(this)}toPromise(t){return new(t=Ue(t))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return i.create=e=>new i(e),i})();function Ue(i){var e;return null!==(e=null!=i?i:u.Promise)&&void 0!==e?e:Promise}const Ge=k(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let De=(()=>{class i extends xe{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const n=new lt(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new Ge}next(t){V(()=>{if(this._throwIfClosed(),!this.isStopped){const n=this.observers.slice();for(const r of n)r.next(t)}})}error(t){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:n,isStopped:r,observers:s}=this;return n||r?M:(s.push(t),new S(()=>w(s,t)))}_checkFinalizedStatuses(t){const{hasError:n,thrownError:r,isStopped:s}=this;n?t.error(r):s&&t.complete()}asObservable(){const t=new xe;return t.source=this,t}}return i.create=(e,t)=>new lt(e,t),i})();class lt extends De{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}error(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:M}}function Ke(i){return j(null==i?void 0:i.lift)}function ct(i){return e=>{if(Ke(e))return e.lift(function(t){try{return i(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}class ut extends K{constructor(e,t,n,r,s){super(e),this.onFinalize=s,this._next=t?function(o){try{t(o)}catch(a){e.error(a)}}:super._next,this._error=r?function(o){try{r(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function z(i,e){return ct((t,n)=>{let r=0;t.subscribe(new ut(n,s=>{n.next(i.call(e,s,r++))}))})}function tt(i,e,t,n){return new(t||(t=Promise))(function(s,o){function a(y){try{c(n.next(y))}catch(x){o(x)}}function l(y){try{c(n.throw(y))}catch(x){o(x)}}function c(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(y.value).then(a,l)}c((n=n.apply(i,e||[])).next())})}function Yn(i){return this instanceof Yn?(this.v=i,this):new Yn(i)}function Kn(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=t.apply(i,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(C){n[C]&&(r[C]=function(A){return new Promise(function(P,L){s.push([C,A,P,L])>1||a(C,A)})})}function a(C,A){try{!function l(C){C.value instanceof Yn?Promise.resolve(C.value.v).then(c,y):x(s[0][2],C)}(n[C](A))}catch(P){x(s[0][3],P)}}function c(C){a("next",C)}function y(C){a("throw",C)}function x(C,A){C(A),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Nt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=i[Symbol.asyncIterator];return e?e.call(i):(i=function Et(i){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=i[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=i[s](o)).done,o.value)})}}}const le=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function ve(i){return j(null==i?void 0:i.then)}function ze(i){return j(i[se])}function pt(i){return Symbol.asyncIterator&&j(null==i?void 0:i[Symbol.asyncIterator])}function Dt(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const nt=function Gt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function dn(i){return j(null==i?void 0:i[nt])}function Ln(i){return Kn(this,arguments,function*(){const t=i.getReader();try{for(;;){const{value:n,done:r}=yield Yn(t.read());if(r)return yield Yn(void 0);yield yield Yn(n)}}finally{t.releaseLock()}})}function mi(i){return j(null==i?void 0:i.getReader)}function zn(i){if(i instanceof xe)return i;if(null!=i){if(ze(i))return function $n(i){return new xe(e=>{const t=i[se]();if(j(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(le(i))return function ui(i){return new xe(e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}(i);if(ve(i))return function Gi(i){return new xe(e=>{i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,p)})}(i);if(pt(i))return ja(i);if(dn(i))return function Qs(i){return new xe(e=>{for(const t of i)if(e.next(t),e.closed)return;e.complete()})}(i);if(mi(i))return function ml(i){return ja(Ln(i))}(i)}throw Dt(i)}function ja(i){return new xe(e=>{(function No(i,e){var t,n,r,s;return tt(this,void 0,void 0,function*(){try{for(t=Nt(i);!(n=yield t.next()).done;)if(e.next(n.value),e.closed)return}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(i,e).catch(t=>e.error(t))})}function Js(i,e,t,n=0,r=!1){const s=e.schedule(function(){t(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(s),!r)return s}function Sr(i,e,t=1/0){return j(e)?Sr((n,r)=>z((s,o)=>e(n,s,r,o))(zn(i(n,r))),t):("number"==typeof e&&(t=e),ct((n,r)=>function Kl(i,e,t,n,r,s,o,a){const l=[];let c=0,y=0,x=!1;const C=()=>{x&&!l.length&&!c&&e.complete()},A=L=>c<n?P(L):l.push(L),P=L=>{s&&e.next(L),c++;let H=!1;zn(t(L,y++)).subscribe(new ut(e,F=>{null==r||r(F),s?A(F):e.next(F)},()=>{H=!0},void 0,()=>{if(H)try{for(c--;l.length&&c<n;){const F=l.shift();o?Js(e,o,()=>P(F)):P(F)}C()}catch(F){e.error(F)}}))};return i.subscribe(new ut(e,A,()=>{x=!0,C()})),()=>{null==a||a()}}(n,r,i,t)))}function Xo(i=1/0){return Sr(oe,i)}const Bs=new xe(i=>i.complete());function Va(i){return i&&j(i.schedule)}function ba(i){return i[i.length-1]}function We(i){return j(ba(i))?i.pop():void 0}function Bt(i){return Va(ba(i))?i.pop():void 0}function Jt(i,e=0){return ct((t,n)=>{t.subscribe(new ut(n,r=>Js(n,i,()=>n.next(r),e),()=>Js(n,i,()=>n.complete(),e),r=>Js(n,i,()=>n.error(r),e)))})}function In(i,e=0){return ct((t,n)=>{n.add(i.schedule(()=>t.subscribe(n),e))})}function Di(i,e){if(!i)throw new Error("Iterable cannot be null");return new xe(t=>{Js(t,e,()=>{const n=i[Symbol.asyncIterator]();Js(t,e,()=>{n.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Tn(i,e){return e?function Cr(i,e){if(null!=i){if(ze(i))return function jt(i,e){return zn(i).pipe(In(e),Jt(e))}(i,e);if(le(i))return function Zi(i,e){return new xe(t=>{let n=0;return e.schedule(function(){n===i.length?t.complete():(t.next(i[n++]),t.closed||this.schedule())})})}(i,e);if(ve(i))return function Vi(i,e){return zn(i).pipe(In(e),Jt(e))}(i,e);if(pt(i))return Di(i,e);if(dn(i))return function rr(i,e){return new xe(t=>{let n;return Js(t,e,()=>{n=i[nt](),Js(t,e,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>j(null==n?void 0:n.return)&&n.return()})}(i,e);if(mi(i))return function wn(i,e){return Di(Ln(i),e)}(i,e)}throw Dt(i)}(i,e):zn(i)}function Kr(...i){const e=Bt(i),t=function fn(i,e){return"number"==typeof ba(i)?i.pop():e}(i,1/0),n=i;return n.length?1===n.length?zn(n[0]):Xo(t)(Tn(n,e)):Bs}function sr(i){return i<=0?()=>Bs:ct((e,t)=>{let n=0;e.subscribe(new ut(t,r=>{++n<=i&&(t.next(r),i<=n&&t.complete())}))})}function Fc(i={}){const{connector:e=(()=>new De),resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=i;return s=>{let o=null,a=null,l=null,c=0,y=!1,x=!1;const C=()=>{null==a||a.unsubscribe(),a=null},A=()=>{C(),o=l=null,y=x=!1},P=()=>{const L=o;A(),null==L||L.unsubscribe()};return ct((L,H)=>{c++,!x&&!y&&C();const F=l=null!=l?l:e();H.add(()=>{c--,0===c&&!x&&!y&&(a=gl(P,r))}),F.subscribe(H),o||(o=new Q({next:N=>F.next(N),error:N=>{x=!0,C(),a=gl(A,t,N),F.error(N)},complete:()=>{y=!0,C(),a=gl(A,n),F.complete()}}),Tn(L).subscribe(o))})(s)}}function gl(i,e,...t){return!0===e?(i(),null):!1===e?null:e(...t).pipe(sr(1)).subscribe(()=>i())}function er(i){for(let e in i)if(i[e]===er)return e;throw Error("Could not find renamed property on target object.")}function Jl(i,e){for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function Ii(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Ii).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const e=i.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ih(i,e){return null==i||""===i?null===e?"":e:null==e||""===e?i:i+" "+e}const Lp=er({__forward_ref__:er});function Li(i){return i.__forward_ref__=Li,i.toString=function(){return Ii(this())},i}function Mi(i){return Bo(i)?i():i}function Bo(i){return"function"==typeof i&&i.hasOwnProperty(Lp)&&i.__forward_ref__===Li}class hs extends Error{constructor(e,t){super(function rh(i,e){return`NG0${Math.abs(i)}${e?": "+e:""}`}(e,t)),this.code=e}}function gi(i){return"string"==typeof i?i:null==i?"":String(i)}function js(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():gi(i)}function zu(i,e){const t=e?` in ${e}`:"";throw new hs(-201,`No provider for ${js(i)} found${t}`)}function eo(i,e){null==i&&function Er(i,e,t,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${t} ${n} ${e} <=Actual]`))}(e,i,null,"!=")}function Kt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Xn(i){return{providers:i.providers||[],imports:i.imports||[]}}function sh(i){return Ty(i,oh)||Ty(i,Bp)}function Ty(i,e){return i.hasOwnProperty(e)?i[e]:null}function Iy(i){return i&&(i.hasOwnProperty(Np)||i.hasOwnProperty(xa))?i[Np]:null}const oh=er({\u0275prov:er}),Np=er({\u0275inj:er}),Bp=er({ngInjectableDef:er}),xa=er({ngInjectorDef:er});var ti=(()=>((ti=ti||{})[ti.Default=0]="Default",ti[ti.Host=1]="Host",ti[ti.Self=2]="Self",ti[ti.SkipSelf=4]="SkipSelf",ti[ti.Optional=8]="Optional",ti))();let ec;function Vs(i){const e=ec;return ec=i,e}function Bc(i,e,t){const n=sh(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&ti.Optional?null:void 0!==e?e:void zu(Ii(i),"Injector")}function to(i){return{toString:i}.toString()}var fo=(()=>((fo=fo||{})[fo.OnPush=0]="OnPush",fo[fo.Default=1]="Default",fo))(),Vo=(()=>{return(i=Vo||(Vo={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Vo;var i})();const ky="undefined"!=typeof globalThis&&globalThis,Py="undefined"!=typeof window&&window,Ly="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,dr=ky||"undefined"!=typeof global&&global||Py||Ly,tc={},mr=[],qu=er({\u0275cmp:er}),ah=er({\u0275dir:er}),lh=er({\u0275pipe:er}),jp=er({\u0275mod:er}),Zo=er({\u0275fac:er}),yl=er({__NG_ELEMENT_ID__:er});let Vp=0;function xi(i){return to(()=>{const t={},n={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===fo.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||mr,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Vo.Emulated,id:"c",styles:i.styles||mr,_:null,setInput:null,schemas:i.schemas||null,tView:null},r=i.directives,s=i.features,o=i.pipes;return n.id+=Vp++,n.inputs=By(i.inputs,t),n.outputs=By(i.outputs),s&&s.forEach(a=>a(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Ha):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Bn):null,n})}function Ha(i){return Dr(i)||function vl(i){return i[ah]||null}(i)}function Bn(i){return function nc(i){return i[lh]||null}(i)}const Fy={};function bn(i){return to(()=>{const e={type:i.type,bootstrap:i.bootstrap||mr,declarations:i.declarations||mr,imports:i.imports||mr,exports:i.exports||mr,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Fy[i.id]=i.type),e})}function By(i,e){if(null==i)return tc;const t={};for(const n in i)if(i.hasOwnProperty(n)){let r=i[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=n,e&&(e[r]=s)}return t}const kt=xi;function po(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Dr(i){return i[qu]||null}function Uo(i,e){const t=i[jp]||null;if(!t&&!0===e)throw new Error(`Type ${Ii(i)} does not have '\u0275mod' property.`);return t}function yi(i){return Array.isArray(i)&&"object"==typeof i[1]}function di(i){return Array.isArray(i)&&!0===i[1]}function Oi(i){return 0!=(8&i.flags)}function Ki(i){return 2==(2&i.flags)}function Yi(i){return 1==(1&i.flags)}function zi(i){return null!==i.template}function or(i){return 0!=(512&i[2])}function Qu(i,e){return i.hasOwnProperty(Zo)?i[Zo]:null}class PV{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Rr(){return fA}function fA(i){return i.type.prototype.ngOnChanges&&(i.setInput=OV),LV}function LV(){const i=mA(this),e=null==i?void 0:i.current;if(e){const t=i.previous;if(t===tc)i.previous=e;else for(let n in e)t[n]=e[n];i.current=null,this.ngOnChanges(e)}}function OV(i,e,t,n){const r=mA(i)||function FV(i,e){return i[pA]=e}(i,{previous:tc,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[t],l=o[a];s[a]=new PV(l&&l.currentValue,e,o===tc),i[n]=e}Rr.ngInherit=!0;const pA="__ngSimpleChanges__";function mA(i){return i[pA]||null}const gA="http://www.w3.org/2000/svg";let kx;function rs(i){return!!i.listen}const _A={createRenderer:(i,e)=>function Px(){return void 0!==kx?kx:"undefined"!=typeof document?document:void 0}()};function _s(i){for(;Array.isArray(i);)i=i[0];return i}function Vy(i,e){return _s(e[i])}function Ma(i,e){return _s(e[i.index])}function Lx(i,e){return i.data[e]}function uh(i,e){return i[e]}function Qo(i,e){const t=e[i];return yi(t)?t:t[0]}function vA(i){return 4==(4&i[2])}function Ox(i){return 128==(128&i[2])}function Uc(i,e){return null==e?null:i[e]}function bA(i){i[18]=0}function Fx(i,e){i[5]+=e;let t=i,n=i[3];for(;null!==n&&(1===e&&1===t[5]||-1===e&&0===t[5]);)n[5]+=e,t=n,n=n[3]}const vi={lFrame:AA(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function xA(){return vi.bindingsEnabled}function sn(){return vi.lFrame.lView}function tr(){return vi.lFrame.tView}function vs(i){return vi.lFrame.contextLView=i,i[8]}function As(){let i=wA();for(;null!==i&&64===i.type;)i=i.parent;return i}function wA(){return vi.lFrame.currentTNode}function bl(i,e){const t=vi.lFrame;t.currentTNode=i,t.isParent=e}function Nx(){return vi.lFrame.isParent}function Bx(){vi.lFrame.isParent=!1}function Uy(){return vi.isInCheckNoChangesMode}function Hy(i){vi.isInCheckNoChangesMode=i}function Eo(){const i=vi.lFrame;let e=i.bindingRootIndex;return-1===e&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}function dh(){return vi.lFrame.bindingIndex++}function rc(i){const e=vi.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}function ZV(i,e){const t=vi.lFrame;t.bindingIndex=t.bindingRootIndex=i,jx(e)}function jx(i){vi.lFrame.currentDirectiveIndex=i}function Vx(i){const e=vi.lFrame.currentDirectiveIndex;return-1===e?null:i[e]}function CA(){return vi.lFrame.currentQueryIndex}function Ux(i){vi.lFrame.currentQueryIndex=i}function QV(i){const e=i[1];return 2===e.type?e.declTNode:1===e.type?i[6]:null}function EA(i,e,t){if(t&ti.SkipSelf){let r=e,s=i;for(;!(r=r.parent,null!==r||t&ti.Host||(r=QV(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,i=s}const n=vi.lFrame=DA();return n.currentTNode=e,n.lView=i,!0}function Gy(i){const e=DA(),t=i[1];vi.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function DA(){const i=vi.lFrame,e=null===i?null:i.child;return null===e?AA(i):e}function AA(i){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=e),e}function TA(){const i=vi.lFrame;return vi.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const RA=TA;function zy(){const i=TA();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Do(){return vi.lFrame.selectedIndex}function Hc(i){vi.lFrame.selectedIndex=i}function ss(){const i=vi.lFrame;return Lx(i.tView,i.selectedIndex)}function Wy(){vi.lFrame.currentNamespace=gA}function $y(i,e){for(let t=e.directiveStart,n=e.directiveEnd;t<n;t++){const s=i.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:y}=s;o&&(i.contentHooks||(i.contentHooks=[])).push(-t,o),a&&((i.contentHooks||(i.contentHooks=[])).push(t,a),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(t,a)),l&&(i.viewHooks||(i.viewHooks=[])).push(-t,l),c&&((i.viewHooks||(i.viewHooks=[])).push(t,c),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(t,c)),null!=y&&(i.destroyHooks||(i.destroyHooks=[])).push(t,y)}}function qy(i,e,t){kA(i,e,3,t)}function Yy(i,e,t,n){(3&i[2])===t&&kA(i,e,t,n)}function Hx(i,e){let t=i[2];(3&t)===e&&(t&=2047,t+=1,i[2]=t)}function kA(i,e,t,n){const s=null!=n?n:-1,o=e.length-1;let a=0;for(let l=void 0!==n?65535&i[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=n&&a>=n)break}else e[l]<0&&(i[18]+=65536),(a<s||-1==s)&&(sU(i,t,e,l),i[18]=(4294901760&i[18])+l+2),l++}function sU(i,e,t,n){const r=t[n]<0,s=t[n+1],a=i[r?-t[n]:t[n]];if(r){if(i[2]>>11<i[18]>>16&&(3&i[2])===e){i[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Gp{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Xy(i,e,t){const n=rs(i);let r=0;for(;r<t.length;){const s=t[r];if("number"==typeof s){if(0!==s)break;r++;const o=t[r++],a=t[r++],l=t[r++];n?i.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++r];zx(o)?n&&i.setProperty(e,o,a):n?i.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function PA(i){return 3===i||4===i||6===i}function zx(i){return 64===i.charCodeAt(0)}function Zy(i,e){if(null!==e&&0!==e.length)if(null===i||0===i.length)i=e.slice();else{let t=-1;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r?t=r:0===t||LA(i,t,r,null,-1===t||2===t?e[++n]:null)}}return i}function LA(i,e,t,n,r){let s=0,o=i.length;if(-1===e)o=-1;else for(;s<i.length;){const a=i[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<i.length;){const a=i[s];if("number"==typeof a)break;if(a===t){if(null===n)return void(null!==r&&(i[s+1]=r));if(n===i[s+1])return void(i[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(i.splice(o,0,e),s=o+1),i.splice(s++,0,t),null!==n&&i.splice(s++,0,n),null!==r&&i.splice(s++,0,r)}function OA(i){return-1!==i}function hh(i){return 32767&i}function fh(i,e){let t=function uU(i){return i>>16}(i),n=e;for(;t>0;)n=n[15],t--;return n}let Wx=!0;function Ky(i){const e=Wx;return Wx=i,e}let dU=0;function Wp(i,e){const t=qx(i,e);if(-1!==t)return t;const n=e[1];n.firstCreatePass&&(i.injectorIndex=e.length,$x(n.data,i),$x(e,null),$x(n.blueprint,null));const r=Qy(i,e),s=i.injectorIndex;if(OA(r)){const o=hh(r),a=fh(r,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function $x(i,e){i.push(0,0,0,0,0,0,0,0,e)}function qx(i,e){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===e[i.injectorIndex+8]?-1:i.injectorIndex}function Qy(i,e){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,n=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(n=2===o?s.declTNode:1===o?r[6]:null,null===n)return-1;if(t++,r=r[15],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return-1}function Jy(i,e,t){!function hU(i,e,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(yl)&&(n=t[yl]),null==n&&(n=t[yl]=dU++);const r=255&n;e.data[i+(r>>5)]|=1<<r}(i,e,t)}function BA(i,e,t){if(t&ti.Optional)return i;zu(e,"NodeInjector")}function jA(i,e,t,n){if(t&ti.Optional&&void 0===n&&(n=null),0==(t&(ti.Self|ti.Host))){const r=i[9],s=Vs(void 0);try{return r?r.get(e,n,t&ti.Optional):Bc(e,n,t&ti.Optional)}finally{Vs(s)}}return BA(n,e,t)}function VA(i,e,t,n=ti.Default,r){if(null!==i){const s=function gU(i){if("string"==typeof i)return i.charCodeAt(0)||0;const e=i.hasOwnProperty(yl)?i[yl]:void 0;return"number"==typeof e?e>=0?255&e:pU:e}(t);if("function"==typeof s){if(!EA(e,i,n))return n&ti.Host?BA(r,t,n):jA(e,t,n,r);try{const o=s(n);if(null!=o||n&ti.Optional)return o;zu(t)}finally{RA()}}else if("number"==typeof s){let o=null,a=qx(i,e),l=-1,c=n&ti.Host?e[16][6]:null;for((-1===a||n&ti.SkipSelf)&&(l=-1===a?Qy(i,e):e[a+8],-1!==l&&GA(n,!1)?(o=e[1],a=hh(l),e=fh(l,e)):a=-1);-1!==a;){const y=e[1];if(HA(s,a,y.data)){const x=mU(a,e,t,o,n,c);if(x!==UA)return x}l=e[a+8],-1!==l&&GA(n,e[1].data[a+8]===c)&&HA(s,a,e)?(o=y,a=hh(l),e=fh(l,e)):a=-1}}}return jA(e,t,n,r)}const UA={};function pU(){return new ph(As(),sn())}function mU(i,e,t,n,r,s){const o=e[1],a=o.data[i+8],y=e_(a,o,t,null==n?Ki(a)&&Wx:n!=o&&0!=(3&a.type),r&ti.Host&&s===a);return null!==y?$p(e,o,y,a):UA}function e_(i,e,t,n,r){const s=i.providerIndexes,o=e.data,a=1048575&s,l=i.directiveStart,y=s>>20,C=r?a+y:i.directiveEnd;for(let A=n?a:a+y;A<C;A++){const P=o[A];if(A<l&&t===P||A>=l&&P.type===t)return A}if(r){const A=o[l];if(A&&zi(A)&&A.type===t)return l}return null}function $p(i,e,t,n){let r=i[t];const s=e.data;if(function oU(i){return i instanceof Gp}(r)){const o=r;o.resolving&&function Op(i,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${i}`:"";throw new hs(-200,`Circular dependency in DI detected for ${i}${t}`)}(js(s[t]));const a=Ky(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Vs(o.injectImpl):null;EA(i,n,ti.Default);try{r=i[t]=o.factory(void 0,s,i,n),e.firstCreatePass&&t>=n.directiveStart&&function rU(i,e,t){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(n){const o=fA(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(i,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-i,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,s))}(t,s[t],e)}finally{null!==l&&Vs(l),Ky(a),o.resolving=!1,RA()}}return r}function HA(i,e,t){return!!(t[e+(i>>5)]&1<<i)}function GA(i,e){return!(i&ti.Self||i&ti.Host&&e)}class ph{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return VA(this._tNode,this._lView,e,n,t)}}function Gn(i){return to(()=>{const e=i.prototype.constructor,t=e[Zo]||Yx(e),n=Object.prototype;let r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){const s=r[Zo]||Yx(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Yx(i){return Bo(i)?()=>{const e=Yx(Mi(i));return e&&e()}:Qu(i)}function za(i){return function fU(i,e){if("class"===e)return i.classes;if("style"===e)return i.styles;const t=i.attrs;if(t){const n=t.length;let r=0;for(;r<n;){const s=t[r];if(PA(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(As(),i)}const gh="__parameters__";function _h(i,e,t){return to(()=>{const n=function Xx(i){return function(...t){if(i){const n=i(...t);for(const r in n)this[r]=n[r]}}}(e);function r(...s){if(this instanceof r)return n.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,y){const x=l.hasOwnProperty(gh)?l[gh]:Object.defineProperty(l,gh,{value:[]})[gh];for(;x.length<=y;)x.push(null);return(x[y]=x[y]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}class mn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Kt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _U=new mn("AnalyzeForEntryComponents");function Sa(i,e){void 0===e&&(e=i);for(let t=0;t<i.length;t++){let n=i[t];Array.isArray(n)?(e===i&&(e=i.slice(0,t)),Sa(n,e)):e!==i&&e.push(n)}return e}function xl(i,e){i.forEach(t=>Array.isArray(t)?xl(t,e):e(t))}function WA(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function t_(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function Xp(i,e){const t=[];for(let n=0;n<i;n++)t.push(e);return t}function Jo(i,e,t){let n=vh(i,e);return n>=0?i[1|n]=t:(n=~n,function xU(i,e,t,n){let r=i.length;if(r==e)i.push(t,n);else if(1===r)i.push(n,i[0]),i[0]=t;else{for(r--,i.push(i[r-1],i[r]);r>e;)i[r]=i[r-2],r--;i[e]=t,i[e+1]=n}}(i,n,e,t)),n}function Kx(i,e){const t=vh(i,e);if(t>=0)return i[1|t]}function vh(i,e){return function YA(i,e,t){let n=0,r=i.length>>t;for(;r!==n;){const s=n+(r-n>>1),o=i[s<<t];if(e===o)return s<<t;o>e?r=s:n=s+1}return~(r<<t)}(i,e,1)}const Zp={},Jx="__NG_DI_FLAG__",i_="ngTempTokenPath",AU=/\n/gm,ZA="__source",RU=er({provide:String,useValue:er});let Kp;function KA(i){const e=Kp;return Kp=i,e}function IU(i,e=ti.Default){if(void 0===Kp)throw new Error("inject() must be called from an injection context");return null===Kp?Bc(i,void 0,e):Kp.get(i,e&ti.Optional?null:void 0,e)}function vt(i,e=ti.Default){return(function $u(){return ec}()||IU)(Mi(i),e)}const Qp=vt;function ew(i){const e=[];for(let t=0;t<i.length;t++){const n=Mi(i[t]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let r,s=ti.Default;for(let o=0;o<n.length;o++){const a=n[o],l=kU(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(vt(r,s))}else e.push(vt(n))}return e}function Jp(i,e){return i[Jx]=e,i.prototype[Jx]=e,i}function kU(i){return i[Jx]}const em=Jp(_h("Inject",i=>({token:i})),-1),mo=Jp(_h("Optional"),8),wl=Jp(_h("SkipSelf"),4);let s_;function xh(i){var e;return(null===(e=function nw(){if(void 0===s_&&(s_=null,dr.trustedTypes))try{s_=dr.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return s_}())||void 0===e?void 0:e.createHTML(i))||i}class Ju{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class WU extends Ju{getTypeName(){return"HTML"}}class $U extends Ju{getTypeName(){return"Style"}}class qU extends Ju{getTypeName(){return"Script"}}class YU extends Ju{getTypeName(){return"URL"}}class XU extends Ju{getTypeName(){return"ResourceURL"}}function ea(i){return i instanceof Ju?i.changingThisBreaksApplicationSecurity:i}function Ml(i,e){const t=oT(i);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function oT(i){return i instanceof Ju&&i.getTypeName()||null}class tH{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(xh(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class nH{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const n=this.inertDocument.createElement("body");t.appendChild(n)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=xh(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=xh(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const o=t.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const rH=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sH=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function nm(i){return(i=String(i)).match(rH)||i.match(sH)?i:"unsafe:"+i}function Sl(i){const e={};for(const t of i.split(","))e[t]=!0;return e}function im(...i){const e={};for(const t of i)for(const n in t)t.hasOwnProperty(n)&&(e[n]=!0);return e}const cT=Sl("area,br,col,hr,img,wbr"),uT=Sl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dT=Sl("rp,rt"),rw=im(cT,im(uT,Sl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),im(dT,Sl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),im(dT,uT)),sw=Sl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ow=Sl("srcset"),hT=im(sw,ow,Sl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oH=Sl("script,style,template");class aH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!rw.hasOwnProperty(t))return this.sanitizedSomething=!0,!oH.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const s=n.item(r),o=s.name,a=o.toLowerCase();if(!hT.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;sw[a]&&(l=nm(l)),ow[a]&&(i=l,l=(i=String(i)).split(",").map(e=>nm(e.trim())).join(", ")),this.buf.push(" ",o,'="',fT(l),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();rw.hasOwnProperty(t)&&!cT.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(fT(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const lH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cH=/([^\#-~ |!])/g;function fT(i){return i.replace(/&/g,"&amp;").replace(lH,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(cH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let a_;function pT(i,e){let t=null;try{a_=a_||function aT(i){const e=new nH(i);return function iH(){try{return!!(new window.DOMParser).parseFromString(xh(""),"text/html")}catch(i){return!1}}()?new tH(e):e}(i);let n=e?String(e):"";t=a_.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=t.innerHTML,t=a_.getInertBodyElement(n)}while(n!==s);return xh((new aH).sanitizeChildren(aw(t)||t))}finally{if(t){const n=aw(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function aw(i){return"content"in i&&function uH(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var lr=(()=>((lr=lr||{})[lr.NONE=0]="NONE",lr[lr.HTML=1]="HTML",lr[lr.STYLE=2]="STYLE",lr[lr.SCRIPT=3]="SCRIPT",lr[lr.URL=4]="URL",lr[lr.RESOURCE_URL=5]="RESOURCE_URL",lr))();function lw(i){const e=function rm(){const i=sn();return i&&i[12]}();return e?e.sanitize(lr.URL,i)||"":Ml(i,"URL")?ea(i):nm(gi(i))}const yT="__ngContext__";function go(i,e){i[yT]=e}function uw(i){const e=function sm(i){return i[yT]||null}(i);return e?Array.isArray(e)?e:e.lView:null}function hw(i){return i.ngOriginalError}function DH(i,...e){i.error(...e)}class sc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=function EH(i){return i&&i.ngErrorLogger||DH}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&hw(e);for(;t&&hw(t);)t=hw(t);return t||null}}const wT=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(dr))();function Cl(i){return i instanceof Function?i():i}var ta=(()=>((ta=ta||{})[ta.Important=1]="Important",ta[ta.DashCase=2]="DashCase",ta))();function pw(i,e){return undefined(i,e)}function om(i){const e=i[3];return di(e)?e[3]:e}function mw(i){return DT(i[13])}function gw(i){return DT(i[4])}function DT(i){for(;null!==i&&!di(i);)i=i[4];return i}function Mh(i,e,t,n,r){if(null!=n){let s,o=!1;di(n)?s=n:yi(n)&&(o=!0,n=n[0]);const a=_s(n);0===i&&null!==t?null==r?PT(e,t,a):ed(e,t,a,r||null,!0):1===i&&null!==t?ed(e,t,a,r||null,!0):2===i?function VT(i,e,t){const n=l_(i,e);n&&function ZH(i,e,t,n){rs(i)?i.removeChild(e,t,n):e.removeChild(t)}(i,n,e,t)}(e,a,o):3===i&&e.destroyNode(a),null!=s&&function JH(i,e,t,n,r){const s=t[7];s!==_s(t)&&Mh(e,i,n,s,r);for(let a=10;a<t.length;a++){const l=t[a];am(l[1],l,i,e,n,s)}}(e,i,s,t,r)}}function _w(i,e,t){return rs(i)?i.createElement(e,t):null===t?i.createElement(e):i.createElementNS(t,e)}function TT(i,e){const t=i[9],n=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Fx(r,-1)),t.splice(n,1)}function vw(i,e){if(i.length<=10)return;const t=10+e,n=i[t];if(n){const r=n[17];null!==r&&r!==i&&TT(r,n),e>0&&(i[t-1][4]=n[4]);const s=t_(i,10+e);!function HH(i,e){am(i,e,e[11],2,null,null),e[0]=null,e[6]=null}(n[1],n);const o=s[19];null!==o&&o.detachView(s[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function RT(i,e){if(!(256&e[2])){const t=e[11];rs(t)&&t.destroyNode&&am(i,e,t,3,null,null),function WH(i){let e=i[13];if(!e)return bw(i[1],i);for(;e;){let t=null;if(yi(e))t=e[13];else{const n=e[10];n&&(t=n)}if(!t){for(;e&&!e[4]&&e!==i;)yi(e)&&bw(e[1],e),e=e[3];null===e&&(e=i),yi(e)&&bw(e[1],e),t=e&&e[4]}e=t}}(e)}}function bw(i,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function XH(i,e){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let n=0;n<t.length;n+=2){const r=e[t[n]];if(!(r instanceof Gp)){const s=t[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(i,e),function YH(i,e){const t=i.cleanup,n=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):_s(e[o]),l=n[r=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?n[r=c]():n[r=-c].unsubscribe(),s+=2}else{const o=n[r=t[s+1]];t[s].call(o)}if(null!==n){for(let s=r+1;s<n.length;s++)n[s]();e[7]=null}}(i,e),1===e[1].type&&rs(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&di(e[3])){t!==e[3]&&TT(t,e);const n=e[19];null!==n&&n.detachView(i)}}}function IT(i,e,t){return function kT(i,e,t){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return t[0];if(2&n.flags){const r=i.data[n.directiveStart].encapsulation;if(r===Vo.None||r===Vo.Emulated)return null}return Ma(n,t)}(i,e.parent,t)}function ed(i,e,t,n,r){rs(i)?i.insertBefore(e,t,n,r):e.insertBefore(t,n,r)}function PT(i,e,t){rs(i)?i.appendChild(e,t):e.appendChild(t)}function LT(i,e,t,n,r){null!==n?ed(i,e,t,n,r):PT(i,e,t)}function l_(i,e){return rs(i)?i.parentNode(e):e.parentNode}function OT(i,e,t){return NT(i,e,t)}let NT=function FT(i,e,t){return 40&i.type?Ma(i,t):null};function c_(i,e,t,n){const r=IT(i,n,e),s=e[11],a=OT(n.parent||e[6],n,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)LT(s,r,t[l],a,!1);else LT(s,r,t,a,!1)}function u_(i,e){if(null!==e){const t=e.type;if(3&t)return Ma(e,i);if(4&t)return ww(-1,i[e.index]);if(8&t){const n=e.child;if(null!==n)return u_(i,n);{const r=i[e.index];return di(r)?ww(-1,r):_s(r)}}if(32&t)return pw(e,i)()||_s(i[e.index]);{const n=jT(i,e);return null!==n?Array.isArray(n)?n[0]:u_(om(i[16]),n):u_(i,e.next)}}return null}function jT(i,e){return null!==e?i[16][6].projection[e.projection]:null}function ww(i,e){const t=10+i+1;if(t<e.length){const n=e[t],r=n[1].firstChild;if(null!==r)return u_(n,r)}return e[7]}function Mw(i,e,t,n,r,s,o){for(;null!=t;){const a=n[t.index],l=t.type;if(o&&0===e&&(a&&go(_s(a),n),t.flags|=4),64!=(64&t.flags))if(8&l)Mw(i,e,t.child,n,r,s,!1),Mh(e,i,r,a,s);else if(32&l){const c=pw(t,n);let y;for(;y=c();)Mh(e,i,r,y,s);Mh(e,i,r,a,s)}else 16&l?UT(i,e,n,t,r,s):Mh(e,i,r,a,s);t=o?t.projectionNext:t.next}}function am(i,e,t,n,r,s){Mw(t,n,i.firstChild,e,r,s,!1)}function UT(i,e,t,n,r,s){const o=t[16],l=o[6].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Mh(e,i,r,l[c],s);else Mw(i,e,l,o[3],r,s,!0)}function HT(i,e,t){rs(i)?i.setAttribute(e,"style",t):e.style.cssText=t}function Sw(i,e,t){rs(i)?""===t?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t):e.className=t}function GT(i,e,t){let n=i.length;for(;;){const r=i.indexOf(e,t);if(-1===r)return r;if(0===r||i.charCodeAt(r-1)<=32){const s=e.length;if(r+s===n||i.charCodeAt(r+s)<=32)return r}t=r+1}}const zT="ng-template";function tG(i,e,t){let n=0;for(;n<i.length;){let r=i[n++];if(t&&"class"===r){if(r=i[n],-1!==GT(r.toLowerCase(),e,0))return!0}else if(1===r){for(;n<i.length&&"string"==typeof(r=i[n++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function WT(i){return 4===i.type&&i.value!==zT}function nG(i,e,t){return e===(4!==i.type||t?i.value:zT)}function iG(i,e,t){let n=4;const r=i.attrs||[],s=function oG(i){for(let e=0;e<i.length;e++)if(PA(i[e]))return e;return i.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!nG(i,l,t)||""===l&&1===e.length){if(Wa(n))return!1;o=!0}}else{const c=8&n?l:e[++a];if(8&n&&null!==i.attrs){if(!tG(i.attrs,c,t)){if(Wa(n))return!1;o=!0}continue}const x=rG(8&n?"class":l,r,WT(i),t);if(-1===x){if(Wa(n))return!1;o=!0;continue}if(""!==c){let C;C=x>s?"":r[x+1].toLowerCase();const A=8&n?C:null;if(A&&-1!==GT(A,c,0)||2&n&&c!==C){if(Wa(n))return!1;o=!0}}}}else{if(!o&&!Wa(n)&&!Wa(l))return!1;if(o&&Wa(l))continue;o=!1,n=l|1&n}}return Wa(n)||o}function Wa(i){return 0==(1&i)}function rG(i,e,t,n){if(null===e)return-1;let r=0;if(n||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===i)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function aG(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const n=i[t];if("number"==typeof n)return-1;if(n===e)return t;t++}return-1}(e,i)}function $T(i,e,t=!1){for(let n=0;n<e.length;n++)if(iG(i,e[n],t))return!0;return!1}function lG(i,e){e:for(let t=0;t<e.length;t++){const n=e[t];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function qT(i,e){return i?":not("+e.trim()+")":e}function cG(i){let e=i[0],t=1,n=2,r="",s=!1;for(;t<i.length;){let o=i[t];if("string"==typeof o)if(2&n){const a=i[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!Wa(o)&&(e+=qT(s,r),r=""),n=o,s=s||!Wa(n);t++}return""!==r&&(e+=qT(s,r)),e}const Si={};function on(i){YT(tr(),sn(),Do()+i,Uy())}function YT(i,e,t,n){if(!n)if(3==(3&e[2])){const s=i.preOrderCheckHooks;null!==s&&qy(e,s,t)}else{const s=i.preOrderHooks;null!==s&&Yy(e,s,0,t)}Hc(t)}function d_(i,e){return i<<17|e<<2}function $a(i){return i>>17&32767}function Cw(i){return 2|i}function oc(i){return(131068&i)>>2}function Ew(i,e){return-131069&i|e<<2}function Dw(i){return 1|i}function o2(i,e){const t=i.contentQueries;if(null!==t)for(let n=0;n<t.length;n+=2){const r=t[n],s=t[n+1];if(-1!==s){const o=i.data[s];Ux(r),o.contentQueries(2,e[s],s)}}}function lm(i,e,t,n,r,s,o,a,l,c){const y=e.blueprint.slice();return y[0]=r,y[2]=140|n,bA(y),y[3]=y[15]=i,y[8]=t,y[10]=o||i&&i[10],y[11]=a||i&&i[11],y[12]=l||i&&i[12]||null,y[9]=c||i&&i[9]||null,y[6]=s,y[16]=2==e.type?i[16]:y,y}function Sh(i,e,t,n,r){let s=i.data[e];if(null===s)s=function Fw(i,e,t,n,r){const s=wA(),o=Nx(),l=i.data[e]=function DG(i,e,t,n,r,s){return{type:t,index:n,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,n,r);return null===i.firstChild&&(i.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(i,e,t,n,r),function XV(){return vi.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=n,s.attrs=r;const o=function Hp(){const i=vi.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return bl(s,!0),s}function Ch(i,e,t,n){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(n),i.blueprint.push(n),i.data.push(null);return r}function cm(i,e,t){Gy(e);try{const n=i.viewQuery;null!==n&&Ww(1,n,t);const r=i.template;null!==r&&a2(i,e,r,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&o2(i,e),i.staticViewQueries&&Ww(2,i.viewQuery,t);const s=i.components;null!==s&&function SG(i,e){for(let t=0;t<e.length;t++)WG(i,e[t])}(e,s)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{e[2]&=-5,zy()}}function Eh(i,e,t,n){const r=e[2];if(256==(256&r))return;Gy(e);const s=Uy();try{bA(e),function MA(i){return vi.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&a2(i,e,t,2,n);const o=3==(3&r);if(!s)if(o){const c=i.preOrderCheckHooks;null!==c&&qy(e,c,null)}else{const c=i.preOrderHooks;null!==c&&Yy(e,c,0,null),Hx(e,0)}if(function GG(i){for(let e=mw(i);null!==e;e=gw(e)){if(!e[2])continue;const t=e[9];for(let n=0;n<t.length;n++){const r=t[n],s=r[3];0==(1024&r[2])&&Fx(s,1),r[2]|=1024}}}(e),function HG(i){for(let e=mw(i);null!==e;e=gw(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Ox(n)&&Eh(r,n,r.template,n[8])}}(e),null!==i.contentQueries&&o2(i,e),!s)if(o){const c=i.contentCheckHooks;null!==c&&qy(e,c)}else{const c=i.contentHooks;null!==c&&Yy(e,c,1),Hx(e,1)}!function wG(i,e){const t=i.hostBindingOpCodes;if(null!==t)try{for(let n=0;n<t.length;n++){const r=t[n];if(r<0)Hc(~r);else{const s=r,o=t[++n],a=t[++n];ZV(o,s),a(2,e[s])}}}finally{Hc(-1)}}(i,e);const a=i.components;null!==a&&function MG(i,e){for(let t=0;t<e.length;t++)zG(i,e[t])}(e,a);const l=i.viewQuery;if(null!==l&&Ww(2,l,n),!s)if(o){const c=i.viewCheckHooks;null!==c&&qy(e,c)}else{const c=i.viewHooks;null!==c&&Yy(e,c,2),Hx(e,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Fx(e[3],-1))}finally{zy()}}function CG(i,e,t,n){const r=e[10],s=!Uy(),o=vA(e);try{s&&!o&&r.begin&&r.begin(),o&&cm(i,e,n),Eh(i,e,t,n)}finally{s&&!o&&r.end&&r.end()}}function a2(i,e,t,n,r){const s=Do(),o=2&n;try{Hc(-1),o&&e.length>20&&YT(i,e,20,Uy()),t(n,r)}finally{Hc(s)}}function l2(i,e,t){if(Oi(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=i.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Nw(i,e,t){!xA()||(function LG(i,e,t,n){const r=t.directiveStart,s=t.directiveEnd;i.firstCreatePass||Wp(t,e),go(n,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=i.data[a],c=zi(l);c&&jG(e,t,l);const y=$p(e,i,a,t);go(y,e),null!==o&&VG(0,a-r,y,l,0,o),c&&(Qo(t.index,e)[8]=y)}}(i,e,t,Ma(t,e)),128==(128&t.flags)&&function OG(i,e,t){const n=t.directiveStart,r=t.directiveEnd,o=t.index,a=function KV(){return vi.lFrame.currentDirectiveIndex}();try{Hc(o);for(let l=n;l<r;l++){const c=i.data[l],y=e[l];jx(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&g2(c,y)}}finally{Hc(-1),jx(a)}}(i,e,t))}function Bw(i,e,t=Ma){const n=e.localNames;if(null!==n){let r=e.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=-1===o?t(e,i):i[o];i[r++]=a}}}function c2(i){const e=i.tView;return null===e||e.incompleteFirstPass?i.tView=p_(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):e}function p_(i,e,t,n,r,s,o,a,l,c){const y=20+n,x=y+r,C=function EG(i,e){const t=[];for(let n=0;n<e;n++)t.push(n<i?null:Si);return t}(y,x),A="function"==typeof c?c():c;return C[1]={type:i,blueprint:C,template:t,queries:null,viewQuery:a,declTNode:e,data:C.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1}}function h2(i,e,t,n){const r=w2(e);null===t?r.push(n):(r.push(t),i.firstCreatePass&&M2(i).push(n,r.length-1))}function f2(i,e,t){for(let n in i)if(i.hasOwnProperty(n)){const r=i[n];(t=null===t?{}:t).hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}return t}function na(i,e,t,n,r,s,o,a){const l=Ma(e,t);let y,c=e.inputs;!a&&null!=c&&(y=c[n])?(E2(i,t,y,n,r),Ki(e)&&function RG(i,e){const t=Qo(e,i);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(n=function TG(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),r=null!=o?o(r,e.value||"",n):r,rs(s)?s.setProperty(l,n,r):zx(n)||(l.setProperty?l.setProperty(n,r):l[n]=r))}function jw(i,e,t,n){let r=!1;if(xA()){const s=function FG(i,e,t){const n=i.directiveRegistry;let r=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];$T(t,o.selectors,!1)&&(r||(r=[]),Jy(Wp(t,e),i,o.type),zi(o)?(y2(i,t),r.unshift(o)):r.push(o))}return r}(i,e,t),o=null===n?null:{"":-1};if(null!==s){r=!0,_2(t,i.data.length,s.length);for(let y=0;y<s.length;y++){const x=s[y];x.providersResolver&&x.providersResolver(x)}let a=!1,l=!1,c=Ch(i,e,s.length,null);for(let y=0;y<s.length;y++){const x=s[y];t.mergedAttrs=Zy(t.mergedAttrs,x.hostAttrs),v2(i,t,e,c,x),BG(c,x,o),null!==x.contentQueries&&(t.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(t.flags|=128);const C=x.type.prototype;!a&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t.index),a=!0),!l&&(C.ngOnChanges||C.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function AG(i,e){const n=e.directiveEnd,r=i.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<n;c++){const y=r[c],x=y.inputs,C=null===s||WT(e)?null:UG(x,s);o.push(C),a=f2(x,c,a),l=f2(y.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(i,t)}o&&function NG(i,e,t){if(e){const n=i.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new hs(-301,`Export of name '${e[r+1]}' not found!`);n.push(e[r],s)}}}(t,n,o)}return t.mergedAttrs=Zy(t.mergedAttrs,t.attrs),r}function m2(i,e,t,n,r,s){const o=s.hostBindings;if(o){let a=i.hostBindingOpCodes;null===a&&(a=i.hostBindingOpCodes=[]);const l=~e.index;(function PG(i){let e=i.length;for(;e>0;){const t=i[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(n,r,o)}}function g2(i,e){null!==i.hostBindings&&i.hostBindings(1,e)}function y2(i,e){e.flags|=2,(i.components||(i.components=[])).push(e.index)}function BG(i,e,t){if(t){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)t[e.exportAs[n]]=i;zi(e)&&(t[""]=i)}}function _2(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}function v2(i,e,t,n,r){i.data[n]=r;const s=r.factory||(r.factory=Qu(r.type)),o=new Gp(s,zi(r),null);i.blueprint[n]=o,t[n]=o,m2(i,e,0,n,Ch(i,t,r.hostVars,Si),r)}function jG(i,e,t){const n=Ma(e,i),r=c2(t),s=i[10],o=m_(i,lm(i,r,null,t.onPush?64:16,n,e,s,s.createRenderer(n,t),null,null));i[e.index]=o}function El(i,e,t,n,r,s){const o=Ma(i,e);!function Vw(i,e,t,n,r,s,o){if(null==s)rs(i)?i.removeAttribute(e,r,t):e.removeAttribute(r);else{const a=null==o?gi(s):o(s,n||"",r);rs(i)?i.setAttribute(e,r,a,t):t?e.setAttributeNS(t,r,a):e.setAttribute(r,a)}}(e[11],o,s,i.value,t,n,r)}function VG(i,e,t,n,r,s){const o=s[e];if(null!==o){const a=n.setInput;for(let l=0;l<o.length;){const c=o[l++],y=o[l++],x=o[l++];null!==a?n.setInput(t,x,c,y):t[y]=x}}}function UG(i,e){let t=null,n=0;for(;n<e.length;){const r=e[n];if(0!==r)if(5!==r){if("number"==typeof r)break;i.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,i[r],e[n+1])),n+=2}else n+=2;else n+=4}return t}function b2(i,e,t,n){return new Array(i,!0,!1,e,null,0,n,t,null,null)}function zG(i,e){const t=Qo(e,i);if(Ox(t)){const n=t[1];80&t[2]?Eh(n,t,n.template,t[8]):t[5]>0&&Uw(t)}}function Uw(i){for(let n=mw(i);null!==n;n=gw(n))for(let r=10;r<n.length;r++){const s=n[r];if(1024&s[2]){const o=s[1];Eh(o,s,o.template,s[8])}else s[5]>0&&Uw(s)}const t=i[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Qo(t[n],i);Ox(r)&&r[5]>0&&Uw(r)}}function WG(i,e){const t=Qo(e,i),n=t[1];(function $G(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])})(n,t),cm(n,t,t[8])}function m_(i,e){return i[13]?i[14][4]=e:i[13]=e,i[14]=e,e}function Hw(i){for(;i;){i[2]|=64;const e=om(i);if(or(i)&&!e)return i;i=e}return null}function zw(i,e,t){const n=e[10];n.begin&&n.begin();try{Eh(i,e,i.template,t)}catch(r){throw C2(e,r),r}finally{n.end&&n.end()}}function x2(i){!function Gw(i){for(let e=0;e<i.components.length;e++){const t=i.components[e],n=uw(t),r=n[1];CG(r,n,r.template,t)}}(i[8])}function Ww(i,e,t){Ux(0),e(i,t)}const ZG=(()=>Promise.resolve(null))();function w2(i){return i[7]||(i[7]=[])}function M2(i){return i.cleanup||(i.cleanup=[])}function S2(i,e,t){return(null===i||zi(i))&&(t=function VV(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(t[e.index])),t[11]}function C2(i,e){const t=i[9],n=t?t.get(sc,null):null;n&&n.handleError(e)}function E2(i,e,t,n,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=i.data[o];null!==c.setInput?c.setInput(l,r,n,a):l[a]=r}}function ac(i,e,t){const n=Vy(e,i);!function AT(i,e,t){rs(i)?i.setValue(e,t):e.textContent=t}(i[11],n,t)}function g_(i,e,t){let n=t?i.styles:null,r=t?i.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=ih(r,a):2==s&&(n=ih(n,a+": "+e[++o]+";"))}t?i.styles=n:i.stylesWithoutHost=n,t?i.classes=r:i.classesWithoutHost=r}const $w=new mn("INJECTOR",-1);class D2{get(e,t=Zp){if(t===Zp){const n=new Error(`NullInjectorError: No provider for ${Ii(e)}!`);throw n.name="NullInjectorError",n}return t}}const qw=new mn("Set Injector scope."),um={},JG={};let Yw;function A2(){return void 0===Yw&&(Yw=new D2),Yw}function T2(i,e=null,t=null,n){const r=R2(i,e,t,n);return r._resolveInjectorDefTypes(),r}function R2(i,e=null,t=null,n){return new e6(i,t,e||A2(),n)}class e6{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&xl(t,a=>this.processProvider(a,e,t)),xl([e],a=>this.processInjectorType(a,[],s)),this.records.set($w,Dh(void 0,this));const o=this.records.get(qw);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:Ii(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Zp,n=ti.Default){this.assertNotDestroyed();const r=KA(this),s=Vs(void 0);try{if(!(n&ti.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function l6(i){return"function"==typeof i||"object"==typeof i&&i instanceof mn}(e)&&sh(e);a=l&&this.injectableDefInScope(l)?Dh(Xw(e),um):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(n&ti.Self?A2():this.parent).get(e,t=n&ti.Optional&&t===Zp?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[i_]=o[i_]||[]).unshift(Ii(e)),r)throw o;return function PU(i,e,t,n){const r=i[i_];throw e[ZA]&&r.unshift(e[ZA]),i.message=function LU(i,e,t,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let r=Ii(e);if(Array.isArray(e))r=e.map(Ii).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ii(a)))}r=`{${s.join(", ")}}`}return`${t}${n?"("+n+")":""}[${r}]: ${i.replace(AU,"\n  ")}`}("\n"+i.message,r,t,n),i.ngTokenPath=r,i[i_]=null,i}(o,e,"R3InjectorError",this.source)}throw o}finally{Vs(s),KA(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((n,r)=>e.push(Ii(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=Mi(e)))return!1;let r=Iy(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==n.indexOf(o);if(void 0!==s&&(r=Iy(s)),null==r)return!1;if(null!=r.imports&&!a){let y;n.push(o);try{xl(r.imports,x=>{this.processInjectorType(x,t,n)&&(void 0===y&&(y=[]),y.push(x))})}finally{}if(void 0!==y)for(let x=0;x<y.length;x++){const{ngModule:C,providers:A}=y[x];xl(A,P=>this.processProvider(P,C,A||mr))}}this.injectorDefTypes.add(o);const l=Qu(o)||(()=>new o);this.records.set(o,Dh(l,um));const c=r.providers;if(null!=c&&!a){const y=e;xl(c,x=>this.processProvider(x,y,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,n){let r=Ah(e=Mi(e))?e:Mi(e&&e.provide);const s=function n6(i,e,t){return k2(i)?Dh(void 0,i.useValue):Dh(I2(i),um)}(e);if(Ah(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Dh(void 0,um,!0),o.factory=()=>ew(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,t){return t.value===um&&(t.value=JG,t.value=t.factory()),"object"==typeof t.value&&t.value&&function a6(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Mi(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Xw(i){const e=sh(i),t=null!==e?e.factory:Qu(i);if(null!==t)return t;if(i instanceof mn)throw new Error(`Token ${Ii(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function t6(i){const e=i.length;if(e>0){const n=Xp(e,"?");throw new Error(`Can't resolve all parameters for ${Ii(i)}: (${n.join(", ")}).`)}const t=function Ry(i){const e=i&&(i[oh]||i[Bp]);if(e){const t=function Sx(i){if(i.hasOwnProperty("name"))return i.name;const e=(""+i).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new Error("unreachable")}function I2(i,e,t){let n;if(Ah(i)){const r=Mi(i);return Qu(r)||Xw(r)}if(k2(i))n=()=>Mi(i.useValue);else if(function r6(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...ew(i.deps||[]));else if(function i6(i){return!(!i||!i.useExisting)}(i))n=()=>vt(Mi(i.useExisting));else{const r=Mi(i&&(i.useClass||i.provide));if(!function o6(i){return!!i.deps}(i))return Qu(r)||Xw(r);n=()=>new r(...ew(i.deps))}return n}function Dh(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function k2(i){return null!==i&&"object"==typeof i&&RU in i}function Ah(i){return"function"==typeof i}let os=(()=>{class i{static create(t,n){var r;if(Array.isArray(t))return T2({name:""},n,t,"");{const s=null!==(r=t.name)&&void 0!==r?r:"";return T2({name:s},t.parent,t.providers,s)}}}return i.THROW_IF_NOT_FOUND=Zp,i.NULL=new D2,i.\u0275prov=Kt({token:i,providedIn:"any",factory:()=>vt($w)}),i.__NG_ELEMENT_ID__=-1,i})();function g6(i,e){$y(uw(i)[1],As())}function an(i){let e=function z2(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const n=[i];for(;e;){let r;if(zi(i))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(t){n.push(r);const o=i;o.inputs=Qw(i.inputs),o.declaredInputs=Qw(i.declaredInputs),o.outputs=Qw(i.outputs);const a=r.hostBindings;a&&b6(i,a);const l=r.viewQuery,c=r.contentQueries;if(l&&_6(i,l),c&&v6(i,c),Jl(i.inputs,r.inputs),Jl(i.declaredInputs,r.declaredInputs),Jl(i.outputs,r.outputs),zi(r)&&r.data.animation){const y=i.data;y.animation=(y.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(i),a===an&&(t=!1)}}e=Object.getPrototypeOf(e)}!function y6(i){let e=0,t=null;for(let n=i.length-1;n>=0;n--){const r=i[n];r.hostVars=e+=r.hostVars,r.hostAttrs=Zy(r.hostAttrs,t=Zy(t,r.hostAttrs))}}(n)}function Qw(i){return i===tc?{}:i===mr?[]:i}function _6(i,e){const t=i.viewQuery;i.viewQuery=t?(n,r)=>{e(n,r),t(n,r)}:e}function v6(i,e){const t=i.contentQueries;i.contentQueries=t?(n,r,s)=>{e(n,r,s),t(n,r,s)}:e}function b6(i,e){const t=i.hostBindings;i.hostBindings=t?(n,r)=>{e(n,r),t(n,r)}:e}let y_=null;function Th(){if(!y_){const i=dr.Symbol;if(i&&i.iterator)y_=i.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(y_=n)}}}return y_}function dm(i){return!!Jw(i)&&(Array.isArray(i)||!(i instanceof Map)&&Th()in i)}function Jw(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Dl(i,e,t){return i[e]=t}function yo(i,e,t){return!Object.is(i[e],t)&&(i[e]=t,!0)}function bi(i,e,t,n){const r=sn();return yo(r,dh(),e)&&(tr(),El(ss(),r,i,e,t,n)),bi}function Ih(i,e,t,n){return yo(i,dh(),t)?e+gi(t)+n:Si}function Ni(i,e,t,n,r,s,o,a){const l=sn(),c=tr(),y=i+20,x=c.firstCreatePass?function D6(i,e,t,n,r,s,o,a,l){const c=e.consts,y=Sh(e,i,4,o||null,Uc(c,a));jw(e,t,y,Uc(c,l)),$y(e,y);const x=y.tViews=p_(2,y,n,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,y),x.queries=e.queries.embeddedTView(y)),y}(y,c,l,e,t,n,r,s,o):c.data[y];bl(x,!1);const C=l[11].createComment("");c_(c,l,C,x),go(C,l),m_(l,l[y]=b2(C,l,C,x)),Yi(x)&&Nw(c,l,x),null!=o&&Bw(l,x,a)}function jh(i){return uh(function YV(){return vi.lFrame.contextLView}(),20+i)}function ae(i,e=ti.Default){const t=sn();return null===t?vt(i,e):VA(As(),t,Mi(i),e)}function nd(){throw new Error("invalid")}function un(i,e,t){const n=sn();return yo(n,dh(),e)&&na(tr(),ss(),n,i,e,n[11],t,!1),un}function s1(i,e,t,n,r){const o=r?"class":"style";E2(i,t,e.inputs[o],o,n)}function ot(i,e,t,n){const r=sn(),s=tr(),o=20+i,a=r[11],l=r[o]=_w(a,e,function iU(){return vi.lFrame.currentNamespace}()),c=s.firstCreatePass?function Y6(i,e,t,n,r,s,o){const a=e.consts,c=Sh(e,i,2,r,Uc(a,s));return jw(e,t,c,Uc(a,o)),null!==c.attrs&&g_(c,c.attrs,!1),null!==c.mergedAttrs&&g_(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,t,n):s.data[o];bl(c,!0);const y=c.mergedAttrs;null!==y&&Xy(a,l,y);const x=c.classes;null!==x&&Sw(a,l,x);const C=c.styles;null!==C&&HT(a,l,C),64!=(64&c.flags)&&c_(s,r,l,c),0===function GV(){return vi.lFrame.elementDepthCount}()&&go(l,r),function zV(){vi.lFrame.elementDepthCount++}(),Yi(c)&&(Nw(s,r,c),l2(s,c,r)),null!==n&&Bw(r,c)}function at(){let i=As();Nx()?Bx():(i=i.parent,bl(i,!1));const e=i;!function WV(){vi.lFrame.elementDepthCount--}();const t=tr();t.firstCreatePass&&($y(t,i),Oi(i)&&t.queries.elementEnd(i)),null!=e.classesWithoutHost&&function lU(i){return 0!=(16&i.flags)}(e)&&s1(t,e,sn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function cU(i){return 0!=(32&i.flags)}(e)&&s1(t,e,sn(),e.stylesWithoutHost,!1)}function Ai(i,e,t,n){ot(i,e,t,n),at()}function b_(i,e,t){const n=sn(),r=tr(),s=i+20,o=r.firstCreatePass?function X6(i,e,t,n,r){const s=e.consts,o=Uc(s,n),a=Sh(e,i,8,"ng-container",o);return null!==o&&g_(a,o,!0),jw(e,t,a,Uc(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,n,e,t):r.data[s];bl(o,!0);const a=n[s]=n[11].createComment("");c_(r,n,a,o),go(a,n),Yi(o)&&(Nw(r,n,o),l2(r,o,n)),null!=t&&Bw(n,o)}function x_(){let i=As();const e=tr();Nx()?Bx():(i=i.parent,bl(i,!1)),e.firstCreatePass&&($y(e,i),Oi(i)&&e.queries.elementEnd(i))}function Ya(){return sn()}function fm(i){return!!i&&"function"==typeof i.then}function uR(i){return!!i&&"function"==typeof i.subscribe}const o1=uR;function Mn(i,e,t,n){const r=sn(),s=tr(),o=As();return dR(s,r,r[11],o,i,e,!!t,n),Mn}function pm(i,e){const t=As(),n=sn(),r=tr();return dR(r,n,S2(Vx(r.data),t,n),t,i,e,!1),pm}function dR(i,e,t,n,r,s,o,a){const l=Yi(n),y=i.firstCreatePass&&M2(i),x=e[8],C=w2(e);let A=!0;if(3&n.type||a){const H=Ma(n,e),F=a?a(H):H,N=C.length,q=a?Y=>a(_s(Y[n.index])):n.index;if(rs(t)){let Y=null;if(!a&&l&&(Y=function K6(i,e,t,n){const r=i.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===n){const a=e[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(i,e,r,n.index)),null!==Y)(Y.__ngLastListenerFn__||Y).__ngNextListenerFn__=s,Y.__ngLastListenerFn__=s,A=!1;else{s=a1(n,e,x,s,!1);const J=t.listen(F,r,s);C.push(s,J),y&&y.push(r,q,N,N+1)}}else s=a1(n,e,x,s,!0),F.addEventListener(r,s,o),C.push(s),y&&y.push(r,q,N,o)}else s=a1(n,e,x,s,!1);const P=n.outputs;let L;if(A&&null!==P&&(L=P[r])){const H=L.length;if(H)for(let F=0;F<H;F+=2){const he=e[L[F]][L[F+1]].subscribe(s),ee=C.length;C.push(s,he),y&&y.push(r,n.index,ee,-(ee+1))}}}function hR(i,e,t,n){try{return!1!==t(n)}catch(r){return C2(i,r),!1}}function a1(i,e,t,n,r){return function s(o){if(o===Function)return n;const a=2&i.flags?Qo(i.index,e):e;0==(32&e[2])&&Hw(a);let l=hR(e,0,n,o),c=s.__ngNextListenerFn__;for(;c;)l=hR(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function wi(i=1){return function JV(i){return(vi.lFrame.contextLView=function eU(i,e){for(;i>0;)e=e[15],i--;return e}(i,vi.lFrame.contextLView))[8]}(i)}function Q6(i,e){let t=null;const n=function sG(i){const e=i.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(i);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===n?$T(i,s,!0):lG(n,s))return r}else t=r}return t}function zr(i){const e=sn()[16][6];if(!e.projection){const n=e.projection=Xp(i?i.length:1,null),r=n.slice();let s=e.child;for(;null!==s;){const o=i?Q6(s,i):0;null!==o&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function Ti(i,e=0,t){const n=sn(),r=tr(),s=Sh(r,20+i,16,null,t||null);null===s.projection&&(s.projection=e),Bx(),64!=(64&s.flags)&&function QH(i,e,t){UT(e[11],0,e,t,IT(i,t,e),OT(t.parent||e[6],t,e))}(r,n,s)}function wR(i,e,t,n,r){const s=i[t+1],o=null===e;let a=n?$a(s):oc(s),l=!1;for(;0!==a&&(!1===l||o);){const y=i[a+1];tz(i[a],e)&&(l=!0,i[a+1]=n?Dw(y):Cw(y)),a=n?$a(y):oc(y)}l&&(i[t+1]=n?Cw(s):Dw(s))}function tz(i,e){return null===i||null==e||(Array.isArray(i)?i[1]:i)===e||!(!Array.isArray(i)||"string"!=typeof e)&&vh(i,e)>=0}const Rs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MR(i){return i.substring(Rs.key,Rs.keyEnd)}function SR(i,e){const t=Rs.textEnd;return t===e?-1:(e=Rs.keyEnd=function sz(i,e,t){for(;e<t&&i.charCodeAt(e)>32;)e++;return e}(i,Rs.key=e,t),Uh(i,e,t))}function Uh(i,e,t){for(;e<t&&i.charCodeAt(e)<=32;)e++;return e}function Al(i,e,t){return Xa(i,e,t,!1),Al}function Ui(i,e){return Xa(i,e,null,!0),Ui}function Rl(i,e){for(let t=function iz(i){return function ER(i){Rs.key=0,Rs.keyEnd=0,Rs.value=0,Rs.valueEnd=0,Rs.textEnd=i.length}(i),SR(i,Uh(i,0,Rs.textEnd))}(e);t>=0;t=SR(e,t))Jo(i,MR(e),!0)}function Xa(i,e,t,n){const r=sn(),s=tr(),o=rc(2);s.firstUpdatePass&&RR(s,i,o,n),e!==Si&&yo(r,o,e)&&kR(s,s.data[Do()],r,r[11],i,r[o+1]=function gz(i,e){return null==i||("string"==typeof e?i+=e:"object"==typeof i&&(i=Ii(ea(i)))),i}(e,t),n,o)}function TR(i,e){return e>=i.expandoStartIndex}function RR(i,e,t,n){const r=i.data;if(null===r[t+1]){const s=r[Do()],o=TR(i,t);LR(s,n)&&null===e&&!o&&(e=!1),e=function uz(i,e,t,n){const r=Vx(i);let s=n?e.residualClasses:e.residualStyles;if(null===r)0===(n?e.classBindings:e.styleBindings)&&(t=mm(t=c1(null,i,e,t,n),e.attrs,n),s=null);else{const o=e.directiveStylingLast;if(-1===o||i[o]!==r)if(t=c1(r,i,e,t,n),null===s){let l=function dz(i,e,t){const n=t?e.classBindings:e.styleBindings;if(0!==oc(n))return i[$a(n)]}(i,e,n);void 0!==l&&Array.isArray(l)&&(l=c1(null,i,e,l[1],n),l=mm(l,e.attrs,n),function hz(i,e,t,n){i[$a(t?e.classBindings:e.styleBindings)]=n}(i,e,n,l))}else s=function fz(i,e,t){let n;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)n=mm(n,i[s].hostAttrs,t);return mm(n,e.attrs,t)}(i,e,n)}return void 0!==s&&(n?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,n),function J6(i,e,t,n,r,s){let o=s?e.classBindings:e.styleBindings,a=$a(o),l=oc(o);i[n]=t;let y,c=!1;if(Array.isArray(t)){const x=t;y=x[1],(null===y||vh(x,y)>0)&&(c=!0)}else y=t;if(r)if(0!==l){const C=$a(i[a+1]);i[n+1]=d_(C,a),0!==C&&(i[C+1]=Ew(i[C+1],n)),i[a+1]=function hG(i,e){return 131071&i|e<<17}(i[a+1],n)}else i[n+1]=d_(a,0),0!==a&&(i[a+1]=Ew(i[a+1],n)),a=n;else i[n+1]=d_(l,0),0===a?a=n:i[l+1]=Ew(i[l+1],n),l=n;c&&(i[n+1]=Cw(i[n+1])),wR(i,y,n,!0),wR(i,y,n,!1),function ez(i,e,t,n,r){const s=r?i.residualClasses:i.residualStyles;null!=s&&"string"==typeof e&&vh(s,e)>=0&&(t[n+1]=Dw(t[n+1]))}(e,y,i,n,s),o=d_(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,n)}}function c1(i,e,t,n,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],n=mm(n,s.hostAttrs,r),s!==i);)a++;return null!==i&&(t.directiveStylingLast=a),n}function mm(i,e,t){const n=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Jo(i,o,!!t||e[++s]))}return void 0===i?null:i}function kR(i,e,t,n,r,s,o,a){if(!(3&e.type))return;const l=i.data,c=l[a+1];w_(function KT(i){return 1==(1&i)}(c)?PR(l,e,t,r,oc(c),o):void 0)||(w_(s)||function ZT(i){return 2==(2&i)}(c)&&(s=PR(l,null,t,r,a,o)),function eG(i,e,t,n,r){const s=rs(i);if(e)r?s?i.addClass(t,n):t.classList.add(n):s?i.removeClass(t,n):t.classList.remove(n);else{let o=-1===n.indexOf("-")?void 0:ta.DashCase;if(null==r)s?i.removeStyle(t,n,o):t.style.removeProperty(n);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=ta.Important),s?i.setStyle(t,n,r,o):t.style.setProperty(n,r,a?"important":"")}}}(n,o,Vy(Do(),t),r,s))}function PR(i,e,t,n,r,s){const o=null===e;let a;for(;r>0;){const l=i[r],c=Array.isArray(l),y=c?l[1]:l,x=null===y;let C=t[r+1];C===Si&&(C=x?mr:void 0);let A=x?Kx(C,n):y===n?C:void 0;if(c&&!w_(A)&&(A=Kx(l,n)),w_(A)&&(a=A,o))return a;const P=i[r+1];r=o?$a(P):oc(P)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Kx(l,n))}return a}function w_(i){return void 0!==i}function LR(i,e){return 0!=(i.flags&(e?16:32))}function Fn(i,e=""){const t=sn(),n=tr(),r=i+20,s=n.firstCreatePass?Sh(n,r,1,e,null):n.data[r],o=t[r]=function yw(i,e){return rs(i)?i.createText(e):i.createTextNode(e)}(t[11],e);c_(n,t,o,s),bl(s,!1)}function Ho(i){return $c("",i,""),Ho}function $c(i,e,t){const n=sn(),r=Ih(n,i,e,t);return r!==Si&&ac(n,Do(),r),$c}function GR(i,e,t){!function Za(i,e,t,n){const r=tr(),s=rc(2);r.firstUpdatePass&&RR(r,null,s,n);const o=sn();if(t!==Si&&yo(o,s,t)){const a=r.data[Do()];if(LR(a,n)&&!TR(r,s)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=ih(l,t||"")),s1(r,a,o,t,n)}else!function mz(i,e,t,n,r,s,o,a){r===Si&&(r=mr);let l=0,c=0,y=0<r.length?r[0]:null,x=0<s.length?s[0]:null;for(;null!==y||null!==x;){const C=l<r.length?r[l+1]:void 0,A=c<s.length?s[c+1]:void 0;let L,P=null;y===x?(l+=2,c+=2,C!==A&&(P=x,L=A)):null===x||null!==y&&y<x?(l+=2,P=y):(c+=2,P=x,L=A),null!==P&&kR(i,e,t,n,P,L,o,a),y=l<r.length?r[l]:null,x=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function pz(i,e,t){if(null==t||""===t)return mr;const n=[],r=ea(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)i(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&i(n,s,r[s]);else"string"==typeof r&&e(n,r);return n}(i,e,t),n,s)}}(Jo,Rl,Ih(sn(),i,e,t),!0)}function lc(i,e,t){const n=sn();return yo(n,dh(),e)&&na(tr(),ss(),n,i,e,n[11],t,!0),lc}function gm(i,e,t){const n=sn();if(yo(n,dh(),e)){const s=tr(),o=ss();na(s,o,n,i,e,S2(Vx(s.data),o,n),t,!0)}return gm}const id=void 0;var Oz=["en",[["a","p"],["AM","PM"],id],[["AM","PM"],id,id],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],id,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],id,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",id,"{1} 'at' {0}",id],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Lz(i){const t=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Hh={};function To(i){const e=function Fz(i){return i.toLowerCase().replace(/_/g,"-")}(i);let t=eI(e);if(t)return t;const n=e.split("-")[0];if(t=eI(n),t)return t;if("en"===n)return Oz;throw new Error(`Missing locale data for the locale "${i}".`)}function eI(i){return i in Hh||(Hh[i]=dr.ng&&dr.ng.common&&dr.ng.common.locales&&dr.ng.common.locales[i]),Hh[i]}var kn=(()=>((kn=kn||{})[kn.LocaleId=0]="LocaleId",kn[kn.DayPeriodsFormat=1]="DayPeriodsFormat",kn[kn.DayPeriodsStandalone=2]="DayPeriodsStandalone",kn[kn.DaysFormat=3]="DaysFormat",kn[kn.DaysStandalone=4]="DaysStandalone",kn[kn.MonthsFormat=5]="MonthsFormat",kn[kn.MonthsStandalone=6]="MonthsStandalone",kn[kn.Eras=7]="Eras",kn[kn.FirstDayOfWeek=8]="FirstDayOfWeek",kn[kn.WeekendRange=9]="WeekendRange",kn[kn.DateFormat=10]="DateFormat",kn[kn.TimeFormat=11]="TimeFormat",kn[kn.DateTimeFormat=12]="DateTimeFormat",kn[kn.NumberSymbols=13]="NumberSymbols",kn[kn.NumberFormats=14]="NumberFormats",kn[kn.CurrencyCode=15]="CurrencyCode",kn[kn.CurrencySymbol=16]="CurrencySymbol",kn[kn.CurrencyName=17]="CurrencyName",kn[kn.Currencies=18]="Currencies",kn[kn.Directionality=19]="Directionality",kn[kn.PluralCase=20]="PluralCase",kn[kn.ExtraData=21]="ExtraData",kn))();const M_="en-US";let tI=M_;function h1(i,e,t,n,r){if(i=Mi(i),Array.isArray(i))for(let s=0;s<i.length;s++)h1(i[s],e,t,n,r);else{const s=tr(),o=sn();let a=Ah(i)?i:Mi(i.provide),l=I2(i);const c=As(),y=1048575&c.providerIndexes,x=c.directiveStart,C=c.providerIndexes>>20;if(Ah(i)||!i.multi){const A=new Gp(l,r,ae),P=p1(a,e,r?y:y+C,x);-1===P?(Jy(Wp(c,o),s,a),f1(s,i,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(A),o.push(A)):(t[P]=A,o[P]=A)}else{const A=p1(a,e,y+C,x),P=p1(a,e,y,y+C),L=A>=0&&t[A],H=P>=0&&t[P];if(r&&!H||!r&&!L){Jy(Wp(c,o),s,a);const F=function L8(i,e,t,n,r){const s=new Gp(i,t,ae);return s.multi=[],s.index=e,s.componentProviders=0,CI(s,r,n&&!t),s}(r?P8:k8,t.length,r,n,l);!r&&H&&(t[P].providerFactory=F),f1(s,i,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(F),o.push(F)}else f1(s,i,A>-1?A:P,CI(t[r?P:A],l,!r&&n));!r&&n&&H&&t[P].componentProviders++}}}function f1(i,e,t,n){const r=Ah(e),s=function s6(i){return!!i.useClass}(e);if(r||s){const l=(s?Mi(e.useClass):e).prototype.ngOnDestroy;if(l){const c=i.destroyHooks||(i.destroyHooks=[]);if(!r&&e.multi){const y=c.indexOf(t);-1===y?c.push(t,[n,l]):c[y+1].push(n,l)}else c.push(t,l)}}}function CI(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function p1(i,e,t,n){for(let r=t;r<n;r++)if(e[r]===i)return r;return-1}function k8(i,e,t,n){return m1(this.multi,[])}function P8(i,e,t,n){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=$p(t,t[1],this.providerFactory.index,n);s=a.slice(0,o),m1(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],m1(r,s);return s}function m1(i,e){for(let t=0;t<i.length;t++)e.push((0,i[t])());return e}function Bi(i,e=[]){return t=>{t.providersResolver=(n,r)=>function I8(i,e,t){const n=tr();if(n.firstCreatePass){const r=zi(i);h1(t,n.data,n.blueprint,r,!0),h1(e,n.data,n.blueprint,r,!1)}}(n,r?r(i):i,e)}}class EI{}class N8{resolveComponentFactory(e){throw function F8(i){const e=Error(`No component factory found for ${Ii(i)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=i,e}(e)}}let qc=(()=>{class i{}return i.NULL=new N8,i})();function B8(){return zh(As(),sn())}function zh(i,e){return new Cn(Ma(i,e))}let Cn=(()=>{class i{constructor(t){this.nativeElement=t}}return i.__NG_ELEMENT_ID__=B8,i})();function j8(i){return i instanceof Cn?i.nativeElement:i}class xm{}let Ka=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function U8(){const i=sn(),t=Qo(As().index,i);return function V8(i){return i[11]}(yi(t)?t:i)}(),i})(),H8=(()=>{class i{}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:()=>null}),i})();class cc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const G8=new cc("13.1.2"),g1={};function A_(i,e,t,n,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&n.push(_s(s)),di(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&A_(l[1],l,c,n)}const o=t.type;if(8&o)A_(i,e,t.child,n);else if(32&o){const a=pw(t,e);let l;for(;l=a();)n.push(l)}else if(16&o){const a=jT(e,t);if(Array.isArray(a))n.push(...a);else{const l=om(e[16]);A_(l[1],l,a,n,!0)}}t=r?t.projectionNext:t.next}return n}class wm{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return A_(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(di(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(vw(e,n),t_(t,n))}this._attachedToViewContainer=!1}RT(this._lView[1],this._lView)}onDestroy(e){h2(this._lView[1],this._lView,null,e)}markForCheck(){Hw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function YG(i,e,t){Hy(!0);try{zw(i,e,t)}finally{Hy(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zH(i,e){am(i,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class z8 extends wm{constructor(e){super(e),this._view=e}detectChanges(){x2(this._view)}checkNoChanges(){!function XG(i){Hy(!0);try{x2(i)}finally{Hy(!1)}}(this._view)}get context(){return null}}class AI extends qc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Dr(e);return new y1(t,this.ngModule)}}function TI(i){const e=[];for(let t in i)i.hasOwnProperty(t)&&e.push({propName:i[t],templateName:t});return e}const $8=new mn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wT});class y1 extends EI{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function uG(i){return i.map(cG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return TI(this.componentDef.inputs)}get outputs(){return TI(this.componentDef.outputs)}create(e,t,n,r){const s=(r=r||this.ngModule)?function q8(i,e){return{get:(t,n,r)=>{const s=i.get(t,g1,r);return s!==g1||n===g1?s:e.get(t,n,r)}}}(e,r.injector):e,o=s.get(xm,_A),a=s.get(H8,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",y=n?function d2(i,e,t){if(rs(i))return i.selectRootElement(e,t===Vo.ShadowDom);let n="string"==typeof e?i.querySelector(e):e;return n.textContent="",n}(l,n,this.componentDef.encapsulation):_w(o.createRenderer(null,this.componentDef),c,function W8(i){const e=i.toLowerCase();return"svg"===e?gA:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),x=this.componentDef.onPush?576:528,C=function G2(i,e){return{components:[],scheduler:i||wT,clean:ZG,playerHandler:e||null,flags:0}}(),A=p_(0,null,null,1,0,null,null,null,null,null),P=lm(null,A,C,x,null,null,o,l,a,s);let L,H;Gy(P);try{const F=function U2(i,e,t,n,r,s){const o=t[1];t[20]=i;const l=Sh(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(g_(l,c,!0),null!==i&&(Xy(r,i,c),null!==l.classes&&Sw(r,i,l.classes),null!==l.styles&&HT(r,i,l.styles)));const y=n.createRenderer(i,e),x=lm(t,c2(e),null,e.onPush?64:16,t[20],l,n,y,s||null,null);return o.firstCreatePass&&(Jy(Wp(l,t),o,e.type),y2(o,l),_2(l,t.length,1)),m_(t,x),t[20]=x}(y,this.componentDef,P,o,l);if(y)if(n)Xy(l,y,["ng-version",G8.full]);else{const{attrs:N,classes:q}=function dG(i){const e=[],t=[];let n=1,r=2;for(;n<i.length;){let s=i[n];if("string"==typeof s)2===r?""!==s&&e.push(s,i[++n]):8===r&&t.push(s);else{if(!Wa(r))break;r=s}n++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);N&&Xy(l,y,N),q&&q.length>0&&Sw(l,y,q.join(" "))}if(H=Lx(A,20),void 0!==t){const N=H.projection=[];for(let q=0;q<this.ngContentSelectors.length;q++){const Y=t[q];N.push(null!=Y?Array.from(Y):null)}}L=function H2(i,e,t,n,r){const s=t[1],o=function kG(i,e,t){const n=As();i.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),v2(i,n,e,Ch(i,e,1,null),t));const r=$p(e,i,n.directiveStart,n);go(r,e);const s=Ma(n,e);return s&&go(s,e),r}(s,t,e);if(n.components.push(o),i[8]=o,r&&r.forEach(l=>l(o,e)),e.contentQueries){const l=As();e.contentQueries(1,o,l.directiveStart)}const a=As();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Hc(a.index),m2(t[1],a,0,a.directiveStart,a.directiveEnd,e),g2(e,o)),o}(F,this.componentDef,P,C,[g6]),cm(A,P,null)}finally{zy()}return new X8(this.componentType,L,zh(H,P),P,H)}}class X8 extends class O8{}{constructor(e,t,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new z8(r),this.componentType=e}get injector(){return new ph(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class uc{}class RI{}const Wh=new Map;class PI extends uc{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new AI(this);const n=Uo(e);this._bootstrapComponents=Cl(n.bootstrap),this._r3Injector=R2(e,t,[{provide:uc,useValue:this},{provide:qc,useValue:this.componentFactoryResolver}],Ii(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=os.THROW_IF_NOT_FOUND,n=ti.Default){return e===os||e===uc||e===$w?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class _1 extends RI{constructor(e){super(),this.moduleType=e,null!==Uo(e)&&function K8(i){const e=new Set;!function t(n){const r=Uo(n,!0),s=r.id;null!==s&&(function II(i,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${i} - ${Ii(e)} vs ${Ii(e.name)}`)}(s,Wh.get(s),n),Wh.set(s,n));const o=Cl(r.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(i)}(e)}create(e){return new PI(this.moduleType,e)}}function Mm(i,e){const t=i[e];return t===Si?void 0:t}function OI(i,e,t,n,r,s){const o=e+t;return yo(i,o,r)?Dl(i,o+1,s?n.call(s,r):n(r)):Mm(i,o+1)}function FI(i,e,t,n,r,s,o){const a=e+t;return function td(i,e,t,n){const r=yo(i,e,t);return yo(i,e+1,n)||r}(i,a,r,s)?Dl(i,a+2,o?n.call(o,r,s):n(r,s)):Mm(i,a+2)}function v1(i,e){const t=tr();let n;const r=i+20;t.firstCreatePass?(n=function aW(i,e){if(e)for(let t=e.length-1;t>=0;t--){const n=e[t];if(i===n.name)return n}}(e,t.pipeRegistry),t.data[r]=n,n.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,n.onDestroy)):n=t.data[r];const s=n.factory||(n.factory=Qu(n.type)),o=Vs(ae);try{const a=Ky(!1),l=s();return Ky(a),function A6(i,e,t,n){t>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),e[t]=n}(t,sn(),r,l),l}finally{Vs(o)}}function Sm(i,e){return i[1].data[e].pure}function b1(i){return e=>{setTimeout(i,void 0,e)}}const Dn=class dW extends De{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,l=t||(()=>null),c=n;if(e&&"object"==typeof e){const x=e;a=null===(r=x.next)||void 0===r?void 0:r.bind(x),l=null===(s=x.error)||void 0===s?void 0:s.bind(x),c=null===(o=x.complete)||void 0===o?void 0:o.bind(x)}this.__isAsync&&(l=b1(l),a&&(a=b1(a)),c&&(c=b1(c)));const y=super.subscribe({next:a,error:l,complete:c});return e instanceof S&&e.add(y),y}};function hW(){return this._results[Th()]()}class rd{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Th(),n=rd.prototype;n[t]||(n[t]=hW)}get changes(){return this._changes||(this._changes=new Dn)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=Sa(e);(this._changesDetected=!function vU(i,e,t){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],s=e[n];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ea=(()=>{class i{}return i.__NG_ELEMENT_ID__=mW,i})();const fW=Ea,pW=class extends fW{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=lm(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(n[19]=s.createEmbeddedView(t)),cm(t,n,e),new wm(n)}};function mW(){return T_(As(),sn())}function T_(i,e){return 4&i.type?new pW(e,i,zh(i,e)):null}let _o=(()=>{class i{}return i.__NG_ELEMENT_ID__=gW,i})();function gW(){return zI(As(),sn())}const yW=_o,HI=class extends yW{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return zh(this._hostTNode,this._hostLView)}get injector(){return new ph(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qy(this._hostTNode,this._hostLView);if(OA(e)){const t=fh(e,this._hostLView),n=hh(e);return new ph(t[1].data[n+8],t)}return new ph(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=GI(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,s){const o=e&&!function Yp(i){return"function"==typeof i}(e);let a;if(o)a=t;else{const x=t||{};a=x.index,n=x.injector,r=x.projectableNodes,s=x.ngModuleRef}const l=o?e:new y1(Dr(e)),c=n||this.parentInjector;if(!s&&null==l.ngModule&&c){const x=c.get(uc,null);x&&(s=x)}const y=l.create(c,r,void 0,s);return this.insert(y.hostView,a),y}insert(e,t){const n=e._lView,r=n[1];if(function HV(i){return di(i[3])}(n)){const y=this.indexOf(e);if(-1!==y)this.detach(y);else{const x=n[3],C=new HI(x,x[6],x[3]);C.detach(C.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function $H(i,e,t,n){const r=10+n,s=t.length;n>0&&(t[r-1][4]=e),n<s-10?(e[4]=t[r],WA(t,10+n,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function qH(i,e){const t=i[9];e[16]!==e[3][3][16]&&(i[2]=!0),null===t?i[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(i),e[2]|=128}(r,n,o,s);const a=ww(s,o),l=n[11],c=l_(l,o[7]);return null!==c&&function GH(i,e,t,n,r,s){n[0]=r,n[6]=e,am(i,n,t,1,r,s)}(r,o[6],l,n,c,a),e.attachToViewContainerRef(),WA(x1(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=GI(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=vw(this._lContainer,t);n&&(t_(x1(this._lContainer),t),RT(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=vw(this._lContainer,t);return n&&null!=t_(x1(this._lContainer),t)?new wm(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function GI(i){return i[8]}function x1(i){return i[8]||(i[8]=[])}function zI(i,e){let t;const n=e[i.index];if(di(n))t=n;else{let r;if(8&i.type)r=_s(n);else{const s=e[11];r=s.createComment("");const o=Ma(i,e);ed(s,l_(s,o),r,function KH(i,e){return rs(i)?i.nextSibling(e):e.nextSibling}(s,o),!1)}e[i.index]=t=b2(n,e,r,i),m_(e,t)}return new HI(t,i,e)}class w1{constructor(e){this.queryList=e,this.matches=null}clone(){return new w1(this.queryList)}setDirty(){this.queryList.setDirty()}}class M1{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<n;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new M1(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==XI(e,t).matches&&this.queries[t].setDirty()}}class WI{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class S1{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new S1(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class C1{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new C1(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(e,t,bW(t,s)),this.matchTNodeWithReadOption(e,t,e_(t,e,s,!1,!1))}else n===Ea?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,e_(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Cn||r===_o||r===Ea&&4&t.type)this.addMatch(t.index,-2);else{const s=e_(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function bW(i,e){const t=i.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===e)return t[n+1];return null}function wW(i,e,t,n){return-1===t?function xW(i,e){return 11&i.type?zh(i,e):4&i.type?T_(i,e):null}(e,i):-2===t?function MW(i,e,t){return t===Cn?zh(e,i):t===Ea?T_(e,i):t===_o?zI(e,i):void 0}(i,e,n):$p(i,i[1],t,e)}function $I(i,e,t,n){const r=e[19].queries[n];if(null===r.matches){const s=i.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:wW(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function E1(i,e,t,n){const r=i.queries.getByIndex(t),s=r.matches;if(null!==s){const o=$I(i,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)n.push(o[a/2]);else{const c=s[a+1],y=e[-l];for(let x=10;x<y.length;x++){const C=y[x];C[17]===C[3]&&E1(C[1],C,c,n)}if(null!==y[9]){const x=y[9];for(let C=0;C<x.length;C++){const A=x[C];E1(A[1],A,c,n)}}}}}return n}function ni(i){const e=sn(),t=tr(),n=CA();Ux(n+1);const r=XI(t,n);if(i.dirty&&vA(e)===(2==(2&r.metadata.flags))){if(null===r.matches)i.reset([]);else{const s=r.crossesNgTemplate?E1(t,e,n,[]):$I(t,e,r,n);i.reset(s,j8),i.notifyOnChanges()}return!0}return!1}function Wr(i,e,t){const n=tr();n.firstCreatePass&&(YI(n,new WI(i,e,t),-1),2==(2&e)&&(n.staticViewQueries=!0)),qI(n,sn(),e)}function fr(i,e,t,n){const r=tr();if(r.firstCreatePass){const s=As();YI(r,new WI(e,t,n),s.index),function CW(i,e){const t=i.contentQueries||(i.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(i.queries.length-1,e)}(r,i),2==(2&t)&&(r.staticContentQueries=!0)}qI(r,sn(),t)}function ii(){return function SW(i,e){return i[19].queries[e].queryList}(sn(),CA())}function qI(i,e,t){const n=new rd(4==(4&t));h2(i,e,n,n.destroy),null===e[19]&&(e[19]=new M1),e[19].queries.push(new w1(n))}function YI(i,e,t){null===i.queries&&(i.queries=new S1),i.queries.track(new C1(e,t))}function XI(i,e){return i.queries.getByIndex(e)}function k_(...i){}const P_=new mn("Application Initializer");let qh=(()=>{class i{constructor(t){this.appInits=t,this.resolve=k_,this.reject=k_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(fm(s))t.push(s);else if(o1(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{n()}).catch(r=>{this.reject(r)}),0===t.length&&n(),this.initialized=!0}}return i.\u0275fac=function(t){return new(t||i)(vt(P_,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const Em=new mn("AppId"),zW={provide:Em,useFactory:function GW(){return`${k1()}${k1()}${k1()}`},deps:[]};function k1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hk=new mn("Platform Initializer"),ia=new mn("Platform ID"),P1=new mn("appBootstrapListener");let fk=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const dc=new mn("LocaleId"),pk=new mn("DefaultCurrencyCode");class WW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let L_=(()=>{class i{compileModuleSync(t){return new _1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const n=this.compileModuleSync(t),s=Cl(Uo(t).declarations).reduce((o,a)=>{const l=Dr(a);return l&&o.push(new y1(l)),o},[]);return new WW(n,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const qW=(()=>Promise.resolve(0))();function L1(i){"undefined"==typeof Zone?qW.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class si{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dn(!1),this.onMicrotaskEmpty=new Dn(!1),this.onStable=new Dn(!1),this.onError=new Dn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function YW(){let i=dr.requestAnimationFrame,e=dr.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&e){const t=i[Zone.__symbol__("OriginalDelegate")];t&&(i=t);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function KW(i){const e=()=>{!function ZW(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(dr,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,F1(i),i.isCheckStableRunning=!0,O1(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),F1(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,s,o,a)=>{try{return mk(i),t.invokeTask(r,s,o,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||i.shouldCoalesceRunChangeDetection)&&e(),gk(i)}},onInvoke:(t,n,r,s,o,a,l)=>{try{return mk(i),t.invoke(r,s,o,a,l)}finally{i.shouldCoalesceRunChangeDetection&&e(),gk(i)}},onHasTask:(t,n,r,s)=>{t.hasTask(r,s),n===r&&("microTask"==s.change?(i._hasPendingMicrotasks=s.microTask,F1(i),O1(i)):"macroTask"==s.change&&(i.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,r,s)=>(t.handleError(r,s),i.runOutsideAngular(()=>i.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!si.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(si.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,XW,k_,k_);try{return s.runTask(o,t,n)}finally{s.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const XW={};function O1(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function F1(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function mk(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function gk(i){i._nesting--,O1(i)}class QW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dn,this.onMicrotaskEmpty=new Dn,this.onStable=new Dn,this.onError=new Dn}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let N1=(()=>{class i{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{si.assertNotInAngularZone(),L1(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())L1(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,r){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,n,r){return[]}}return i.\u0275fac=function(t){return new(t||i)(vt(si))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),yk=(()=>{class i{constructor(){this._applications=new Map,B1.addToWindow(this)}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return B1.findTestabilityInTree(this,t,n)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();class JW{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let Qa,B1=new JW;const _k=new mn("AllowMultipleToken");class vk{constructor(e,t){this.name=e,this.token=t}}function bk(i,e,t=[]){const n=`Platform: ${e}`,r=new mn(n);return(s=[])=>{let o=xk();if(!o||o.injector.get(_k,!1))if(i)i(t.concat(s).concat({provide:r,useValue:!0}));else{const a=t.concat(s).concat({provide:r,useValue:!0},{provide:qw,useValue:"platform"});!function i9(i){if(Qa&&!Qa.destroyed&&!Qa.injector.get(_k,!1))throw new hs(400,"");Qa=i.get(wk);const e=i.get(hk,null);e&&e.forEach(t=>t())}(os.create({providers:a,name:n}))}return function r9(i){const e=xk();if(!e)throw new hs(401,"");return e}()}}function xk(){return Qa&&!Qa.destroyed?Qa:null}let wk=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const a=function s9(i,e){let t;return t="noop"===i?new QW:("zone.js"===i?void 0:i)||new si({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(n?n.ngZone:void 0,{ngZoneEventCoalescing:n&&n.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:n&&n.ngZoneRunCoalescing||!1}),l=[{provide:si,useValue:a}];return a.run(()=>{const c=os.create({providers:l,parent:this.injector,name:t.moduleType.name}),y=t.create(c),x=y.injector.get(sc,null);if(!x)throw new hs(402,"");return a.runOutsideAngular(()=>{const C=a.onError.subscribe({next:A=>{x.handleError(A)}});y.onDestroy(()=>{j1(this._modules,y),C.unsubscribe()})}),function o9(i,e,t){try{const n=t();return fm(n)?n.catch(r=>{throw e.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>i.handleError(n)),n}}(x,a,()=>{const C=y.injector.get(qh);return C.runInitializers(),C.donePromise.then(()=>(function Vz(i){eo(i,"Expected localeId to be defined"),"string"==typeof i&&(tI=i.toLowerCase().replace(/_/g,"-"))}(y.injector.get(dc,M_)||M_),this._moduleDoBootstrap(y),y))})})}bootstrapModule(t,n=[]){const r=Mk({},n);return function t9(i,e,t){const n=new _1(t);return Promise.resolve(n)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const n=t.injector.get(Yh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new hs(403,"");t.instance.ngDoBootstrap(n)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new hs(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(t){return new(t||i)(vt(os))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();function Mk(i,e){return Array.isArray(e)?e.reduce(Mk,i):Object.assign(Object.assign({},i),e)}let Yh=(()=>{class i{constructor(t,n,r,s,o){this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new xe(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new xe(c=>{let y;this._zone.runOutsideAngular(()=>{y=this._zone.onStable.subscribe(()=>{si.assertNotInAngularZone(),L1(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{si.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{y.unsubscribe(),x.unsubscribe()}});this.isStable=Kr(a,l.pipe(Fc()))}bootstrap(t,n){if(!this._initStatus.done)throw new hs(405,"");let r;r=t instanceof EI?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);const s=function n9(i){return i.isBoundToModule}(r)?void 0:this._injector.get(uc),a=r.create(os.NULL,[],n||r.selector,s),l=a.location.nativeElement,c=a.injector.get(N1,null),y=c&&a.injector.get(yk);return c&&y&&y.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),j1(this.components,a),y&&y.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new hs(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;j1(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(P1,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(t){return new(t||i)(vt(si),vt(os),vt(sc),vt(qc),vt(qh))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();function j1(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}let Ck=!0,Vr=(()=>{class i{}return i.__NG_ELEMENT_ID__=c9,i})();function c9(i){return function u9(i,e,t){if(Ki(i)&&!t){const n=Qo(i.index,e);return new wm(n,n)}return 47&i.type?new wm(e[16],e):null}(As(),sn(),16==(16&i))}class kk{constructor(){}supports(e){return dm(e)}create(e){return new g9(e)}}const m9=(i,e)=>e;class g9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||m9}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const o=!n||t&&t.currentIndex<Lk(n,r,s)?t:n,a=Lk(o,r,s),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,y=l-r;if(c!=y){for(let C=0;C<c;C++){const A=C<s.length?s[C]:s[C]=0,P=A+C;y<=P&&P<c&&(s[C]=A+1)}s[o.previousIndex]=y-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!dm(e))throw new Error(`Error trying to diff '${Ii(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,n=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),n=!0),t=t._next}else r=0,function E6(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{const t=i[Th()]();let n;for(;!(n=t.next()).done;)e(n.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),n=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new y9(t,n),s,r),e}_verifyReinsertion(e,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Pk),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class y9{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Pk{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new _9,this.map.set(t,n)),n.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lk(i,e,t){const n=i.previousIndex;if(null===n)return n;let r=0;return t&&n<t.length&&(r=t[n]),n+e+r}class Ok{constructor(){}supports(e){return e instanceof Map||Jw(e)}create(){return new v9}}class v9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Jw(e)))throw new Error(`Error trying to diff '${Ii(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,n);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const n=new b9(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class b9{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fk(){return new Xh([new kk])}let Xh=(()=>{class i{constructor(t){this.factories=t}static create(t,n){if(null!=n){const r=n.factories.slice();t=t.concat(r)}return new i(t)}static extend(t){return{provide:i,useFactory:n=>i.create(t,n||Fk()),deps:[[i,new wl,new mo]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(null!=n)return n;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function x9(i){return i.name||typeof i}(t)}'`)}}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:Fk}),i})();function Nk(){return new Yc([new Ok])}let Yc=(()=>{class i{constructor(t){this.factories=t}static create(t,n){if(n){const r=n.factories.slice();t=t.concat(r)}return new i(t)}static extend(t){return{provide:i,useFactory:n=>i.create(t,n||Nk()),deps:[[i,new wl,new mo]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(n)return n;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:Nk}),i})();const w9=[new Ok],S9=new Xh([new kk]),C9=new Yc(w9),E9=bk(null,"core",[{provide:ia,useValue:"unknown"},{provide:wk,deps:[os]},{provide:yk,deps:[]},{provide:fk,deps:[]}]),I9=[{provide:Yh,useClass:Yh,deps:[si,os,sc,qc,qh]},{provide:$8,deps:[si],useFactory:function k9(i){let e=[];return i.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:qh,useClass:qh,deps:[[new mo,P_]]},{provide:L_,useClass:L_,deps:[]},zW,{provide:Xh,useFactory:function D9(){return S9},deps:[]},{provide:Yc,useFactory:function A9(){return C9},deps:[]},{provide:dc,useFactory:function T9(i){return i||function R9(){return"undefined"!=typeof $localize&&$localize.locale||M_}()},deps:[[new em(dc),new mo,new wl]]},{provide:pk,useValue:"USD"}];let P9=(()=>{class i{constructor(t){}}return i.\u0275fac=function(t){return new(t||i)(vt(Yh))},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:I9}),i})(),F_=null;function Il(){return F_}const hi=new mn("DocumentToken");let od=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:function(){return function N9(){return vt(Bk)}()},providedIn:"platform"}),i})();const B9=new mn("Location Initialized");let Bk=(()=>{class i extends od{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Il().getBaseHref(this._doc)}onPopState(t){const n=Il().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){const n=Il().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,n,r){jk()?this._history.pushState(t,n,r):this.location.hash=r}replaceState(t,n,r){jk()?this._history.replaceState(t,n,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(vt(hi))},i.\u0275prov=Kt({token:i,factory:function(){return function j9(){return new Bk(vt(hi))}()},providedIn:"platform"}),i})();function jk(){return!!window.history.pushState}function z1(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function Vk(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function hc(i){return i&&"?"!==i[0]?"?"+i:i}let Zh=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:function(){return function V9(i){const e=vt(hi).location;return new Uk(vt(od),e&&e.origin||"")}()},providedIn:"root"}),i})();const W1=new mn("appBaseHref");let Uk=(()=>{class i extends Zh{constructor(t,n){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==n&&(n=this._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=n}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return z1(this._baseHref,t)}path(t=!1){const n=this._platformLocation.pathname+hc(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${n}${r}`:n}pushState(t,n,r,s){const o=this.prepareExternalUrl(r+hc(s));this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){const o=this.prepareExternalUrl(r+hc(s));this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var n,r;null===(r=(n=this._platformLocation).historyGo)||void 0===r||r.call(n,t)}}return i.\u0275fac=function(t){return new(t||i)(vt(od),vt(W1,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),U9=(()=>{class i extends Zh{constructor(t,n){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(t){const n=z1(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,r,s){let o=this.prepareExternalUrl(r+hc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){let o=this.prepareExternalUrl(r+hc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var n,r;null===(r=(n=this._platformLocation).historyGo)||void 0===r||r.call(n,t)}}return i.\u0275fac=function(t){return new(t||i)(vt(od),vt(W1,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),Dm=(()=>{class i{constructor(t,n){this._subject=new Dn,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Vk(Hk(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+hc(n))}normalize(t){return i.stripTrailingSlash(function G9(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,Hk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,n="",r=null){this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hc(n)),r)}replaceState(t,n="",r=null){this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hc(n)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var n,r;null===(r=(n=this._platformStrategy).historyGo)||void 0===r||r.call(n,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}))}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(r=>r(t,n))}subscribe(t,n,r){return this._subject.subscribe({next:t,error:n,complete:r})}}return i.normalizeQueryParams=hc,i.joinWithSlash=z1,i.stripTrailingSlash=Vk,i.\u0275fac=function(t){return new(t||i)(vt(Zh),vt(od))},i.\u0275prov=Kt({token:i,factory:function(){return function H9(){return new Dm(vt(Zh),vt(od))}()},providedIn:"root"}),i})();function Hk(i){return i.replace(/\/index.html$/,"")}var bs=(()=>((bs=bs||{})[bs.Zero=0]="Zero",bs[bs.One=1]="One",bs[bs.Two=2]="Two",bs[bs.Few=3]="Few",bs[bs.Many=4]="Many",bs[bs.Other=5]="Other",bs))(),fs=(()=>((fs=fs||{})[fs.Format=0]="Format",fs[fs.Standalone=1]="Standalone",fs))(),Wi=(()=>((Wi=Wi||{})[Wi.Narrow=0]="Narrow",Wi[Wi.Abbreviated=1]="Abbreviated",Wi[Wi.Wide=2]="Wide",Wi[Wi.Short=3]="Short",Wi))(),Jr=(()=>((Jr=Jr||{})[Jr.Short=0]="Short",Jr[Jr.Medium=1]="Medium",Jr[Jr.Long=2]="Long",Jr[Jr.Full=3]="Full",Jr))(),ai=(()=>((ai=ai||{})[ai.Decimal=0]="Decimal",ai[ai.Group=1]="Group",ai[ai.List=2]="List",ai[ai.PercentSign=3]="PercentSign",ai[ai.PlusSign=4]="PlusSign",ai[ai.MinusSign=5]="MinusSign",ai[ai.Exponential=6]="Exponential",ai[ai.SuperscriptingExponent=7]="SuperscriptingExponent",ai[ai.PerMille=8]="PerMille",ai[ai.Infinity=9]="Infinity",ai[ai.NaN=10]="NaN",ai[ai.TimeSeparator=11]="TimeSeparator",ai[ai.CurrencyDecimal=12]="CurrencyDecimal",ai[ai.CurrencyGroup=13]="CurrencyGroup",ai))();function N_(i,e){return Aa(To(i)[kn.DateFormat],e)}function B_(i,e){return Aa(To(i)[kn.TimeFormat],e)}function j_(i,e){return Aa(To(i)[kn.DateTimeFormat],e)}function Da(i,e){const t=To(i),n=t[kn.NumberSymbols][e];if(void 0===n){if(e===ai.CurrencyDecimal)return t[kn.NumberSymbols][ai.Decimal];if(e===ai.CurrencyGroup)return t[kn.NumberSymbols][ai.Group]}return n}const Z9=function JR(i){return To(i)[kn.PluralCase]};function zk(i){if(!i[kn.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[kn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Aa(i,e){for(let t=e;t>-1;t--)if(void 0!==i[t])return i[t];throw new Error("Locale data API: locale data undefined")}function q1(i){const[e,t]=i.split(":");return{hours:+e,minutes:+t}}const n7=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Am={},i7=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Is=(()=>((Is=Is||{})[Is.Short=0]="Short",Is[Is.ShortGMT=1]="ShortGMT",Is[Is.Long=2]="Long",Is[Is.Extended=3]="Extended",Is))(),fi=(()=>((fi=fi||{})[fi.FullYear=0]="FullYear",fi[fi.Month=1]="Month",fi[fi.Date=2]="Date",fi[fi.Hours=3]="Hours",fi[fi.Minutes=4]="Minutes",fi[fi.Seconds=5]="Seconds",fi[fi.FractionalSeconds=6]="FractionalSeconds",fi[fi.Day=7]="Day",fi))(),ki=(()=>((ki=ki||{})[ki.DayPeriods=0]="DayPeriods",ki[ki.Days=1]="Days",ki[ki.Months=2]="Months",ki[ki.Eras=3]="Eras",ki))();function r7(i,e,t,n){let r=function f7(i){if(qk(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[r,s=1,o=1]=i.split("-").map(a=>+a);return V_(r,s-1,o)}const t=parseFloat(i);if(!isNaN(i-t))return new Date(t);let n;if(n=i.match(n7))return function p7(i){const e=new Date(0);let t=0,n=0;const r=i[8]?e.setUTCFullYear:e.setFullYear,s=i[8]?e.setUTCHours:e.setHours;i[9]&&(t=Number(i[9]+i[10]),n=Number(i[9]+i[11])),r.call(e,Number(i[1]),Number(i[2])-1,Number(i[3]));const o=Number(i[4]||0)-t,a=Number(i[5]||0)-n,l=Number(i[6]||0),c=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return s.call(e,o,a,l,c),e}(n)}const e=new Date(i);if(!qk(e))throw new Error(`Unable to convert "${i}" into a date`);return e}(i);e=fc(t,e)||e;let a,o=[];for(;e;){if(a=i7.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const y=o.pop();if(!y)break;e=y}}let l=r.getTimezoneOffset();n&&(l=$k(n,l),r=function h7(i,e,t){const n=t?-1:1,r=i.getTimezoneOffset();return function d7(i,e){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+e),i}(i,n*($k(e,r)-r))}(r,n,!0));let c="";return o.forEach(y=>{const x=function u7(i){if(X1[i])return X1[i];let e;switch(i){case"G":case"GG":case"GGG":e=Br(ki.Eras,Wi.Abbreviated);break;case"GGGG":e=Br(ki.Eras,Wi.Wide);break;case"GGGGG":e=Br(ki.Eras,Wi.Narrow);break;case"y":e=xs(fi.FullYear,1,0,!1,!0);break;case"yy":e=xs(fi.FullYear,2,0,!0,!0);break;case"yyy":e=xs(fi.FullYear,3,0,!1,!0);break;case"yyyy":e=xs(fi.FullYear,4,0,!1,!0);break;case"Y":e=z_(1);break;case"YY":e=z_(2,!0);break;case"YYY":e=z_(3);break;case"YYYY":e=z_(4);break;case"M":case"L":e=xs(fi.Month,1,1);break;case"MM":case"LL":e=xs(fi.Month,2,1);break;case"MMM":e=Br(ki.Months,Wi.Abbreviated);break;case"MMMM":e=Br(ki.Months,Wi.Wide);break;case"MMMMM":e=Br(ki.Months,Wi.Narrow);break;case"LLL":e=Br(ki.Months,Wi.Abbreviated,fs.Standalone);break;case"LLLL":e=Br(ki.Months,Wi.Wide,fs.Standalone);break;case"LLLLL":e=Br(ki.Months,Wi.Narrow,fs.Standalone);break;case"w":e=Y1(1);break;case"ww":e=Y1(2);break;case"W":e=Y1(1,!0);break;case"d":e=xs(fi.Date,1);break;case"dd":e=xs(fi.Date,2);break;case"c":case"cc":e=xs(fi.Day,1);break;case"ccc":e=Br(ki.Days,Wi.Abbreviated,fs.Standalone);break;case"cccc":e=Br(ki.Days,Wi.Wide,fs.Standalone);break;case"ccccc":e=Br(ki.Days,Wi.Narrow,fs.Standalone);break;case"cccccc":e=Br(ki.Days,Wi.Short,fs.Standalone);break;case"E":case"EE":case"EEE":e=Br(ki.Days,Wi.Abbreviated);break;case"EEEE":e=Br(ki.Days,Wi.Wide);break;case"EEEEE":e=Br(ki.Days,Wi.Narrow);break;case"EEEEEE":e=Br(ki.Days,Wi.Short);break;case"a":case"aa":case"aaa":e=Br(ki.DayPeriods,Wi.Abbreviated);break;case"aaaa":e=Br(ki.DayPeriods,Wi.Wide);break;case"aaaaa":e=Br(ki.DayPeriods,Wi.Narrow);break;case"b":case"bb":case"bbb":e=Br(ki.DayPeriods,Wi.Abbreviated,fs.Standalone,!0);break;case"bbbb":e=Br(ki.DayPeriods,Wi.Wide,fs.Standalone,!0);break;case"bbbbb":e=Br(ki.DayPeriods,Wi.Narrow,fs.Standalone,!0);break;case"B":case"BB":case"BBB":e=Br(ki.DayPeriods,Wi.Abbreviated,fs.Format,!0);break;case"BBBB":e=Br(ki.DayPeriods,Wi.Wide,fs.Format,!0);break;case"BBBBB":e=Br(ki.DayPeriods,Wi.Narrow,fs.Format,!0);break;case"h":e=xs(fi.Hours,1,-12);break;case"hh":e=xs(fi.Hours,2,-12);break;case"H":e=xs(fi.Hours,1);break;case"HH":e=xs(fi.Hours,2);break;case"m":e=xs(fi.Minutes,1);break;case"mm":e=xs(fi.Minutes,2);break;case"s":e=xs(fi.Seconds,1);break;case"ss":e=xs(fi.Seconds,2);break;case"S":e=xs(fi.FractionalSeconds,1);break;case"SS":e=xs(fi.FractionalSeconds,2);break;case"SSS":e=xs(fi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=H_(Is.Short);break;case"ZZZZZ":e=H_(Is.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=H_(Is.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=H_(Is.Long);break;default:return null}return X1[i]=e,e}(y);c+=x?x(r,t,l):"''"===y?"'":y.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function V_(i,e,t){const n=new Date(0);return n.setFullYear(i,e,t),n.setHours(0,0,0),n}function fc(i,e){const t=function z9(i){return To(i)[kn.LocaleId]}(i);if(Am[t]=Am[t]||{},Am[t][e])return Am[t][e];let n="";switch(e){case"shortDate":n=N_(i,Jr.Short);break;case"mediumDate":n=N_(i,Jr.Medium);break;case"longDate":n=N_(i,Jr.Long);break;case"fullDate":n=N_(i,Jr.Full);break;case"shortTime":n=B_(i,Jr.Short);break;case"mediumTime":n=B_(i,Jr.Medium);break;case"longTime":n=B_(i,Jr.Long);break;case"fullTime":n=B_(i,Jr.Full);break;case"short":const r=fc(i,"shortTime"),s=fc(i,"shortDate");n=U_(j_(i,Jr.Short),[r,s]);break;case"medium":const o=fc(i,"mediumTime"),a=fc(i,"mediumDate");n=U_(j_(i,Jr.Medium),[o,a]);break;case"long":const l=fc(i,"longTime"),c=fc(i,"longDate");n=U_(j_(i,Jr.Long),[l,c]);break;case"full":const y=fc(i,"fullTime"),x=fc(i,"fullDate");n=U_(j_(i,Jr.Full),[y,x])}return n&&(Am[t][e]=n),n}function U_(i,e){return e&&(i=i.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),i}function Ja(i,e,t="-",n,r){let s="";(i<0||r&&i<=0)&&(r?i=1-i:(i=-i,s=t));let o=String(i);for(;o.length<e;)o="0"+o;return n&&(o=o.substr(o.length-e)),s+o}function xs(i,e,t=0,n=!1,r=!1){return function(s,o){let a=function o7(i,e){switch(i){case fi.FullYear:return e.getFullYear();case fi.Month:return e.getMonth();case fi.Date:return e.getDate();case fi.Hours:return e.getHours();case fi.Minutes:return e.getMinutes();case fi.Seconds:return e.getSeconds();case fi.FractionalSeconds:return e.getMilliseconds();case fi.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,s);if((t>0||a>-t)&&(a+=t),i===fi.Hours)0===a&&-12===t&&(a=12);else if(i===fi.FractionalSeconds)return function s7(i,e){return Ja(i,3).substr(0,e)}(a,e);const l=Da(o,ai.MinusSign);return Ja(a,e,l,n,r)}}function Br(i,e,t=fs.Format,n=!1){return function(r,s){return function a7(i,e,t,n,r,s){switch(t){case ki.Months:return function q9(i,e,t){const n=To(i),s=Aa([n[kn.MonthsFormat],n[kn.MonthsStandalone]],e);return Aa(s,t)}(e,r,n)[i.getMonth()];case ki.Days:return function $9(i,e,t){const n=To(i),s=Aa([n[kn.DaysFormat],n[kn.DaysStandalone]],e);return Aa(s,t)}(e,r,n)[i.getDay()];case ki.DayPeriods:const o=i.getHours(),a=i.getMinutes();if(s){const c=function K9(i){const e=To(i);return zk(e),(e[kn.ExtraData][2]||[]).map(n=>"string"==typeof n?q1(n):[q1(n[0]),q1(n[1])])}(e),y=function Q9(i,e,t){const n=To(i);zk(n);const s=Aa([n[kn.ExtraData][0],n[kn.ExtraData][1]],e)||[];return Aa(s,t)||[]}(e,r,n),x=c.findIndex(C=>{if(Array.isArray(C)){const[A,P]=C,L=o>=A.hours&&a>=A.minutes,H=o<P.hours||o===P.hours&&a<P.minutes;if(A.hours<P.hours){if(L&&H)return!0}else if(L||H)return!0}else if(C.hours===o&&C.minutes===a)return!0;return!1});if(-1!==x)return y[x]}return function W9(i,e,t){const n=To(i),s=Aa([n[kn.DayPeriodsFormat],n[kn.DayPeriodsStandalone]],e);return Aa(s,t)}(e,r,n)[o<12?0:1];case ki.Eras:return function Y9(i,e){return Aa(To(i)[kn.Eras],e)}(e,n)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,i,e,t,n)}}function H_(i){return function(e,t,n){const r=-1*n,s=Da(t,ai.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(i){case Is.Short:return(r>=0?"+":"")+Ja(o,2,s)+Ja(Math.abs(r%60),2,s);case Is.ShortGMT:return"GMT"+(r>=0?"+":"")+Ja(o,1,s);case Is.Long:return"GMT"+(r>=0?"+":"")+Ja(o,2,s)+":"+Ja(Math.abs(r%60),2,s);case Is.Extended:return 0===n?"Z":(r>=0?"+":"")+Ja(o,2,s)+":"+Ja(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${i}"`)}}}function Wk(i){return V_(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function Y1(i,e=!1){return function(t,n){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=Wk(t),o=function c7(i){const e=V_(i,0,1).getDay();return V_(i,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Ja(r,i,Da(n,ai.MinusSign))}}function z_(i,e=!1){return function(t,n){return Ja(Wk(t).getFullYear(),i,Da(n,ai.MinusSign),e)}}const X1={};function $k(i,e){i=i.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(t)?e:t}function qk(i){return i instanceof Date&&!isNaN(i.valueOf())}class $_{}let C7=(()=>{class i extends $_{constructor(t){super(),this.locale=t}getPluralCategory(t,n){switch(Z9(n||this.locale)(t)){case bs.Zero:return"zero";case bs.One:return"one";case bs.Two:return"two";case bs.Few:return"few";case bs.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(vt(dc))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();function Kk(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const n=t.indexOf("="),[r,s]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let Xc=(()=>{class i{constructor(t,n,r,s){this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(dm(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(n=>this._toggleClass(n.key,n.currentValue)),t.forEachChangedItem(n=>this._toggleClass(n.key,n.currentValue)),t.forEachRemovedItem(n=>{n.previousValue&&this._toggleClass(n.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(n=>{if("string"!=typeof n.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ii(n.item)}`);this._toggleClass(n.item,!0)}),t.forEachRemovedItem(n=>this._toggleClass(n.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(n=>this._toggleClass(n,!0)):Object.keys(t).forEach(n=>this._toggleClass(n,!!t[n])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(n=>this._toggleClass(n,!1)):Object.keys(t).forEach(n=>this._toggleClass(n,!1)))}_toggleClass(t,n){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return i.\u0275fac=function(t){return new(t||i)(ae(Xh),ae(Yc),ae(Cn),ae(Ka))},i.\u0275dir=kt({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class D7{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let q_=(()=>{class i{constructor(t,n,r){this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const n=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new D7(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===s?void 0:s);else if(null!==s){const a=n.get(s);n.move(a,o),Qk(a,r)}});for(let r=0,s=n.length;r<s;r++){const a=n.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Qk(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,n){return!0}}return i.\u0275fac=function(t){return new(t||i)(ae(_o),ae(Ea),ae(Xh))},i.\u0275dir=kt({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function Qk(i,e){i.context.$implicit=e.item}let pc=(()=>{class i{constructor(t,n){this._viewContainer=t,this._context=new A7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}}return i.\u0275fac=function(t){return new(t||i)(ae(_o),ae(Ea))},i.\u0275dir=kt({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class A7{constructor(){this.$implicit=null,this.ngIf=null}}function Jk(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${Ii(e)}'.`)}class eM{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Kh=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const n=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let n=0;n<this._defaultViews.length;n++)this._defaultViews[n].enforceState(t)}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),Y_=(()=>{class i{constructor(t,n,r){this.ngSwitch=r,r._addCase(),this._view=new eM(t,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(t){return new(t||i)(ae(_o),ae(Ea),ae(Kh,9))},i.\u0275dir=kt({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),eP=(()=>{class i{constructor(t,n,r){r._addDefault(new eM(t,n))}}return i.\u0275fac=function(t){return new(t||i)(ae(_o),ae(Ea),ae(Kh,9))},i.\u0275dir=kt({type:i,selectors:[["","ngSwitchDefault",""]]}),i})(),X_=(()=>{class i{constructor(t,n,r){this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,n){const[r,s]=t.split(".");null!=(n=null!=n&&s?`${n}${s}`:n)?this._renderer.setStyle(this._ngEl.nativeElement,r,n):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(n=>this._setStyle(n.key,null)),t.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),t.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Yc),ae(Ka))},i.\u0275dir=kt({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),i})();function el(i,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Ii(i)}'`)}class I7{createSubscription(e,t){return e.subscribe({next:t,error:n=>{throw n}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class k7{createSubscription(e,t){return e.then(t,n=>{throw n})}dispose(e){}onDestroy(e){}}const P7=new k7,L7=new I7;let nP=(()=>{class i{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(fm(t))return P7;if(uR(t))return L7;throw el(i,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this._ref.markForCheck())}}return i.\u0275fac=function(t){return new(t||i)(ae(Vr,16))},i.\u0275pipe=po({name:"async",type:i,pure:!1}),i})();const j7=new mn("DATE_PIPE_DEFAULT_TIMEZONE");let iP=(()=>{class i{constructor(t,n){this.locale=t,this.defaultTimezone=n}transform(t,n="mediumDate",r,s){var o;if(null==t||""===t||t!=t)return null;try{return r7(t,n,s||this.locale,null!==(o=null!=r?r:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw el(i,a.message)}}}return i.\u0275fac=function(t){return new(t||i)(ae(dc,16),ae(j7,24))},i.\u0275pipe=po({name:"date",type:i,pure:!0}),i})(),tl=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[{provide:$_,useClass:C7}]}),i})();const sP="browser";function ad(i){return i===sP}function Qh(i){return"server"===i}let J7=(()=>{class i{}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:()=>new e$(vt(hi),window)}),i})();class e${constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function t$(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=oP(this.window.history)||oP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function oP(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class aP{}class iM extends class n$ extends class F9{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function O9(i){F_||(F_=i)}(new iM)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function i$(){return Rm=Rm||document.querySelector("base"),Rm?Rm.getAttribute("href"):null}();return null==t?null:function r$(i){Z_=Z_||document.createElement("a"),Z_.setAttribute("href",i);const e=Z_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Kk(document.cookie,e)}}let Z_,Rm=null;const lP=new mn("TRANSITION_ID"),o$=[{provide:P_,useFactory:function s$(i,e,t){return()=>{t.get(qh).donePromise.then(()=>{const n=Il(),r=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let s=0;s<r.length;s++)n.remove(r[s])})}},deps:[lP,hi,os],multi:!0}];class rM{static init(){!function e9(i){B1=i}(new rM)}addToWindow(e){dr.getAngularTestability=(n,r=!0)=>{const s=e.findTestabilityInTree(n,r);if(null==s)throw new Error("Could not find testability for element.");return s},dr.getAllAngularTestabilities=()=>e.getAllTestabilities(),dr.getAllAngularRootElements=()=>e.getAllRootElements(),dr.frameworkStabilizers||(dr.frameworkStabilizers=[]),dr.frameworkStabilizers.push(n=>{const r=dr.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&n(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?Il().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let a$=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const K_=new mn("EventManagerPlugins");let Q_=(()=>{class i{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,n,r){return this._findPluginFor(n).addEventListener(t,n,r)}addGlobalEventListener(t,n,r){return this._findPluginFor(n).addGlobalEventListener(t,n,r)}getZone(){return this._zone}_findPluginFor(t){const n=this._eventNameToPlugin.get(t);if(n)return n;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(vt(K_),vt(si))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();class cP{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=Il().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let uP=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const n=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),n.add(r))}),this.onStylesAdded(n)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),Im=(()=>{class i extends uP{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,n,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(n.appendChild(o))})}addHost(t){const n=[];this._addStylesToHost(this._stylesSet,t,n),this._hostNodes.set(t,n)}removeHost(t){const n=this._hostNodes.get(t);n&&n.forEach(dP),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((n,r)=>{this._addStylesToHost(t,r,n)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(dP))}}return i.\u0275fac=function(t){return new(t||i)(vt(hi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();function dP(i){Il().remove(i)}const sM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},oM=/%COMP%/g;function J_(i,e,t){for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?J_(i,r,t):(r=r.replace(oM,i),t.push(r))}return t}function pP(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let ev=(()=>{class i{constructor(t,n,r){this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new aM(t)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;switch(n.encapsulation){case Vo.Emulated:{let r=this.rendererByCompId.get(n.id);return r||(r=new f$(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,r)),r.applyToHost(t),r}case 1:case Vo.ShadowDom:return new p$(this.eventManager,this.sharedStylesHost,t,n);default:if(!this.rendererByCompId.has(n.id)){const r=J_(n.id,n.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(vt(Q_),vt(Im),vt(Em))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();class aM{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(sM[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const s=sM[r];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=sM[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(ta.DashCase|ta.Important)?e.style.setProperty(t,n,r&ta.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&ta.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pP(n)):this.eventManager.addEventListener(e,t,pP(n))}}class f$ extends aM{constructor(e,t,n,r){super(e),this.component=n;const s=J_(r+"-"+n.id,n.styles,[]);t.addStyles(s),this.contentAttr=function u$(i){return"_ngcontent-%COMP%".replace(oM,i)}(r+"-"+n.id),this.hostAttr=function d$(i){return"_nghost-%COMP%".replace(oM,i)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class p$ extends aM{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=J_(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let m$=(()=>{class i extends cP{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,r){return t.addEventListener(n,r,!1),()=>this.removeEventListener(t,n,r)}removeEventListener(t,n,r){return t.removeEventListener(n,r)}}return i.\u0275fac=function(t){return new(t||i)(vt(hi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const gP=["alt","control","meta","shift"],y$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yP={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_$={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let v$=(()=>{class i extends cP{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,n,r){const s=i.parseEventName(n),o=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Il().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=i._normalizeKey(n.pop());let o="";if(gP.forEach(l=>{const c=n.indexOf(l);c>-1&&(n.splice(c,1),o+=l+".")}),o+=s,0!=n.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let n="",r=function b$(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&yP.hasOwnProperty(e)&&(e=yP[e]))}return y$[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gP.forEach(s=>{s!=r&&_$[s](t)&&(n+=s+".")}),n+=r,n}static eventCallback(t,n,r){return s=>{i.getEventFullKey(s)===t&&r.runGuarded(()=>n(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return i.\u0275fac=function(t){return new(t||i)(vt(hi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const S$=bk(E9,"browser",[{provide:ia,useValue:sP},{provide:hk,useValue:function x$(){iM.makeCurrent(),rM.init()},multi:!0},{provide:hi,useFactory:function M$(){return function BV(i){kx=i}(document),document},deps:[]}]),C$=[{provide:qw,useValue:"root"},{provide:sc,useFactory:function w$(){return new sc},deps:[]},{provide:K_,useClass:m$,multi:!0,deps:[hi,si,ia]},{provide:K_,useClass:v$,multi:!0,deps:[hi]},{provide:ev,useClass:ev,deps:[Q_,Im,Em]},{provide:xm,useExisting:ev},{provide:uP,useExisting:Im},{provide:Im,useClass:Im,deps:[hi]},{provide:N1,useClass:N1,deps:[si]},{provide:Q_,useClass:Q_,deps:[K_,si]},{provide:aP,useClass:a$,deps:[]}];let _P=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:Em,useValue:t.appId},{provide:lP,useExisting:Em},o$]}}}return i.\u0275fac=function(t){return new(t||i)(vt(i,12))},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:C$,imports:[tl,P9]}),i})();"undefined"!=typeof window&&window;let tv=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:function(t){let n=null;return n=t?new(t||i):vt(xP),n},providedIn:"root"}),i})(),xP=(()=>{class i extends tv{constructor(t){super(),this._doc=t}sanitize(t,n){if(null==n)return null;switch(t){case lr.NONE:return n;case lr.HTML:return Ml(n,"HTML")?ea(n):pT(this._doc,String(n)).toString();case lr.STYLE:return Ml(n,"Style")?ea(n):n;case lr.SCRIPT:if(Ml(n,"Script"))return ea(n);throw new Error("unsafe value used in a script context");case lr.URL:return oT(n),Ml(n,"URL")?ea(n):nm(String(n));case lr.RESOURCE_URL:if(Ml(n,"ResourceURL"))return ea(n);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function ZU(i){return new WU(i)}(t)}bypassSecurityTrustStyle(t){return function KU(i){return new $U(i)}(t)}bypassSecurityTrustScript(t){return function QU(i){return new qU(i)}(t)}bypassSecurityTrustUrl(t){return function JU(i){return new YU(i)}(t)}bypassSecurityTrustResourceUrl(t){return function eH(i){return new XU(i)}(t)}}return i.\u0275fac=function(t){return new(t||i)(vt(hi))},i.\u0275prov=Kt({token:i,factory:function(t){let n=null;return n=t?new t:function O$(i){return new xP(i.get(hi))}(vt(os)),n},providedIn:"root"}),i})();const{isArray:F$}=Array,{getPrototypeOf:N$,prototype:B$,keys:j$}=Object;function wP(i){if(1===i.length){const e=i[0];if(F$(e))return{args:e,keys:null};if(function V$(i){return i&&"object"==typeof i&&N$(i)===B$}(e)){const t=j$(e);return{args:t.map(n=>e[n]),keys:t}}}return{args:i,keys:null}}const{isArray:U$}=Array;function cM(i){return z(e=>function H$(i,e){return U$(e)?i(...e):i(e)}(i,e))}function MP(i,e){return i.reduce((t,n,r)=>(t[n]=e[r],t),{})}function SP(...i){const e=We(i),{args:t,keys:n}=wP(i),r=new xe(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let y=0;y<o;y++){let x=!1;zn(t[y]).subscribe(new ut(s,C=>{x||(x=!0,c--),a[y]=C},()=>l--,void 0,()=>{(!l||!x)&&(c||s.next(n?MP(n,a):a),s.complete())}))}});return e?r.pipe(cM(e)):r}let CP=(()=>{class i{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return i.\u0275fac=function(t){return new(t||i)(ae(Ka),ae(Cn))},i.\u0275dir=kt({type:i}),i})(),ld=(()=>{class i extends CP{}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275dir=kt({type:i,features:[an]}),i})();const zo=new mn("NgValueAccessor"),z$={provide:zo,useExisting:Li(()=>Jh),multi:!0},$$=new mn("CompositionEventMode");let Jh=(()=>{class i extends CP{constructor(t,n,r){super(t,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function W$(){const i=Il()?Il().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return i.\u0275fac=function(t){return new(t||i)(ae(Ka),ae(Cn),ae($$,8))},i.\u0275dir=kt({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,n){1&t&&Mn("input",function(s){return n._handleInput(s.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(s){return n._compositionEnd(s.target.value)})},features:[Bi([z$]),an]}),i})();function Kc(i){return null==i||0===i.length}function DP(i){return null!=i&&"number"==typeof i.length}const Us=new mn("NgValidators"),Qc=new mn("NgAsyncValidators"),q$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class uM{static min(e){return AP(e)}static max(e){return TP(e)}static required(e){return function RP(i){return Kc(i.value)?{required:!0}:null}(e)}static requiredTrue(e){return function IP(i){return!0===i.value?null:{required:!0}}(e)}static email(e){return function kP(i){return Kc(i.value)||q$.test(i.value)?null:{email:!0}}(e)}static minLength(e){return function PP(i){return e=>Kc(e.value)||!DP(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static maxLength(e){return LP(e)}static pattern(e){return function OP(i){if(!i)return km;let e,t;return"string"==typeof i?(t="","^"!==i.charAt(0)&&(t+="^"),t+=i,"$"!==i.charAt(i.length-1)&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),n=>{if(Kc(n.value))return null;const r=n.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return UP(e)}static composeAsync(e){return HP(e)}}function AP(i){return e=>{if(Kc(e.value)||Kc(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}function TP(i){return e=>{if(Kc(e.value)||Kc(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}function LP(i){return e=>DP(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function km(i){return null}function FP(i){return null!=i}function NP(i){const e=fm(i)?Tn(i):i;return o1(e),e}function BP(i){let e={};return i.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function jP(i,e){return e.map(t=>t(i))}function VP(i){return i.map(e=>function Y$(i){return!i.validate}(e)?e:t=>e.validate(t))}function UP(i){if(!i)return null;const e=i.filter(FP);return 0==e.length?null:function(t){return BP(jP(t,e))}}function dM(i){return null!=i?UP(VP(i)):null}function HP(i){if(!i)return null;const e=i.filter(FP);return 0==e.length?null:function(t){return SP(jP(t,e).map(NP)).pipe(z(BP))}}function hM(i){return null!=i?HP(VP(i)):null}function GP(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function zP(i){return i._rawValidators}function WP(i){return i._rawAsyncValidators}function fM(i){return i?Array.isArray(i)?i:[i]:[]}function nv(i,e){return Array.isArray(i)?i.includes(e):i===e}function $P(i,e){const t=fM(e);return fM(i).forEach(r=>{nv(t,r)||t.push(r)}),t}function qP(i,e){return fM(e).filter(t=>!nv(i,t))}class YP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class kl extends YP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Io extends YP{get formDirective(){return null}get path(){return null}}let iv=(()=>{class i extends class XP{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(ae(kl,2))},i.\u0275dir=kt({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,n){2&t&&Ui("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))},features:[an]}),i})();function Pm(i,e){gM(i,e),e.valueAccessor.writeValue(i.value),function iq(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&KP(i,e)})}(i,e),function sq(i,e){const t=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,e),function rq(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&KP(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function nq(i,e){if(e.valueAccessor.setDisabledState){const t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,e)}function ov(i,e,t=!0){const n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),lv(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function av(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gM(i,e){const t=zP(i);null!==e.validator?i.setValidators(GP(t,e.validator)):"function"==typeof t&&i.setValidators([t]);const n=WP(i);null!==e.asyncValidator?i.setAsyncValidators(GP(n,e.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();av(e._rawValidators,r),av(e._rawAsyncValidators,r)}function lv(i,e){let t=!1;if(null!==i){if(null!==e.validator){const r=zP(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,i.setValidators(s))}}if(null!==e.asyncValidator){const r=WP(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,i.setAsyncValidators(s))}}}const n=()=>{};return av(e._rawValidators,n),av(e._rawAsyncValidators,n),t}function KP(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function QP(i,e){gM(i,e)}function JP(i,e){i._syncPendingControls(),e.forEach(t=>{const n=t.control;"submit"===n.updateOn&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function cv(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const Lm="VALID",uv="INVALID",ef="PENDING",Om="DISABLED";function bM(i){return(wM(i)?i.validators:i)||null}function eL(i){return Array.isArray(i)?dM(i):i||null}function xM(i,e){return(wM(e)?e.asyncValidators:i)||null}function tL(i){return Array.isArray(i)?hM(i):i||null}function wM(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}const nL=i=>i instanceof oL,MM=i=>i instanceof CM;function iL(i){return nL(i)?i.value:i.getRawValue()}function rL(i,e){const t=MM(i),n=i.controls;if(!(t?Object.keys(n):n).length)throw new hs(1e3,"");if(!n[e])throw new hs(1001,"")}function sL(i,e){MM(i),i._forEachChild((n,r)=>{if(void 0===e[r])throw new hs(1002,"")})}class SM{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=eL(this._rawValidators),this._composedAsyncValidatorFn=tL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Lm}get invalid(){return this.status===uv}get pending(){return this.status==ef}get disabled(){return this.status===Om}get enabled(){return this.status!==Om}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=eL(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=tL(e)}addValidators(e){this.setValidators($P(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($P(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qP(e,this._rawAsyncValidators))}hasValidator(e){return nv(this._rawValidators,e)}hasAsyncValidator(e){return nv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ef,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Om,this.errors=null,this._forEachChild(n=>{n.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lm,this._forEachChild(n=>{n.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lm||this.status===ef)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Om:Lm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ef,this._hasOwnPendingAsyncValidator=!0;const t=NP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function cq(i,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let n=i;return e.forEach(r=>{n=MM(n)?n.controls.hasOwnProperty(r)?n.controls[r]:null:(i=>i instanceof dq)(n)&&n.at(r)||null}),n}(this,e,".")}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Dn,this.statusChanges=new Dn}_calculateStatus(){return this._allControlsDisabled()?Om:this.errors?uv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ef)?ef:this._anyControlsHaveStatus(uv)?uv:Lm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wM(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class oL extends SM{constructor(e=null,t,n){super(bM(t),xM(n,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class CM extends SM{constructor(e,t,n){super(bM(t),xM(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){sL(this,e),Object.keys(e).forEach(n=>{rL(this,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=iL(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((r,s)=>{n=t(n,r,s)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class dq extends SM{constructor(e,t,n){super(bM(t),xM(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){sL(this,e),e.forEach((n,r)=>{rL(this,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>iL(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,n)=>!!n._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const hq={provide:Io,useExisting:Li(()=>Nm)},Fm=(()=>Promise.resolve(null))();let Nm=(()=>{class i extends Io{constructor(t,n){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Dn,this.form=new CM({},dM(t),hM(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Fm.then(()=>{const n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Pm(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Fm.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name),cv(this._directives,t)})}addFormGroup(t){Fm.then(()=>{const n=this._findContainer(t.path),r=new CM({});QP(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Fm.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){Fm.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,JP(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return i.\u0275fac=function(t){return new(t||i)(ae(Us,10),ae(Qc,10))},i.\u0275dir=kt({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,n){1&t&&Mn("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bi([hq]),an]}),i})();const pq={provide:kl,useExisting:Li(()=>Bm)},cL=(()=>Promise.resolve(null))();let Bm=(()=>{class i extends kl{constructor(t,n,r,s){super(),this.control=new oL,this._registered=!1,this.update=new Dn,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function _M(i,e){if(!e)return null;let t,n,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Jh?t=s:function lq(i){return Object.getPrototypeOf(i.constructor)===ld}(s)?n=s:r=s}),r||n||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function yM(i,e){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function sv(i,e){return[...e.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pm(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){cL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;cL.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(t){return new(t||i)(ae(Io,9),ae(Us,10),ae(Qc,10),ae(zo,10))},i.\u0275dir=kt({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Bi([pq]),an,Rr]}),i})();const gq={provide:zo,useExisting:Li(()=>dv),multi:!0};let dv=(()=>{class i extends ld{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=n=>{t(""==n?null:parseFloat(n))}}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275dir=kt({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,n){1&t&&Mn("input",function(s){return n.onChange(s.target.value)})("blur",function(){return n.onTouched()})},features:[Bi([gq]),an]}),i})(),uL=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({}),i})();const xq={provide:Io,useExisting:Li(()=>jm)};let jm=(()=>{class i extends Io{constructor(t,n){super(),this.validators=t,this.asyncValidators=n,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Dn,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const n=this.form.get(t.path);return Pm(n,t),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){ov(t.control||null,t,!1),cv(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this.submitted=!0,JP(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const n=t.control,r=this.form.get(t.path);n!==r&&(ov(n||null,t),nL(r)&&(Pm(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const n=this.form.get(t.path);QP(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const n=this.form.get(t.path);n&&function oq(i,e){return lv(i,e)}(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gM(this.form,this),this._oldForm&&lv(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(t){return new(t||i)(ae(Us,10),ae(Qc,10))},i.\u0275dir=kt({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,n){1&t&&Mn("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bi([xq]),an,Rr]}),i})();function bL(i){return"number"==typeof i?i:parseFloat(i)}let hv=(()=>{class i{constructor(){this._validator=km}ngOnChanges(t){if(this.inputName in t){const n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):km,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,features:[Rr]}),i})();const Iq={provide:Us,useExisting:Li(()=>RM),multi:!0};let RM=(()=>{class i extends hv{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>bL(t),this.createValidator=t=>TP(t)}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275dir=kt({type:i,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,n){2&t&&bi("max",n._enabled?n.max:null)},inputs:{max:"max"},features:[Bi([Iq]),an]}),i})();const kq={provide:Us,useExisting:Li(()=>IM),multi:!0};let IM=(()=>{class i extends hv{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>bL(t),this.createValidator=t=>AP(t)}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275dir=kt({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,n){2&t&&bi("min",n._enabled?n.min:null)},inputs:{min:"min"},features:[Bi([kq]),an]}),i})();const Nq={provide:Us,useExisting:Li(()=>LM),multi:!0};let LM=(()=>{class i extends hv{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function vL(i){return"number"==typeof i?i:parseInt(i,10)}(t),this.createValidator=t=>LP(t)}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275dir=kt({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,n){2&t&&bi("maxlength",n._enabled?n.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Bi([Nq]),an]}),i})(),jq=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[uL]]}),i})(),Vq=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[jq]}),i})();const Uq=new mn("cdk-dir-doc",{providedIn:"root",factory:function Hq(){return Qp(hi)}}),Gq=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let OM,no=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new Dn,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function zq(i){const e=(null==i?void 0:i.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Gq.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(vt(Uq,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),tf=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({}),i})();try{OM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){OM=!1}let rf,Hs=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?ad(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!OM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(vt(ia))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nf=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({}),i})();const EL=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function DL(){if(rf)return rf;if("object"!=typeof document||!document)return rf=new Set(EL),rf;let i=document.createElement("input");return rf=new Set(EL.filter(e=>(i.setAttribute("type",e),i.type===e))),rf}let Vm,fv,ud,FM;function cd(i){return function Wq(){if(null==Vm&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vm=!0}))}finally{Vm=Vm||!1}return Vm}()?i:!!i.capture}function AL(){if(null==ud){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ud=!1,ud;if("scrollBehavior"in document.documentElement.style)ud=!0;else{const i=Element.prototype.scrollTo;ud=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return ud}function Um(){if("object"!=typeof document||!document)return 0;if(null==fv){const i=document.createElement("div"),e=i.style;i.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),n=t.style;n.width="2px",n.height="1px",i.appendChild(t),document.body.appendChild(i),fv=0,0===i.scrollLeft&&(i.scrollLeft=1,fv=0===i.scrollLeft?1:2),i.remove()}return fv}function Hm(){let i="undefined"!=typeof document&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const e=i.shadowRoot.activeElement;if(e===i)break;i=e}return i}function dd(i){return i.composedPath?i.composedPath()[0]:i.target}function NM(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class ra extends De{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:n}=this;if(e)throw t;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}}function Jn(...i){return Tn(i,Bt(i))}function ko(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function ks(i,e,t){const n=j(i)||e||t?{next:i,error:e,complete:t}:i;return n?ct((r,s)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let a=!0;r.subscribe(new ut(s,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),s.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),s.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),s.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):oe}class iY extends S{constructor(e,t){super()}schedule(e,t=0){return this}}const gv={setInterval(...i){const{delegate:e}=gv;return((null==e?void 0:e.setInterval)||setInterval)(...i)},clearInterval(i){const{delegate:e}=gv;return((null==e?void 0:e.clearInterval)||clearInterval)(i)},delegate:void 0};class jM extends iY{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return gv.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;gv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,n=!1;try{this.work(e)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,w(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const TL={now:()=>(TL.delegate||Date).now(),delegate:void 0};class Wm{constructor(e,t=Wm.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}Wm.now=TL.now;class VM extends Wm{constructor(e,t=Wm.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const yv=new VM(jM),rY=yv;function _v(i,e=yv){return ct((t,n)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,n.next(c)}};function l(){const c=o+i,y=e.now();if(y<c)return r=this.schedule(void 0,c-y),void n.add(r);a()}t.subscribe(new ut(n,c=>{s=c,o=e.now(),r||(r=e.schedule(l,i),n.add(r))},()=>{a(),n.complete()},void 0,()=>{s=r=null}))})}function gr(i,e){return ct((t,n)=>{let r=0;t.subscribe(new ut(n,s=>i.call(e,s,r++)&&n.next(s)))})}function RL(i){return gr((e,t)=>i<=t)}function UM(i,e=oe){return i=null!=i?i:sY,ct((t,n)=>{let r,s=!0;t.subscribe(new ut(n,o=>{const a=e(o);(s||!i(r,a))&&(s=!1,r=a,n.next(o))}))})}function sY(i,e){return i===e}function Ci(i){return ct((e,t)=>{zn(i).subscribe(new ut(t,()=>t.complete(),m)),!t.closed&&e.subscribe(t)})}function oi(i){return null!=i&&"false"!=`${i}`}function Ta(i,e=0){return function oY(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):e}function vv(i){return Array.isArray(i)?i:[i]}function ws(i){return null==i?"":"string"==typeof i?i:`${i}px`}function mc(i){return i instanceof Cn?i.nativeElement:i}let IL=(()=>{class i{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),kL=(()=>{class i{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,n)=>this._cleanupObserver(n))}observe(t){const n=mc(t);return new xe(r=>{const o=this._observeElement(n).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const n=new De,r=this._mutationObserverFactory.create(s=>n.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:n,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:n,stream:r}=this._observedElements.get(t);n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}}}return i.\u0275fac=function(t){return new(t||i)(vt(IL))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),PL=(()=>{class i{constructor(t,n,r){this._contentObserver=t,this._elementRef=n,this._ngZone=r,this.event=new Dn,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=oi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ta(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(_v(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(ae(kL),ae(Cn),ae(si))},i.\u0275dir=kt({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),HM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[IL]}),i})();function bv(i,e){return(i.getAttribute(e)||"").match(/\S+/g)||[]}const OL="cdk-describedby-message-container",FL="cdk-describedby-message",xv="cdk-describedby-host";let uY=0;const Ol=new Map;let sa=null,dY=(()=>{class i{constructor(t){this._document=t}describe(t,n,r){if(!this._canBeDescribed(t,n))return;const s=GM(n,r);"string"!=typeof n?(NL(n),Ol.set(s,{messageElement:n,referenceCount:0})):Ol.has(s)||this._createMessageElement(n,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,n,r){if(!n||!this._isElementNode(t))return;const s=GM(n,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof n){const o=Ol.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}sa&&0===sa.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll(`[${xv}]`);for(let n=0;n<t.length;n++)this._removeCdkDescribedByReferenceIds(t[n]),t[n].removeAttribute(xv);sa&&this._deleteMessagesContainer(),Ol.clear()}_createMessageElement(t,n){const r=this._document.createElement("div");NL(r),r.textContent=t,n&&r.setAttribute("role",n),this._createMessagesContainer(),sa.appendChild(r),Ol.set(GM(t,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){var n;const r=Ol.get(t);null===(n=null==r?void 0:r.messageElement)||void 0===n||n.remove(),Ol.delete(t)}_createMessagesContainer(){if(!sa){const t=this._document.getElementById(OL);null==t||t.remove(),sa=this._document.createElement("div"),sa.id=OL,sa.style.visibility="hidden",sa.classList.add("cdk-visually-hidden"),this._document.body.appendChild(sa)}}_deleteMessagesContainer(){sa&&(sa.remove(),sa=null)}_removeCdkDescribedByReferenceIds(t){const n=bv(t,"aria-describedby").filter(r=>0!=r.indexOf(FL));t.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(t,n){const r=Ol.get(n);(function lY(i,e,t){const n=bv(i,e);n.some(r=>r.trim()==t.trim())||(n.push(t.trim()),i.setAttribute(e,n.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(xv,""),r.referenceCount++}_removeMessageReference(t,n){const r=Ol.get(n);r.referenceCount--,function cY(i,e,t){const r=bv(i,e).filter(s=>s!=t.trim());r.length?i.setAttribute(e,r.join(" ")):i.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(xv)}_isElementDescribedByMessage(t,n){const r=bv(t,"aria-describedby"),s=Ol.get(n),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(t,n){if(!this._isElementNode(t))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return i.\u0275fac=function(t){return new(t||i)(vt(hi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function GM(i,e){return"string"==typeof i?`${e||""}/${i}`:i}function NL(i){i.id||(i.id=`${FL}-${uY++}`)}class BL{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new De,this._typeaheadSubscription=S.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new De,this.change=new De,e instanceof rd&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ks(t=>this._pressedLetters.push(t)),_v(e),gr(()=>this._pressedLetters.length>0),z(()=>this._pressedLetters.join(""))).subscribe(t=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const s=(this._activeItemIndex+r)%n.length,o=n[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||ko(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),r=t[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof rd?this._items.toArray():this._items}}class hY extends BL{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class jL extends BL{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let zM=(()=>{class i{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function pY(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const n=function fY(i){try{return i.frameElement}catch(e){return null}}(function wY(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(t));if(n&&(-1===UL(n)||!this.isVisible(n)))return!1;let r=t.nodeName.toLowerCase(),s=UL(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function bY(i){let e=i.nodeName.toLowerCase(),t="input"===e&&i.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,n){return function xY(i){return!function gY(i){return function _Y(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function mY(i){let e=i.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(i)||function yY(i){return function vY(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||VL(i))}(t)&&!this.isDisabled(t)&&((null==n?void 0:n.ignoreVisibility)||this.isVisible(t))}}return i.\u0275fac=function(t){return new(t||i)(vt(Hs))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function VL(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let e=i.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function UL(i){if(!VL(i))return null;const e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class MY{constructor(e,t,n,r,s=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return null==n||n.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let n=0;n<t.length;n++){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let n=t.length-1;n>=0;n--){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(sr(1)).subscribe(e)}}let WM=(()=>{class i{constructor(t,n,r){this._checker=t,this._ngZone=n,this._document=r}create(t,n=!1){return new MY(t,this._checker,this._ngZone,this._document,n)}}return i.\u0275fac=function(t){return new(t||i)(vt(zM),vt(si),vt(hi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),SY=(()=>{class i{constructor(t,n,r){this._elementRef=t,this._focusTrapFactory=n,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=oi(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=oi(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const n=t.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Hm(),this.focusTrap.focusInitialElementWhenReady()}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(WM),ae(hi))},i.\u0275dir=kt({type:i,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Rr]}),i})();function $M(i){return 0===i.offsetX&&0===i.offsetY}function qM(i){const e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const CY=new mn("cdk-input-modality-detector-options"),EY={ignoreKeys:[18,17,224,91,16]},sf=cd({passive:!0,capture:!0});let DY=(()=>{class i{constructor(t,n,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new ra(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=dd(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next($M(o)?"keyboard":"mouse"),this._mostRecentTarget=dd(o))},this._onTouchstart=o=>{qM(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=dd(o))},this._options=Object.assign(Object.assign({},EY),s),this.modalityDetected=this._modality.pipe(RL(1)),this.modalityChanged=this.modalityDetected.pipe(UM()),t.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,sf),r.addEventListener("mousedown",this._onMousedown,sf),r.addEventListener("touchstart",this._onTouchstart,sf)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sf),document.removeEventListener("mousedown",this._onMousedown,sf),document.removeEventListener("touchstart",this._onTouchstart,sf))}}return i.\u0275fac=function(t){return new(t||i)(vt(Hs),vt(si),vt(hi),vt(CY,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const AY=new mn("liveAnnouncerElement",{providedIn:"root",factory:function TY(){return null}}),RY=new mn("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let GL=(()=>{class i{constructor(t,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...n){const r=this._defaultOptions;let s,o;return 1===n.length&&"number"==typeof n[0]?o=n[0]:[s,o]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(a=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,a(),"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",n=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return i.\u0275fac=function(t){return new(t||i)(vt(AY,8),vt(si),vt(hi),vt(RY,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),IY=(()=>{class i{constructor(t,n,r,s){this._elementRef=t,this._liveAnnouncer=n,this._contentObserver=r,this._ngZone=s,this._politeness="polite"}get politeness(){return this._politeness}set politeness(t){this._politeness="off"===t||"assertive"===t?t:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const n=this._elementRef.nativeElement.textContent;n!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(n,this._politeness),this._previousAnnouncedText=n)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(GL),ae(kL),ae(si))},i.\u0275dir=kt({type:i,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),i})();const kY=new mn("cdk-focus-monitor-default-options"),wv=cd({passive:!0,capture:!0});let Fl=(()=>{class i{constructor(t,n,r,s,o){this._ngZone=t,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new De,this._rootNodeFocusAndBlurListener=a=>{const l=dd(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let y=l;y;y=y.parentElement)c.call(this,a,y)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,n=!1){const r=mc(t);if(!this._platform.isBrowser||1!==r.nodeType)return Jn(null);const s=function qq(i){if(function $q(){if(null==FM){const i="undefined"!=typeof document?document.head:null;FM=!(!i||!i.createShadowRoot&&!i.attachShadow)}return FM}()){const e=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;const a={checkChildren:n,subject:new De,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const n=mc(t),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(t,n,r){const s=mc(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused","touch"===n),t.classList.toggle("cdk-keyboard-focused","keyboard"===n),t.classList.toggle("cdk-mouse-focused","mouse"===n),t.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,n){const r=this._elementInfo.get(n),s=dd(t);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(t,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(r.subject,null))}_emitOrigin(t,n){this._ngZone.run(()=>t.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,wv),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,wv)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ci(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wv),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wv),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,r){this._setClasses(t,n),this._emitOrigin(r.subject,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){const n=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&n.push([s,r])}),n}}return i.\u0275fac=function(t){return new(t||i)(vt(si),vt(Hs),vt(DY),vt(hi,8),vt(kY,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),PY=(()=>{class i{constructor(t,n){this._elementRef=t,this._focusMonitor=n,this.cdkFocusChange=new Dn}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>this.cdkFocusChange.emit(n))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Fl))},i.\u0275dir=kt({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),i})();const zL="cdk-high-contrast-black-on-white",WL="cdk-high-contrast-white-on-black",YM="cdk-high-contrast-active";let $L=(()=>{class i{constructor(t,n){this._platform=t,this._document=n}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(YM),t.remove(zL),t.remove(WL),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?(t.add(YM),t.add(zL)):2===n&&(t.add(YM),t.add(WL))}}}return i.\u0275fac=function(t){return new(t||i)(vt(Hs),vt(hi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),XM=(()=>{class i{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(t){return new(t||i)(vt($L))},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[nf,HM]]}),i})();function $m(...i){return function LY(){return Xo(1)}()(Tn(i,Bt(i)))}function Gs(...i){const e=Bt(i);return ct((t,n)=>{(e?$m(i,t,e):$m(i,t)).subscribe(n)})}class qL{}const gc="*";function Nl(i,e){return{type:7,name:i,definitions:e,options:{}}}function vo(i,e=null){return{type:4,styles:e,timings:i}}function YL(i,e=null){return{type:2,steps:i,options:e}}function cr(i){return{type:6,styles:i,offset:null}}function Wo(i,e,t){return{type:0,name:i,styles:e,options:t}}function ZM(i){return{type:5,steps:i}}function io(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function FY(i=null){return{type:9,options:i}}function NY(i,e,t=null){return{type:11,selector:i,animation:e,options:t}}function XL(i){Promise.resolve(null).then(i)}class af{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){XL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class ZL{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const s=this.players.length;0==s?XL(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){const e=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}function KL(){return"undefined"!=typeof window&&void 0!==window.document}function QM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function tu(i){switch(i.length){case 0:return new af;case 1:return i[0];default:return new ZL(i)}}function QL(i,e,t,n,r={},s={}){const o=[],a=[];let l=-1,c=null;if(n.forEach(y=>{const x=y.offset,C=x==l,A=C&&c||{};Object.keys(y).forEach(P=>{let L=P,H=y[P];if("offset"!==P)switch(L=e.normalizePropertyName(L,o),H){case"!":H=r[P];break;case gc:H=s[P];break;default:H=e.normalizeStyleValue(P,L,H,o)}A[L]=H}),C||a.push(A),c=A,l=x}),o.length){const y="\n - ";throw new Error(`Unable to animate due to the following errors:${y}${o.join(y)}`)}return a}function JM(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&eS(t,"start",i)));break;case"done":i.onDone(()=>n(t&&eS(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&eS(t,"destroy",i)))}}function eS(i,e,t){const n=t.totalTime,s=tS(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,null==n?i.totalTime:n,!!t.disabled),o=i._data;return null!=o&&(s._data=o),s}function tS(i,e,t,n,r="",s=0,o){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function oa(i,e,t){let n;return i instanceof Map?(n=i.get(e),n||i.set(e,n=t)):(n=i[e],n||(n=i[e]=t)),n}function JL(i){const e=i.indexOf(":");return[i.substring(1,e),i.substr(e+1)]}let nS=(i,e)=>!1,eO=(i,e,t)=>[];(QM()||"undefined"!=typeof Element)&&(nS=KL()?(i,e)=>{for(;e&&e!==document.documentElement;){if(e===i)return!0;e=e.parentNode||e.host}return!1}:(i,e)=>i.contains(e),eO=(i,e,t)=>{let n=[];if(t){const r=i.querySelectorAll(e);for(let s=0;s<r.length;s++)n.push(r[s])}else{const r=i.querySelector(e);r&&n.push(r)}return n});let fd=null,tO=!1;function iS(i){fd||(fd=function jY(){return"undefined"!=typeof document?document.body:null}()||{},tO=!!fd.style&&"WebkitAppearance"in fd.style);let e=!0;return fd.style&&!function BY(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in fd.style,!e&&tO&&(e="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in fd.style)),e}const rS=nS,sS=eO;function nO(i){const e={};return Object.keys(i).forEach(t=>{const n=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[n]=i[t]}),e}let iO=(()=>{class i{validateStyleProperty(t){return iS(t)}matchesElement(t,n){return!1}containsElement(t,n){return rS(t,n)}query(t,n,r){return sS(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,s,o,a=[],l){return new af(r,s)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),oS=(()=>{class i{}return i.NOOP=new iO,i})();const aS="ng-enter",Mv="ng-leave",Sv="ng-trigger",Cv=".ng-trigger",sO="ng-animating",lS=".ng-animating";function pd(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cS(parseFloat(e[1]),e[2])}function cS(i,e){return"s"===e?1e3*i:i}function Ev(i,e,t){return i.hasOwnProperty("duration")?i:function HY(i,e,t){let r,s=0,o="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};r=cS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=cS(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=i;if(!t){let a=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${i}" is invalid.`)}return{duration:r,delay:s,easing:o}}(i,e,t)}function lf(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function nu(i,e,t={}){if(e)for(let n in i)t[n]=i[n];else lf(i,t);return t}function aO(i,e,t){return t?e+":"+t+";":""}function lO(i){let e="";for(let t=0;t<i.style.length;t++){const n=i.style.item(t);e+=aO(0,n,i.style.getPropertyValue(n))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=aO(0,WY(t),i.style[t]));i.setAttribute("style",e)}function Bl(i,e,t){i.style&&(Object.keys(e).forEach(n=>{const r=dS(n);t&&!t.hasOwnProperty(n)&&(t[n]=i.style[r]),i.style[r]=e[n]}),QM()&&lO(i))}function md(i,e){i.style&&(Object.keys(e).forEach(t=>{const n=dS(t);i.style[n]=""}),QM()&&lO(i))}function qm(i){return Array.isArray(i)?1==i.length?i[0]:YL(i):i}const uS=new RegExp("{{\\s*(.+?)\\s*}}","g");function cO(i){let e=[];if("string"==typeof i){let t;for(;t=uS.exec(i);)e.push(t[1]);uS.lastIndex=0}return e}function Dv(i,e,t){const n=i.toString(),r=n.replace(uS,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return r==n?i:r}function Av(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const zY=/-+([a-z0-9])/g;function dS(i){return i.replace(zY,(...e)=>e[1].toUpperCase())}function WY(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function uO(i,e){return 0===i||0===e}function dO(i,e,t){const n=Object.keys(t);if(n.length&&e.length){let s=e[0],o=[];if(n.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var r=1;r<e.length;r++){let a=e[r];o.forEach(function(l){a[l]=hS(i,l)})}}return e}function aa(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function hS(i,e){return window.getComputedStyle(i)[e]}function $Y(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function qY(i,e,t){if(":"==i[0]){const l=function YY(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,t);if("function"==typeof l)return void e.push(l);i=l}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(`The provided transition expression "${i}" is not supported`),e;const r=n[1],s=n[2],o=n[3];e.push(hO(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&e.push(hO(o,r))}(n,t,e)):t.push(i),t}const Rv=new Set(["true","1"]),Iv=new Set(["false","0"]);function hO(i,e){const t=Rv.has(i)||Iv.has(i),n=Rv.has(e)||Iv.has(e);return(r,s)=>{let o="*"==i||i==r,a="*"==e||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?Rv.has(i):Iv.has(i)),!a&&n&&"boolean"==typeof s&&(a=s?Rv.has(e):Iv.has(e)),o&&a}}const XY=new RegExp("s*:selfs*,?","g");function fS(i,e,t){return new ZY(i).build(e,t)}class ZY{constructor(e){this._driver=e}build(e,t){const n=new JY(t);return this._resetContextStyleTimingState(n),aa(this,qm(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(y=>{l.name=y,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);n+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const s=new Set,o=r||{};if(n.styles.forEach(a=>{if(kv(a)){const l=a;Object.keys(l).forEach(c=>{cO(l[c]).forEach(y=>{o.hasOwnProperty(y)||s.add(y)})})}}),s.size){const a=Av(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=aa(this,qm(e.animation),t);return{type:1,matchers:$Y(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:gd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>aa(this,n,t)),options:gd(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=n;const a=aa(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:gd(e.options)}}visitAnimate(e,t){const n=function tX(i,e){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return pS(Ev(i,e).duration,0,"");const n=i;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=pS(0,0,"");return s.dynamic=!0,s.strValue=n,s}return t=t||Ev(n,e),pS(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let r,s=e.styles?e.styles:cr({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};n.easing&&(c.easing=n.easing),o=cr(c)}t.currentTime+=n.duration+n.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==gc?n.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):n.push(o)}):n.push(e.styles);let r=!1,s=null;return n.forEach(o=>{if(kv(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let y=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),y=!1),s=c.startTime),y&&(l[a]={startTime:s,endTime:r}),t.options&&function GY(i,e,t){const n=e.params||{},r=cO(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let s=0;const o=[];let a=!1,l=!1,c=0;const y=e.steps.map(F=>{const N=this._makeStyleAst(F,t);let q=null!=N.offset?N.offset:function eX(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(kv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(kv(i)&&i.hasOwnProperty("offset")){const t=i;e=parseFloat(t.offset),delete t.offset}return e}(N.styles),Y=0;return null!=q&&(s++,Y=N.offset=q),l=l||Y<0||Y>1,a=a||Y<c,c=Y,o.push(Y),N});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const x=e.steps.length;let C=0;s>0&&s<x?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(C=1/(x-1));const A=x-1,P=t.currentTime,L=t.currentAnimateTimings,H=L.duration;return y.forEach((F,N)=>{const q=C>0?N==A?1:C*N:o[N],Y=q*H;t.currentTime=P+L.delay+Y,L.duration=Y,this._validateStyleAst(F,t),F.offset=q,n.styles.push(F)}),n}visitReference(e,t){return{type:8,animation:aa(this,qm(e.animation),t),options:gd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:gd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:gd(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function KY(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(XY,"")),i=i.replace(/@\*/g,Cv).replace(/@\w+/g,t=>Cv+"-"+t.substr(1)).replace(/:animating/g,lS),[i,e]}(e.selector);t.currentQuerySelector=n.length?n+" "+s:s,oa(t.collectedStyles,t.currentQuerySelector,{});const a=aa(this,qm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:gd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ev(e.timings,t.errors,!0);return{type:12,animation:aa(this,qm(e.animation),t),timings:n,options:null}}}class JY{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function kv(i){return!Array.isArray(i)&&"object"==typeof i}function gd(i){return i?(i=lf(i)).params&&(i.params=function QY(i){return i?lf(i):null}(i.params)):i={},i}function pS(i,e,t){return{duration:i,delay:e,easing:t}}function mS(i,e,t,n,r,s,o=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Pv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const rX=new RegExp(":enter","g"),oX=new RegExp(":leave","g");function gS(i,e,t,n,r,s={},o={},a,l,c=[]){return(new aX).buildKeyframes(i,e,t,n,r,s,o,a,l,c)}class aX{buildKeyframes(e,t,n,r,s,o,a,l,c,y=[]){c=c||new Pv;const x=new yS(e,t,c,r,s,y,[]);x.options=l,x.currentTimeline.setStyles([o],null,x.errors,l),aa(this,n,x);const C=x.timelines.filter(A=>A.containsAnimation());if(C.length&&Object.keys(a).length){const A=C[C.length-1];A.allowOnlyTimelineStyles()||A.setStyles([a],null,x.errors,l)}return C.length?C.map(A=>A.buildKeyframes()):[mS(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.get(t.element);if(n){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let s=t.currentTimeline.currentTime;const o=null!=n.duration?pd(n.duration):null,a=null!=n.delay?pd(n.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),aa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Lv);const o=pd(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>aa(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?pd(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),aa(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Ev(t.params?Dv(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(s):n.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,s=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?pd(r.delay):0;s&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Lv);let o=n;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,y)=>{t.currentQueryIndex=y;const x=t.createSubContext(e.options,c);s&&x.delayNextStep(s),c===t.element&&(l=x.currentTimeline),aa(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}const y=t.currentTimeline;l&&y.delayNextStep(l);const x=y.currentTime;aa(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-x+(r.startTime-n.currentTimeline.startTime)}}const Lv={};class yS{constructor(e,t,n,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ov(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=pd(n.duration)),null!=n.delay&&(r.delay=pd(n.delay));const s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Dv(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,s=new yS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Lv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},s=new lX(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(rX,"."+this._enterClassName)).replace(oX,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class Ov{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ov(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||gc,this._currentKeyframe[t]=gc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},o=function cX(i,e){const t={};let n;return i.forEach(r=>{"*"===r?(n=n||Object.keys(e),n.forEach(s=>{t[s]=gc})):nu(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=Dv(o[a],s,n);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:gc),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(n=>{this._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(n=>{this._currentKeyframe.hasOwnProperty(n)||(this._currentKeyframe[n]=this._localTimelineStyles[n])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=nu(a,!0);Object.keys(c).forEach(y=>{const x=c[y];"!"==x?e.add(y):x==gc&&t.add(y)}),n||(c.offset=l/this.duration),r.push(c)});const s=e.size?Av(e.values()):[],o=t.size?Av(t.values()):[];if(n){const a=r[0],l=lf(a);a.offset=0,l.offset=1,r=[a,l]}return mS(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class lX extends Ov{constructor(e,t,n,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=n+t,a=t/o,l=nu(e[0],!1);l.offset=0,s.push(l);const c=nu(e[0],!1);c.offset=mO(a),s.push(c);const y=e.length-1;for(let x=1;x<=y;x++){let C=nu(e[x],!1);C.offset=mO((t+C.offset*n)/o),s.push(C)}n=o,t=0,r="",e=s}return mS(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function mO(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class _S{}class uX extends _S{normalizePropertyName(e,t){return dS(e)}normalizeStyleValue(e,t,n,r){let s="";const o=n.toString().trim();if(dX[t]&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return o+s}}const dX=(()=>function hX(i){const e={};return i.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function gO(i,e,t,n,r,s,o,a,l,c,y,x,C){return{type:0,element:i,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:y,totalTime:x,errors:C}}const vS={};class yO{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function fX(i,e,t,n,r){return i.some(s=>s(e,t,n,r))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],s=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return s?s.buildStyles(t,n):o}build(e,t,n,r,s,o,a,l,c,y){const x=[],C=this.ast.options&&this.ast.options.params||vS,P=this.buildStyles(n,a&&a.params||vS,x),L=l&&l.params||vS,H=this.buildStyles(r,L,x),F=new Set,N=new Map,q=new Map,Y="void"===r,J={params:Object.assign(Object.assign({},C),L)},he=y?[]:gS(e,t,this.ast.animation,s,o,P,H,J,c,x);let ee=0;if(he.forEach(je=>{ee=Math.max(je.duration+je.delay,ee)}),x.length)return gO(t,this._triggerName,n,r,Y,P,H,[],[],N,q,ee,x);he.forEach(je=>{const Me=je.element,Se=oa(N,Me,{});je.preStyleProps.forEach(qe=>Se[qe]=!0);const Je=oa(q,Me,{});je.postStyleProps.forEach(qe=>Je[qe]=!0),Me!==t&&F.add(Me)});const ge=Av(F.values());return gO(t,this._triggerName,n,r,Y,P,H,he,ge,N,q,ee)}}class pX{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},r=lf(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=Dv(l,r,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),n[c]=l})}}),n}}class gX{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new pX(r.style,r.options&&r.options.params||{},n)}),_O(this.states,"true","1"),_O(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new yO(e,r,this.states))}),this.fallbackTransition=function yX(i,e,t){return new yO(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(o=>o.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function _O(i,e,t){i.hasOwnProperty(e)?i.hasOwnProperty(t)||(i[t]=i[e]):i.hasOwnProperty(t)&&(i[e]=i[t])}const _X=new Pv;class vX{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=fS(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,s=QL(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],s=this._animations[e];let o;const a=new Map;if(s?(o=gS(this._driver,t,s,aS,Mv,{},{},n,_X,r),o.forEach(y=>{const x=oa(a,y.element,{});y.postStyleProps.forEach(C=>x[C]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((y,x)=>{Object.keys(y).forEach(C=>{y[C]=this._driver.computeStyle(x,C,gc)})});const c=tu(o.map(y=>{const x=a.get(y.element);return this._buildPlayer(y,{},x)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const s=tS(t,"","","");return JM(this._getPlayer(e),n,s,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const vO="ng-animate-queued",bS="ng-animate-disabled",SX=[],bO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},CX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ra="__ng_removed";class xS{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function TX(i){return null!=i?i:null}(n?e.value:e),n){const s=lf(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const n=this.options.params;Object.keys(t).forEach(r=>{null==n[r]&&(n[r]=t[r])})}}}const Ym="void",wS=new xS(Ym);class EX{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ia(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function RX(i){return"start"==i||"done"==i}(n))throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);const s=oa(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const a=oa(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Ia(e,Sv),Ia(e,Sv+"-"+t),a[t]=wS),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const s=this._getTrigger(t),o=new MS(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Ia(e,Sv),Ia(e,Sv+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new xS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=wS),c.value!==Ym&&l.value===c.value){if(!function PX(i,e){const t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||i[s]!==e[s])return!1}return!0}(l.params,c.params)){const L=[],H=s.matchStyles(l.value,l.params,L),F=s.matchStyles(c.value,c.params,L);L.length?this._engine.reportError(L):this._engine.afterFlush(()=>{md(e,H),Bl(e,F)})}return}const C=oa(this._engine.playersByElement,e,[]);C.forEach(L=>{L.namespaceId==this.id&&L.triggerName==t&&L.queued&&L.destroy()});let A=s.matchTransition(l.value,c.value,e,c.params),P=!1;if(!A){if(!r)return;A=s.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:A,fromState:l,toState:c,player:o,isFallbackTransition:P}),P||(Ia(e,vO),o.onStart(()=>{cf(e,vO)})),o.onDone(()=>{let L=this.players.indexOf(o);L>=0&&this.players.splice(L,1);const H=this._engine.playersByElement.get(e);if(H){let F=H.indexOf(o);F>=0&&H.splice(F,1)}}),this.players.push(o),C.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,Cv,!0);n.forEach(r=>{if(r[Ra])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,n,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const c=this.trigger(e,l,Ym,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),n&&tu(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,c=n[o]||wS,y=new xS(Ym),x=new MS(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:y,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ra];(!s||s===bO)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Ia(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){const l=tS(s,n.triggerName,n.fromState.value,n.toState.value);l._data=e,JM(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{const s=n.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(n=>n.element===e)||t,t}}class DX{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){const n=new EX(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let s=n;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const r=Object.keys(n);for(let s=0;s<r.length;s++){const o=n[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,n,r){if(Fv(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!Fv(t))return;const s=t[Ra];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ia(e,bS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),cf(e,bS))}removeNode(e,t,n,r){if(Fv(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r,s){this.collectedLeaveElements.push(t),t[Ra]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,n,r,s){return Fv(t)?this._fetchNamespace(e).listen(t,n,r,s):()=>{}}_buildInstruction(e,t,n,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Cv,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,lS,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return tu(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const n=e[Ra];if(n&&n.setForRemoval){if(e[Ra]=bO,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(bS))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ia(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?tu(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new Pv,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,y=new Set;this.disabledNodes.forEach(pe=>{y.add(pe);const we=this.driver.query(pe,".ng-animate-queued",!0);for(let me=0;me<we.length;me++)y.add(we[me])});const x=this.bodyNode,C=Array.from(this.statesByElement.keys()),A=MO(C,this.collectedEnterElements),P=new Map;let L=0;A.forEach((pe,we)=>{const me=aS+L++;P.set(we,me),pe.forEach(He=>Ia(He,me))});const H=[],F=new Set,N=new Set;for(let pe=0;pe<this.collectedLeaveElements.length;pe++){const we=this.collectedLeaveElements[pe],me=we[Ra];me&&me.setForRemoval&&(H.push(we),F.add(we),me.hasAnimation?this.driver.query(we,".ng-star-inserted",!0).forEach(He=>F.add(He)):N.add(we))}const q=new Map,Y=MO(C,Array.from(F));Y.forEach((pe,we)=>{const me=Mv+L++;q.set(we,me),pe.forEach(He=>Ia(He,me))}),e.push(()=>{A.forEach((pe,we)=>{const me=P.get(we);pe.forEach(He=>cf(He,me))}),Y.forEach((pe,we)=>{const me=q.get(we);pe.forEach(He=>cf(He,me))}),H.forEach(pe=>{this.processLeaveNode(pe)})});const J=[],he=[];for(let pe=this._namespaceList.length-1;pe>=0;pe--)this._namespaceList[pe].drainQueuedTransitions(t).forEach(me=>{const He=me.player,Re=me.element;if(J.push(He),this.collectedEnterElements.length){const gt=Re[Ra];if(gt&&gt.setForMove){if(gt.previousTriggersValues&&gt.previousTriggersValues.has(me.triggerName)){const Ft=gt.previousTriggersValues.get(me.triggerName),Tt=this.statesByElement.get(me.element);Tt&&Tt[me.triggerName]&&(Tt[me.triggerName].value=Ft)}return void He.destroy()}}const Qe=!x||!this.driver.containsElement(x,Re),ht=q.get(Re),Xe=P.get(Re),Ze=this._buildInstruction(me,n,Xe,ht,Qe);if(Ze.errors&&Ze.errors.length)return void he.push(Ze);if(Qe)return He.onStart(()=>md(Re,Ze.fromStyles)),He.onDestroy(()=>Bl(Re,Ze.toStyles)),void r.push(He);if(me.isFallbackTransition)return He.onStart(()=>md(Re,Ze.fromStyles)),He.onDestroy(()=>Bl(Re,Ze.toStyles)),void r.push(He);const mt=[];Ze.timelines.forEach(gt=>{gt.stretchStartingKeyframe=!0,this.disabledNodes.has(gt.element)||mt.push(gt)}),Ze.timelines=mt,n.append(Re,Ze.timelines),o.push({instruction:Ze,player:He,element:Re}),Ze.queriedElements.forEach(gt=>oa(a,gt,[]).push(He)),Ze.preStyleProps.forEach((gt,Ft)=>{const Tt=Object.keys(gt);if(Tt.length){let Pt=l.get(Ft);Pt||l.set(Ft,Pt=new Set),Tt.forEach(qt=>Pt.add(qt))}}),Ze.postStyleProps.forEach((gt,Ft)=>{const Tt=Object.keys(gt);let Pt=c.get(Ft);Pt||c.set(Ft,Pt=new Set),Tt.forEach(qt=>Pt.add(qt))})});if(he.length){const pe=[];he.forEach(we=>{pe.push(`@${we.triggerName} has failed due to:\n`),we.errors.forEach(me=>pe.push(`- ${me}\n`))}),J.forEach(we=>we.destroy()),this.reportError(pe)}const ee=new Map,ge=new Map;o.forEach(pe=>{const we=pe.element;n.has(we)&&(ge.set(we,we),this._beforeAnimationBuild(pe.player.namespaceId,pe.instruction,ee))}),r.forEach(pe=>{const we=pe.element;this._getPreviousPlayers(we,!1,pe.namespaceId,pe.triggerName,null).forEach(He=>{oa(ee,we,[]).push(He),He.destroy()})});const je=H.filter(pe=>CO(pe,l,c)),Me=new Map;wO(Me,this.driver,N,c,gc).forEach(pe=>{CO(pe,l,c)&&je.push(pe)});const Je=new Map;A.forEach((pe,we)=>{wO(Je,this.driver,new Set(pe),l,"!")}),je.forEach(pe=>{const we=Me.get(pe),me=Je.get(pe);Me.set(pe,Object.assign(Object.assign({},we),me))});const qe=[],ue=[],Ce={};o.forEach(pe=>{const{element:we,player:me,instruction:He}=pe;if(n.has(we)){if(y.has(we))return me.onDestroy(()=>Bl(we,He.toStyles)),me.disabled=!0,me.overrideTotalTime(He.totalTime),void r.push(me);let Re=Ce;if(ge.size>1){let ht=we;const Xe=[];for(;ht=ht.parentNode;){const Ze=ge.get(ht);if(Ze){Re=Ze;break}Xe.push(ht)}Xe.forEach(Ze=>ge.set(Ze,Re))}const Qe=this._buildAnimation(me.namespaceId,He,ee,s,Je,Me);if(me.setRealPlayer(Qe),Re===Ce)qe.push(me);else{const ht=this.playersByElement.get(Re);ht&&ht.length&&(me.parentPlayer=tu(ht)),r.push(me)}}else md(we,He.fromStyles),me.onDestroy(()=>Bl(we,He.toStyles)),ue.push(me),y.has(we)&&r.push(me)}),ue.forEach(pe=>{const we=s.get(pe.element);if(we&&we.length){const me=tu(we);pe.setRealPlayer(me)}}),r.forEach(pe=>{pe.parentPlayer?pe.syncPlayerEvents(pe.parentPlayer):pe.destroy()});for(let pe=0;pe<H.length;pe++){const we=H[pe],me=we[Ra];if(cf(we,Mv),me&&me.hasAnimation)continue;let He=[];if(a.size){let Qe=a.get(we);Qe&&Qe.length&&He.push(...Qe);let ht=this.driver.query(we,lS,!0);for(let Xe=0;Xe<ht.length;Xe++){let Ze=a.get(ht[Xe]);Ze&&Ze.length&&He.push(...Ze)}}const Re=He.filter(Qe=>!Qe.destroyed);Re.length?IX(this,we,Re):this.processLeaveNode(we)}return H.length=0,qe.forEach(pe=>{this.players.push(pe),pe.onDone(()=>{pe.destroy();const we=this.players.indexOf(pe);this.players.splice(we,1)}),pe.play()}),qe}elementContainsData(e,t){let n=!1;const r=t[Ra];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Ym;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,n){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,y=c!==s,x=oa(n,c,[]);this._getPreviousPlayers(c,y,o,a,t.toState).forEach(A=>{const P=A.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),A.destroy(),x.push(A)})}md(s,t.fromStyles)}_buildAnimation(e,t,n,r,s,o){const a=t.triggerName,l=t.element,c=[],y=new Set,x=new Set,C=t.timelines.map(P=>{const L=P.element;y.add(L);const H=L[Ra];if(H&&H.removedBeforeQueried)return new af(P.duration,P.delay);const F=L!==l,N=function kX(i){const e=[];return SO(i,e),e}((n.get(L)||SX).map(ee=>ee.getRealPlayer())).filter(ee=>!!ee.element&&ee.element===L),q=s.get(L),Y=o.get(L),J=QL(0,this._normalizer,0,P.keyframes,q,Y),he=this._buildPlayer(P,J,N);if(P.subTimeline&&r&&x.add(L),F){const ee=new MS(e,a,L);ee.setRealPlayer(he),c.push(ee)}return he});c.forEach(P=>{oa(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function AX(i,e,t){let n;if(i instanceof Map){if(n=i.get(e),n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&i.delete(e)}}else if(n=i[e],n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&delete i[e]}return n}(this.playersByQueriedElement,P.element,P))}),y.forEach(P=>Ia(P,sO));const A=tu(C);return A.onDestroy(()=>{y.forEach(P=>cf(P,sO)),Bl(l,t.toStyles)}),x.forEach(P=>{oa(r,P,[]).push(A)}),A}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new af(e.duration,e.delay)}}class MS{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new af,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>JM(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){oa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Fv(i){return i&&1===i.nodeType}function xO(i,e){const t=i.style.display;return i.style.display=null!=e?e:"none",t}function wO(i,e,t,n,r){const s=[];t.forEach(l=>s.push(xO(l)));const o=[];n.forEach((l,c)=>{const y={};l.forEach(x=>{const C=y[x]=e.computeStyle(c,x,r);(!C||0==C.length)&&(c[Ra]=CX,o.push(c))}),i.set(c,y)});let a=0;return t.forEach(l=>xO(l,s[a++])),o}function MO(i,e){const t=new Map;if(i.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Ia(i,e){var t;null===(t=i.classList)||void 0===t||t.add(e)}function cf(i,e){var t;null===(t=i.classList)||void 0===t||t.remove(e)}function IX(i,e,t){tu(t).onDone(()=>i.processLeaveNode(e))}function SO(i,e){for(let t=0;t<i.length;t++){const n=i[t];n instanceof ZL?SO(n.players,e):e.push(n)}}function CO(i,e,t){const n=t.get(i);if(!n)return!1;let r=e.get(i);return r?n.forEach(s=>r.add(s)):e.set(i,n),t.delete(i),!0}class Nv{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new DX(e,t,n),this._timelineEngine=new vX(e,t,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,n,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],c=fS(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function mX(i,e,t){return new gX(i,e,t)}(r,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[s,o]=JL(n);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,s){if("@"==n.charAt(0)){const[o,a]=JL(n);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,n,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function EO(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=SS(e[0]),e.length>1&&(n=SS(e[e.length-1]))):e&&(t=SS(e)),t||n?new LX(i,t,n):null}let LX=(()=>{class i{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let s=i.initialStylesByElement.get(t);s||i.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Bl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bl(this._element,this._initialStyles),this._endStyles&&(Bl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(md(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(md(this._element,this._endStyles),this._endStyles=null),Bl(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function SS(i){let e=null;const t=Object.keys(i);for(let n=0;n<t.length;n++){const r=t[n];OX(r)&&(e=e||{},e[r]=i[r])}return e}function OX(i){return"display"===i||"position"===i}const DO="animation",AO="animationend";class BX{constructor(e,t,n,r,s,o,a){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function jX(i,e){const t=ES(i,"").trim();let n=0;t.length&&(n=function UX(i,e){let t=0;for(let n=0;n<i.length;n++)i.charAt(n)===e&&t++;return t}(t,",")+1,e=`${t}, ${e}`),Bv(i,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),IO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){TO(this._element,this._name,"paused")}resume(){TO(this._element,this._name,"running")}setPosition(e){const t=RO(this._element,this._name);this._position=e*this._duration,Bv(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),IO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function VX(i,e){const n=ES(i,"").split(","),r=CS(n,e);r>=0&&(n.splice(r,1),Bv(i,"",n.join(",")))}(this._element,this._name))}}function TO(i,e,t){Bv(i,"PlayState",t,RO(i,e))}function RO(i,e){const t=ES(i,"");return t.indexOf(",")>0?CS(t.split(","),e):CS([t],e)}function CS(i,e){for(let t=0;t<i.length;t++)if(i[t].indexOf(e)>=0)return t;return-1}function IO(i,e,t){t?i.removeEventListener(AO,e):i.addEventListener(AO,e)}function Bv(i,e,t,n){const r=DO+e;if(null!=n){const s=i.style[r];if(s.length){const o=s.split(",");o[n]=t,t=o.join(",")}}i.style[r]=t}function ES(i,e){return i.style[DO+e]||""}class kO{constructor(e,t,n,r,s,o,a,l){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new BX(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:hS(this.element,n))})}this.currentSnapshot=e}}class zX extends af{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=nO(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class LO{constructor(){this._count=0}validateStyleProperty(e){return iS(e)}matchesElement(e,t){return!1}containsElement(e,t){return rS(e,t)}query(e,t,n){return sS(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(a=>nO(a));let r=`@keyframes ${t} {\n`,s="";n.forEach(a=>{s=" ";const l=parseFloat(a.offset);r+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const y=a[c];switch(c){case"offset":return;case"easing":return void(y&&(r+=`${s}animation-timing-function: ${y};\n`));default:return void(r+=`${s}${c}: ${y};\n`)}}),r+=`${s}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(e,t,n,r,s,o=[],a){const l=o.filter(H=>H instanceof kO),c={};uO(n,r)&&l.forEach(H=>{let F=H.currentSnapshot;Object.keys(F).forEach(N=>c[N]=F[N])});const y=function qX(i){let e={};return i&&(Array.isArray(i)?i:[i]).forEach(n=>{Object.keys(n).forEach(r=>{"offset"==r||"easing"==r||(e[r]=n[r])})}),e}(t=dO(e,t,c));if(0==n)return new zX(e,y);const x="gen_css_kf_"+this._count++,C=this.buildKeyframeElement(e,x,t);(function $X(i){var e;const t=null===(e=i.getRootNode)||void 0===e?void 0:e.call(i);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(C);const P=EO(e,t),L=new kO(e,t,x,n,r,s,y,P);return L.onDestroy(()=>function YX(i){i.parentNode.removeChild(i)}(C)),L}}class FO{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(n=>{"offset"!=n&&(e[n]=this._finished?t[n]:hS(this.element,n))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class XX{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(NO().toString()),this._cssKeyframesDriver=new LO}validateStyleProperty(e){return iS(e)}matchesElement(e,t){return!1}containsElement(e,t){return rS(e,t)}query(e,t,n){return sS(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,s,o);const y={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(y.easing=s);const x={},C=o.filter(P=>P instanceof FO);uO(n,r)&&C.forEach(P=>{let L=P.currentSnapshot;Object.keys(L).forEach(H=>x[H]=L[H])});const A=EO(e,t=dO(e,t=t.map(P=>nu(P,!1)),x));return new FO(e,t,y,A)}}function NO(){return KL()&&Element.prototype.animate||{}}let KX=(()=>{class i extends qL{constructor(t,n){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(n.body,{id:"0",encapsulation:Vo.None,styles:[],data:{animation:[]}})}build(t){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?YL(t):t;return BO(this._renderer,null,n,"register",[r]),new QX(n,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(vt(xm),vt(hi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();class QX extends class OY{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new JX(this._id,e,t||{},this._renderer)}}class JX{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return BO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function BO(i,e,t,n,r){return i.setProperty(e,`@@${t}:${n}`,r)}const jO="@.disabled";let eZ=(()=>{class i{constructor(t,n,r){this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,n){const s=this.delegate.createRenderer(t,n);if(!(t&&n&&n.data&&n.data.animation)){let y=this._rendererCache.get(s);return y||(y=new VO("",s,this.engine),this._rendererCache.set(s,y)),y}const o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=y=>{Array.isArray(y)?y.forEach(l):this.engine.registerTrigger(o,a,t,y.name,y)};return n.data.animation.forEach(l),new tZ(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,r){t>=0&&t<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(vt(xm),vt(Nv),vt(si))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();class VO{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==jO?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class tZ extends VO{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==jO?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function nZ(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function iZ(i){const e=i.indexOf(".");return[i.substring(0,e),i.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(e,t,n)}}let rZ=(()=>{class i extends Nv{constructor(t,n,r){super(t.body,n,r)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(vt(hi),vt(oS),vt(_S))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const rl=new mn("AnimationModuleType"),UO=[{provide:qL,useClass:KX},{provide:_S,useFactory:function oZ(){return new uX}},{provide:Nv,useClass:rZ},{provide:xm,useFactory:function aZ(i,e,t){return new eZ(i,e,t)},deps:[ev,Nv,si]}],HO=[{provide:oS,useFactory:function sZ(){return function ZX(){return"function"==typeof NO()}()?new XX:new LO}},{provide:rl,useValue:"BrowserAnimations"},...UO],lZ=[{provide:oS,useClass:iO},{provide:rl,useValue:"NoopAnimations"},...UO];let cZ=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?lZ:HO}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:HO,imports:[_P]}),i})();function uZ(i,e){if(1&i&&Ai(0,"mat-pseudo-checkbox",4),2&i){const t=wi();un("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function dZ(i,e){if(1&i&&(ot(0,"span",5),Fn(1),at()),2&i){const t=wi();on(1),$c("(",t.group.label,")")}}const hZ=["*"],pZ=new mn("mat-sanity-checks",{providedIn:"root",factory:function fZ(){return!0}});let Fi=(()=>{class i{constructor(t,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!NM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return i.\u0275fac=function(t){return new(t||i)(vt($L),vt(pZ,8),vt(hi))},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[tf],tf]}),i})();function uf(i){return class extends i{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=oi(e)}}}function yd(i,e){return class extends i{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const n=t||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function iu(i){return class extends i{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=oi(e)}}}function DS(i,e=0){return class extends i{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Ta(t):this.defaultTabIndex}}}function zO(i){return class extends i{constructor(...e){super(...e),this.stateChanges=new De,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}const mZ=new mn("MAT_DATE_LOCALE",{providedIn:"root",factory:function gZ(){return Qp(dc)}});class ro{constructor(){this._localeChanges=new De,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let n=this.isValid(e),r=this.isValid(t);return n&&r?!this.compareDate(e,t):n==r}return e==t}clampDate(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}const _d=new mn("mat-date-formats"),yZ=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function AS(i,e){const t=Array(i);for(let n=0;n<i;n++)t[n]=e(n);return t}let _Z=(()=>{class i extends ro{constructor(t,n){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const n=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return AS(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return AS(31,n=>this._format(t,new Date(2017,0,n+1)))}getDayOfWeekNames(t){const n=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return AS(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(t){const n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,n,r){let s=this._createDateWithOverflow(t,n,r);return s.getMonth(),s}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,n){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},n),{timeZone:"utc"}));return this._format(r,t)}addCalendarYears(t,n){return this.addCalendarMonths(t,12*n)}addCalendarMonths(t,n){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+n,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,n){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+n)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(yZ.test(t)){let n=new Date(t);if(this.isValid(n))return n}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,n,r){const s=new Date;return s.setFullYear(t,n,r),s.setHours(0,0,0,0),s}_2digit(t){return("00"+t).slice(-2)}_format(t,n){const r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t.format(r)}}return i.\u0275fac=function(t){return new(t||i)(vt(mZ,8),vt(Hs))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const vZ={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let bZ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[{provide:ro,useClass:_Z}],imports:[[nf]]}),i})(),xZ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[{provide:_d,useValue:vZ}],imports:[[bZ]]}),i})(),TS=(()=>{class i{isErrorState(t,n){return!!(t&&t.invalid&&(t.touched||n&&n.submitted))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),WO=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),i})();function Xm(i,e,t){i.nativeElement.classList.toggle(e,t)}let Vv=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[Fi],Fi]}),i})();class wZ{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const qO={enterDuration:225,exitDuration:150},RS=cd({passive:!0}),YO=["mousedown","touchstart"],XO=["mouseup","mouseleave","touchend","touchcancel"];class SZ{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=mc(n))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},qO),n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=n.radius||function EZ(i,e,t){const n=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(n*n+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=s.enterDuration,y=document.createElement("div");y.classList.add("mat-ripple-element"),y.style.left=a-o+"px",y.style.top=l-o+"px",y.style.height=2*o+"px",y.style.width=2*o+"px",null!=n.color&&(y.style.backgroundColor=n.color),y.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(y),function CZ(i){window.getComputedStyle(i).getPropertyValue("opacity")}(y),y.style.transform="scale(1)";const x=new wZ(this,y,n);return x.state=0,this._activeRipples.add(x),n.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const C=x===this._mostRecentTransientRipple;x.state=1,!n.persistent&&(!C||!this._isPointerDown)&&x.fadeOut()},c),x}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,r=Object.assign(Object.assign({},qO),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=mc(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(YO))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(XO),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=$M(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!qM(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,RS)})})}_removeTriggerEvents(){this._triggerElement&&(YO.forEach(e=>{this._triggerElement.removeEventListener(e,this,RS)}),this._pointerUpEventsRegistered&&XO.forEach(e=>{this._triggerElement.removeEventListener(e,this,RS)}))}}const DZ=new mn("mat-ripple-global-options");let vd=(()=>{class i{constructor(t,n,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new SZ(this,n,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,n,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(si),ae(Hs),ae(DZ,8),ae(rl,8))},i.\u0275dir=kt({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,n){2&t&&Ui("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),Zm=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[Fi,nf],Fi]}),i})(),ZO=(()=>{class i{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return i.\u0275fac=function(t){return new(t||i)(ae(rl,8))},i.\u0275cmp=xi({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,n){2&t&&Ui("mat-pseudo-checkbox-indeterminate","indeterminate"===n.state)("mat-pseudo-checkbox-checked","checked"===n.state)("mat-pseudo-checkbox-disabled",n.disabled)("_mat-animation-noopable","NoopAnimations"===n._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,n){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),i})(),IS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[Fi]]}),i})();const KO=new mn("MAT_OPTION_PARENT_COMPONENT"),QO=new mn("MatOptgroup");let AZ=0;class TZ{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let RZ=(()=>{class i{constructor(t,n,r,s){this._element=t,this._changeDetectorRef=n,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+AZ++,this.onSelectionChange=new Dn,this._stateChanges=new De}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=oi(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!ko(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new TZ(this,t))}}return i.\u0275fac=function(t){nd()},i.\u0275dir=kt({type:i,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),JO=(()=>{class i extends RZ{constructor(t,n,r,s){super(t,n,r,s)}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Vr),ae(KO,8),ae(QO,8))},i.\u0275cmp=xi({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,n){1&t&&Mn("click",function(){return n._selectViaInteraction()})("keydown",function(s){return n._handleKeydown(s)}),2&t&&(lc("id",n.id),bi("tabindex",n._getTabIndex())("aria-selected",n._getAriaSelected())("aria-disabled",n.disabled.toString()),Ui("mat-selected",n.selected)("mat-option-multiple",n.multiple)("mat-active",n.active)("mat-option-disabled",n.disabled))},exportAs:["matOption"],features:[an],ngContentSelectors:hZ,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,n){1&t&&(zr(),Ni(0,uZ,1,2,"mat-pseudo-checkbox",0),ot(1,"span",1),Ti(2),at(),Ni(3,dZ,2,1,"span",2),Ai(4,"div",3)),2&t&&(un("ngIf",n.multiple),on(3),un("ngIf",n.group&&n.group._inert),on(1),un("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},directives:[pc,vd,ZO],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),i})();function eF(i,e,t){if(t.length){let n=e.toArray(),r=t.toArray(),s=0;for(let o=0;o<i+1;o++)n[o].group&&n[o].group===r[s]&&s++;return s}return 0}let tF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[Zm,tl,Fi,IS]]}),i})();const kZ=["*",[["mat-toolbar-row"]]],PZ=["*","mat-toolbar-row"],LZ=yd(class{constructor(i){this._elementRef=i}});let OZ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),FZ=(()=>{class i extends LZ{constructor(t,n,r){super(t),this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Hs),ae(hi))},i.\u0275cmp=xi({type:i,selectors:[["mat-toolbar"]],contentQueries:function(t,n,r){if(1&t&&fr(r,OZ,5),2&t){let s;ni(s=ii())&&(n._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,n){2&t&&Ui("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",0===n._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[an],ngContentSelectors:PZ,decls:2,vars:0,template:function(t,n){1&t&&(zr(kZ),Ti(0),Ti(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),i})(),NZ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[Fi],Fi]}),i})();const BZ=["mat-button",""],jZ=["*"],UZ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],HZ=yd(uf(iu(class{constructor(i){this._elementRef=i}})));let kS,ru=(()=>{class i extends HZ{constructor(t,n,r){super(t),this._focusMonitor=n,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of UZ)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,n){t?this._focusMonitor.focusVia(this._getHostElement(),t,n):this._getHostElement().focus(n)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(n=>this._getHostElement().hasAttribute(n))}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Fl),ae(rl,8))},i.\u0275cmp=xi({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,n){if(1&t&&Wr(vd,5),2&t){let r;ni(r=ii())&&(n.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,n){2&t&&(bi("disabled",n.disabled||null),Ui("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-button-disabled",n.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[an],attrs:BZ,ngContentSelectors:jZ,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,n){1&t&&(zr(),ot(0,"span",0),Ti(1),at(),Ai(2,"span",1),Ai(3,"span",2)),2&t&&(on(2),Ui("mat-button-ripple-round",n.isRoundButton||n.isIconButton),un("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",n.isIconButton)("matRippleTrigger",n._getHostElement()))},directives:[vd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),nF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[Zm,Fi],Fi]}),i})(),GZ=1;const Uv={};function iF(i){return i in Uv&&(delete Uv[i],!0)}const zZ={setImmediate(i){const e=GZ++;return Uv[e]=!0,kS||(kS=Promise.resolve()),kS.then(()=>iF(e)&&i()),e},clearImmediate(i){iF(i)}},{setImmediate:WZ,clearImmediate:$Z}=zZ,Hv={setImmediate(...i){const{delegate:e}=Hv;return((null==e?void 0:e.setImmediate)||WZ)(...i)},clearImmediate(i){const{delegate:e}=Hv;return((null==e?void 0:e.clearImmediate)||$Z)(i)},delegate:void 0},PS=new class YZ extends VM{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class qZ extends jM{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=Hv.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(e,t,n);e.actions.some(r=>r.id===t)||(Hv.clearImmediate(t),e._scheduled=void 0)}});function sl(i,e){return ct((t,n)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&n.complete();t.subscribe(new ut(n,l=>{null==r||r.unsubscribe();let c=0;const y=s++;zn(i(l,y)).subscribe(r=new ut(n,x=>n.next(e?e(l,x,y,c++):x),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function LS(i){return z(()=>i)}function rF(i,e){return e?t=>$m(e.pipe(sr(1),function XZ(){return ct((i,e)=>{i.subscribe(new ut(e,m))})}()),t.pipe(rF(i))):Sr((t,n)=>i(t,n).pipe(sr(1),LS(t)))}function sF(i=0,e,t=rY){let n=-1;return null!=e&&(Va(e)?t=e:n=e),new xe(r=>{let s=function ZZ(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function oF(i,e=yv){const t=sF(i,e);return rF(()=>t)}class OS{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class df extends OS{constructor(e,t,n,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r}}class Gv extends OS{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class KZ extends OS{constructor(e){super(),this.element=e instanceof Cn?e.nativeElement:e}}class FS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof df?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Gv?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof KZ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class QZ extends FS{constructor(e,t,n,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=n.create(e.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(n);-1!==r&&t.remove(r)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let zv=(()=>{class i extends FS{constructor(t,n,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new Dn,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=n.createComponent(s,n.length,t.injector||n.injector);return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return i.\u0275fac=function(t){return new(t||i)(ae(qc),ae(_o),ae(hi))},i.\u0275dir=kt({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[an]}),i})(),NS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({}),i})();const JZ=["addListener","removeListener"],eK=["addEventListener","removeEventListener"],tK=["on","off"];function hf(i,e,t,n){if(j(t)&&(n=t,t=void 0),n)return hf(i,e,t).pipe(cM(n));const[r,s]=function rK(i){return j(i.addEventListener)&&j(i.removeEventListener)}(i)?eK.map(o=>a=>i[o](e,a,t)):function nK(i){return j(i.addListener)&&j(i.removeListener)}(i)?JZ.map(aF(i,e)):function iK(i){return j(i.on)&&j(i.off)}(i)?tK.map(aF(i,e)):[];if(!r&&le(i))return Sr(o=>hf(o,e,t))(zn(i));if(!r)throw new TypeError("Invalid event target");return new xe(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function aF(i,e){return t=>n=>i[t](e,n)}const Km={schedule(i){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:n}=Km;n&&(e=n.requestAnimationFrame,t=n.cancelAnimationFrame);const r=e(s=>{t=void 0,i(s)});return new S(()=>null==t?void 0:t(r))},requestAnimationFrame(...i){const{delegate:e}=Km;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:e}=Km;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...i)},delegate:void 0};new class oK extends VM{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class sK extends jM{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=Km.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(e,t,n);e.actions.some(r=>r.id===t)||(Km.cancelAnimationFrame(t),e._scheduled=void 0)}});function lF(i,e=yv){return function lK(i){return ct((e,t)=>{let n=!1,r=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,n){n=!1;const c=r;r=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(new ut(t,c=>{n=!0,r=c,s||zn(i(c)).subscribe(s=new ut(t,a,l))},()=>{o=!0,(!n||!s||s.closed)&&t.complete()}))})}(()=>sF(i,e))}let Qm=(()=>{class i{constructor(t,n,r){this._ngZone=t,this._platform=n,this._scrolled=new De,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new xe(n=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(lF(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Jn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){const r=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(gr(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let r=mc(n),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>hf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(vt(si),vt(Hs),vt(hi,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Wv=(()=>{class i{constructor(t,n,r,s){this.elementRef=t,this.scrollDispatcher=n,this.ngZone=r,this.dir=s,this._destroyed=new De,this._elementScrolled=new xe(o=>this.ngZone.runOutsideAngular(()=>hf(this.elementRef.nativeElement,"scroll").pipe(Ci(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=n.scrollHeight-n.clientHeight-t.bottom),r&&0!=Um()?(null!=t.left&&(t.right=n.scrollWidth-n.clientWidth-t.left),2==Um()?t.left=t.right:1==Um()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=n.scrollWidth-n.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const n=this.elementRef.nativeElement;AL()?n.scrollTo(t):(null!=t.top&&(n.scrollTop=t.top),null!=t.left&&(n.scrollLeft=t.left))}measureScrollOffset(t){const n="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:n:"end"==t&&(t=o?n:r),o&&2==Um()?t==n?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==Um()?t==n?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==n?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Qm),ae(si),ae(no,8))},i.\u0275dir=kt({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),i})(),$v=(()=>{class i{constructor(t,n,r){this._platform=t,this._change=new De,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,n=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(lF(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(vt(Hs),vt(si),vt(hi,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),su=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({}),i})(),cF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[tf,nf,su],tf,su]}),i})();const uF=AL();class hK{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ws(-this._previousScrollPosition.left),e.style.top=ws(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,n=e.style,r=this._document.body.style,s=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),uF&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),uF&&(n.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}}class fK{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class dF{enable(){}disable(){}attach(){}}function BS(i,e){return e.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function hF(i,e){return e.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class pK{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();BS(t,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let mK=(()=>{class i{constructor(t,n,r,s){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new dF,this.close=o=>new fK(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new hK(this._viewportRuler,this._document),this.reposition=o=>new pK(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return i.\u0275fac=function(t){return new(t||i)(vt(Qm),vt($v),vt(si),vt(hi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Jm{constructor(e){if(this.scrollStrategy=new dF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class gK{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class yK{constructor(e,t,n,r,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new De,this._attachments=new De,this._detachments=new De,this._locationChanges=S.EMPTY,this._backdropClickHandler=y=>this._backdropClick.next(y),this._keydownEvents=new De,this._outsidePointerEvents=new De,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(sr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ws(this._config.width),e.height=ws(this._config.height),e.minWidth=ws(this._config.minWidth),e.minHeight=ws(this._config.minHeight),e.maxWidth=ws(this._config.maxWidth),e.maxHeight=ws(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const r=vv(t||[]).filter(s=>!!s);r.length&&(n?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ci(Kr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let jS=(()=>{class i{constructor(t,n){this._platform=n,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||NM()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(t),NM()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return i.\u0275fac=function(t){return new(t||i)(vt(hi),vt(Hs))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const fF="cdk-overlay-connected-position-bounding-box",_K=/([A-Za-z%]+)$/;class pF{constructor(e,t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new De,this._resizeSubscription=S.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(fF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),y=this._getOverlayFit(c,t,n,a);if(y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(y,c,n)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<y.visibleArea)&&(o={overlayFit:y,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const y=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);y>l&&(l=y,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&bd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(fF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,n){let r,s;if("center"==n.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==n.originX?o:a}return t.left<0&&(r-=t.left),s="center"==n.originY?e.top+e.height/2:"top"==n.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,n){let r,s;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,n,r){const s=gF(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let C=0-a,A=a+s.height-n.height,P=this._subtractOverflows(s.width,0-o,o+s.width-n.width),L=this._subtractOverflows(s.height,C,A),H=P*L;return{visibleArea:H,isCompletelyWithinViewport:s.width*s.height===H,fitsInViewportVertically:L===s.height,fitsInViewportHorizontally:P==s.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,s=n.right-t.x,o=mF(this._overlayRef.getConfig().minHeight),a=mF(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=r)&&c}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=gF(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-n.top-e.y,0),c=Math.max(s.left-n.left-e.x,0);let y=0,x=0;return y=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-n.left-e.x:0,x=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-n.top-e.y:0,this._previousPushAmount={x:y,y:x},{x:e.x+y,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new gK(e,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,r=this._isRtl();let s,o,a,y,x,C;if("top"===t.overlayY)o=e.y,s=n.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=n.height-e.y+2*this._viewportMargin,s=n.height-a+this._viewportMargin;else{const A=Math.min(n.bottom-e.y+n.top,e.y),P=this._lastBoundingBoxSize.height;s=2*A,o=e.y-A,s>P&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-P/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)C=n.width-e.x+this._viewportMargin,y=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)x=e.x,y=n.right-e.x;else{const A=Math.min(n.right-e.x+n.left,e.x),P=this._lastBoundingBoxSize.width;y=2*A,x=e.x-A,y>P&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-P/2)}return{top:o,left:x,bottom:a,right:C,width:y,height:s}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=ws(n.height),r.top=ws(n.top),r.bottom=ws(n.bottom),r.width=ws(n.width),r.left=ws(n.left),r.right=ws(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ws(s)),o&&(r.maxWidth=ws(o))}this._lastBoundingBoxSize=n,bd(this._boundingBox.style,r)}_resetBoundingBoxStyles(){bd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){bd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const y=this._viewportRuler.getViewportScrollPosition();bd(n,this._getExactOverlayY(t,e,y)),bd(n,this._getExactOverlayX(t,e,y))}else n.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),o.maxHeight&&(r?n.maxHeight=ws(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=ws(o.maxWidth):s&&(n.maxWidth="")),bd(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ws(s.y),r}_getExactOverlayX(e,t,n){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ws(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:hF(e,n),isOriginOutsideView:BS(e,n),isOverlayClipped:hF(t,n),isOverlayOutsideView:BS(t,n)}}_subtractOverflows(e,...t){return t.reduce((n,r)=>n-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&vv(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Cn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function bd(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function mF(i){if("number"!=typeof i&&null!=i){const[e,t]=i.split(_K);return t&&"px"!==t?null:parseFloat(e)}return i||null}function gF(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const yF="cdk-global-overlay-wrapper";class vK{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(yF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=n,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(yF),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let bK=(()=>{class i{constructor(t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new vK}flexibleConnectedTo(t){return new pF(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(t){return new(t||i)(vt($v),vt(hi),vt(Hs),vt(jS))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),_F=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const n=this._attachedOverlays.indexOf(t);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(t){return new(t||i)(vt(hi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xK=(()=>{class i extends _F{constructor(t){super(t),this._keydownListener=n=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(n);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(t){return new(t||i)(vt(hi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wK=(()=>{class i extends _F{constructor(t,n){super(t),this._platform=n,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=dd(r)},this._clickListener=r=>{const s=dd(r),o="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let l=a.length-1;l>-1;l--){const c=a[l];if(!(c._outsidePointerEvents.observers.length<1)&&c.hasAttached()){if(c.overlayElement.contains(s)||c.overlayElement.contains(o))break;c._outsidePointerEvents.next(r)}}}}add(t){if(super.add(t),!this._isAttached){const n=this._document.body;n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(t){return new(t||i)(vt(hi),vt(Hs))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),MK=0,ka=(()=>{class i{constructor(t,n,r,s,o,a,l,c,y,x,C){this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=y,this._location=x,this._outsideClickDispatcher=C}create(t){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),o=new Jm(t);return o.direction=o.direction||this._directionality.value,new yK(s,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const n=this._document.createElement("div");return n.id="cdk-overlay-"+MK++,n.classList.add("cdk-overlay-pane"),t.appendChild(n),n}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Yh)),new QZ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(t){return new(t||i)(vt(mK),vt(jS),vt(qc),vt(bK),vt(xK),vt(os),vt(si),vt(hi),vt(no),vt(Dm),vt(wK))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const SK=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],vF=new mn("cdk-connected-overlay-scroll-strategy");let bF=(()=>{class i{constructor(t){this.elementRef=t}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn))},i.\u0275dir=kt({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),i})(),xF=(()=>{class i{constructor(t,n,r,s,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=S.EMPTY,this._attachSubscription=S.EMPTY,this._detachSubscription=S.EMPTY,this._positionSubscription=S.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Dn,this.positionChange=new Dn,this.attach=new Dn,this.detach=new Dn,this.overlayKeydown=new Dn,this.overlayOutsideClick=new Dn,this._templatePortal=new Gv(n,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=oi(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=oi(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=oi(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=oi(t)}get push(){return this._push}set push(t){this._push=oi(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=SK);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!ko(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Jm({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(t){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof bF?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function dK(i,e=!1){return ct((t,n)=>{let r=0;t.subscribe(new ut(n,s=>{const o=i(s,r++);(o||e)&&n.next(s),!o&&n.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(ae(ka),ae(Ea),ae(_o),ae(vF),ae(no,8))},i.\u0275dir=kt({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Rr]}),i})();const EK={provide:vF,deps:[ka],useFactory:function CK(i){return()=>i.scrollStrategies.reposition()}};let eg=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[ka,EK],imports:[[tf,NS,cF],cF]}),i})();const DK=["mat-menu-item",""];function AK(i,e){1&i&&(Wy(),ot(0,"svg",2),Ai(1,"polygon",3),at())}const wF=["*"];function TK(i,e){if(1&i){const t=Ya();ot(0,"div",0),Mn("keydown",function(r){return vs(t),wi()._handleKeydown(r)})("click",function(){return vs(t),wi().closed.emit("click")})("@transformMenu.start",function(r){return vs(t),wi()._onAnimationStart(r)})("@transformMenu.done",function(r){return vs(t),wi()._onAnimationDone(r)}),ot(1,"div",1),Ti(2),at(),at()}if(2&i){const t=wi();un("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),bi("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const qv={transformMenu:Nl("transformMenu",[Wo("void",cr({opacity:0,transform:"scale(0.8)"})),io("void => enter",vo("120ms cubic-bezier(0, 0, 0.2, 1)",cr({opacity:1,transform:"scale(1)"}))),io("* => void",vo("100ms 25ms linear",cr({opacity:0})))]),fadeInItems:Nl("fadeInItems",[Wo("showing",cr({opacity:1})),io("void => *",[cr({opacity:0}),vo("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},RK=new mn("MatMenuContent"),VS=new mn("MAT_MENU_PANEL"),IK=iu(uf(class{}));let Yv=(()=>{class i extends IK{constructor(t,n,r,s,o){var a;super(),this._elementRef=t,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this._hovered=new De,this._focused=new De,this._highlighted=!1,this._triggersSubmenu=!1,null===(a=null==s?void 0:s.addItem)||void 0===a||a.call(s,this)}focus(t,n){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t;const n=this._elementRef.nativeElement.cloneNode(!0),r=n.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return(null===(t=n.textContent)||void 0===t?void 0:t.trim())||""}_setHighlighted(t){var n;this._highlighted=t,null===(n=this._changeDetectorRef)||void 0===n||n.markForCheck()}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(hi),ae(Fl),ae(VS,8),ae(Vr))},i.\u0275cmp=xi({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,n){1&t&&Mn("click",function(s){return n._checkDisabled(s)})("mouseenter",function(){return n._handleMouseEnter()}),2&t&&(bi("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled.toString())("disabled",n.disabled||null),Ui("mat-menu-item",!0)("mat-menu-item-highlighted",n._highlighted)("mat-menu-item-submenu-trigger",n._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[an],attrs:DK,ngContentSelectors:wF,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,n){1&t&&(zr(),Ti(0),Ai(1,"div",0),Ni(2,AK,2,0,"svg",1)),2&t&&(on(1),un("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),on(1),un("ngIf",n._triggersSubmenu))},directives:[vd,pc],encapsulation:2,changeDetection:0}),i})();const MF=new mn("mat-menu-default-options",{providedIn:"root",factory:function kK(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let PK=0,tg=(()=>{class i{constructor(t,n,r){this._elementRef=t,this._ngZone=n,this._defaultOptions=r,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new rd,this._tabSubscription=S.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new De,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Dn,this.close=this.closed,this.panelId="mat-menu-panel-"+PK++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=oi(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=oi(t)}set panelClass(t){const n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new jL(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Gs(this._directDescendantItems),sl(t=>Kr(...t.map(n=>n._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Gs(this._directDescendantItems),sl(n=>Kr(...n.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const n=t.keyCode,r=this._keyManager;switch(n){case 27:ko(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===n||40===n)&&r.setFocusOrigin("keyboard"),r.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(sr(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const n=this._keyManager;if(n.setFocusOrigin(t).setFirstItemActive(),!n.activeItem&&this._directDescendantItems.length){let r=this._directDescendantItems.first._getHostElement().parentElement;for(;r;){if("menu"===r.getAttribute("role")){r.focus();break}r=r.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const n=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${n}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,n=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===n,r["mat-menu-below"]="below"===n}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Gs(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(si),ae(MF))},i.\u0275dir=kt({type:i,contentQueries:function(t,n,r){if(1&t&&(fr(r,RK,5),fr(r,Yv,5),fr(r,Yv,4)),2&t){let s;ni(s=ii())&&(n.lazyContent=s.first),ni(s=ii())&&(n._allItems=s),ni(s=ii())&&(n.items=s)}},viewQuery:function(t,n){if(1&t&&Wr(Ea,5),2&t){let r;ni(r=ii())&&(n.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),i})(),LK=(()=>{class i extends tg{constructor(t,n,r){super(t,n,r),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(si),ae(MF))},i.\u0275cmp=xi({type:i,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,n){2&t&&bi("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Bi([{provide:VS,useExisting:i}]),an],ngContentSelectors:wF,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,n){1&t&&(zr(),Ni(0,TK,3,6,"ng-template"))},directives:[Xc],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[qv.transformMenu,qv.fadeInItems]},changeDetection:0}),i})();const SF=new mn("mat-menu-scroll-strategy"),FK={provide:SF,deps:[ka],useFactory:function OK(i){return()=>i.scrollStrategies.reposition()}},EF=cd({passive:!0});let NK=(()=>{class i{constructor(t,n,r,s,o,a,l,c){this._overlay=t,this._element=n,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=S.EMPTY,this._hoverSubscription=S.EMPTY,this._menuCloseSubscription=S.EMPTY,this._handleTouchStart=y=>{qM(y)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Dn,this.onMenuOpen=this.menuOpened,this.menuClosed=new Dn,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof tg?o:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,EF),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,EF),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),n=t.getConfig();this._setPosition(n.positionStrategy),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof tg&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t,n){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}updatePosition(){var t;null===(t=this._overlayRef)||void 0===t||t.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof tg?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(gr(r=>"void"===r.toState),sr(1),Ci(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n.lazyContent&&n.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let t=0,n=this.menu.parentMenu;for(;n;)t++,n=n.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Jm({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(n=>{this.menu.setPositionClasses("start"===n.connectionPair.overlayX?"after":"before","top"===n.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[n,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,o]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[a,l]=[s,o],[c,y]=[n,r],x=0;this.triggersSubmenu()?(y=n="before"===this.menu.xPosition?"start":"end",r=c="end"===n?"start":"end",x="bottom"===s?8:-8):this.menu.overlapTrigger||(a="top"===s?"bottom":"top",l="top"===o?"bottom":"top"),t.withPositions([{originX:n,originY:a,overlayX:c,overlayY:s,offsetY:x},{originX:r,originY:a,overlayX:y,overlayY:s,offsetY:x},{originX:n,originY:l,overlayX:c,overlayY:o,offsetY:-x},{originX:r,originY:l,overlayX:y,overlayY:o,offsetY:-x}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return Kr(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:Jn(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(gr(o=>o!==this._menuItemInstance),gr(()=>this._menuOpen)):Jn(),n)}_handleMousedown(t){$M(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const n=t.keyCode;(13===n||32===n)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===n&&"ltr"===this.dir||37===n&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(gr(t=>t===this._menuItemInstance&&!t.disabled),oF(0,PS)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof tg&&this.menu._isAnimating?this.menu._animationDone.pipe(sr(1),oF(0,PS),Ci(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new Gv(this.menu.templateRef,this._viewContainerRef)),this._portal}}return i.\u0275fac=function(t){return new(t||i)(ae(ka),ae(Cn),ae(_o),ae(SF),ae(VS,8),ae(Yv,10),ae(no,8),ae(Fl))},i.\u0275dir=kt({type:i,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(t,n){1&t&&Mn("click",function(s){return n._handleClick(s)})("mousedown",function(s){return n._handleMousedown(s)})("keydown",function(s){return n._handleKeydown(s)}),2&t&&bi("aria-expanded",n.menuOpen||null)("aria-controls",n.menuOpen?n.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),i})(),BK=(()=>{class i extends NK{}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275dir=kt({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[an]}),i})(),jK=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[FK],imports:[[tl,Fi,Zm,eg],su,Fi]}),i})();function yc(i){return ct((e,t)=>{let s,n=null,r=!1;n=e.subscribe(new ut(t,void 0,void 0,o=>{s=zn(i(o,yc(i)(e))),n?(n.unsubscribe(),n=null,s.subscribe(t)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(t))})}function DF(i){return ct((e,t)=>{try{e.subscribe(t)}finally{t.add(i)}})}function ff(i,e){return j(e)?Sr(i,e,1):Sr(i,1)}class AF{}class TF{}class ol{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const r=t.slice(0,n),s=r.toLowerCase(),o=t.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ol?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ol;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ol?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class UK{encodeKey(e){return RF(e)}encodeValue(e){return RF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const GK=/%(\d[a-f0-9])/gi,zK={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function RF(i){return encodeURIComponent(i).replace(GK,(e,t)=>{var n;return null!==(n=zK[t])&&void 0!==n?n:e})}function IF(i){return`${i}`}class ou{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new UK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function HK(i,e){const t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(s=>{t.push({param:n,value:s,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ou({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(IF(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let n=this.map.get(e.param)||[];const r=n.indexOf(IF(e.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class WK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function kF(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function PF(i){return"undefined"!=typeof Blob&&i instanceof Blob}function LF(i){return"undefined"!=typeof FormData&&i instanceof FormData}class ng{constructor(e,t,n,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $K(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ol),this.context||(this.context=new WK),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new ou,this.urlWithParams=t}serializeBody(){return null===this.body?null:kF(this.body)||PF(this.body)||LF(this.body)||function qK(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ou?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||LF(this.body)?null:PF(this.body)?this.body.type||null:kF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ou?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,y=e.params||this.params;const x=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((C,A)=>C.set(A,e.setHeaders[A]),c)),e.setParams&&(y=Object.keys(e.setParams).reduce((C,A)=>C.set(A,e.setParams[A]),y)),new ng(n,r,o,{params:y,headers:c,context:x,reportProgress:l,responseType:s,withCredentials:a})}}var Ms=(()=>((Ms=Ms||{})[Ms.Sent=0]="Sent",Ms[Ms.UploadProgress=1]="UploadProgress",Ms[Ms.ResponseHeader=2]="ResponseHeader",Ms[Ms.DownloadProgress=3]="DownloadProgress",Ms[Ms.Response=4]="Response",Ms[Ms.User=5]="User",Ms))();class US{constructor(e,t=200,n="OK"){this.headers=e.headers||new ol,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class HS extends US{constructor(e={}){super(e),this.type=Ms.ResponseHeader}clone(e={}){return new HS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Xv extends US{constructor(e={}){super(e),this.type=Ms.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Xv({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class OF extends US{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function GS(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Zv=(()=>{class i{constructor(t){this.handler=t}request(t,n,r={}){let s;if(t instanceof ng)s=t;else{let l,c;l=r.headers instanceof ol?r.headers:new ol(r.headers),r.params&&(c=r.params instanceof ou?r.params:new ou({fromObject:r.params})),s=new ng(t,n,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Jn(s).pipe(ff(l=>this.handler.handle(l)));if(t instanceof ng||"events"===r.observe)return o;const a=o.pipe(gr(l=>l instanceof Xv));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(z(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(z(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(z(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(z(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new ou).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,r={}){return this.request("PATCH",t,GS(r,n))}post(t,n,r={}){return this.request("POST",t,GS(r,n))}put(t,n,r={}){return this.request("PUT",t,GS(r,n))}}return i.\u0275fac=function(t){return new(t||i)(vt(AF))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();class FF{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const NF=new mn("HTTP_INTERCEPTORS");let YK=(()=>{class i{intercept(t,n){return n.handle(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const XK=/^\)\]\}',?\n/;let BF=(()=>{class i{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new xe(n=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((A,P)=>r.setRequestHeader(A,P.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const A=t.detectContentTypeHeader();null!==A&&r.setRequestHeader("Content-Type",A)}if(t.responseType){const A=t.responseType.toLowerCase();r.responseType="json"!==A?A:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const A=1223===r.status?204:r.status,P=r.statusText||"OK",L=new ol(r.getAllResponseHeaders()),H=function ZK(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(r)||t.url;return o=new HS({headers:L,status:A,statusText:P,url:H}),o},l=()=>{let{headers:A,status:P,statusText:L,url:H}=a(),F=null;204!==P&&(F=void 0===r.response?r.responseText:r.response),0===P&&(P=F?200:0);let N=P>=200&&P<300;if("json"===t.responseType&&"string"==typeof F){const q=F;F=F.replace(XK,"");try{F=""!==F?JSON.parse(F):null}catch(Y){F=q,N&&(N=!1,F={error:Y,text:F})}}N?(n.next(new Xv({body:F,headers:A,status:P,statusText:L,url:H||void 0})),n.complete()):n.error(new OF({error:F,headers:A,status:P,statusText:L,url:H||void 0}))},c=A=>{const{url:P}=a(),L=new OF({error:A,status:r.status||0,statusText:r.statusText||"Unknown Error",url:P||void 0});n.error(L)};let y=!1;const x=A=>{y||(n.next(a()),y=!0);let P={type:Ms.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(P.total=A.total),"text"===t.responseType&&!!r.responseText&&(P.partialText=r.responseText),n.next(P)},C=A=>{let P={type:Ms.UploadProgress,loaded:A.loaded};A.lengthComputable&&(P.total=A.total),n.next(P)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),t.reportProgress&&(r.addEventListener("progress",x),null!==s&&r.upload&&r.upload.addEventListener("progress",C)),r.send(s),n.next({type:Ms.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),t.reportProgress&&(r.removeEventListener("progress",x),null!==s&&r.upload&&r.upload.removeEventListener("progress",C)),r.readyState!==r.DONE&&r.abort()}})}}return i.\u0275fac=function(t){return new(t||i)(vt(aP))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const zS=new mn("XSRF_COOKIE_NAME"),WS=new mn("XSRF_HEADER_NAME");class jF{}let KK=(()=>{class i{constructor(t,n,r){this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kk(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return i.\u0275fac=function(t){return new(t||i)(vt(hi),vt(ia),vt(zS))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),$S=(()=>{class i{constructor(t,n){this.tokenService=t,this.headerName=n}intercept(t,n){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return n.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),n.handle(t)}}return i.\u0275fac=function(t){return new(t||i)(vt(jF),vt(WS))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),QK=(()=>{class i{constructor(t,n){this.backend=t,this.injector=n,this.chain=null}handle(t){if(null===this.chain){const n=this.injector.get(NF,[]);this.chain=n.reduceRight((r,s)=>new FF(r,s),this.backend)}return this.chain.handle(t)}}return i.\u0275fac=function(t){return new(t||i)(vt(TF),vt(os))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),JK=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:$S,useClass:YK}]}}static withOptions(t={}){return{ngModule:i,providers:[t.cookieName?{provide:zS,useValue:t.cookieName}:[],t.headerName?{provide:WS,useValue:t.headerName}:[]]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[$S,{provide:NF,useExisting:$S,multi:!0},{provide:jF,useClass:KK},{provide:zS,useValue:"XSRF-TOKEN"},{provide:WS,useValue:"X-XSRF-TOKEN"}]}),i})(),eQ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[Zv,{provide:AF,useClass:QK},BF,{provide:TF,useExisting:BF}],imports:[[JK.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})();const tQ=["*"];let Kv;function ig(i){var e;return(null===(e=function nQ(){if(void 0===Kv&&(Kv=null,"undefined"!=typeof window)){const i=window;void 0!==i.trustedTypes&&(Kv=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Kv}())||void 0===e?void 0:e.createHTML(i))||i}function VF(i){return Error(`Unable to find icon with the name "${i}"`)}function UF(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function HF(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class xd{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let Qv=(()=>{class i{constructor(t,n,r,s){this._httpClient=t,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,n,r){return this.addSvgIconInNamespace("",t,n,r)}addSvgIconLiteral(t,n,r){return this.addSvgIconLiteralInNamespace("",t,n,r)}addSvgIconInNamespace(t,n,r,s){return this._addSvgIconConfig(t,n,new xd(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,n,r,s){const o=this._sanitizer.sanitize(lr.HTML,r);if(!o)throw HF(r);const a=ig(o);return this._addSvgIconConfig(t,n,new xd("",a,s))}addSvgIconSet(t,n){return this.addSvgIconSetInNamespace("",t,n)}addSvgIconSetLiteral(t,n){return this.addSvgIconSetLiteralInNamespace("",t,n)}addSvgIconSetInNamespace(t,n,r){return this._addSvgIconSetConfig(t,new xd(n,null,r))}addSvgIconSetLiteralInNamespace(t,n,r){const s=this._sanitizer.sanitize(lr.HTML,n);if(!s)throw HF(n);const o=ig(s);return this._addSvgIconSetConfig(t,new xd("",o,r))}registerFontClassAlias(t,n=t){return this._fontCssClassesByAlias.set(t,n),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const n=this._sanitizer.sanitize(lr.RESOURCE_URL,t);if(!n)throw UF(t);const r=this._cachedIconsByUrl.get(n);return r?Jn(Jv(r)):this._loadSvgIconFromConfig(new xd(t,null)).pipe(ks(s=>this._cachedIconsByUrl.set(n,s)),z(s=>Jv(s)))}getNamedSvgIcon(t,n=""){const r=GF(n,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(t,o):function VK(i,e){const t=j(i)?i:()=>i,n=r=>r.error(t());return new xe(e?r=>e.schedule(n,0,r):n)}(VF(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Jn(Jv(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(z(n=>Jv(n)))}_getSvgFromIconSetConfigs(t,n){const r=this._extractIconWithNameFromAnySet(t,n);return r?Jn(r):SP(n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(yc(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(lr.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Jn(null)})))).pipe(z(()=>{const o=this._extractIconWithNameFromAnySet(t,n);if(!o)throw VF(t);return o}))}_extractIconWithNameFromAnySet(t,n){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ks(n=>t.svgText=n),z(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Jn(null):this._fetchIcon(t).pipe(ks(n=>t.svgText=n))}_extractSvgIconFromSet(t,n,r){const s=t.querySelector(`[id="${n}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(ig("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(t){const n=this._document.createElement("DIV");n.innerHTML=t;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const n=this._svgElementFromString(ig("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&n.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(t.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(t,n){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),n&&n.viewBox&&t.setAttribute("viewBox",n.viewBox),t}_fetchIcon(t){var n;const{url:r,options:s}=t,o=null!==(n=null==s?void 0:s.withCredentials)&&void 0!==n&&n;if(!this._httpClient)throw function iQ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(lr.RESOURCE_URL,r);if(!a)throw UF(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(z(y=>ig(y)),DF(()=>this._inProgressUrlFetches.delete(a)),Fc());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,n,r){return this._svgIconConfigs.set(GF(t,n),r),this}_addSvgIconSetConfig(t,n){const r=this._iconSetConfigs.get(t);return r?r.push(n):this._iconSetConfigs.set(t,[n]),this}_svgElementFromConfig(t){if(!t.svgElement){const n=this._svgElementFromString(t.svgText);this._setSvgAttributes(n,t.options),t.svgElement=n}return t.svgElement}_getIconConfigFromResolvers(t,n){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](n,t);if(s)return sQ(s)?new xd(s.url,null,s.options):new xd(s,null)}}}return i.\u0275fac=function(t){return new(t||i)(vt(Zv,8),vt(tv),vt(hi,8),vt(sc))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Jv(i){return i.cloneNode(!0)}function GF(i,e){return i+":"+e}function sQ(i){return!(!i.url||!i.options)}const oQ=yd(class{constructor(i){this._elementRef=i}}),aQ=new mn("mat-icon-location",{providedIn:"root",factory:function lQ(){const i=Qp(hi),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),zF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],cQ=zF.map(i=>`[${i}]`).join(", "),uQ=/^url\(['"]?#(.*?)['"]?\)$/;let qS=(()=>{class i extends oQ{constructor(t,n,r,s,o){super(t),this._iconRegistry=n,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=S.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=oi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const n=this._cleanupFontValue(t);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const n=this._cleanupFontValue(t);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const n=t.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const n=t.querySelectorAll("style");for(let s=0;s<n.length;s++)n[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let n=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=t.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,n=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();n!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),n&&t.classList.add(n),this._previousFontSetClass=n),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const n=this._elementsWithExternalReferences;n&&n.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const n=t.querySelectorAll(cQ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)zF.forEach(o=>{const a=n[s],l=a.getAttribute(o),c=l?l.match(uQ):null;if(c){let y=r.get(a);y||(y=[],r.set(a,y)),y.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[n,r]=this._splitIconName(t);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(sr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${s.message}`))})}}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Qv),za("aria-hidden"),ae(aQ),ae(sc))},i.\u0275cmp=xi({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,n){2&t&&(bi("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet),Ui("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[an],ngContentSelectors:tQ,decls:1,vars:0,template:function(t,n){1&t&&(zr(),Ti(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),dQ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[Fi],Fi]}),i})();class YS{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new De,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let hQ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[Fi],Fi]}),i})();const WF=["*"],fQ=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],pQ=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],vQ=uf(iu(class{})),bQ=iu(class{}),qF=new mn("MatList"),xQ=new mn("MatNavList");let YF=(()=>{class i extends vQ{constructor(t){super(),this._elementRef=t,this._stateChanges=new De,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn))},i.\u0275cmp=xi({type:i,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[Bi([{provide:qF,useExisting:i}]),an,Rr],ngContentSelectors:WF,decls:1,vars:0,template:function(t,n){1&t&&(zr(),Ti(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),i})(),XF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),i})(),ZF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),i})(),KF=(()=>{class i extends bQ{constructor(t,n,r,s){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new De,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const o=this._getHostElement();"button"===o.nodeName.toLowerCase()&&!o.hasAttribute("type")&&o.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Ci(this._destroyed)).subscribe(()=>{n.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=oi(t)}ngAfterContentInit(){!function $O(i,e,t="mat"){i.changes.pipe(Gs(i)).subscribe(({length:n})=>{Xm(e,`${t}-2-line`,!1),Xm(e,`${t}-3-line`,!1),Xm(e,`${t}-multi-line`,!1),2===n||3===n?Xm(e,`${t}-${n}-line`,!0):n>3&&Xm(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Vr),ae(xQ,8),ae(qF,8))},i.\u0275cmp=xi({type:i,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,n,r){if(1&t&&(fr(r,XF,5),fr(r,ZF,5),fr(r,WO,5)),2&t){let s;ni(s=ii())&&(n._avatar=s.first),ni(s=ii())&&(n._icon=s.first),ni(s=ii())&&(n._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,n){2&t&&Ui("mat-list-item-disabled",n.disabled)("mat-list-item-avatar",n._avatar||n._icon)("mat-list-item-with-avatar",n._avatar||n._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[an],ngContentSelectors:pQ,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,n){1&t&&(zr(fQ),ot(0,"div",0),Ai(1,"div",1),Ti(2),ot(3,"div",2),Ti(4,1),at(),Ti(5,2),at()),2&t&&(on(1),un("matRippleTrigger",n._getHostElement())("matRippleDisabled",n._isRippleDisabled()))},directives:[vd],encapsulation:2,changeDetection:0}),i})(),DQ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[Vv,Zm,Fi,IS,tl],Vv,Fi,IS,hQ]}),i})();function JF(...i){const e=Bt(i),t=We(i),{args:n,keys:r}=wP(i);if(0===n.length)return Tn([],e);const s=new xe(function AQ(i,e,t=oe){return n=>{e3(e,()=>{const{length:r}=i,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)e3(e,()=>{const c=Tn(i[l],e);let y=!1;c.subscribe(new ut(n,x=>{s[l]=x,y||(y=!0,a--),a||n.next(t(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}(n,e,r?o=>MP(r,o):oe));return t?s.pipe(cM(t)):s}function e3(i,e,t){i?Js(t,i,e):e()}const rg=k(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function e0(i){return new xe(e=>{zn(i()).subscribe(e)})}function t3(){return ct((i,e)=>{let t=null;i._refCount++;const n=new ut(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(t=null);const r=i._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});i.subscribe(n),n.closed||(t=i.connect())})}class TQ extends xe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ke(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new S;const t=this.getSubject();e.add(this.source.subscribe(new ut(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=S.EMPTY)}return e}refCount(){return t3()(this)}}function RQ(i,e,t,n,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(new ut(o,y=>{const x=c++;l=a?i(l,y,x):(a=!0,y),n&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function n3(i,e){return ct(RQ(i,e,arguments.length>=2,!0))}function XS(i){return i<=0?()=>Bs:ct((e,t)=>{let n=[];e.subscribe(new ut(t,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(const r of n)t.next(r);t.complete()},void 0,()=>{n=null}))})}function i3(i=IQ){return ct((e,t)=>{let n=!1;e.subscribe(new ut(t,r=>{n=!0,t.next(r)},()=>n?t.complete():t.error(i())))})}function IQ(){return new rg}function r3(i){return ct((e,t)=>{let n=!1;e.subscribe(new ut(t,r=>{n=!0,t.next(r)},()=>{n||t.next(i),t.complete()}))})}function pf(i,e){const t=arguments.length>=2;return n=>n.pipe(i?gr((r,s)=>i(r,s,n)):oe,sr(1),t?r3(e):i3(()=>new rg))}class _c{constructor(e,t){this.id=e,this.url=t}}class ZS extends _c{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sg extends _c{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class s3 extends _c{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class PQ extends _c{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LQ extends _c{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OQ extends _c{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FQ extends _c{constructor(e,t,n,r,s){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class NQ extends _c{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BQ extends _c{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o3{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class a3{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jQ{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VQ{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UQ{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HQ{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l3{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Hi="primary";class GQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function mf(i){return new GQ(i)}const c3="ngNavigationCancelingError";function KS(i){const e=Error("NavigationCancelingError: "+i);return e[c3]=!0,e}function WQ(i,e,t){const n=t.path.split("/");if(n.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||n.length<i.length))return null;const r={};for(let s=0;s<n.length;s++){const o=n[s],a=i[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function jl(i,e){const t=i?Object.keys(i):void 0,n=e?Object.keys(e):void 0;if(!t||!n||t.length!=n.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!u3(i[r],e[r]))return!1;return!0}function u3(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),n=[...e].sort();return t.every((r,s)=>n[s]===r)}return i===e}function d3(i){return Array.prototype.concat.apply([],i)}function h3(i){return i.length>0?i[i.length-1]:null}function so(i,e){for(const t in i)i.hasOwnProperty(t)&&e(i[t],t)}function Vl(i){return o1(i)?i:fm(i)?Tn(Promise.resolve(i)):Jn(i)}const YQ={exact:function m3(i,e,t){if(!Md(i.segments,e.segments)||!t0(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!i.children[n]||!m3(i.children[n],e.children[n],t))return!1;return!0},subset:g3},f3={exact:function XQ(i,e){return jl(i,e)},subset:function ZQ(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>u3(i[t],e[t]))},ignored:()=>!0};function p3(i,e,t){return YQ[t.paths](i.root,e.root,t.matrixParams)&&f3[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function g3(i,e,t){return y3(i,e,e.segments,t)}function y3(i,e,t,n){if(i.segments.length>t.length){const r=i.segments.slice(0,t.length);return!(!Md(r,t)||e.hasChildren()||!t0(r,t,n))}if(i.segments.length===t.length){if(!Md(i.segments,t)||!t0(i.segments,t,n))return!1;for(const r in e.children)if(!i.children[r]||!g3(i.children[r],e.children[r],n))return!1;return!0}{const r=t.slice(0,i.segments.length),s=t.slice(i.segments.length);return!!(Md(i.segments,r)&&t0(i.segments,r,n)&&i.children[Hi])&&y3(i.children[Hi],e,s,n)}}function t0(i,e,t){return e.every((n,r)=>f3[t](i[r].parameters,n.parameters))}class wd{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mf(this.queryParams)),this._queryParamMap}toString(){return JQ.serialize(this)}}class Xi{constructor(e,t){this.segments=e,this.children=t,this.parent=null,so(t,(n,r)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return n0(this)}}class og{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=mf(this.parameters)),this._parameterMap}toString(){return w3(this)}}function Md(i,e){return i.length===e.length&&i.every((t,n)=>t.path===e[n].path)}class _3{}class v3{parse(e){const t=new lJ(e);return new wd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ag(e.root,!0)}`,n=function nJ(i){const e=Object.keys(i).map(t=>{const n=i[t];return Array.isArray(n)?n.map(r=>`${r0(t)}=${r0(r)}`).join("&"):`${r0(t)}=${r0(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${n}${"string"==typeof e.fragment?`#${function eJ(i){return encodeURI(i)}(e.fragment)}`:""}`}}const JQ=new v3;function n0(i){return i.segments.map(e=>w3(e)).join("/")}function ag(i,e){if(!i.hasChildren())return n0(i);if(e){const t=i.children[Hi]?ag(i.children[Hi],!1):"",n=[];return so(i.children,(r,s)=>{s!==Hi&&n.push(`${s}:${ag(r,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function QQ(i,e){let t=[];return so(i.children,(n,r)=>{r===Hi&&(t=t.concat(e(n,r)))}),so(i.children,(n,r)=>{r!==Hi&&(t=t.concat(e(n,r)))}),t}(i,(n,r)=>r===Hi?[ag(i.children[Hi],!1)]:[`${r}:${ag(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Hi]?`${n0(i)}/${t[0]}`:`${n0(i)}/(${t.join("//")})`}}function b3(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function r0(i){return b3(i).replace(/%3B/gi,";")}function QS(i){return b3(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function s0(i){return decodeURIComponent(i)}function x3(i){return s0(i.replace(/\+/g,"%20"))}function w3(i){return`${QS(i.path)}${function tJ(i){return Object.keys(i).map(e=>`;${QS(e)}=${QS(i[e])}`).join("")}(i.parameters)}`}const iJ=/^[^\/()?;=#]+/;function o0(i){const e=i.match(iJ);return e?e[0]:""}const rJ=/^[^=?&#]+/,oJ=/^[^&#]+/;class lJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xi([],{}):new Xi([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Hi]=new Xi(e,t)),n}parseSegment(){const e=o0(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new og(s0(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=o0(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const r=o0(this.remaining);r&&(n=r,this.capture(n))}e[s0(t)]=s0(n)}parseQueryParam(e){const t=function sJ(i){const e=i.match(rJ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=function aJ(i){const e=i.match(oJ);return e?e[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const r=x3(t),s=x3(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=o0(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Hi);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Hi]:new Xi([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class M3{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=JS(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){const t=JS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=eC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return eC(e,this._root).map(t=>t.value)}}function JS(i,e){if(i===e.value)return e;for(const t of e.children){const n=JS(i,t);if(n)return n}return null}function eC(i,e){if(i===e.value)return[e];for(const t of e.children){const n=eC(i,t);if(n.length)return n.unshift(e),n}return[]}class vc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function gf(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class S3 extends M3{constructor(e,t){super(e),this.snapshot=t,tC(this,e)}toString(){return this.snapshot.toString()}}function C3(i,e){const t=function cJ(i,e){const o=new a0([],{},{},"",{},Hi,e,null,i.root,-1,{});return new D3("",new vc(o,[]))}(i,e),n=new ra([new og("",{})]),r=new ra({}),s=new ra({}),o=new ra({}),a=new ra(""),l=new yf(n,r,o,a,s,Hi,e,t.root);return l.snapshot=t.root,new S3(new vc(l,[]),t)}class yf{constructor(e,t,n,r,s,o,a,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(z(e=>mf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(z(e=>mf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function E3(i,e="emptyOnly"){const t=i.pathFromRoot;let n=0;if("always"!==e)for(n=t.length-1;n>=1;){const r=t[n],s=t[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(s.component)break;n--}}return function uJ(i){return i.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(n))}class a0{constructor(e,t,n,r,s,o,a,l,c,y,x){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=y,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class D3 extends M3{constructor(e,t){super(t),this.url=e,tC(this,t)}toString(){return A3(this._root)}}function tC(i,e){e.value._routerState=i,e.children.forEach(t=>tC(i,t))}function A3(i){const e=i.children.length>0?` { ${i.children.map(A3).join(", ")} } `:"";return`${i.value}${e}`}function nC(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,jl(e.queryParams,t.queryParams)||i.queryParams.next(t.queryParams),e.fragment!==t.fragment&&i.fragment.next(t.fragment),jl(e.params,t.params)||i.params.next(t.params),function $Q(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!jl(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.url.next(t.url),jl(e.data,t.data)||i.data.next(t.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function iC(i,e){const t=jl(i.params,e.params)&&function KQ(i,e){return Md(i,e)&&i.every((t,n)=>jl(t.parameters,e[n].parameters))}(i.url,e.url);return t&&!(!i.parent!=!e.parent)&&(!i.parent||iC(i.parent,e.parent))}function lg(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=e.value;const r=function hJ(i,e,t){return e.children.map(n=>{for(const r of t.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return lg(i,n,r);return lg(i,n)})}(i,e,t);return new vc(n,r)}{if(i.shouldAttach(e.value)){const s=i.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>lg(i,a)),o}}const n=function fJ(i){return new yf(new ra(i.url),new ra(i.params),new ra(i.queryParams),new ra(i.fragment),new ra(i.data),i.outlet,i.component,i)}(e.value),r=e.children.map(s=>lg(i,s));return new vc(n,r)}}function l0(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function cg(i){return"object"==typeof i&&null!=i&&i.outlets}function rC(i,e,t,n,r){let s={};return n&&so(n,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new wd(t.root===i?e:T3(t.root,i,e),s,r)}function T3(i,e,t){const n={};return so(i.children,(r,s)=>{n[s]=r===e?t:T3(r,e,t)}),new Xi(i.segments,n)}class R3{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&l0(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(cg);if(r&&r!==h3(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sC{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function I3(i,e,t){if(i||(i=new Xi([],{})),0===i.segments.length&&i.hasChildren())return c0(i,e,t);const n=function vJ(i,e,t){let n=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=t.length)return s;const o=i.segments[r],a=t[n];if(cg(a))break;const l=`${a}`,c=n<t.length-1?t[n+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!P3(l,c,o))return s;n+=2}else{if(!P3(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,e,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const s=new Xi(i.segments.slice(0,n.pathIndex),{});return s.children[Hi]=new Xi(i.segments.slice(n.pathIndex),i.children),c0(s,0,r)}return n.match&&0===r.length?new Xi(i.segments,{}):n.match&&!i.hasChildren()?oC(i,e,t):n.match?c0(i,0,r):oC(i,e,t)}function c0(i,e,t){if(0===t.length)return new Xi(i.segments,{});{const n=function _J(i){return cg(i[0])?i[0].outlets:{[Hi]:i}}(t),r={};return so(n,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=I3(i.children[o],e,s))}),so(i.children,(s,o)=>{void 0===n[o]&&(r[o]=s)}),new Xi(i.segments,r)}}function oC(i,e,t){const n=i.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(cg(s)){const l=bJ(s.outlets);return new Xi(n,l)}if(0===r&&l0(t[0])){n.push(new og(i.segments[e].path,k3(t[0]))),r++;continue}const o=cg(s)?s.outlets[Hi]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&l0(a)?(n.push(new og(o,k3(a))),r+=2):(n.push(new og(o,{})),r++)}return new Xi(n,{})}function bJ(i){const e={};return so(i,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=oC(new Xi([],{}),0,t))}),e}function k3(i){const e={};return so(i,(t,n)=>e[n]=`${t}`),e}function P3(i,e,t){return i==t.path&&jl(e,t.parameters)}class wJ{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),nC(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=gf(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),so(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=gf(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(n&&n.outlet){const o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=gf(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=gf(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new HQ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new VQ(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(nC(r),r===s)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),nC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function MJ(i){for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}class aC{constructor(e,t){this.routes=e,this.module=t}}function au(i){return"function"==typeof i}function Sd(i){return i instanceof wd}const ug=Symbol("INITIAL_VALUE");function dg(){return sl(i=>JF(i.map(e=>e.pipe(sr(1),Gs(ug)))).pipe(n3((e,t)=>{let n=!1;return t.reduce((r,s,o)=>r!==ug?r:(s===ug&&(n=!0),n||!1!==s&&o!==t.length-1&&!Sd(s)?r:s),e)},ug),gr(e=>e!==ug),z(e=>Sd(e)?e:!0===e),sr(1)))}class TJ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hg,this.attachRef=null}}class hg{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new TJ,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let lC=(()=>{class i{constructor(t,n,r,s,o){this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Dn,this.deactivateEvents=new Dn,this.attachEvents=new Dn,this.detachEvents=new Dn,this.name=s||Hi,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(n=n||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new RJ(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)(ae(hg),ae(_o),ae(qc),za("name"),ae(Vr))},i.\u0275dir=kt({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class RJ{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===yf?this.route:e===hg?this.childContexts:this.parent.get(e,t)}}let L3=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=xi({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,n){1&t&&Ai(0,"router-outlet")},directives:[lC],encapsulation:2}),i})();function O3(i,e=""){for(let t=0;t<i.length;t++){const n=i[t];IJ(n,kJ(e,n))}}function IJ(i,e){i.children&&O3(i.children,e)}function kJ(i,e){return e?i||e.path?i&&!e.path?`${i}/`:!i&&e.path?e.path:`${i}/${e.path}`:"":i}function cC(i){const e=i.children&&i.children.map(cC),t=e?Object.assign(Object.assign({},i),{children:e}):Object.assign({},i);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Hi&&(t.component=L3),t}function Pa(i){return i.outlet||Hi}function F3(i,e){const t=i.filter(n=>Pa(n)===e);return t.push(...i.filter(n=>Pa(n)!==e)),t}const N3={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function u0(i,e,t){var n;if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?Object.assign({},N3):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||WQ)(t,i,e);if(!s)return Object.assign({},N3);const o={};so(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(n=s.posParams)&&void 0!==n?n:{}}}function d0(i,e,t,n,r="corrected"){if(t.length>0&&function OJ(i,e,t){return t.some(n=>h0(i,e,n)&&Pa(n)!==Hi)}(i,t,n)){const o=new Xi(e,function LJ(i,e,t,n){const r={};r[Hi]=n,n._sourceSegment=i,n._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Pa(s)!==Hi){const o=new Xi([],{});o._sourceSegment=i,o._segmentIndexShift=e.length,r[Pa(s)]=o}return r}(i,e,n,new Xi(t,i.children)));return o._sourceSegment=i,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function FJ(i,e,t){return t.some(n=>h0(i,e,n))}(i,t,n)){const o=new Xi(i.segments,function PJ(i,e,t,n,r,s){const o={};for(const a of n)if(h0(i,t,a)&&!r[Pa(a)]){const l=new Xi([],{});l._sourceSegment=i,l._segmentIndexShift="legacy"===s?i.segments.length:e.length,o[Pa(a)]=l}return Object.assign(Object.assign({},r),o)}(i,e,t,n,i.children,r));return o._sourceSegment=i,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Xi(i.segments,i.children);return s._sourceSegment=i,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function h0(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function B3(i,e,t,n){return!!(Pa(i)===n||n!==Hi&&h0(e,t,i))&&("**"===i.path||u0(e,i,t).matched)}function j3(i,e,t){return 0===e.length&&!i.children[t]}class fg{constructor(e){this.segmentGroup=e||null}}class V3{constructor(e){this.urlTree=e}}function f0(i){return new xe(e=>e.error(new fg(i)))}function U3(i){return new xe(e=>e.error(new V3(i)))}function NJ(i){return new xe(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class VJ{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(uc)}apply(){const e=d0(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xi(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Hi).pipe(z(s=>this.createUrlTree(uC(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yc(s=>{if(s instanceof V3)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof fg?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Hi).pipe(z(r=>this.createUrlTree(uC(r),e.queryParams,e.fragment))).pipe(yc(r=>{throw r instanceof fg?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Xi([],{[Hi]:e}):e;return new wd(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(z(s=>new Xi([],s))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return Tn(r).pipe(ff(s=>{const o=n.children[s],a=F3(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(z(l=>({segment:l,outlet:s})))}),n3((s,o)=>(s[o.outlet]=o.segment,s),{}),function kQ(i,e){const t=arguments.length>=2;return n=>n.pipe(i?gr((r,s)=>i(r,s,n)):oe,XS(1),t?r3(e):i3(()=>new rg))}())}expandSegment(e,t,n,r,s,o){return Tn(n).pipe(ff(a=>this.expandSegmentAgainstRoute(e,t,n,a,r,s,o).pipe(yc(c=>{if(c instanceof fg)return Jn(null);throw c}))),pf(a=>!!a),yc((a,l)=>{if(a instanceof rg||"EmptyError"===a.name){if(j3(t,r,s))return Jn(new Xi([],{}));throw new fg(t)}throw a}))}expandSegmentAgainstRoute(e,t,n,r,s,o,a){return B3(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o):f0(t):f0(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?U3(s):this.lineralizeSegments(n,s).pipe(Sr(o=>{const a=new Xi(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:y}=u0(t,r,s);if(!a)return f0(t);const x=this.applyRedirectCommands(l,r.redirectTo,y);return r.redirectTo.startsWith("/")?U3(x):this.lineralizeSegments(r,x).pipe(Sr(C=>this.expandSegment(e,t,n,C.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r,s){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Jn(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(z(C=>(n._loadedConfig=C,new Xi(r,{})))):Jn(new Xi(r,{}));const{matched:o,consumedSegments:a,lastChild:l}=u0(t,n,r);if(!o)return f0(t);const c=r.slice(l);return this.getChildConfig(e,n,r).pipe(Sr(x=>{const C=x.module,A=x.routes,{segmentGroup:P,slicedSegments:L}=d0(t,a,c,A),H=new Xi(P.segments,P.children);if(0===L.length&&H.hasChildren())return this.expandChildren(C,A,H).pipe(z(Y=>new Xi(a,Y)));if(0===A.length&&0===L.length)return Jn(new Xi(a,{}));const F=Pa(n)===s;return this.expandSegment(C,H,A,L,F?Hi:s,!0).pipe(z(q=>new Xi(a.concat(q.segments),q.children)))}))}getChildConfig(e,t,n){return t.children?Jn(new aC(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Jn(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(Sr(r=>r?this.configLoader.load(e.injector,t).pipe(z(s=>(t._loadedConfig=s,s))):function BJ(i){return new xe(e=>e.error(KS(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(t))):Jn(new aC([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;return r&&0!==r.length?Jn(r.map(o=>{const a=e.get(o);let l;if(function CJ(i){return i&&au(i.canLoad)}(a))l=a.canLoad(t,n);else{if(!au(a))throw new Error("Invalid CanLoad guard");l=a(t,n)}return Vl(l)})).pipe(dg(),ks(o=>{if(!Sd(o))return;const a=KS(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),z(o=>!0===o)):Jn(!0)}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Jn(n);if(r.numberOfChildren>1||!r.children[Hi])return NJ(e.redirectTo);r=r.children[Hi]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const s=this.createSegmentGroup(e,t.root,n,r);return new wd(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return so(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);n[s]=t[a]}else n[s]=r}),n}createSegmentGroup(e,t,n,r){const s=this.createSegments(e,t.segments,n,r);let o={};return so(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,n,r)}),new Xi(s,o)}createSegments(e,t,n,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function uC(i){const e={};for(const n of Object.keys(i.children)){const s=uC(i.children[n]);(s.segments.length>0||s.hasChildren())&&(e[n]=s)}return function UJ(i){if(1===i.numberOfChildren&&i.children[Hi]){const e=i.children[Hi];return new Xi(i.segments.concat(e.segments),e.children)}return i}(new Xi(i.segments,e))}class H3{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class p0{constructor(e,t){this.component=e,this.route=t}}function GJ(i,e,t){const n=i._root;return pg(n,e?e._root:null,t,[n.value])}function m0(i,e,t){const n=function WJ(i){if(!i)return null;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:t).get(i)}function pg(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=gf(e);return i.children.forEach(o=>{(function $J(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=i.value,o=e?e.value:null,a=t?t.getContext(i.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function qJ(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!Md(i.url,e.url);case"pathParamsOrQueryParamsChange":return!Md(i.url,e.url)||!jl(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iC(i,e)||!jl(i.queryParams,e.queryParams);default:return!iC(i,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new H3(n)):(s.data=o.data,s._resolvedData=o._resolvedData),pg(i,e,s.component?a?a.children:null:t,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new p0(a.outlet.component,o))}else o&&mg(e,a,r),r.canActivateChecks.push(new H3(n)),pg(i,null,s.component?a?a.children:null:t,n,r)})(o,s[o.value.outlet],t,n.concat([o.value]),r),delete s[o.value.outlet]}),so(s,(o,a)=>mg(o,t.getContext(a),r)),r}function mg(i,e,t){const n=gf(i),r=i.value;so(n,(s,o)=>{mg(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new p0(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class nee{}function G3(i){return new xe(e=>e.error(i))}class ree{constructor(e,t,n,r,s,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=d0(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Hi);if(null===t)return null;const n=new a0([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Hi,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vc(n,t),s=new D3(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,n=E3(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=F3(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;n.push(...l)}const r=z3(n);return function see(i){i.sort((e,t)=>e.value.outlet===Hi?-1:t.value.outlet===Hi?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,n,r){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,n,r);if(null!==o)return o}return j3(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!B3(e,t,n,r))return null;let s,o=[],a=[];if("**"===e.path){const A=n.length>0?h3(n).parameters:{};s=new a0(n,A,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,q3(e),Pa(e),e.component,e,W3(t),$3(t)+n.length,Y3(e))}else{const A=u0(t,e,n);if(!A.matched)return null;o=A.consumedSegments,a=n.slice(A.lastChild),s=new a0(o,A.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,q3(e),Pa(e),e.component,e,W3(t),$3(t)+o.length,Y3(e))}const l=function oee(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:y}=d0(t,o,a,l.filter(A=>void 0===A.redirectTo),this.relativeLinkResolution);if(0===y.length&&c.hasChildren()){const A=this.processChildren(l,c);return null===A?null:[new vc(s,A)]}if(0===l.length&&0===y.length)return[new vc(s,[])];const x=Pa(e)===r,C=this.processSegment(l,c,y,x?Hi:r);return null===C?null:[new vc(s,C)]}}function aee(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function z3(i){const e=[],t=new Set;for(const n of i){if(!aee(n)){e.push(n);continue}const r=e.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),t.add(r)):e.push(n)}for(const n of t){const r=z3(n.children);e.push(new vc(n.value,r))}return e.filter(n=>!t.has(n))}function W3(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $3(i){let e=i,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function q3(i){return i.data||{}}function Y3(i){return i.resolve||{}}function dC(i){return sl(e=>{const t=i(e);return t?Tn(t).pipe(z(()=>e)):Jn(e)})}class mee extends class pee{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const hC=new mn("ROUTES");class X3{constructor(e,t,n,r){this.injector=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(z(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new aC(d3(o.injector.get(hC,void 0,ti.Self|ti.Optional)).map(cC),o)}),yc(s=>{throw t._loader$=void 0,s}));return t._loader$=new TQ(r,()=>new De).pipe(t3()),t._loader$}loadModuleFactory(e){return Vl(e()).pipe(Sr(t=>t instanceof RI?Jn(t):Tn(this.compiler.compileModuleAsync(t))))}}class yee{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function _ee(i){throw i}function vee(i,e,t){return e.parse("/")}function Z3(i,e){return Jn(null)}const bee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let la=(()=>{class i{constructor(t,n,r,s,o,a,l){this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new De,this.errorHandler=_ee,this.malformedUriErrorHandler=vee,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Z3,afterPreactivation:Z3},this.urlHandlingStrategy=new yee,this.routeReuseStrategy=new mee,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(uc),this.console=o.get(fk);const x=o.get(si);this.isNgZoneEnabled=x instanceof si&&si.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function qQ(){return new wd(new Xi([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new X3(o,a,C=>this.triggerEvent(new o3(C)),C=>this.triggerEvent(new a3(C))),this.routerState=C3(this.currentUrlTree,this.rootComponentType),this.transitions=new ra({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const n=this.events;return t.pipe(gr(r=>0!==r.id),z(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),sl(r=>{let s=!1,o=!1;return Jn(r).pipe(ks(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sl(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return g0(a.source)&&(this.browserUrlTree=a.extractedUrl),Jn(a).pipe(sl(x=>{const C=this.transitions.getValue();return n.next(new ZS(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),C!==this.transitions.getValue()?Bs:Promise.resolve(x)}),function HJ(i,e,t,n){return sl(r=>function jJ(i,e,t,n,r){return new VJ(i,e,t,n,r).apply()}(i,e,t,r.extractedUrl,n).pipe(z(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ks(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function lee(i,e,t,n,r){return Sr(s=>function iee(i,e,t,n,r="emptyOnly",s="legacy"){try{const o=new ree(i,e,t,n,r,s).recognize();return null===o?G3(new nee):Jn(o)}catch(o){return G3(o)}}(i,e,s.urlAfterRedirects,t(s.urlAfterRedirects),n,r).pipe(z(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),ks(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const A=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(A,x)}this.browserUrlTree=x.urlAfterRedirects}const C=new LQ(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);n.next(C)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:C,extractedUrl:A,source:P,restoredState:L,extras:H}=a,F=new ZS(C,this.serializeUrl(A),P,L);n.next(F);const N=C3(A,this.rootComponentType).snapshot;return Jn(Object.assign(Object.assign({},a),{targetSnapshot:N,urlAfterRedirects:A,extras:Object.assign(Object.assign({},H),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Bs}),dC(a=>{const{targetSnapshot:l,id:c,extractedUrl:y,rawUrl:x,extras:{skipLocationChange:C,replaceUrl:A}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:y,rawUrlTree:x,skipLocationChange:!!C,replaceUrl:!!A})}),ks(a=>{const l=new OQ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),z(a=>Object.assign(Object.assign({},a),{guards:GJ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function YJ(i,e){return Sr(t=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Jn(Object.assign(Object.assign({},t),{guardsResult:!0})):function XJ(i,e,t,n){return Tn(i).pipe(Sr(r=>function tee(i,e,t,n,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Jn(s.map(a=>{const l=m0(a,e,r);let c;if(function AJ(i){return i&&au(i.canDeactivate)}(l))c=Vl(l.canDeactivate(i,e,t,n));else{if(!au(l))throw new Error("Invalid CanDeactivate guard");c=Vl(l(i,e,t,n))}return c.pipe(pf())})).pipe(dg()):Jn(!0)}(r.component,r.route,t,e,n)),pf(r=>!0!==r,!0))}(o,n,r,i).pipe(Sr(a=>a&&function SJ(i){return"boolean"==typeof i}(a)?function ZJ(i,e,t,n){return Tn(e).pipe(ff(r=>$m(function QJ(i,e){return null!==i&&e&&e(new jQ(i)),Jn(!0)}(r.route.parent,n),function KJ(i,e){return null!==i&&e&&e(new UQ(i)),Jn(!0)}(r.route,n),function eee(i,e,t){const n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function zJ(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(o)).filter(o=>null!==o).map(o=>e0(()=>Jn(o.guards.map(l=>{const c=m0(l,o.node,t);let y;if(function DJ(i){return i&&au(i.canActivateChild)}(c))y=Vl(c.canActivateChild(n,i));else{if(!au(c))throw new Error("Invalid CanActivateChild guard");y=Vl(c(n,i))}return y.pipe(pf())})).pipe(dg())));return Jn(s).pipe(dg())}(i,r.path,t),function JJ(i,e,t){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return Jn(!0);const r=n.map(s=>e0(()=>{const o=m0(s,e,t);let a;if(function EJ(i){return i&&au(i.canActivate)}(o))a=Vl(o.canActivate(e,i));else{if(!au(o))throw new Error("Invalid CanActivate guard");a=Vl(o(e,i))}return a.pipe(pf())}));return Jn(r).pipe(dg())}(i,r.route,t))),pf(r=>!0!==r,!0))}(n,s,i,e):Jn(a)),z(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ks(a=>{if(Sd(a.guardsResult)){const c=KS(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new FQ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),gr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),dC(a=>{if(a.guards.canActivateChecks.length)return Jn(a).pipe(ks(l=>{const c=new NQ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),sl(l=>{let c=!1;return Jn(l).pipe(function cee(i,e){return Sr(t=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return Jn(t);let s=0;return Tn(r).pipe(ff(o=>function uee(i,e,t,n){return function dee(i,e,t,n){const r=Object.keys(i);if(0===r.length)return Jn({});const s={};return Tn(r).pipe(Sr(o=>function hee(i,e,t,n){const r=m0(i,e,n);return Vl(r.resolve?r.resolve(e,t):r(e,t))}(i[o],e,t,n).pipe(ks(a=>{s[o]=a}))),XS(1),Sr(()=>Object.keys(s).length===r.length?Jn(s):Bs))}(i._resolve,i,e,n).pipe(z(s=>(i._resolvedData=s,i.data=Object.assign(Object.assign({},i.data),E3(i,t).resolve),null)))}(o.route,n,i,e)),ks(()=>s++),XS(1),Sr(o=>s===r.length?Jn(t):Bs))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ks({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),ks(l=>{const c=new BQ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),dC(a=>{const{targetSnapshot:l,id:c,extractedUrl:y,rawUrl:x,extras:{skipLocationChange:C,replaceUrl:A}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:y,rawUrlTree:x,skipLocationChange:!!C,replaceUrl:!!A})}),z(a=>{const l=function dJ(i,e,t){const n=lg(i,e._root,t?t._root:void 0);return new S3(n,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),ks(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((i,e,t)=>z(n=>(new wJ(e,n.targetRouterState,n.currentRouterState,t).activate(i),n)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ks({next(){s=!0},complete(){s=!0}}),DF(()=>{var a;s||o||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),yc(a=>{if(o=!0,function zQ(i){return i&&i[c3]}(a)){const l=Sd(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new s3(r.id,this.serializeUrl(r.extractedUrl),a.message);n.next(c),l?setTimeout(()=>{const y=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),x={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||g0(r.source)};this.scheduleNavigation(y,"imperative",null,x,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new PQ(r.id,this.serializeUrl(r.extractedUrl),a);n.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Bs}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const n="popstate"===t.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{var r;const s={replaceUrl:!0},o=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,n,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){O3(t),this.config=t.map(cC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,n={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=n,c=r||this.routerState.root,y=l?this.currentUrlTree.fragment:o;let x=null;switch(a){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=s||null}return null!==x&&(x=this.removeEmptyProps(x)),function pJ(i,e,t,n,r){if(0===t.length)return rC(e.root,e.root,e,n,r);const s=function mJ(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new R3(!0,0,i);let e=0,t=!1;const n=i.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return so(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new R3(t,e,n)}(t);if(s.toRoot())return rC(e.root,new Xi([],{}),e,n,r);const o=function gJ(i,e,t){if(i.isAbsolute)return new sC(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new sC(s,s===e.root,0)}const n=l0(i.commands[0])?0:1;return function yJ(i,e,t){let n=i,r=e,s=t;for(;s>r;){if(s-=r,n=n.parent,!n)throw new Error("Invalid number of '../'");r=n.segments.length}return new sC(n,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+n,i.numberOfDoubleDots)}(s,e,i),a=o.processChildren?c0(o.segmentGroup,o.index,s.commands):I3(o.segmentGroup,o.index,s.commands);return rC(o.segmentGroup,a,e,n,r)}(c,this.currentUrlTree,t,x,null!=y?y:null)}navigateByUrl(t,n={skipLocationChange:!1}){const r=Sd(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,n)}navigate(t,n={skipLocationChange:!1}){return function wee(i){for(let e=0;e<i.length;e++){const t=i[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let n;try{n=this.urlSerializer.parse(t)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return n}isActive(t,n){let r;if(r=!0===n?Object.assign({},bee):!1===n?Object.assign({},xee):n,Sd(t))return p3(this.currentUrlTree,t,r);const s=this.parseUrl(t);return p3(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((n,r)=>{const s=t[r];return null!=s&&(n[r]=s),n},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new sg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,n,r,s,o){var a,l,c;if(this.disposed)return Promise.resolve(!1);const y=this.transitions.value,x=g0(n)&&y&&!g0(y.source),C=y.rawUrl.toString()===t.toString(),A=y.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(x&&C&&A)return Promise.resolve(!0);let L,H,F;o?(L=o.resolve,H=o.reject,F=o.promise):F=new Promise((Y,J)=>{L=Y,H=J});const N=++this.navigationId;let q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),q=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):q=0,this.setTransition({id:N,targetPageId:q,source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:L,reject:H,promise:F,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),F.catch(Y=>Promise.reject(Y))}setBrowserUrl(t,n){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},n.extras.state),this.generateNgRouterState(n.id,n.targetPageId));this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,n=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,n){const r=new s3(t.id,this.serializeUrl(t.extractedUrl),n);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}}return i.\u0275fac=function(t){nd()},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();function g0(i){return"imperative"!==i}let fC=(()=>{class i{constructor(t,n,r,s,o){this.router=t,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new De,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const n=this.renderer,r=this.el.nativeElement;null!==t?n.setAttribute(r,"tabindex",t):n.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:_f(this.skipLocationChange),replaceUrl:_f(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_f(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(ae(la),ae(yf),za("tabindex"),ae(Ka),ae(Cn))},i.\u0275dir=kt({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,n){1&t&&Mn("click",function(){return n.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Rr]}),i})(),y0=(()=>{class i{constructor(t,n,r){this.router=t,this.route=n,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new De,this.subscription=t.events.subscribe(s=>{s instanceof sg&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,n,r,s,o){if(0!==t||n||r||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:_f(this.skipLocationChange),replaceUrl:_f(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_f(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(ae(la),ae(yf),ae(Zh))},i.\u0275dir=kt({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,n){1&t&&Mn("click",function(s){return n.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&bi("target",n.target)("href",n.href,lw)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Rr]}),i})();function _f(i){return""===i||!!i}let K3=(()=>{class i{constructor(t,n,r,s,o,a){this.router=t,this.element=n,this.renderer=r,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Dn,this.routerEventsSubscription=t.events.subscribe(l=>{l instanceof sg&&this.update()})}ngAfterContentInit(){Jn(this.links.changes,this.linksWithHrefs.changes,Jn(null)).pipe(Xo()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const n=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Tn(n).pipe(Xo()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const n=Array.isArray(t)?t:t.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(n=>{t?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),this.isActiveChange.emit(t))})}isLinkActive(t){const n=function Mee(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,n)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return i.\u0275fac=function(t){return new(t||i)(ae(la),ae(Cn),ae(Ka),ae(Vr),ae(fC,8),ae(y0,8))},i.\u0275dir=kt({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(t,n,r){if(1&t&&(fr(r,fC,5),fr(r,y0,5)),2&t){let s;ni(s=ii())&&(n.links=s),ni(s=ii())&&(n.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Rr]}),i})();class Q3{}class J3{preload(e,t){return Jn(null)}}let eN=(()=>{class i{constructor(t,n,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new X3(r,n,l=>t.triggerEvent(new o3(l)),l=>t.triggerEvent(new a3(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(gr(t=>t instanceof sg),ff(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(uc);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const r=[];for(const s of n)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return Tn(r).pipe(Xo(),z(s=>{}))}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>(n._loadedConfig?Jn(n._loadedConfig):this.loader.load(t.injector,n)).pipe(Sr(s=>(n._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return i.\u0275fac=function(t){return new(t||i)(vt(la),vt(L_),vt(os),vt(Q3))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),pC=(()=>{class i{constructor(t,n,r={}){this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ZS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof sg&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof l3&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.router.triggerEvent(new l3(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(t){nd()},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const Cd=new mn("ROUTER_CONFIGURATION"),tN=new mn("ROUTER_FORROOT_GUARD"),Cee=[Dm,{provide:_3,useClass:v3},{provide:la,useFactory:function Ree(i,e,t,n,r,s,o={},a,l){const c=new la(null,i,e,t,n,r,d3(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function Iee(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(e.canceledNavigationResolution=i.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(y=>{var x,C;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${y.constructor.name}`),console.log(y.toString()),console.log(y),null===(C=console.groupEnd)||void 0===C||C.call(console)}),c},deps:[_3,hg,Dm,os,L_,hC,Cd,[class gee{},new mo],[class fee{},new mo]]},hg,{provide:yf,useFactory:function kee(i){return i.routerState.root},deps:[la]},eN,J3,class See{preload(e,t){return t().pipe(yc(()=>Jn(null)))}},{provide:Cd,useValue:{enableTracing:!1}}];function Eee(){return new vk("Router",la)}let nN=(()=>{class i{constructor(t,n){}static forRoot(t,n){return{ngModule:i,providers:[Cee,iN(t),{provide:tN,useFactory:Tee,deps:[[la,new mo,new wl]]},{provide:Cd,useValue:n||{}},{provide:Zh,useFactory:Aee,deps:[od,[new em(W1),new mo],Cd]},{provide:pC,useFactory:Dee,deps:[la,J7,Cd]},{provide:Q3,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:J3},{provide:vk,multi:!0,useFactory:Eee},[mC,{provide:P_,multi:!0,useFactory:Pee,deps:[mC]},{provide:rN,useFactory:Lee,deps:[mC]},{provide:P1,multi:!0,useExisting:rN}]]}}static forChild(t){return{ngModule:i,providers:[iN(t)]}}}return i.\u0275fac=function(t){return new(t||i)(vt(tN,8),vt(la,8))},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({}),i})();function Dee(i,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new pC(i,e,t)}function Aee(i,e,t={}){return t.useHash?new U9(i,e):new Uk(i,e)}function Tee(i){return"guarded"}function iN(i){return[{provide:_U,multi:!0,useValue:i},{provide:hC,multi:!0,useValue:i}]}let mC=(()=>{class i{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new De}appInitializer(){return this.injector.get(B9,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let n=null;const r=new Promise(a=>n=a),s=this.injector.get(la),o=this.injector.get(Cd);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),n(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Jn(null):(this.initNavigation=!0,n(!0),this.resultOfPreactivationDone),s.initialNavigation()):n(!0),r})}bootstrapListener(t){const n=this.injector.get(Cd),r=this.injector.get(eN),s=this.injector.get(pC),o=this.injector.get(la),a=this.injector.get(Yh);t===a.components[0]&&(("enabledNonBlocking"===n.initialNavigation||void 0===n.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(t){return new(t||i)(vt(os))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();function Pee(i){return i.appInitializer.bind(i)}function Lee(i){return i.bootstrapListener.bind(i)}const rN=new mn("Router Initializer");let Fee=(()=>{class i{constructor(){this.title="Trackers Drawing Test",this.version="TEST"}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=xi({type:i,selectors:[["app-root"]],decls:22,vars:2,consts:[["color","primary"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"fill-remaining-space"],["appMenu","matMenu"],["mat-menu-item",""],["mat-list-item","","routerLink","/threeTest","routerLinkActive","active"],["mat-list-item","","routerLink","/p5Test","routerLinkActive","active"]],template:function(t,n){if(1&t&&(ot(0,"mat-toolbar",0),ot(1,"button",1),ot(2,"mat-icon"),Fn(3,"more_vert"),at(),at(),ot(4,"span"),Fn(5," Pruebas de distintos componentes de gr\xe1ficos. "),at(),Ai(6,"span",2),ot(7,"span"),Fn(8),at(),ot(9,"mat-menu",null,3),ot(11,"button",4),Fn(12,"Settings"),at(),ot(13,"button",4),Fn(14,"Help"),at(),ot(15,"mat-list"),ot(16,"a",5),Fn(17,"3D Test"),at(),ot(18,"a",6),Fn(19,"2D Test"),at(),at(),at(),at(),Ai(20,"router-outlet"),Ai(21,"footer")),2&t){const r=jh(10);on(1),un("matMenuTriggerFor",r),on(7),Ho(n.version)}},directives:[FZ,ru,BK,qS,LK,Yv,YF,KF,y0,K3,lC],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),i})();function sN(i){for(let e in i){let t=i[e]||"";switch(e){case"display":i.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":i["-webkit-"+e]=t;break;case"flex-direction":t=t||"row",i["-webkit-flex-direction"]=t,i["flex-direction"]=t;break;case"order":i.order=i["-webkit-"+e]=isNaN(+t)?"0":t}}return i}const gC="inline",_0=["row","column","row-reverse","column-reverse"];function oN(i){let[e,t,n]=aN(i);return function Bee(i,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":i,"flex-wrap":e||null}}(e,t,n)}function aN(i){i=i?i.toLowerCase():"";let[e,t,n]=i.split(" ");return _0.find(r=>r===e)||(e=_0[0]),t===gC&&(t=n!==gC?n:"",n=gC),[e,Nee(t),!!n]}function gg(i){let[e]=aN(i);return e.indexOf("row")>-1}function Nee(i){if(i)switch(i.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":i="wrap-reverse";break;case"no":case"none":case"nowrap":i="nowrap";break;default:i="wrap"}return i}function bc(i,...e){if(null==i)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(null!=t)for(let n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i}const Vee={provide:P1,useFactory:function jee(i,e){return()=>{if(ad(e)){const t=Array.from(i.querySelectorAll(`[class*=${lN}]`)),n=/\bflex-layout-.+?\b/g;t.forEach(r=>{r.classList.contains(`${lN}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(n,"")})}}},deps:[hi,ia],multi:!0},lN="flex-layout-";let yC=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[Vee]}),i})();class Ed{constructor(e=!1,t="all",n="",r="",s=0){this.matches=e,this.mediaQuery=t,this.mqAlias=n,this.suffix=r,this.priority=s,this.property=""}clone(){return new Ed(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Uee=(()=>{class i{constructor(){this.stylesheet=new Map}addStyleToElement(t,n,r){const s=this.stylesheet.get(t);s?s.set(n,r):this.stylesheet.set(t,new Map([[n,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,n){const r=this.stylesheet.get(t);let s="";if(r){const o=r.get(n);("number"==typeof o||"string"==typeof o)&&(s=o+"")}return s}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const _C={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},lu=new mn("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>_C}),vf=new mn("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),vC=new mn("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function cN(i,e){return i=i?i.clone():new Ed,e&&(i.mqAlias=e.alias,i.mediaQuery=e.mediaQuery,i.suffix=e.suffix,i.priority=e.priority),i}class ls{constructor(){this.shouldCache=!0}sideEffect(e,t,n){}}let Ur=(()=>{class i{constructor(t,n,r,s){this._serverStylesheet=t,this._serverModuleLoaded=n,this._platformId=r,this.layoutConfig=s}applyStyleToElement(t,n,r=null){let s={};"string"==typeof n&&(s[n]=r,n=s),s=this.layoutConfig.disableVendorPrefixes?n:sN(n),this._applyMultiValueStyleToElement(s,t)}applyStyleToElements(t,n=[]){const r=this.layoutConfig.disableVendorPrefixes?t:sN(t);n.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(t){const n="flex-direction";let r=this.lookupStyle(t,n);return[r||"row",this.lookupInlineStyle(t,n)||Qh(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,n){return t.getAttribute(n)||""}lookupInlineStyle(t,n){return ad(this._platformId)?t.style.getPropertyValue(n):this._getServerStyle(t,n)}lookupStyle(t,n,r=!1){let s="";return t&&((s=this.lookupInlineStyle(t,n))||(ad(this._platformId)?r||(s=getComputedStyle(t).getPropertyValue(n)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(t,n)))),s?s.trim():""}_applyMultiValueStyleToElement(t,n){Object.keys(t).sort().forEach(r=>{const s=t[r],o=Array.isArray(s)?s:[s];o.sort();for(let a of o)a=a?a+"":"",ad(this._platformId)||!this._serverModuleLoaded?ad(this._platformId)?n.style.setProperty(r,a):this._setServerStyle(n,r,a):this._serverStylesheet.addStyleToElement(n,r,a)})}_setServerStyle(t,n,r){n=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const s=this._readStyleAttribute(t);s[n]=r||"",this._writeStyleAttribute(t,s)}_getServerStyle(t,n){return this._readStyleAttribute(t)[n]||""}_readStyleAttribute(t){const n={},r=t.getAttribute("style");if(r){const s=r.split(/;+/g);for(let o=0;o<s.length;o++){const a=s[o].trim();if(a.length>0){const l=a.indexOf(":");if(-1===l)throw new Error(`Invalid CSS style: ${a}`);n[a.substr(0,l).trim()]=a.substr(l+1).trim()}}}return n}_writeStyleAttribute(t,n){let r="";for(const s in n)n[s]&&(r+=s+":"+n[s]+";");t.setAttribute("style",r)}}return i.\u0275fac=function(t){return new(t||i)(vt(Uee),vt(vf),vt(ia),vt(lu))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function yg(i,e){return(e&&e.priority||0)-(i&&i.priority||0)}function Hee(i,e){return(i.priority||0)-(e.priority||0)}let bC=(()=>{class i{constructor(t,n,r){this._zone=t,this._platformId=n,this._document=r,this.source=new ra(new Ed(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((n,r)=>{n.matches&&t.push(r)}),t}isActive(t){const n=this.registry.get(t);return n?n.matches:this.registerQuery(t).some(r=>r.matches)}observe(t,n=!1){if(t&&t.length){const r=this._observable$.pipe(gr(o=>!n||t.indexOf(o.mediaQuery)>-1));return Kr(new xe(o=>{const a=this.registerQuery(t);if(a.length){const l=a.pop();a.forEach(c=>{o.next(c)}),this.source.next(l)}o.complete()}),r)}return this._observable$}registerQuery(t){const n=Array.isArray(t)?t:[t],r=[];return function Gee(i,e){const t=i.filter(n=>!uN[n]);if(t.length>0){const n=t.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${n} {.fx-query-test{ }}\n`)),e.head.appendChild(r),t.forEach(s=>uN[s]=r)}catch(r){console.error(r)}}}(n,this._document),n.forEach(s=>{const o=l=>{this._zone.run(()=>this.source.next(new Ed(l.matches,s)))};let a=this.registry.get(s);a||(a=this.buildMQL(s),a.addListener(o),this.pendingRemoveListenerFns.push(()=>a.removeListener(o)),this.registry.set(s,a)),a.matches&&r.push(new Ed(!0,s))}),r}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function zee(i,e){return e&&window.matchMedia("all").addListener?window.matchMedia(i):{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,ad(this._platformId))}}return i.\u0275fac=function(t){return new(t||i)(vt(si),vt(ia),vt(hi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const uN={},Wee=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],dN="(orientation: portrait) and (max-width: 599.98px)",hN="(orientation: landscape) and (max-width: 959.98px)",fN="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",pN="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",mN="(orientation: portrait) and (min-width: 840px)",gN="(orientation: landscape) and (min-width: 1280px)",xc={HANDSET:`${dN}, ${hN}`,TABLET:`${fN} , ${pN}`,WEB:`${mN}, ${gN} `,HANDSET_PORTRAIT:`${dN}`,TABLET_PORTRAIT:`${fN} `,WEB_PORTRAIT:`${mN}`,HANDSET_LANDSCAPE:`${hN}`,TABLET_LANDSCAPE:`${pN}`,WEB_LANDSCAPE:`${gN}`},$ee=[{alias:"handset",priority:2e3,mediaQuery:xc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:xc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:xc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:xc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:xc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:xc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:xc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:xc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:xc.WEB_PORTRAIT,overlapping:!0}],qee=/(\.|-|_)/g;function Yee(i){let e=i.length>0?i.charAt(0):"",t=i.length>1?i.slice(1):"";return e.toUpperCase()+t}const Qee=new mn("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const i=Qp(vC),e=Qp(lu),t=[].concat.apply([],(i||[]).map(r=>Array.isArray(r)?r:[r]));return function Kee(i,e=[]){const t={};return i.forEach(n=>{t[n.alias]=n}),e.forEach(n=>{t[n.alias]?bc(t[n.alias],n):t[n.alias]=n}),function Zee(i){return i.forEach(e=>{e.suffix||(e.suffix=function Xee(i){return i.replace(qee,"|").split("|").map(Yee).join("")}(e.alias),e.overlapping=!!e.overlapping)}),i}(Object.keys(t).map(n=>t[n]))}((e.disableDefaultBps?[]:Wee).concat(e.addOrientationBps?$ee:[]),t)}});let xC=(()=>{class i{constructor(t){this.findByMap=new Map,this.items=[...t].sort(Hee)}findByAlias(t){return t?this.findWithPredicate(t,n=>n.alias==t):null}findByQuery(t){return this.findWithPredicate(t,n=>n.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,n){let r=this.findByMap.get(t);return r||(r=this.items.find(n)||null,this.findByMap.set(t,r)),r||null}}return i.\u0275fac=function(t){return new(t||i)(vt(Qee))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bf="print",Jee={alias:bf,mediaQuery:bf,priority:1e3};let ete=(()=>{class i{constructor(t,n,r){this.breakpoints=t,this.layoutConfig=n,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new tte,this.deactivations=[]}withPrintQuery(t){return[...t,bf]}isPrintEvent(t){return t.mediaQuery.startsWith(bf)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const n=this.breakpoints.findByQuery(t);return(n?[...this.printBreakPoints,n]:this.printBreakPoints).sort(yg)}updateEvent(t){let n=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(n=this.getEventBreakpoints(t)[0],t.mediaQuery=n?n.mediaQuery:""),cN(t,n)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const n=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new Ed(!0,bf))),t.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",n),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(n),this.afterPrintEventListeners.push(r)}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),n=>{this.isPrintEvent(n)?n.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(n)),t.updateStyles()):!n.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(n)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,n){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(n)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const n=this.breakpoints.findByQuery(t.mediaQuery);n&&(this.deactivations.push(n),this.deactivations.sort(yg))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return i.\u0275fac=function(t){return new(t||i)(vt(xC),vt(lu),vt(hi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class tte{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(Jee),e.sort(yg),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(n=>n.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function nte(i){return!!i&&i.mediaQuery.startsWith(bf)}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}let $r=(()=>{class i{constructor(t,n,r){this.matchMedia=t,this.breakpoints=n,this.hook=r,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new De,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const n=this.findByQuery(t.mediaQuery);n&&((t=cN(t,n)).matches&&-1===this.activatedBreakpoints.indexOf(n)?(this.activatedBreakpoints.push(n),this.activatedBreakpoints.sort(yg),this.updateStyles()):!t.matches&&-1!==this.activatedBreakpoints.indexOf(n)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(n),1),this.activatedBreakpoints.sort(yg),this.updateStyles()))}init(t,n,r,s,o=[]){yN(this.updateMap,t,n,r),yN(this.clearMap,t,n,s),this.buildElementKeyMap(t,n),this.watchExtraTriggers(t,n,o)}getValue(t,n,r){const s=this.elementMap.get(t);if(s){const o=void 0!==r?s.get(r):this.getActivatedValues(s,n);if(o)return o.get(n)}}hasValue(t,n){const r=this.elementMap.get(t);if(r){const s=this.getActivatedValues(r,n);if(s)return void 0!==s.get(n)||!1}return!1}setValue(t,n,r,s){let o=this.elementMap.get(t);if(o){const l=(o.get(s)||new Map).set(n,r);o.set(s,l),this.elementMap.set(t,o)}else o=(new Map).set(s,(new Map).set(n,r)),this.elementMap.set(t,o);const a=this.getValue(t,n);void 0!==a&&this.updateElement(t,n,a)}trackValue(t,n){return this.subject.asObservable().pipe(gr(r=>r.element===t&&r.key===n))}updateStyles(){this.elementMap.forEach((t,n)=>{const r=new Set(this.elementKeyMap.get(n));let s=this.getActivatedValues(t);s&&s.forEach((o,a)=>{this.updateElement(n,a,o),r.delete(a)}),r.forEach(o=>{if(s=this.getActivatedValues(t,o),s){const a=s.get(o);this.updateElement(n,o,a)}else this.clearElement(n,o)})})}clearElement(t,n){const r=this.clearMap.get(t);if(r){const s=r.get(n);s&&(s(),this.subject.next({element:t,key:n,value:""}))}}updateElement(t,n,r){const s=this.updateMap.get(t);if(s){const o=s.get(n);o&&(o(r),this.subject.next({element:t,key:n,value:r}))}}releaseElement(t){const n=this.watcherMap.get(t);n&&(n.forEach(s=>s.unsubscribe()),this.watcherMap.delete(t));const r=this.elementMap.get(t);r&&(r.forEach((s,o)=>r.delete(o)),this.elementMap.delete(t))}triggerUpdate(t,n){const r=this.elementMap.get(t);if(r){const s=this.getActivatedValues(r,n);s&&(n?this.updateElement(t,n,s.get(n)):s.forEach((o,a)=>this.updateElement(t,a,o)))}}buildElementKeyMap(t,n){let r=this.elementKeyMap.get(t);r||(r=new Set,this.elementKeyMap.set(t,r)),r.add(n)}watchExtraTriggers(t,n,r){if(r&&r.length){let s=this.watcherMap.get(t);if(s||(s=new Map,this.watcherMap.set(t,s)),!s.get(n)){const a=Kr(...r).subscribe(()=>{const l=this.getValue(t,n);this.updateElement(t,n,l)});s.set(n,a)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,n){for(let s=0;s<this.activatedBreakpoints.length;s++){const a=t.get(this.activatedBreakpoints[s].alias);if(a&&(void 0===n||a.has(n)&&null!=a.get(n)))return a}const r=t.get("");return void 0===n||r&&r.has(n)?r:void 0}observeActivations(){const n=this.breakpoints.items.map(r=>r.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(n)).pipe(ks(this.hook.interceptEvents(this)),gr(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return i.\u0275fac=function(t){return new(t||i)(vt(bC),vt(xC),vt(ete))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function yN(i,e,t,n){if(void 0!==n){let r=i.get(e);r||(r=new Map,i.set(e,r)),r.set(t,n)}}let es=(()=>{class i{constructor(t,n,r,s){this.elementRef=t,this.styleBuilder=n,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new De,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(n=>{if(-1!==this.inputs.indexOf(n)){const r=n.split(".").slice(1).join(".");this.setValue(t[n].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,n){const r=this.styleBuilder,s=r.shouldCache;let o=this.styleCache.get(t);(!o||!s)&&(o=r.buildStyles(t,n),s&&this.styleCache.set(t,o)),this.mru=Object.assign({},o),this.applyStyleToElement(o),r.sideEffect(t,o,n)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,n=!1){if(t){const[r,s]=this.styler.getFlowDirection(t);if(!s&&n){const o=oN(r);this.styler.applyStyleToElements(o,[t])}return r.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,n,r=this.nativeElement){this.styler.applyStyleToElement(r,t,n)}setValue(t,n){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,n)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(ls),ae(Ur),ae($r))},i.\u0275dir=kt({type:i,features:[Rr]}),i})();function _N(i,e="1",t="1"){let n=[e,t,i],r=i.indexOf("calc");if(r>0){n[2]=vN(i.substring(r).trim());let s=i.substr(0,r).trim().split(" ");2==s.length&&(n[0]=s[0],n[1]=s[1])}else if(0==r)n[2]=vN(i.trim());else{let s=i.split(" ");n=3===s.length?s:[e,t,i]}return n}function vN(i){return i.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let CN=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[yC]]}),i})(),Mte=(()=>{class i extends ls{buildStyles(t){return oN(t)}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ste=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Cte=(()=>{class i extends es{constructor(t,n,r,s){super(t,r,n,s),this.DIRECTIVE_KEY="layout",this.styleCache=Ete,this.init()}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Ur),ae(Mte),ae($r))},i.\u0275dir=kt({type:i,features:[an]}),i})(),MC=(()=>{class i extends Cte{constructor(){super(...arguments),this.inputs=Ste}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275dir=kt({type:i,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[an]}),i})();const Ete=new Map;let Bte=(()=>{class i extends ls{constructor(t){super(),this.layoutConfig=t}buildStyles(t,n){let[r,s,...o]=t.split(" "),a=o.join(" ");const l=n.direction.indexOf("column")>-1?"column":"row",c=gg(l)?"max-width":"max-height",y=gg(l)?"min-width":"min-height",x=String(a).indexOf("calc")>-1,C=x||"auto"===a,A=String(a).indexOf("%")>-1&&!x,P=String(a).indexOf("px")>-1||String(a).indexOf("rem")>-1||String(a).indexOf("em")>-1||String(a).indexOf("vw")>-1||String(a).indexOf("vh")>-1;let L=x||P;r="0"==r?0:r,s="0"==s?0:s;const H=!r&&!s;let F={};const N={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(a||""){case"":const q=!1!==this.layoutConfig.useColumnBasisZero;a="row"===l?"0%":q?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,a="auto";break;case"grow":a="100%";break;case"noshrink":s=0,a="auto";break;case"auto":break;case"none":r=0,s=0,a="auto";break;default:!L&&!A&&!isNaN(a)&&(a+="%"),"0%"===a&&(L=!0),"0px"===a&&(a="0%"),F=bc(N,x?{"flex-grow":r,"flex-shrink":s,"flex-basis":L?a:"100%"}:{flex:`${r} ${s} ${L?a:"100%"}`})}return F.flex||F["flex-grow"]||(F=bc(N,x?{"flex-grow":r,"flex-shrink":s,"flex-basis":a}:{flex:`${r} ${s} ${a}`})),"0%"!==a&&"0px"!==a&&"0.000000001px"!==a&&"auto"!==a&&(F[y]=H||L&&r?a:null,F[c]=H||!C&&s?a:null),F[y]||F[c]?n.hasWrap&&(F[x?"flex-basis":"flex"]=F[c]?x?F[c]:`${r} ${s} ${F[c]}`:x?F[y]:`${r} ${s} ${F[y]}`):F=bc(N,x?{"flex-grow":r,"flex-shrink":s,"flex-basis":a}:{flex:`${r} ${s} ${a}`}),bc(F,{"box-sizing":"border-box"})}}return i.\u0275fac=function(t){return new(t||i)(vt(lu))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const jte=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Vte=(()=>{class i extends es{constructor(t,n,r,s,o){super(t,s,n,o),this.layoutConfig=r,this.marshal=o,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Ci(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Ci(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const r=t.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,s=r.startsWith("row"),o=this.wrap;s&&o?this.styleCache=Gte:s&&!o?this.styleCache=Ute:!s&&o?this.styleCache=zte:!s&&!o&&(this.styleCache=Hte);const l=_N(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(l.join(" "),{direction:r,hasWrap:o})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const n=_N(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,n.join(" "))}}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Ur),ae(lu),ae(Bte),ae($r))},i.\u0275dir=kt({type:i,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[an]}),i})(),AN=(()=>{class i extends Vte{constructor(){super(...arguments),this.inputs=jte}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275dir=kt({type:i,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[an]}),i})();const Ute=new Map,Hte=new Map,Gte=new Map,zte=new Map,cne={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let une=(()=>{class i extends ls{buildStyles(t){return cne}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),TN=(()=>{class i extends es{constructor(t,n,r,s){super(t,r,n,s),this.styleCache=dne,this.addStyles("")}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Ur),ae(une),ae($r))},i.\u0275dir=kt({type:i,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[an]}),i})();const dne=new Map;let RN=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[yC,tf]]}),i})(),BN=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[yC]]}),i})(),Wie=(()=>{class i{constructor(t,n){Qh(n)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,n=[]){return{ngModule:i,providers:t.serverLoaded?[{provide:lu,useValue:Object.assign(Object.assign({},_C),t)},{provide:vC,useValue:n,multi:!0},{provide:vf,useValue:!0}]:[{provide:lu,useValue:Object.assign(Object.assign({},_C),t)},{provide:vC,useValue:n,multi:!0}]}}}return i.\u0275fac=function(t){return new(t||i)(vt(vf),vt(ia))},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[RN,CN,BN],RN,CN,BN]}),i})(),$ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[XM,Fi],Fi]}),i})();const qie=["*",[["mat-card-footer"]]],Yie=["*","mat-card-footer"],Xie=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Zie=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let Kie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),i})(),Qie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),Jie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),i})(),ere=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),i})(),tre=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),i})(),nre=(()=>{class i{constructor(t){this._animationMode=t}}return i.\u0275fac=function(t){return new(t||i)(ae(rl,8))},i.\u0275cmp=xi({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,n){2&t&&Ui("_mat-animation-noopable","NoopAnimations"===n._animationMode)},exportAs:["matCard"],ngContentSelectors:Yie,decls:2,vars:0,template:function(t,n){1&t&&(zr(qie),Ti(0),Ti(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i})(),ire=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=xi({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Zie,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,n){1&t&&(zr(Xie),Ti(0),ot(1,"div",0),Ti(2,1),at(),Ti(3,2))},encapsulation:2,changeDetection:0}),i})(),rre=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[Fi],Fi]}),i})();function sre(i,e){}class SC{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const ore={dialogContainer:Nl("dialogContainer",[Wo("void, exit",cr({opacity:0,transform:"scale(0.7)"})),Wo("enter",cr({transform:"none"})),io("* => enter",vo("150ms cubic-bezier(0, 0, 0.2, 1)",cr({transform:"none",opacity:1}))),io("* => void, * => exit",vo("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",cr({opacity:0})))])};let are=(()=>{class i extends FS{constructor(t,n,r,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=n,this._changeDetectorRef=r,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new Dn,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=y=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(y)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const n=Hm(),r=this._elementRef.nativeElement;(!n||n===this._document.body||n===r||r.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Hm())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,n=Hm();return t===n||t.contains(n)}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(WM),ae(Vr),ae(hi,8),ae(SC),ae(zM),ae(si),ae(Fl))},i.\u0275dir=kt({type:i,viewQuery:function(t,n){if(1&t&&Wr(zv,7),2&t){let r;ni(r=ii())&&(n._portalOutlet=r.first)}},features:[an]}),i})(),lre=(()=>{class i extends are{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:n}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}_onAnimationStart({toState:t,totalTime:n}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:n}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:n})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275cmp=xi({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,n){1&t&&pm("@dialogContainer.start",function(s){return n._onAnimationStart(s)})("@dialogContainer.done",function(s){return n._onAnimationDone(s)}),2&t&&(lc("id",n._id),bi("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),gm("@dialogContainer",n._state))},features:[an],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,n){1&t&&Ni(0,sre,0,0,"ng-template",0)},directives:[zv],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[ore.dialogContainer]}}),i})(),cre=0;class b0{constructor(e,t,n="mat-dialog-"+cre++){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new De,this._afterClosed=new De,this._beforeClosed=new De,this._state=0,t._id=n,t._animationStateChanged.pipe(gr(r=>"opened"===r.state),sr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(gr(r=>"closed"===r.state),sr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(gr(r=>27===r.keyCode&&!this.disableClose&&!ko(r))).subscribe(r=>{r.preventDefault(),CC(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():CC(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(gr(t=>"closing"===t.state),sr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function CC(i,e,t){return void 0!==i._containerInstance&&(i._containerInstance._closeInteractionType=e),i.close(t)}const jN=new mn("MatDialogData"),ure=new mn("mat-dialog-default-options"),VN=new mn("mat-dialog-scroll-strategy"),hre={provide:VN,deps:[ka],useFactory:function dre(i){return()=>i.scrollStrategies.block()}};let fre=(()=>{class i{constructor(t,n,r,s,o,a,l,c,y,x){this._overlay=t,this._injector=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=y,this._animationMode=x,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new De,this._afterOpenedAtThisLevel=new De,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=e0(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Gs(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,n){if(n=function pre(i,e){return Object.assign(Object.assign({},e),i)}(n,this._defaultOptions||new SC),n.id&&this.getDialogById(n.id),this._dialogAnimatingOpen)return this._lastDialogRef;const r=this._createOverlay(n),s=this._attachDialogContainer(r,n);if("NoopAnimations"!==this._animationMode){const a=s._animationStateChanged.subscribe(l=>{"opening"===l.state&&(this._dialogAnimatingOpen=!0),"opened"===l.state&&(this._dialogAnimatingOpen=!1,a.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new S),this._animationStateSubscriptions.add(a)}const o=this._attachDialogContent(t,s,r,n);return this._lastDialogRef=o,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const n=this._getOverlayConfig(t);return this._overlay.create(n)}_getOverlayConfig(t){const n=new Jm({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(n.backdropClass=t.backdropClass),n}_attachDialogContainer(t,n){const s=os.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:SC,useValue:n}]}),o=new df(this._dialogContainerType,n.viewContainerRef,s,n.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,n,r,s){const o=new this._dialogRefConstructor(r,n,s.id);if(t instanceof Ea)n.attachTemplatePortal(new Gv(t,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,n),l=n.attachComponentPortal(new df(t,s.viewContainerRef,a));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(t,n,r){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:n}];return t.direction&&(!s||!s.get(no,null,ti.Optional))&&o.push({provide:no,useValue:{value:t.direction,change:Jn()}}),os.create({parent:s||this._injector,providers:o})}_removeOpenDialog(t){const n=this.openDialogs.indexOf(t);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const n=t.parentElement.children;for(let r=n.length-1;r>-1;r--){let s=n[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let n=t.length;for(;n--;)t[n].close()}}return i.\u0275fac=function(t){nd()},i.\u0275dir=kt({type:i}),i})(),x0=(()=>{class i extends fre{constructor(t,n,r,s,o,a,l,c){super(t,n,s,a,l,o,b0,lre,jN,c)}}return i.\u0275fac=function(t){return new(t||i)(vt(ka),vt(os),vt(Dm,8),vt(ure,8),vt(VN),vt(i,12),vt(jS),vt(rl,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),mre=0,gre=(()=>{class i{constructor(t,n,r){this.dialogRef=t,this._elementRef=n,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=UN(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const n=t._matDialogClose||t._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(t){CC(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return i.\u0275fac=function(t){return new(t||i)(ae(b0,8),ae(Cn),ae(x0))},i.\u0275dir=kt({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,n){1&t&&Mn("click",function(s){return n._onButtonClick(s)}),2&t&&bi("aria-label",n.ariaLabel||null)("type",n.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Rr]}),i})(),yre=(()=>{class i{constructor(t,n,r){this._dialogRef=t,this._elementRef=n,this._dialog=r,this.id="mat-dialog-title-"+mre++}ngOnInit(){this._dialogRef||(this._dialogRef=UN(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return i.\u0275fac=function(t){return new(t||i)(ae(b0,8),ae(Cn),ae(x0))},i.\u0275dir=kt({type:i,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,n){2&t&&lc("id",n.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),i})(),_re=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),i})(),vre=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),i})();function UN(i,e){let t=i.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(n=>n.id===t.id):null}let bre=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[x0,hre],imports:[[eg,NS,Fi],Fi]}),i})();const xre=["connectionContainer"],wre=["inputContainer"],Mre=["label"];function Sre(i,e){1&i&&(b_(0),ot(1,"div",14),Ai(2,"div",15),Ai(3,"div",16),Ai(4,"div",17),at(),ot(5,"div",18),Ai(6,"div",15),Ai(7,"div",16),Ai(8,"div",17),at(),x_())}function Cre(i,e){if(1&i){const t=Ya();ot(0,"div",19),Mn("cdkObserveContent",function(){return vs(t),wi().updateOutlineGap()}),Ti(1,1),at()}2&i&&un("cdkObserveContentDisabled","outline"!=wi().appearance)}function Ere(i,e){if(1&i&&(b_(0),Ti(1,2),ot(2,"span"),Fn(3),at(),x_()),2&i){const t=wi(2);on(3),Ho(t._control.placeholder)}}function Dre(i,e){1&i&&Ti(0,3,["*ngSwitchCase","true"])}function Are(i,e){1&i&&(ot(0,"span",23),Fn(1," *"),at())}function Tre(i,e){if(1&i){const t=Ya();ot(0,"label",20,21),Mn("cdkObserveContent",function(){return vs(t),wi().updateOutlineGap()}),Ni(2,Ere,4,1,"ng-container",12),Ni(3,Dre,1,0,"ng-content",12),Ni(4,Are,2,0,"span",22),at()}if(2&i){const t=wi();Ui("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),un("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),bi("for",t._control.id)("aria-owns",t._control.id),on(2),un("ngSwitchCase",!1),on(1),un("ngSwitchCase",!0),on(1),un("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Rre(i,e){1&i&&(ot(0,"div",24),Ti(1,4),at())}function Ire(i,e){if(1&i&&(ot(0,"div",25),Ai(1,"span",26),at()),2&i){const t=wi();on(1),Ui("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function kre(i,e){1&i&&(ot(0,"div"),Ti(1,5),at()),2&i&&un("@transitionMessages",wi()._subscriptAnimationState)}function Pre(i,e){if(1&i&&(ot(0,"div",30),Fn(1),at()),2&i){const t=wi(2);un("id",t._hintLabelId),on(1),Ho(t.hintLabel)}}function Lre(i,e){if(1&i&&(ot(0,"div",27),Ni(1,Pre,2,2,"div",28),Ti(2,6),Ai(3,"div",29),Ti(4,7),at()),2&i){const t=wi();un("@transitionMessages",t._subscriptAnimationState),on(1),un("ngIf",t.hintLabel)}}const Ore=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Fre=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Nre=new mn("MatError"),Bre={transitionMessages:Nl("transitionMessages",[Wo("enter",cr({opacity:1,transform:"translateY(0%)"})),io("void => enter",[cr({opacity:0,transform:"translateY(-5px)"}),vo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let w0=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i}),i})();const jre=new mn("MatHint");let _g=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["mat-label"]]}),i})(),Vre=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["mat-placeholder"]]}),i})();const Ure=new mn("MatPrefix"),HN=new mn("MatSuffix");let GN=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["","matSuffix",""]],features:[Bi([{provide:HN,useExisting:i}])]}),i})(),zN=0;const Gre=yd(class{constructor(i){this._elementRef=i}},"primary"),zre=new mn("MAT_FORM_FIELD_DEFAULT_OPTIONS"),M0=new mn("MatFormField");let EC=(()=>{class i extends Gre{constructor(t,n,r,s,o,a,l){super(t),this._changeDetectorRef=n,this._dir=r,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new De,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+zN++,this._labelId="mat-form-field-label-"+zN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const n=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&n!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=oi(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Gs(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ci(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ci(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Kr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Gs(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Gs(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ci(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const n=this._control?this._control.ngControl:null;return n&&n[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,hf(this._label.nativeElement,"transitionend").pipe(sr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?t.push(n.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let n=0,r=0;const s=this._connectionContainerRef.nativeElement,o=s.querySelectorAll(".mat-form-field-outline-start"),a=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const l=s.getBoundingClientRect();if(0===l.width&&0===l.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const c=this._getStartEnd(l),y=t.children,x=this._getStartEnd(y[0].getBoundingClientRect());let C=0;for(let A=0;A<y.length;A++)C+=y[A].offsetWidth;n=Math.abs(x-c)-5,r=C>0?.75*C+10:0}for(let l=0;l<o.length;l++)o[l].style.width=`${n}px`;for(let l=0;l<a.length;l++)a[l].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const n=t.getRootNode();return n&&n!==t}return document.documentElement.contains(t)}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Vr),ae(no,8),ae(zre,8),ae(Hs),ae(si),ae(rl,8))},i.\u0275cmp=xi({type:i,selectors:[["mat-form-field"]],contentQueries:function(t,n,r){if(1&t&&(fr(r,w0,5),fr(r,w0,7),fr(r,_g,5),fr(r,_g,7),fr(r,Vre,5),fr(r,Nre,5),fr(r,jre,5),fr(r,Ure,5),fr(r,HN,5)),2&t){let s;ni(s=ii())&&(n._controlNonStatic=s.first),ni(s=ii())&&(n._controlStatic=s.first),ni(s=ii())&&(n._labelChildNonStatic=s.first),ni(s=ii())&&(n._labelChildStatic=s.first),ni(s=ii())&&(n._placeholderChild=s.first),ni(s=ii())&&(n._errorChildren=s),ni(s=ii())&&(n._hintChildren=s),ni(s=ii())&&(n._prefixChildren=s),ni(s=ii())&&(n._suffixChildren=s)}},viewQuery:function(t,n){if(1&t&&(Wr(xre,7),Wr(wre,5),Wr(Mre,5)),2&t){let r;ni(r=ii())&&(n._connectionContainerRef=r.first),ni(r=ii())&&(n._inputContainerRef=r.first),ni(r=ii())&&(n._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,n){2&t&&Ui("mat-form-field-appearance-standard","standard"==n.appearance)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-appearance-legacy","legacy"==n.appearance)("mat-form-field-invalid",n._control.errorState)("mat-form-field-can-float",n._canLabelFloat())("mat-form-field-should-float",n._shouldLabelFloat())("mat-form-field-has-label",n._hasFloatingLabel())("mat-form-field-hide-placeholder",n._hideControlPlaceholder())("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-focused",n._control.focused)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))("_mat-animation-noopable",!n._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Bi([{provide:M0,useExisting:i}]),an],ngContentSelectors:Fre,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,n){1&t&&(zr(Ore),ot(0,"div",0),ot(1,"div",1,2),Mn("click",function(s){return n._control.onContainerClick&&n._control.onContainerClick(s)}),Ni(3,Sre,9,0,"ng-container",3),Ni(4,Cre,2,1,"div",4),ot(5,"div",5,6),Ti(7),ot(8,"span",7),Ni(9,Tre,5,16,"label",8),at(),at(),Ni(10,Rre,2,0,"div",9),at(),Ni(11,Ire,2,4,"div",10),ot(12,"div",11),Ni(13,kre,2,1,"div",12),Ni(14,Lre,5,2,"div",13),at(),at()),2&t&&(on(3),un("ngIf","outline"==n.appearance),on(1),un("ngIf",n._prefixChildren.length),on(5),un("ngIf",n._hasFloatingLabel()),on(1),un("ngIf",n._suffixChildren.length),on(1),un("ngIf","outline"!=n.appearance),on(1),un("ngSwitch",n._getDisplayedMessages()),on(1),un("ngSwitchCase","error"),on(1),un("ngSwitchCase","hint"))},directives:[pc,Kh,Y_,PL],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Bre.transitionMessages]},changeDetection:0}),i})(),S0=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[tl,Fi,HM],Fi]}),i})();const $N=cd({passive:!0});let Wre=(()=>{class i{constructor(t,n){this._platform=t,this._ngZone=n,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Bs;const n=mc(t),r=this._monitoredElements.get(n);if(r)return r.subject;const s=new De,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(n.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,$N),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",a,$N)}}),s}stopMonitoring(t){const n=mc(t),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}}return i.\u0275fac=function(t){return new(t||i)(vt(Hs),vt(si))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qN=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[nf]]}),i})();const YN=new mn("MAT_INPUT_VALUE_ACCESSOR"),$re=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let qre=0;const Yre=zO(class{constructor(i,e,t,n){this._defaultErrorStateMatcher=i,this._parentForm=e,this._parentFormGroup=t,this.ngControl=n}});let DC=(()=>{class i extends Yre{constructor(t,n,r,s,o,a,l,c,y,x){super(a,s,o,r),this._elementRef=t,this._platform=n,this._autofillMonitor=c,this._formField=x,this._uid="mat-input-"+qre++,this.focused=!1,this.stateChanges=new De,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(P=>DL().has(P));const C=this._elementRef.nativeElement,A=C.nodeName.toLowerCase();this._inputValueAccessor=l||C,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&y.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",P=>{const L=P.target;!L.value&&0===L.selectionStart&&0===L.selectionEnd&&(L.setSelectionRange(1,1),L.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===A,this._isTextarea="textarea"===A,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=C.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=oi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,n,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(n=this.ngControl)||void 0===n?void 0:n.control)||void 0===r?void 0:r.hasValidator(uM.required))&&void 0!==s&&s}set required(t){this._required=oi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&DL().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=oi(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,n;const r=(null===(n=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===n?void 0:n.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){$re.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Hs),ae(kl,10),ae(Nm,8),ae(jm,8),ae(TS),ae(YN,10),ae(Wre),ae(si),ae(M0,8))},i.\u0275dir=kt({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,n){1&t&&Mn("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&t&&(lc("disabled",n.disabled)("required",n.required),bi("id",n.id)("data-placeholder",n.placeholder)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required),Ui("mat-input-server",n._isServer)("mat-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Bi([{provide:w0,useExisting:i}]),an,Rr]}),i})(),Xre=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[TS],imports:[[qN,S0,Fi],qN,S0]}),i})();const Zre=["sliderWrapper"],La=cd({passive:!1}),tse={provide:zo,useExisting:Li(()=>AC),multi:!0};class nse{}const ise=DS(yd(uf(class{constructor(i){this._elementRef=i}}),"accent"));let AC=(()=>{class i extends ise{constructor(t,n,r,s,o,a,l,c){super(t),this._focusMonitor=n,this._changeDetectorRef=r,this._dir=s,this._ngZone=a,this._animationMode=c,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new Dn,this.input=new Dn,this.valueChange=new Dn,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=S.EMPTY,this._pointerDown=y=>{this.disabled||this._isSliding||!vg(y)&&0!==y.button||this._ngZone.run(()=>{this._touchId=vg(y)?function rse(i,e){for(let t=0;t<i.touches.length;t++){const n=i.touches[t].target;if(e===n||e.contains(n))return i.touches[t].identifier}}(y,this._elementRef.nativeElement):void 0;const x=XN(y,this._touchId);if(x){const C=this.value;this._isSliding="pointer",this._lastPointerEvent=y,y.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(y),this._focusHostElement(),this._updateValueFromPosition(x),this._valueOnSlideStart=C,C!=this.value&&this._emitInputEvent()}})},this._pointerMove=y=>{if("pointer"===this._isSliding){const x=XN(y,this._touchId);if(x){y.preventDefault();const C=this.value;this._lastPointerEvent=y,this._updateValueFromPosition(x),C!=this.value&&this._emitInputEvent()}}},this._pointerUp=y=>{"pointer"===this._isSliding&&(!vg(y)||"number"!=typeof this._touchId||TC(y.changedTouches,this._touchId))&&(y.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=l,this.tabIndex=parseInt(o)||0,a.runOutsideAngular(()=>{const y=t.nativeElement;y.addEventListener("mousedown",this._pointerDown,La),y.addEventListener("touchstart",this._pointerDown,La)})}get invert(){return this._invert}set invert(t){this._invert=oi(t)}get max(){return this._max}set max(t){this._max=Ta(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=Ta(t,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=Ta(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=oi(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?Ta(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let n=Ta(t,0);this._roundToDecimal&&n!==this.min&&n!==this.max&&(n=parseFloat(n.toFixed(this._roundToDecimal))),this._value=n,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=oi(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const n=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${n})`}}_getTrackFillStyles(){const t=this.percent,r=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${r})`,display:0===t?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let t=100*this._tickIntervalPercent,a={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const l=this._shouldInvertAxis();let c;c=this.vertical?l?"Bottom":"Top":l?"Right":"Left",a[`padding${c}`]=`${this._getThumbGap()}px`}return a}_getThumbContainerStyles(){const t=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?t:!t)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const t=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?t:!t}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,La),t.removeEventListener("touchstart",this._pointerDown,La),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||ko(t)||this._isSliding&&"keyboard"!==this._isSliding)return;const n=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}n!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",t.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const n=this._document,r=vg(t),o=r?"touchend":"mouseup";n.addEventListener(r?"touchmove":"mousemove",this._pointerMove,La),n.addEventListener(o,this._pointerUp,La),r&&n.addEventListener("touchcancel",this._pointerUp,La);const a=this._getWindow();void 0!==a&&a&&a.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,La),t.removeEventListener("mouseup",this._pointerUp,La),t.removeEventListener("touchmove",this._pointerMove,La),t.removeEventListener("touchend",this._pointerUp,La),t.removeEventListener("touchcancel",this._pointerUp,La);const n=this._getWindow();void 0!==n&&n&&n.removeEventListener("blur",this._windowBlur)}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let o=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(o=1-o),0===o)this.value=this.min;else if(1===o)this.value=this.max;else{const a=this._calculateValue(o),l=Math.round((a-this.min)/this.step)*this.step+this.min;this.value=this._clamp(l,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,s=Math.ceil(30/(t*this.step/(this.max-this.min)))*this.step;this._tickIntervalPercent=s/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let n=new nse;return n.source=this,n.value=t,n}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,n=0,r=1){return Math.max(n,Math.min(t,r))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Fl),ae(Vr),ae(no,8),za("tabindex"),ae(si),ae(hi),ae(rl,8))},i.\u0275cmp=xi({type:i,selectors:[["mat-slider"]],viewQuery:function(t,n){if(1&t&&Wr(Zre,5),2&t){let r;ni(r=ii())&&(n._sliderWrapper=r.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(t,n){1&t&&Mn("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()})("keydown",function(s){return n._onKeydown(s)})("keyup",function(){return n._onKeyup()})("mouseenter",function(){return n._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&t&&(lc("tabIndex",n.tabIndex),bi("aria-disabled",n.disabled)("aria-valuemax",n.max)("aria-valuemin",n.min)("aria-valuenow",n.value)("aria-valuetext",null==n.valueText?n.displayValue:n.valueText)("aria-orientation",n.vertical?"vertical":"horizontal"),Ui("mat-slider-disabled",n.disabled)("mat-slider-has-ticks",n.tickInterval)("mat-slider-horizontal",!n.vertical)("mat-slider-axis-inverted",n._shouldInvertAxis())("mat-slider-invert-mouse-coords",n._shouldInvertMouseCoords())("mat-slider-sliding",n._isSliding)("mat-slider-thumb-label-showing",n.thumbLabel)("mat-slider-vertical",n.vertical)("mat-slider-min-value",n._isMinValue())("mat-slider-hide-last-tick",n.disabled||n._isMinValue()&&n._getThumbGap()&&n._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[Bi([tse]),an],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,n){1&t&&(ot(0,"div",0,1),ot(2,"div",2),Ai(3,"div",3),Ai(4,"div",4),at(),ot(5,"div",5),Ai(6,"div",6),at(),ot(7,"div",7),Ai(8,"div",8),Ai(9,"div",9),ot(10,"div",10),ot(11,"span",11),Fn(12),at(),at(),at(),at()),2&t&&(on(3),un("ngStyle",n._getTrackBackgroundStyles()),on(1),un("ngStyle",n._getTrackFillStyles()),on(1),un("ngStyle",n._getTicksContainerStyles()),on(1),un("ngStyle",n._getTicksStyles()),on(1),un("ngStyle",n._getThumbContainerStyles()),on(5),Ho(n.displayValue))},directives:[X_],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),i})();function vg(i){return"t"===i.type[0]}function XN(i,e){let t;return t=vg(i)?"number"==typeof e?TC(i.touches,e)||TC(i.changedTouches,e):i.touches[0]||i.changedTouches[0]:i,t?{x:t.clientX,y:t.clientY}:void 0}function TC(i,e){for(let t=0;t<i.length;t++)if(i[t].identifier===e)return i[t]}let sse=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[tl,Fi],Fi]}),i})(),lse=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[Vv,Fi],Vv,Fi]}),i})();const C0=["*"];function cse(i,e){if(1&i){const t=Ya();ot(0,"div",2),Mn("click",function(){return vs(t),wi()._onBackdropClicked()}),at()}2&i&&Ui("mat-drawer-shown",wi()._isShowingBackdrop())}function use(i,e){1&i&&(ot(0,"mat-drawer-content"),Ti(1,2),at())}const dse=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],hse=["mat-drawer","mat-drawer-content","*"];function fse(i,e){if(1&i){const t=Ya();ot(0,"div",2),Mn("click",function(){return vs(t),wi()._onBackdropClicked()}),at()}2&i&&Ui("mat-drawer-shown",wi()._isShowingBackdrop())}function pse(i,e){1&i&&(ot(0,"mat-sidenav-content",3),Ti(1,2),at())}const mse=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],gse=["mat-sidenav","mat-sidenav-content","*"],KN={transformDrawer:Nl("transform",[Wo("open, open-instant",cr({transform:"none",visibility:"visible"})),Wo("void",cr({"box-shadow":"none",visibility:"hidden"})),io("void => open-instant",vo("0ms")),io("void <=> open, open-instant => void",vo("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},_se=new mn("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function vse(){return!1}}),RC=new mn("MAT_DRAWER_CONTAINER");let E0=(()=>{class i extends Wv{constructor(t,n,r,s,o){super(r,s,o),this._changeDetectorRef=t,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(t){return new(t||i)(ae(Vr),ae(Li(()=>JN)),ae(Cn),ae(Qm),ae(si))},i.\u0275cmp=xi({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,n){2&t&&Al("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[an],ngContentSelectors:C0,decls:1,vars:0,template:function(t,n){1&t&&(zr(),Ti(0))},encapsulation:2,changeDetection:0}),i})(),QN=(()=>{class i{constructor(t,n,r,s,o,a,l,c){this._elementRef=t,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=a,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new De,this._animationEnd=new De,this._animationState="void",this.openedChange=new Dn(!0),this._openedStream=this.openedChange.pipe(gr(y=>y),z(()=>{})),this.openedStart=this._animationStarted.pipe(gr(y=>y.fromState!==y.toState&&0===y.toState.indexOf("open")),LS(void 0)),this._closedStream=this.openedChange.pipe(gr(y=>!y),z(()=>{})),this.closedStart=this._animationStarted.pipe(gr(y=>y.fromState!==y.toState&&"void"===y.toState),LS(void 0)),this._destroyed=new De,this.onPositionChanged=new Dn,this._modeChanged=new De,this.openedChange.subscribe(y=>{y?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{hf(this._elementRef.nativeElement,"keydown").pipe(gr(y=>27===y.keyCode&&!this.disableClose&&!ko(y)),Ci(this._destroyed)).subscribe(y=>this._ngZone.run(()=>{this.close(),y.stopPropagation(),y.preventDefault()}))}),this._animationEnd.pipe(UM((y,x)=>y.fromState===x.fromState&&y.toState===x.toState)).subscribe(y=>{const{fromState:x,toState:C}=y;(0===C.indexOf("open")&&"void"===x||"void"===C&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=oi(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"===this.mode?"dialog":"first-tabbable":t}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=oi(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(oi(t))}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var t;const n=null===(t=this._doc)||void 0===t?void 0:t.activeElement;return!!n&&this._elementRef.nativeElement.contains(n)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,n){t&&n&&(this._openedVia=n);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,n,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(sr(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(WM),ae(Fl),ae(Hs),ae(si),ae(zM),ae(hi,8),ae(RC,8))},i.\u0275cmp=xi({type:i,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,n){1&t&&pm("@transform.start",function(s){return n._animationStarted.next(s)})("@transform.done",function(s){return n._animationEnd.next(s)}),2&t&&(bi("align",null),gm("@transform",n._animationState),Ui("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:C0,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,n){1&t&&(zr(),ot(0,"div",0),Ti(1),at())},directives:[Wv],encapsulation:2,data:{animation:[KN.transformDrawer]},changeDetection:0}),i})(),JN=(()=>{class i{constructor(t,n,r,s,o,a=!1,l){this._dir=t,this._element=n,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=l,this._drawers=new rd,this.backdropClick=new Dn,this._destroyed=new De,this._doCheckSubject=new De,this._contentMargins={left:null,right:null},this._contentMarginChanges=new De,t&&t.change.pipe(Ci(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Ci(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=oi(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:oi(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Gs(this._allDrawers),Ci(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Gs(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(_v(10),Ci(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,n-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();n+=r,t-=r}t=t||null,n=n||null,(t!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:t,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(gr(n=>n.fromState!==n.toState),Ci(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Ci(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(Ci(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(sr(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Ci(Kr(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return i.\u0275fac=function(t){return new(t||i)(ae(no,8),ae(Cn),ae(si),ae(Vr),ae($v),ae(_se),ae(rl,8))},i.\u0275cmp=xi({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(t,n,r){if(1&t&&(fr(r,E0,5),fr(r,QN,5)),2&t){let s;ni(s=ii())&&(n._content=s.first),ni(s=ii())&&(n._allDrawers=s)}},viewQuery:function(t,n){if(1&t&&Wr(E0,5),2&t){let r;ni(r=ii())&&(n._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,n){2&t&&Ui("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Bi([{provide:RC,useExisting:i}])],ngContentSelectors:hse,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,n){1&t&&(zr(dse),Ni(0,cse,1,2,"div",0),Ti(1),Ti(2,1),Ni(3,use,2,0,"mat-drawer-content",1)),2&t&&(un("ngIf",n.hasBackdrop),on(3),un("ngIf",!n._content))},directives:[pc,E0],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),i})(),IC=(()=>{class i extends E0{constructor(t,n,r,s,o){super(t,n,r,s,o)}}return i.\u0275fac=function(t){return new(t||i)(ae(Vr),ae(Li(()=>tB)),ae(Cn),ae(Qm),ae(si))},i.\u0275cmp=xi({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,n){2&t&&Al("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[an],ngContentSelectors:C0,decls:1,vars:0,template:function(t,n){1&t&&(zr(),Ti(0))},encapsulation:2,changeDetection:0}),i})(),eB=(()=>{class i extends QN{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=oi(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Ta(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Ta(t)}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275cmp=xi({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,n){2&t&&(bi("align",null),Al("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),Ui("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened)("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[an],ngContentSelectors:C0,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,n){1&t&&(zr(),ot(0,"div",0),Ti(1),at())},directives:[Wv],encapsulation:2,data:{animation:[KN.transformDrawer]},changeDetection:0}),i})(),tB=(()=>{class i extends JN{}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275cmp=xi({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(t,n,r){if(1&t&&(fr(r,IC,5),fr(r,eB,5)),2&t){let s;ni(s=ii())&&(n._content=s.first),ni(s=ii())&&(n._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,n){2&t&&Ui("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],features:[Bi([{provide:RC,useExisting:i}]),an],ngContentSelectors:gse,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,n){1&t&&(zr(mse),Ni(0,fse,1,2,"div",0),Ti(1),Ti(2,1),Ni(3,pse,2,0,"mat-sidenav-content",1)),2&t&&(un("ngIf",n.hasBackdrop),on(3),un("ngIf",!n._content))},directives:[pc,IC,Wv],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),i})(),bse=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[tl,Fi,nf,su],su,Fi]}),i})();const xse=["thumbContainer"],wse=["toggleBar"],Mse=["input"],Sse=function(i){return{enterDuration:i}},Cse=["*"],Ese=new mn("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let Dse=0;const Ase={provide:zo,useExisting:Li(()=>kC),multi:!0};class Tse{constructor(e,t){this.source=e,this.checked=t}}const Rse=DS(yd(iu(uf(class{constructor(i){this._elementRef=i}}))));let kC=(()=>{class i extends Rse{constructor(t,n,r,s,o,a){super(t),this._focusMonitor=n,this._changeDetectorRef=r,this.defaults=o,this._onChange=l=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++Dse,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new Dn,this.toggleChange=new Dn,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=o.color||"accent",this._noopAnimations="NoopAnimations"===a}get required(){return this._required}set required(t){this._required=oi(t)}get checked(){return this._checked}set checked(t){this._checked=oi(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new Tse(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Fl),ae(Vr),za("tabindex"),ae(Ese),ae(rl,8))},i.\u0275cmp=xi({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(t,n){if(1&t&&(Wr(xse,5),Wr(wse,5),Wr(Mse,5)),2&t){let r;ni(r=ii())&&(n._thumbEl=r.first),ni(r=ii())&&(n._thumbBarEl=r.first),ni(r=ii())&&(n._inputElement=r.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,n){2&t&&(lc("id",n.id),bi("tabindex",null)("aria-label",null)("aria-labelledby",null),Ui("mat-checked",n.checked)("mat-disabled",n.disabled)("mat-slide-toggle-label-before","before"==n.labelPosition)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Bi([Ase]),an],ngContentSelectors:Cse,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,n){if(1&t&&(zr(),ot(0,"label",0,1),ot(2,"div",2,3),ot(4,"input",4,5),Mn("change",function(s){return n._onChangeEvent(s)})("click",function(s){return n._onInputClick(s)}),at(),ot(6,"div",6,7),Ai(8,"div",8),ot(9,"div",9),Ai(10,"div",10),at(),at(),at(),ot(11,"span",11,12),Mn("cdkObserveContent",function(){return n._onLabelTextChange()}),ot(13,"span",13),Fn(14,"\xa0"),at(),Ti(15),at(),at()),2&t){const r=jh(1),s=jh(12);bi("for",n.inputId),on(2),Ui("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),on(2),un("id",n.inputId)("required",n.required)("tabIndex",n.tabIndex)("checked",n.checked)("disabled",n.disabled),bi("name",n.name)("aria-checked",n.checked.toString())("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),on(5),un("matRippleTrigger",r)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",function LI(i,e,t,n){return OI(sn(),Eo(),i,e,t,n)}(18,Sse,n._noopAnimations?0:150))}},directives:[vd,PL],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),i})(),nB=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({}),i})(),Pse=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[nB,Zm,Fi,HM],nB,Fi]}),i})();const Lse=["mat-calendar-body",""];function Ose(i,e){if(1&i&&(ot(0,"tr",2),ot(1,"td",3),Fn(2),at(),at()),2&i){const t=wi();on(1),Al("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),bi("colspan",t.numCols),on(1),$c(" ",t.label," ")}}function Fse(i,e){if(1&i&&(ot(0,"td",3),Fn(1),at()),2&i){const t=wi(2);Al("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),bi("colspan",t._firstRowOffset),on(1),$c(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function Nse(i,e){if(1&i){const t=Ya();ot(0,"td",7),Mn("click",function(r){const o=vs(t).$implicit;return wi(2)._cellClicked(o,r)}),ot(1,"div",8),Fn(2),at(),Ai(3,"div",9),at()}if(2&i){const t=e.$implicit,n=e.index,r=wi().index,s=wi();Al("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),Ui("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",s._isActiveCell(r,n))("mat-calendar-body-range-start",s._isRangeStart(t.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",s._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(t.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(t.compareValue,r,n))("mat-calendar-body-comparison-start",s._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",s._isInPreview(t.compareValue)),un("ngClass",t.cssClasses)("tabindex",s._isActiveCell(r,n)?0:-1),bi("data-mat-row",r)("data-mat-col",n)("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-selected",s._isSelected(t.compareValue))("aria-current",s.todayValue===t.compareValue?"date":null),on(1),Ui("mat-calendar-body-selected",s._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",s.todayValue===t.compareValue),on(1),$c(" ",t.displayValue," ")}}function Bse(i,e){if(1&i&&(ot(0,"tr",4),Ni(1,Fse,2,6,"td",5),Ni(2,Nse,4,47,"td",6),at()),2&i){const t=e.$implicit,n=e.index,r=wi();on(1),un("ngIf",0===n&&r._firstRowOffset),on(1),un("ngForOf",t)}}function jse(i,e){if(1&i&&(ot(0,"th",5),ot(1,"abbr",6),Fn(2),at(),at()),2&i){const t=e.$implicit;bi("aria-label",t.long),on(1),bi("title",t.long),on(1),Ho(t.narrow)}}const Vse=["*"];function Use(i,e){}function Hse(i,e){if(1&i){const t=Ya();ot(0,"mat-month-view",5),Mn("activeDateChange",function(r){return vs(t),wi().activeDate=r})("_userSelection",function(r){return vs(t),wi()._dateSelected(r)}),at()}if(2&i){const t=wi();un("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)}}function Gse(i,e){if(1&i){const t=Ya();ot(0,"mat-year-view",6),Mn("activeDateChange",function(r){return vs(t),wi().activeDate=r})("monthSelected",function(r){return vs(t),wi()._monthSelectedInYearView(r)})("selectedChange",function(r){return vs(t),wi()._goToDateInView(r,"month")}),at()}if(2&i){const t=wi();un("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function zse(i,e){if(1&i){const t=Ya();ot(0,"mat-multi-year-view",7),Mn("activeDateChange",function(r){return vs(t),wi().activeDate=r})("yearSelected",function(r){return vs(t),wi()._yearSelectedInMultiYearView(r)})("selectedChange",function(r){return vs(t),wi()._goToDateInView(r,"year")}),at()}if(2&i){const t=wi();un("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Wse(i,e){}const $se=["button"];function qse(i,e){1&i&&(Wy(),ot(0,"svg",3),Ai(1,"path",4),at())}const Yse=[[["","matDatepickerToggleIcon",""]]],Xse=["[matDatepickerToggleIcon]"];class PC{constructor(e,t,n,r,s={},o=e,a){this.value=e,this.displayValue=t,this.ariaLabel=n,this.enabled=r,this.cssClasses=s,this.compareValue=o,this.rawValue=a}}let xf=(()=>{class i{constructor(t,n){this._elementRef=t,this._ngZone=n,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Dn,this.previewChange=new Dn,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&LC(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},n.runOutsideAngular(()=>{const r=t.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(t,n){t.enabled&&this.selectedValueChange.emit({value:t.value,event:n})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const n=t.numCols,{rows:r,numCols:s}=this;(t.rows||n)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(t.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(n||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(t,n){let r=t*this.numCols+n;return t&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(sr(1)).subscribe(()=>{const n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(t||(this._skipNextFocus=!0),n.focus())})})}_isRangeStart(t){return OC(t,this.startValue,this.endValue)}_isRangeEnd(t){return FC(t,this.startValue,this.endValue)}_isInRange(t){return NC(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return OC(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,n,r){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let s=this.rows[n][r-1];if(!s){const o=this.rows[n-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(t,n,r){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let s=this.rows[n][r+1];if(!s){const o=this.rows[n+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(t){return FC(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return NC(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return OC(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return FC(t,this.previewStart,this.previewEnd)}_isInPreview(t){return NC(t,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(t){let n;if(LC(t)?n=t:LC(t.parentNode)&&(n=t.parentNode),n){const r=n.getAttribute("data-mat-row"),s=n.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(si))},i.\u0275cmp=xi({type:i,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[Rr],attrs:Lse,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,n){1&t&&(Ni(0,Ose,3,6,"tr",0),Ni(1,Bse,3,2,"tr",1)),2&t&&(un("ngIf",n._firstRowOffset<n.labelMinRequiredCells),on(1),un("ngForOf",n.rows))},directives:[pc,q_,Xc],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),i})();function LC(i){return"TD"===i.nodeName}function OC(i,e,t){return null!==t&&e!==t&&i<t&&i===e}function FC(i,e,t){return null!==e&&e!==t&&i>=e&&i===t}function NC(i,e,t,n){return n&&null!==e&&null!==t&&e!==t&&i>=e&&i<=t}class $o{constructor(e,t){this.start=e,this.end=t}}let cu=(()=>{class i{constructor(t,n){this.selection=t,this._adapter=n,this._selectionChanged=new De,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,n){const r=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:n,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return i.\u0275fac=function(t){nd()},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),Zse=(()=>{class i extends cu{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new i(this._adapter);return t.updateSelection(this.selection,this),t}}return i.\u0275fac=function(t){return new(t||i)(vt(ro))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const iB={provide:cu,deps:[[new mo,new wl,cu],ro],useFactory:function Qse(i,e){return i||new Zse(e)}},D0=new mn("MAT_DATE_RANGE_SELECTION_STRATEGY");let rB=(()=>{class i{constructor(t,n,r,s,o){this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=r,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=S.EMPTY,this.selectedChange=new Dn,this._userSelection=new Dn,this.activeDateChange=new Dn,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof $o?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Gs(null)).subscribe(()=>this._init())}ngOnChanges(t){const n=t.comparisonStart||t.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const n=t.value,r=this._dateAdapter.getYear(this.activeDate),s=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.createDate(r,s,n);let a,l;this._selected instanceof $o?(a=this._getDateInCurrentMonth(this._selected.start),l=this._getDateInCurrentMonth(this._selected.end)):a=l=this._getDateInCurrentMonth(this._selected),(a!==n||l!==n)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:t.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(t){const n=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case 27:return void(null!=this._previewEnd&&!ko(t)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t}),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_previewChanged({event:t,value:n}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(n?n.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,a)=>({long:o,narrow:n[a]}));this._weekdays=s.slice(t).concat(s.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<t;r++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),a=this._shouldEnableDate(o),l=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new PC(r+1,n[r],l,a,c,this._getCellCompareValue(o),o))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,n){return!(!t||!n||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(n)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(n))}_getCellCompareValue(t){if(t){const n=this._dateAdapter.getYear(t),r=this._dateAdapter.getMonth(t),s=this._dateAdapter.getDate(t);return new Date(n,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof $o?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}}return i.\u0275fac=function(t){return new(t||i)(ae(Vr),ae(_d,8),ae(ro,8),ae(no,8),ae(D0,8))},i.\u0275cmp=xi({type:i,selectors:[["mat-month-view"]],viewQuery:function(t,n){if(1&t&&Wr(xf,5),2&t){let r;ni(r=ii())&&(n._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Rr],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(t,n){1&t&&(ot(0,"table",0),ot(1,"thead",1),ot(2,"tr"),Ni(3,jse,3,3,"th",2),at(),ot(4,"tr"),Ai(5,"th",3),at(),at(),ot(6,"tbody",4),Mn("selectedValueChange",function(s){return n._dateSelected(s)})("previewChange",function(s){return n._previewChanged(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),at(),at()),2&t&&(on(3),un("ngForOf",n._weekdays),on(3),un("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1))},directives:[q_,xf],encapsulation:2,changeDetection:0}),i})(),sB=(()=>{class i{constructor(t,n,r){this._changeDetectorRef=t,this._dateAdapter=n,this._dir=r,this._rerenderSubscription=S.EMPTY,this.selectedChange=new Dn,this.yearSelected=new Dn,this.activeDateChange=new Dn,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),oB(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof $o?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Gs(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const n=this._dateAdapter.getYear(this._activeDate)-bg(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(n+r),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const n=t.value;this.yearSelected.emit(this._dateAdapter.createDate(n,0,1));let r=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(n,r,1));this.selectedChange.emit(this._dateAdapter.createDate(n,r,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(t){const n=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-bg(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-bg(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return bg(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(t){const n=this._dateAdapter.createDate(t,0,1),r=this._dateAdapter.getYearName(n),s=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new PC(t,r,r,this._shouldEnableYear(t),s)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(r)==t;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof $o){const n=t.start||t.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return i.\u0275fac=function(t){return new(t||i)(ae(Vr),ae(ro,8),ae(no,8))},i.\u0275cmp=xi({type:i,selectors:[["mat-multi-year-view"]],viewQuery:function(t,n){if(1&t&&Wr(xf,5),2&t){let r;ni(r=ii())&&(n._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(t,n){1&t&&(ot(0,"table",0),ot(1,"thead",1),ot(2,"tr"),Ai(3,"th",2),at(),at(),ot(4,"tbody",3),Mn("selectedValueChange",function(s){return n._yearSelected(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),at(),at()),2&t&&(on(4),un("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()))},directives:[xf],encapsulation:2,changeDetection:0}),i})();function oB(i,e,t,n,r){const s=i.getYear(e),o=i.getYear(t),a=aB(i,n,r);return Math.floor((s-a)/24)===Math.floor((o-a)/24)}function bg(i,e,t,n){return function noe(i,e){return(i%e+e)%e}(i.getYear(e)-aB(i,t,n),24)}function aB(i,e,t){let n=0;return t?n=i.getYear(t)-24+1:e&&(n=i.getYear(e)),n}let lB=(()=>{class i{constructor(t,n,r,s){this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=S.EMPTY,this.selectedChange=new Dn,this.monthSelected=new Dn,this.activeDateChange=new Dn,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof $o?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Gs(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const n=t.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(r);const s=this._dateAdapter.getNumDaysInMonth(r);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(t){const n=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(r=>this._createCellForMonth(r,t[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_createCellForMonth(t,n){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(r,"year"):void 0;return new PC(t,n.toLocaleUpperCase(),s,this._shouldEnableMonth(t),o)}_shouldEnableMonth(t){const n=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(n,t)||this._isYearAndMonthBeforeMinDate(n,t))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(n,t,1);this._dateAdapter.getMonth(s)==t;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(t,n){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return t>r||t===r&&n>s}return!1}_isYearAndMonthBeforeMinDate(t,n){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return t<r||t===r&&n<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof $o?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return i.\u0275fac=function(t){return new(t||i)(ae(Vr),ae(_d,8),ae(ro,8),ae(no,8))},i.\u0275cmp=xi({type:i,selectors:[["mat-year-view"]],viewQuery:function(t,n){if(1&t&&Wr(xf,5),2&t){let r;ni(r=ii())&&(n._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(t,n){1&t&&(ot(0,"table",0),ot(1,"thead",1),ot(2,"tr"),Ai(3,"th",2),at(),at(),ot(4,"tbody",3),Mn("selectedValueChange",function(s){return n._monthSelected(s)})("keyup",function(s){return n._handleCalendarBodyKeyup(s)})("keydown",function(s){return n._handleCalendarBodyKeydown(s)}),at(),at()),2&t&&(on(4),un("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)))},directives:[xf],encapsulation:2,changeDetection:0}),i})(),xg=(()=>{class i{constructor(){this.changes=new De,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,n){return`${t} \u2013 ${n}`}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ioe=0,roe=(()=>{class i{constructor(t,n,r,s,o){this._intl=t,this.calendar=n,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+ioe++,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const n=this._dateAdapter.getYear(this.calendar.activeDate)-bg(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=n+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),o=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,o)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,n){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(n):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n):oB(this._dateAdapter,t,n,this.calendar.minDate,this.calendar.maxDate)}}return i.\u0275fac=function(t){return new(t||i)(ae(xg),ae(Li(()=>VC)),ae(ro,8),ae(_d,8),ae(Vr))},i.\u0275cmp=xi({type:i,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Vse,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(t,n){1&t&&(zr(),ot(0,"div",0),ot(1,"div",1),ot(2,"button",2),Mn("click",function(){return n.currentPeriodClicked()}),ot(3,"span"),Fn(4),at(),Wy(),ot(5,"svg",3),Ai(6,"polygon",4),at(),at(),function IA(){!function nU(){vi.lFrame.currentNamespace=null}()}(),Ai(7,"div",5),Ti(8),ot(9,"button",6),Mn("click",function(){return n.previousClicked()}),at(),ot(10,"button",7),Mn("click",function(){return n.nextClicked()}),at(),at(),at()),2&t&&(on(2),bi("aria-label",n.periodButtonLabel)("aria-describedby",n._buttonDescriptionId),on(1),bi("id",n._buttonDescriptionId),on(1),Ho(n.periodButtonText),on(1),Ui("mat-calendar-invert","month"!==n.calendar.currentView),on(4),un("disabled",!n.previousEnabled()),bi("aria-label",n.prevButtonLabel),on(1),un("disabled",!n.nextEnabled()),bi("aria-label",n.nextButtonLabel))},directives:[ru,IY],encapsulation:2,changeDetection:0}),i})(),VC=(()=>{class i{constructor(t,n,r,s){this._dateAdapter=n,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Dn,this.yearSelected=new Dn,this.monthSelected=new Dn,this.viewChanged=new Dn(!0),this._userSelection=new Dn,this.stateChanges=new De,this._intlChanges=t.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof $o?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const n=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}ngAfterContentInit(){this._calendarHeaderPortal=new df(this.headerComponent||roe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const n=t.minDate||t.maxDate||t.dateFilter;if(n&&!n.firstChange){const r=this._getCurrentViewComponent();r&&(this._changeDetectorRef.detectChanges(),r._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const n=t.value;(this.selected instanceof $o||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,n){this.activeDate=t,this.currentView=n}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return i.\u0275fac=function(t){return new(t||i)(ae(xg),ae(ro,8),ae(_d,8),ae(Vr))},i.\u0275cmp=xi({type:i,selectors:[["mat-calendar"]],viewQuery:function(t,n){if(1&t&&(Wr(rB,5),Wr(lB,5),Wr(sB,5)),2&t){let r;ni(r=ii())&&(n.monthView=r.first),ni(r=ii())&&(n.yearView=r.first),ni(r=ii())&&(n.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[Bi([iB]),Rr],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,n){1&t&&(Ni(0,Use,0,0,"ng-template",0),ot(1,"div",1),Ni(2,Hse,1,8,"mat-month-view",2),Ni(3,Gse,1,6,"mat-year-view",3),Ni(4,zse,1,6,"mat-multi-year-view",4),at()),2&t&&(un("cdkPortalOutlet",n._calendarHeaderPortal),on(1),un("ngSwitch",n.currentView),on(1),un("ngSwitchCase","month"),on(1),un("ngSwitchCase","year"),on(1),un("ngSwitchCase","multi-year"))},directives:[zv,PY,Kh,Y_,rB,lB,sB],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),i})();const cB={transformPanel:Nl("transformPanel",[io("void => enter-dropdown",vo("120ms cubic-bezier(0, 0, 0.2, 1)",ZM([cr({opacity:0,transform:"scale(1, 0.8)"}),cr({opacity:1,transform:"scale(1, 1)"})]))),io("void => enter-dialog",vo("150ms cubic-bezier(0, 0, 0.2, 1)",ZM([cr({opacity:0,transform:"scale(0.7)"}),cr({transform:"none",opacity:1})]))),io("* => void",vo("100ms linear",cr({opacity:0})))]),fadeInCalendar:Nl("fadeInCalendar",[Wo("void",cr({opacity:0})),Wo("enter",cr({opacity:1})),io("void => *",vo("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let soe=0;const uB=new mn("mat-datepicker-scroll-strategy"),aoe={provide:uB,deps:[ka],useFactory:function ooe(i){return()=>i.scrollStrategies.reposition()}},loe=yd(class{constructor(i){this._elementRef=i}});let coe=(()=>{class i extends loe{constructor(t,n,r,s,o,a){super(t),this._changeDetectorRef=n,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=o,this._subscriptions=new S,this._animationDone=new De,this._actionsPortal=null,this._closeButtonText=a.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const n=this._model.selection,r=t.value,s=n instanceof $o;if(s&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(r,n,t.event);this._model.updateSelection(o,this)}else r&&(s||!this._dateAdapter.sameDate(r,n))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(Vr),ae(cu),ae(ro),ae(D0,8),ae(xg))},i.\u0275cmp=xi({type:i,selectors:[["mat-datepicker-content"]],viewQuery:function(t,n){if(1&t&&Wr(VC,5),2&t){let r;ni(r=ii())&&(n._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,n){1&t&&pm("@transformPanel.done",function(){return n._animationDone.next()}),2&t&&(gm("@transformPanel",n._animationState),Ui("mat-datepicker-content-touch",n.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[an],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(t,n){1&t&&(ot(0,"div",0),ot(1,"mat-calendar",1),Mn("yearSelected",function(s){return n.datepicker._selectYear(s)})("monthSelected",function(s){return n.datepicker._selectMonth(s)})("viewChanged",function(s){return n.datepicker._viewChanged(s)})("_userSelection",function(s){return n._handleUserSelection(s)}),at(),Ni(2,Wse,0,0,"ng-template",2),ot(3,"button",3),Mn("focus",function(){return n._closeButtonFocused=!0})("blur",function(){return n._closeButtonFocused=!1})("click",function(){return n.datepicker.close()}),Fn(4),at(),at()),2&t&&(Ui("mat-datepicker-content-container-with-actions",n._actionsPortal),on(1),un("id",n.datepicker.id)("ngClass",n.datepicker.panelClass)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("@fadeInCalendar","enter"),on(1),un("cdkPortalOutlet",n._actionsPortal),on(1),Ui("cdk-visually-hidden",!n._closeButtonFocused),un("color",n.color||"primary"),on(1),Ho(n._closeButtonText))},directives:[SY,VC,Xc,zv,ru],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[cB.transformPanel,cB.fadeInCalendar]},changeDetection:0}),i})(),dB=(()=>{class i{constructor(t,n,r,s,o,a,l){this._overlay=t,this._ngZone=n,this._viewContainerRef=r,this._dateAdapter=o,this._dir=a,this._model=l,this._inputStateChanges=S.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new Dn,this.monthSelected=new Dn,this.viewChanged=new Dn(!0),this.openedStream=new Dn,this.closedStream=new Dn,this._opened=!1,this.id="mat-datepicker-"+soe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new De,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=oi(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const n=oi(t);n!==this._disabled&&(this._disabled=n,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=oi(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=function aY(i,e=/\s+/){const t=[];if(null!=i){const n=Array.isArray(i)?i:`${i}`.split(e);for(const r of n){const s=`${r}`.trim();s&&t.push(s)}}return t}(t)}get opened(){return this._opened}set opened(t){oi(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(t){const n=t.xPosition||t.yPosition;if(n&&!n.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof pF&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Hm(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const n=this._componentRef.instance;n._startExitAnimation(),n._animationDone.pipe(sr(1)).subscribe(()=>this._destroyOverlay())}const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_applyPendingSelection(){var t,n;null===(n=null===(t=this._componentRef)||void 0===t?void 0:t.instance)||void 0===n||n._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const t=this.touchUi,n=this.datepickerInput.getOverlayLabelId(),r=new df(coe,this._viewContainerRef),s=this._overlayRef=this._overlay.create(new Jm({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")})),o=s.overlayElement;o.setAttribute("role","dialog"),n&&o.setAttribute("aria-labelledby",n),t&&o.setAttribute("aria-modal","true"),this._getCloseStream(s).subscribe(a=>{a&&a.preventDefault(),this.close()}),this._componentRef=s.attach(r),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe(sr(1)).subscribe(()=>s.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const n="end"===this.xPosition?"end":"start",r="start"===n?"end":"start",s="above"===this.yPosition?"bottom":"top",o="top"===s?"bottom":"top";return t.withPositions([{originX:n,originY:o,overlayX:n,overlayY:s},{originX:n,originY:s,overlayX:n,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o}])}_getCloseStream(t){return Kr(t.backdropClick(),t.detachments(),t.keydownEvents().pipe(gr(n=>27===n.keyCode&&!ko(n)||this.datepickerInput&&ko(n,"altKey")&&38===n.keyCode)))}}return i.\u0275fac=function(t){return new(t||i)(ae(ka),ae(si),ae(_o),ae(uB),ae(ro,8),ae(no,8),ae(cu))},i.\u0275dir=kt({type:i,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Rr]}),i})(),uoe=(()=>{class i extends dB{}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275cmp=xi({type:i,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Bi([iB,{provide:dB,useExisting:i}]),an],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),i})();class A0{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let doe=(()=>{class i{constructor(t,n,r){this._elementRef=t,this._dateAdapter=n,this._dateFormats=r,this.dateChange=new Dn,this.dateInput=new Dn,this.stateChanges=new De,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=S.EMPTY,this._localeSubscription=S.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),a=this._getMinDate();return!a||!o||this._dateAdapter.compareDate(a,o)<=0?null:{matDatepickerMin:{min:a,actual:o}}},this._maxValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),a=this._getMaxDate();return!a||!o||this._dateAdapter.compareDate(a,o)>=0?null:{matDatepickerMax:{max:a,actual:o}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const n=oi(t),r=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){const r=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new A0(this,this._elementRef.nativeElement)),this.dateChange.emit(new A0(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function hoe(i,e){const t=Object.keys(i);for(let n of t){const{previousValue:r,currentValue:s}=i[n];if(!e.isDateInstance(r)||!e.isDateInstance(s))return!0;if(!e.sameDate(r,s))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){t.altKey&&40===t.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const n=this._lastValueValid;let r=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r),this._dateAdapter.sameDate(r,this.value)?(t&&!this.value&&this._cvaOnChange(r),n!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(r),this._cvaOnChange(r),this.dateInput.emit(new A0(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new A0(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const n=this._getDateFilter();return!n||n(t)}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(ro,8),ae(_d,8))},i.\u0275dir=kt({type:i,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Rr]}),i})();const foe={provide:zo,useExisting:Li(()=>UC),multi:!0},poe={provide:Us,useExisting:Li(()=>UC),multi:!0};let UC=(()=>{class i extends doe{constructor(t,n,r,s){super(t,n,r),this._formField=s,this._closedSubscription=S.EMPTY,this._validator=uM.compose(super._getValidators())}set matDatepicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}get max(){return this._max}set max(t){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const n=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}}return i.\u0275fac=function(t){return new(t||i)(ae(Cn),ae(ro,8),ae(_d,8),ae(M0,8))},i.\u0275dir=kt({type:i,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,n){1&t&&Mn("input",function(s){return n._onInput(s.target.value)})("change",function(){return n._onChange()})("blur",function(){return n._onBlur()})("keydown",function(s){return n._onKeydown(s)}),2&t&&(lc("disabled",n.disabled),bi("aria-haspopup",n._datepicker?"dialog":null)("aria-owns",(null==n._datepicker?null:n._datepicker.opened)&&n._datepicker.id||null)("min",n.min?n._dateAdapter.toIso8601(n.min):null)("max",n.max?n._dateAdapter.toIso8601(n.max):null)("data-mat-calendar",n._datepicker?n._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Bi([foe,poe,{provide:YN,useExisting:i}]),an]}),i})(),moe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=kt({type:i,selectors:[["","matDatepickerToggleIcon",""]]}),i})(),goe=(()=>{class i{constructor(t,n,r){this._intl=t,this._changeDetectorRef=n,this._stateChanges=S.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=oi(t)}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:Jn(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Jn(),r=this.datepicker?Kr(this.datepicker.openedStream,this.datepicker.closedStream):Jn();this._stateChanges.unsubscribe(),this._stateChanges=Kr(this._intl.changes,t,n,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return i.\u0275fac=function(t){return new(t||i)(ae(xg),ae(Vr),za("tabindex"))},i.\u0275cmp=xi({type:i,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,n,r){if(1&t&&fr(r,moe,5),2&t){let s;ni(s=ii())&&(n._customIcon=s.first)}},viewQuery:function(t,n){if(1&t&&Wr($se,5),2&t){let r;ni(r=ii())&&(n._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,n){1&t&&Mn("click",function(s){return n._open(s)}),2&t&&(bi("tabindex",null)("data-mat-calendar",n.datepicker?n.datepicker.id:null),Ui("mat-datepicker-toggle-active",n.datepicker&&n.datepicker.opened)("mat-accent",n.datepicker&&"accent"===n.datepicker.color)("mat-warn",n.datepicker&&"warn"===n.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Rr],ngContentSelectors:Xse,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,n){1&t&&(zr(Yse),ot(0,"button",0,1),Ni(2,qse,2,0,"svg",2),Ti(3),at()),2&t&&(un("disabled",n.disabled)("disableRipple",n.disableRipple),bi("aria-haspopup",n.datepicker?"dialog":null)("aria-label",n.ariaLabel||n._intl.openCalendarLabel)("tabindex",n.disabled?-1:n.tabIndex),on(2),un("ngIf",!n._customIcon))},directives:[ru,pc],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),i})(),yoe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[xg,aoe],imports:[[tl,nF,eg,XM,NS,Fi],su]}),i})();const hB=new Set;let wf,_oe=(()=>{class i{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):boe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function voe(i){if(!hB.has(i))try{wf||(wf=document.createElement("style"),wf.setAttribute("type","text/css"),document.head.appendChild(wf)),wf.sheet&&(wf.sheet.insertRule(`@media ${i} {body{ }}`,0),hB.add(i))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return i.\u0275fac=function(t){return new(t||i)(vt(Hs))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function boe(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let xoe=(()=>{class i{constructor(t,n){this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new De}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return fB(vv(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=JF(fB(vv(t)).map(o=>this._registerQuery(o).observable));return s=$m(s.pipe(sr(1)),s.pipe(RL(1),_v(0))),s.pipe(z(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const n=this._mediaMatcher.matchMedia(t),s={observable:new xe(o=>{const a=l=>this._zone.run(()=>o.next(l));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(Gs(n),z(({matches:o})=>({query:t,matches:o})),Ci(this._destroySubject)),mql:n};return this._queries.set(t,s),s}}return i.\u0275fac=function(t){return new(t||i)(vt(_oe),vt(si))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function fB(i){return i.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Moe={tooltipState:Nl("state",[Wo("initial, void, hidden",cr({opacity:0,transform:"scale(0)"})),Wo("visible",cr({transform:"scale(1)"})),io("* => visible",vo("200ms cubic-bezier(0, 0, 0.2, 1)",ZM([cr({opacity:0,transform:"scale(0)",offset:0}),cr({opacity:.5,transform:"scale(0.99)",offset:.5}),cr({opacity:1,transform:"scale(1)",offset:1})]))),io("* => hidden",vo("100ms cubic-bezier(0, 0, 0.2, 1)",cr({opacity:0})))])},pB="tooltip-panel",mB=cd({passive:!0}),gB=new mn("mat-tooltip-scroll-strategy"),Doe={provide:gB,deps:[ka],useFactory:function Eoe(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},Aoe=new mn("mat-tooltip-default-options",{providedIn:"root",factory:function Toe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Roe=(()=>{class i{constructor(t,n,r,s,o,a,l,c,y,x,C,A){this._overlay=t,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=x,this._defaultOptions=C,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new De,this._handleKeydown=P=>{this._isTooltipVisible()&&27===P.keyCode&&!ko(P)&&(P.preventDefault(),P.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=y,this._document=A,C&&(C.position&&(this.position=C.position),C.touchGestures&&(this.touchGestures=C.touchGestures)),x.change.pipe(Ci(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),o.runOutsideAngular(()=>{n.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){var n;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(n=this._tooltipInstance)||void 0===n||n.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=oi(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Ta(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Ta(t)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ci(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([n,r])=>{t.removeEventListener(n,r,mB)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const n=this._createOverlay();this._detach(),this._portal=this._portal||new df(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=n.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Ci(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return n.positionChanges.pipe(Ci(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:`${this._cssClassPrefix}-${pB}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ci(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ci(this._destroyed)).subscribe(()=>{var r;return null===(r=this._tooltipInstance)||void 0===r?void 0:r._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const n=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),s.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),s.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(sr(1),Ci(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:n}}_updateCurrentPositionClass(t){const{overlayY:n,originX:r,originY:s}=t;let o;if(o="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===s?"above":"below",o!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${pB}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",n],["touchcancel",n])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,mB)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const n=this._elementRef.nativeElement,r=n.style;("on"===t||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return i.\u0275fac=function(t){nd()},i.\u0275dir=kt({type:i,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),i})(),yB=(()=>{class i extends Roe{constructor(t,n,r,s,o,a,l,c,y,x,C,A){super(t,n,r,s,o,a,l,c,y,x,C,A),this._tooltipComponent=koe}}return i.\u0275fac=function(t){return new(t||i)(ae(ka),ae(Cn),ae(Qm),ae(_o),ae(si),ae(Hs),ae(dY),ae(Fl),ae(gB),ae(no,8),ae(Aoe,8),ae(hi))},i.\u0275dir=kt({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[an]}),i})(),Ioe=(()=>{class i{constructor(t){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new De}show(t){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const n=t.toState;"hidden"===n&&!this.isVisible()&&this._onHide.next(),("visible"===n||"hidden"===n)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return i.\u0275fac=function(t){return new(t||i)(ae(Vr))},i.\u0275dir=kt({type:i}),i})(),koe=(()=>{class i extends Ioe{constructor(t,n){super(t),this._breakpointObserver=n,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return i.\u0275fac=function(t){return new(t||i)(ae(Vr),ae(xoe))},i.\u0275cmp=xi({type:i,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,n){2&t&&Al("zoom","visible"===n._visibility?1:null)},features:[an],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,n){if(1&t&&(ot(0,"div",0),Mn("@state.start",function(){return n._animationStart()})("@state.done",function(s){return n._animationDone(s)}),v1(1,"async"),Fn(2),at()),2&t){let r;Ui("mat-tooltip-handset",null==(r=function VI(i,e,t){const n=i+20,r=sn(),s=uh(r,n);return Sm(r,n)?OI(r,Eo(),e,s.transform,t,s):s.transform(t)}(1,5,n._isHandset))?null:r.matches),un("ngClass",n.tooltipClass)("@state",n._visibility),on(2),Ho(n.message)}},directives:[Xc],pipes:[nP],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[Moe.tooltipState]},changeDetection:0}),i})(),Poe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[Doe],imports:[[XM,tl,eg,Fi],Fi,su]}),i})();const Loe=["trigger"],Ooe=["panel"];function Foe(i,e){if(1&i&&(ot(0,"span",8),Fn(1),at()),2&i){const t=wi();on(1),Ho(t.placeholder)}}function Noe(i,e){if(1&i&&(ot(0,"span",12),Fn(1),at()),2&i){const t=wi(2);on(1),Ho(t.triggerValue)}}function Boe(i,e){1&i&&Ti(0,0,["*ngSwitchCase","true"])}function joe(i,e){1&i&&(ot(0,"span",9),Ni(1,Noe,2,1,"span",10),Ni(2,Boe,1,0,"ng-content",11),at()),2&i&&(un("ngSwitch",!!wi().customTrigger),on(2),un("ngSwitchCase",!0))}function Voe(i,e){if(1&i){const t=Ya();ot(0,"div",13),ot(1,"div",14,15),Mn("@transformPanel.done",function(r){return vs(t),wi()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return vs(t),wi()._handleKeydown(r)}),Ti(3,1),at(),at()}if(2&i){const t=wi();un("@transformPanelWrap",void 0),on(1),GR("mat-select-panel ",t._getPanelTheme(),""),Al("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),un("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),bi("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Uoe=[[["mat-select-trigger"]],"*"],Hoe=["mat-select-trigger","*"],_B={transformPanelWrap:Nl("transformPanelWrap",[io("* => void",NY("@transformPanel",[FY()],{optional:!0}))]),transformPanel:Nl("transformPanel",[Wo("void",cr({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Wo("showing",cr({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Wo("showing-multiple",cr({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),io("void => *",vo("120ms cubic-bezier(0, 0, 0.2, 1)")),io("* => void",vo("100ms 25ms linear",cr({opacity:0})))])};let vB=0;const xB=new mn("mat-select-scroll-strategy"),$oe=new mn("MAT_SELECT_CONFIG"),qoe={provide:xB,deps:[ka],useFactory:function Woe(i){return()=>i.scrollStrategies.reposition()}};class Yoe{constructor(e,t){this.source=e,this.value=t}}const Xoe=iu(DS(uf(zO(class{constructor(i,e,t,n,r){this._elementRef=i,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r}})))),Zoe=new mn("MatSelectTrigger");let Koe=(()=>{class i extends Xoe{constructor(t,n,r,s,o,a,l,c,y,x,C,A,P,L){var H,F,N;super(o,s,l,c,x),this._viewportRuler=t,this._changeDetectorRef=n,this._ngZone=r,this._dir=a,this._parentFormField=y,this._liveAnnouncer=P,this._defaultOptions=L,this._panelOpen=!1,this._compareWith=(q,Y)=>q===Y,this._uid="mat-select-"+vB++,this._triggerAriaLabelledBy=null,this._destroy=new De,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+vB++,this._panelDoneAnimatingStream=new De,this._overlayPanelClass=(null===(H=this._defaultOptions)||void 0===H?void 0:H.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(N=null===(F=this._defaultOptions)||void 0===F?void 0:F.disableOptionCentering)&&void 0!==N&&N,this.ariaLabel="",this.optionSelectionChanges=e0(()=>{const q=this.options;return q?q.changes.pipe(Gs(q),sl(()=>Kr(...q.map(Y=>Y.onSelectionChange)))):this._ngZone.onStable.pipe(sr(1),sl(()=>this.optionSelectionChanges))}),this.openedChange=new Dn,this._openedStream=this.openedChange.pipe(gr(q=>q),z(()=>{})),this._closedStream=this.openedChange.pipe(gr(q=>!q),z(()=>{})),this.selectionChange=new Dn,this.valueChange=new Dn,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==L?void 0:L.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=L.typeaheadDebounceInterval),this._scrollStrategyFactory=A,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(C)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,n,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(n=this.ngControl)||void 0===n?void 0:n.control)||void 0===r?void 0:r.hasValidator(uM.required))&&void 0!==s&&s}set required(t){this._required=oi(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=oi(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=oi(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Ta(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new YS(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(UM(),Ci(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ci(this._destroy)).subscribe(t=>{t.added.forEach(n=>n.select()),t.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Gs(null),Ci(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const n=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?n.setAttribute("aria-labelledby",t):n.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,n;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(n=this._selectionModel)||void 0===n?void 0:n.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const n=t.keyCode,r=40===n||38===n||37===n||39===n,s=13===n||32===n,o=this._keyManager;if(!o.isTyping()&&s&&!ko(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(t);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(t){const n=this._keyManager,r=t.keyCode,s=40===r||38===r,o=n.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(o||13!==r&&32!==r||!n.activeItem||ko(t))if(!o&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=n.activeItemIndex;n.onKeydown(t),this._multiple&&s&&t.shiftKey&&n.activeItem&&n.activeItemIndex!==a&&n.activeItem._selectViaInteraction()}else t.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(sr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(n=>this._selectValue(n)),this._sortValues();else{const n=this._selectValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch(s){return!1}});return n&&this._selectionModel.select(n),n}_initKeyManager(){this._keyManager=new hY(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Ci(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Ci(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Kr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ci(t)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Kr(...this.options.map(n=>n._stateChanges)).pipe(Ci(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,n){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),n&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),n&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,t):t.indexOf(n)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let n=null;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const n=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(n?n+" ":"")+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const n=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let r=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(t){return new(t||i)(ae($v),ae(Vr),ae(si),ae(TS),ae(Cn),ae(no,8),ae(Nm,8),ae(jm,8),ae(M0,8),ae(kl,10),za("tabindex"),ae(xB),ae(GL),ae($oe,8))},i.\u0275dir=kt({type:i,viewQuery:function(t,n){if(1&t&&(Wr(Loe,5),Wr(Ooe,5),Wr(xF,5)),2&t){let r;ni(r=ii())&&(n.trigger=r.first),ni(r=ii())&&(n.panel=r.first),ni(r=ii())&&(n._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[an,Rr]}),i})(),Qoe=(()=>{class i extends Koe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,n,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*t-n+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Ci(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(sr(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const n=eF(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===n?0:function IZ(i,e,t,n){return i<t?i:i+e>t+n?Math.max(0,i-n+e):t}((t+n)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new Yoe(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let o;if(this.multiple)o=40;else if(this.disableOptionCentering)o=16;else{let c=this._selectionModel.selected[0]||this.options.first;o=c&&c.group?32:16}r||(o*=-1);const a=0-(t.left+o-(r?s:0)),l=t.right+o-n.width+(r?0:s);a>0?o+=a+8:l>0&&(o-=l+8),this._overlayDir.offsetX=Math.round(o),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,n,r){const s=this._getItemHeight(),o=(s-this._triggerRect.height)/2,a=Math.floor(256/s);let l;return this.disableOptionCentering?0:(l=0===this._scrollTop?t*s:this._scrollTop===r?(t-(this._getItemCount()-a))*s+(s-(this._getItemCount()*s-256)%s):n-s/2,Math.round(-1*l-o))}_checkOverlayWithinViewport(t){const n=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,o=r.height-this._triggerRect.bottom-8,a=Math.abs(this._offsetY),c=Math.min(this._getItemCount()*n,256)-a-this._triggerRect.height;c>o?this._adjustPanelUp(c,o):a>s?this._adjustPanelDown(a,s,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,n){const r=Math.round(t-n);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,n,r){const s=Math.round(t-n);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),n=this._getItemCount(),r=Math.min(n*t,256),o=n*t-r;let a;a=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),a+=eF(a,this.options,this.optionGroups);const l=r/2;this._scrollTop=this._calculateOverlayScroll(a,l,o),this._offsetY=this._calculateOverlayOffsetY(a,l,o),this._checkOverlayWithinViewport(o)}_getOriginBasedOnOption(){const t=this._getItemHeight(),n=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-n+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Gn(i)))(n||i)}}(),i.\u0275cmp=xi({type:i,selectors:[["mat-select"]],contentQueries:function(t,n,r){if(1&t&&(fr(r,Zoe,5),fr(r,JO,5),fr(r,QO,5)),2&t){let s;ni(s=ii())&&(n.customTrigger=s.first),ni(s=ii())&&(n.options=s),ni(s=ii())&&(n.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,n){1&t&&Mn("keydown",function(s){return n._handleKeydown(s)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&t&&(bi("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-describedby",n._ariaDescribedby||null)("aria-activedescendant",n._getAriaActiveDescendant()),Ui("mat-select-disabled",n.disabled)("mat-select-invalid",n.errorState)("mat-select-required",n.required)("mat-select-empty",n.empty)("mat-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Bi([{provide:w0,useExisting:i},{provide:KO,useExisting:i}]),an],ngContentSelectors:Hoe,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,n){if(1&t&&(zr(Uoe),ot(0,"div",0,1),Mn("click",function(){return n.toggle()}),ot(3,"div",2),Ni(4,Foe,2,1,"span",3),Ni(5,joe,3,2,"span",4),at(),ot(6,"div",5),Ai(7,"div",6),at(),at(),Ni(8,Voe,4,14,"ng-template",7),Mn("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&t){const r=jh(1);bi("aria-owns",n.panelOpen?n.id+"-panel":null),on(3),un("ngSwitch",n.empty),bi("id",n._valueId),on(1),un("ngSwitchCase",!0),on(1),un("ngSwitchCase",!1),on(3),un("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayMinWidth",null==n._triggerRect?null:n._triggerRect.width)("cdkConnectedOverlayOffsetY",n._offsetY)}},directives:[bF,Kh,Y_,xF,eP,Xc],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[_B.transformPanelWrap,_B.transformPanel]},changeDetection:0}),i})(),Joe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({providers:[qoe],imports:[[tl,eg,tF,Fi],su,S0,tF,Fi]}),i})();var wB=te(505);const MB=[0,211,0,255],eae=[204,102,0,255],SB=[204,0,0,255],HC=[0,0,0,255],CB=[0,76,153,255],Mg=[192,192,192,255],tae=[153,153,255,255],Pi_battery_posY=12,Pi_battery_height=8,Pi_battery_width=14,Pi_battery_poleY=2,Pi_battery_poleHeight=4,Pi_alarms_width=14,Pi_alarms_height=6;class nae{constructor(e,t){this.x=e,this.y=t,this.panDy=0,this.panDx=14,this._rot=0,this._bat=100,this.batWidth=Pi_battery_width-2,this.batColor=HC,this.alarmNoComColor=Mg,this.alarmSafePositionColor=Mg,this.alarmBatteryColor=Mg,this.alarmMotorColor=Mg,this.drawPanel=!0}set rot(e){e!==this._rot&&(this._rot=e,e<-Math.PI/2&&(e=-Math.PI/2),e>Math.PI/2&&(e=Math.PI/2),this.panDy=14*Math.sin(e),this.panDx=14*Math.cos(e))}set battery(e){this._bat=Math.max(this.battery,0),this._bat=Math.min(this._bat,100),this.batWidth=(Pi_battery_width-1)*e/100,this.batColor=e>=50?HC:e>=25?eae:SB}set alarms(e){this.alarmNoComColor=this.getAlarmColor(e.noCom),this.alarmSafePositionColor=this.getAlarmColor(e.safePosition),this.alarmBatteryColor=this.getAlarmColor(e.battery),this.alarmMotorColor=this.getAlarmColor(e.motor)}drawn(e,t){e.textSize(4),e.textAlign(e.CENTER,e.CENTER),e.noFill(),this.drawPanel&&(e.stroke(CB),e.fill(tae),e.strokeWeight(.5),e.rect(this.x-this.panDx,this.y-90,2*this.panDx,180)),e.fill(MB),e.stroke(MB),e.triangle(this.x,this.y,this.x+7,this.y+10,this.x-7,this.y+10),e.strokeWeight(3),e.stroke(CB),e.line(this.x-this.panDx,this.y-this.panDy,this.x+this.panDx,this.y+this.panDy),e.strokeWeight(1),e.noFill(),e.stroke(this.batColor);let n=this.y+Pi_battery_posY;e.rect(this.x-7,n,Pi_battery_width,Pi_battery_height),e.rect(this.x-7+Pi_battery_width,n+Pi_battery_poleY,1,Pi_battery_poleHeight),e.fill(this.batColor),e.rect(this.x-7+1,n+2,this.batWidth,Pi_battery_height-4),e.stroke(HC),n+=Pi_battery_height+2,e.fill(this.alarmNoComColor),e.rect(this.x-7,n,Pi_alarms_width,Pi_alarms_height,2),(null==t?void 0:t.labels)&&e.text("comm",this.x,n+Pi_alarms_height/2),n+=Pi_alarms_height+2,e.fill(this.alarmSafePositionColor),e.rect(this.x-7,n,Pi_alarms_width,Pi_alarms_height,2),(null==t?void 0:t.labels)&&e.text("safe",this.x,n+Pi_alarms_height/2),n+=Pi_alarms_height+2,e.fill(this.alarmBatteryColor),e.rect(this.x-7,n,Pi_alarms_width,Pi_alarms_height,2),(null==t?void 0:t.labels)&&e.text("batt",this.x,n+Pi_alarms_height/2),n+=Pi_alarms_height+2,e.fill(this.alarmMotorColor),e.rect(this.x-7,n,Pi_alarms_width,Pi_alarms_height,2),(null==t?void 0:t.labels)&&e.text("motor",this.x,n+Pi_alarms_height/2)}drawAlarm(e,t,n){e.fill(n),e.rect(this.x-7,t,Pi_alarms_width,Pi_alarms_height,2)}getAlarmColor(e){return e?SB:Mg}}let iae=(()=>{class i{constructor(){this.trackers=[],this.zoom=1,this.lowBound=[0,0],this.hightBound=[800,400],this.title="trackers",this.selectedAllTrackers=!0,this.selectedIdTracker=15,this.alarms={noCom:!1,safePosition:!1,battery:!1,motor:!1}}ngOnInit(){this.setupP5(),this.setupTrackers()}setupP5(){this.canvasP5=new wB(n=>{n.preload=()=>{},n.setup=()=>{n.createCanvas(800,400).parent("containerP5")}}),this.translateV=this.canvasP5.createVector(0,0),this.mouseClicked=this.canvasP5.createVector(0,0),this.canvasP5.noLoop(),this.canvasP5.draw=()=>{this.draw()},this.canvasP5.touchStarted=n=>{if(n.target!=this.canvasP5.drawingContext.canvas)return!0;this.mouseClicked.set(n.offsetX,n.offsetY)},this.canvasP5.mouseWheel=n=>{if(n.target!=this.canvasP5.drawingContext.canvas)return!0;const r=this.canvasP5.createVector(n.offsetX,n.offsetY),s=this.zoom;return this.zoom+=.001*n.delta,this.zoom=this.canvasP5.constrain(this.zoom,.05,8),this.translateV.add(r.mult(1/this.zoom-1/s)),this.recalcBounds(),this.invalidateDrawn(),!1},this.canvasP5.mouseDragged=n=>{if(n.target!=this.canvasP5.drawingContext.canvas)return!0;const r=this.canvasP5.createVector(n.offsetX,n.offsetY),s=wB.Vector.sub(r,this.mouseClicked).div(this.zoom);return this.translateV.add(s),this.mouseClicked=r,this.recalcBounds(),this.invalidateDrawn(),!1}}invalidateDrawn(){setTimeout(()=>this.canvasP5.redraw(),0)}onAngleChanged(t){const n=t.value*Math.PI/180;this.getSelectedTrackers().forEach(s=>{s.rot=n}),this.invalidateDrawn()}onBatteryChanged(t){const n=t.value;this.getSelectedTrackers().forEach(s=>{s.battery=n}),this.invalidateDrawn()}onAlarmsChanged(t){this.getSelectedTrackers().forEach(r=>{r.alarms=this.alarms}),this.invalidateDrawn()}draw(){const t=performance.now();this.canvasP5.background(250),this.canvasP5.scale(this.zoom);const n={labels:this.zoom>=1};this.canvasP5.translate(this.translateV),this.trackers.forEach(s=>{this.inBounds(s.x,s.y)&&s.drawn(this.canvasP5,n)});const r=performance.now();console.log(`Call to doSomething took ${r-t} milliseconds.`)}setupTrackers(){let n=0,s=20,o=20;for(let a=0;a<5e3;a++){a>0&&a%500==0&&(n+=500,s=0);const l=new nae(o+n,s+0);o+=40,o>400&&(o=20,s+=200),this.trackers.push(l)}}getSelectedTrackers(){return this.selectedAllTrackers?this.trackers:[this.trackers[this.selectedIdTracker]]}recalcBounds(){const t=1/this.zoom;this.lowBound[0]=-this.translateV.x,this.lowBound[1]=-this.translateV.y,this.hightBound[0]=800*t-this.translateV.x,this.hightBound[1]=400*t-this.translateV.y}inBounds(t,n){return!(t<this.lowBound[0]||n<this.lowBound[1]||t>this.hightBound[0]||n>this.hightBound[1])}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=xi({type:i,selectors:[["app-p5-test"]],decls:41,vars:7,consts:[["flex","","fxLayout","column",1,"container"],["fxFlex",""],["id","containerP5"],["id","controles","fxLayout","row",2,"background-color","lemonchiffon"],["fxFlex","20",2,"background-color","lightgreen"],["matTooltip","Los cambios afectan a todos o al seleccionado",3,"ngModel","ngModelChange"],["matInput","","placeholder","Ex. Pizza","type","number","id","myNumber",3,"disabled","ngModel","ngModelChange"],["fxFlex","40",2,"background-color","lightblue"],["thumbLabel","","tickInterval","30","min","-90","max","90","step","5","value","0",3,"input"],["thumbLabel","","tickInterval","10","min","0","max","100","step","5","value","100",3,"input"],["fxFlex","40",2,"background-color","lightseagreen"],["matTooltip","Alarma No coms",3,"ngModel","ngModelChange","change"],["matTooltip","Posicion seguridad activada",3,"ngModel","ngModelChange","change"],["matTooltip","Alarma de bateria",3,"ngModel","ngModelChange","change"],["matTooltip","Alarma de motor",3,"ngModel","ngModelChange","change"],[2,"background-color","lightsalmon"],["mat-button","",3,"click"],["mat-button","","color","primary"]],template:function(t,n){1&t&&(ot(0,"div",0),ot(1,"div",1),Ai(2,"div",2),at(),ot(3,"div",3),ot(4,"div",4),ot(5,"mat-slide-toggle",5),Mn("ngModelChange",function(s){return n.selectedAllTrackers=s}),Fn(6,"Todos"),at(),ot(7,"mat-form-field"),ot(8,"mat-label"),Fn(9,"Select"),at(),ot(10,"input",6),Mn("ngModelChange",function(s){return n.selectedIdTracker=s}),at(),at(),at(),ot(11,"div",7),ot(12,"mat-list"),ot(13,"mat-list-item"),ot(14,"mat-label"),Fn(15,"angulo:"),at(),ot(16,"mat-slider",8),Mn("input",function(s){return n.onAngleChanged(s)}),at(),at(),ot(17,"mat-list-item"),ot(18,"mat-label"),Fn(19,"bateria:"),at(),ot(20,"mat-slider",9),Mn("input",function(s){return n.onBatteryChanged(s)}),Fn(21,"Battery"),at(),at(),at(),at(),ot(22,"div",10),ot(23,"mat-list"),ot(24,"mat-list-item"),ot(25,"mat-slide-toggle",11),Mn("ngModelChange",function(s){return n.alarms.noCom=s})("change",function(s){return n.onAlarmsChanged(s)}),Fn(26,"No COM"),at(),at(),ot(27,"mat-list-item"),ot(28,"mat-slide-toggle",12),Mn("ngModelChange",function(s){return n.alarms.safePosition=s})("change",function(s){return n.onAlarmsChanged(s)}),Fn(29,"Safe Position"),at(),at(),ot(30,"mat-list-item"),ot(31,"mat-slide-toggle",13),Mn("ngModelChange",function(s){return n.alarms.battery=s})("change",function(s){return n.onAlarmsChanged(s)}),Fn(32,"Safe Position"),at(),at(),ot(33,"mat-list-item"),ot(34,"mat-slide-toggle",14),Mn("ngModelChange",function(s){return n.alarms.motor=s})("change",function(s){return n.onAlarmsChanged(s)}),Fn(35,"Safe Position"),at(),at(),at(),at(),at(),ot(36,"div",15),ot(37,"button",16),Mn("click",function(){return n.invalidateDrawn()}),Fn(38,"Draw"),at(),ot(39,"button",17),Fn(40,"Primary"),at(),at(),at()),2&t&&(on(5),un("ngModel",n.selectedAllTrackers),on(5),un("disabled",n.selectedAllTrackers)("ngModel",n.selectedIdTracker),on(15),un("ngModel",n.alarms.noCom),on(3),un("ngModel",n.alarms.safePosition),on(3),un("ngModel",n.alarms.battery),on(3),un("ngModel",n.alarms.motor))},directives:[MC,AN,kC,yB,iv,Bm,EC,_g,DC,dv,Jh,YF,KF,AC,ru],styles:[""]}),i})();function EB(i,e,t,n,r,s,o){try{var a=i[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(n,r)}function ts(i){return function(){var e=this,t=arguments;return new Promise(function(n,r){var s=i.apply(e,t);function o(l){EB(s,n,r,o,a,"next",l)}function a(l){EB(s,n,r,o,a,"throw",l)}o(void 0)})}}const bo=1001,Ps=1003,zs=1006,du=1009,wc=1015,Pf=1016,Eg=1020,Lf=1022,xo=1023,Of=1026,Dg=1027,Ff=2400,Nf=2401,wo=3e3,Td=3001,Ag=35044,Tg=35048;class hu{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const n=this._listeners[e.type];if(void 0!==n){e.target=this;const r=n.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Rd=Math.PI/180,Rg=180/Math.PI,oo=[];for(let i=0;i<256;i++)oo[i]=(i<16?"0":"")+i.toString(16);const Lle="undefined"!=typeof crypto&&"randomUUID"in crypto;function ua(){if(Lle)return crypto.randomUUID().toUpperCase();const i=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(oo[255&i]+oo[i>>8&255]+oo[i>>16&255]+oo[i>>24&255]+"-"+oo[255&e]+oo[e>>8&255]+"-"+oo[e>>16&15|64]+oo[e>>24&255]+"-"+oo[63&t|128]+oo[t>>8&255]+"-"+oo[t>>16&255]+oo[t>>24&255]+oo[255&n]+oo[n>>8&255]+oo[n>>16&255]+oo[n>>24&255]).toUpperCase()}function ao(i,e,t){return Math.max(e,Math.min(t,i))}function Ig(i,e,t){return(1-t)*i+t*e}function JC(i){return 0==(i&i-1)&&0!==i}function tj(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}class Yt{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*r+e.x,this.y=s*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Yt.prototype.isVector2=!0;class Ws{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,s,o,a,l,c){const y=this.elements;return y[0]=e,y[1]=r,y[2]=a,y[3]=t,y[4]=s,y[5]=l,y[6]=n,y[7]=o,y[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[3],l=n[6],c=n[1],y=n[4],x=n[7],C=n[2],A=n[5],P=n[8],L=r[0],H=r[3],F=r[6],N=r[1],q=r[4],Y=r[7],J=r[2],he=r[5],ee=r[8];return s[0]=o*L+a*N+l*J,s[3]=o*H+a*q+l*he,s[6]=o*F+a*Y+l*ee,s[1]=c*L+y*N+x*J,s[4]=c*H+y*q+x*he,s[7]=c*F+y*Y+x*ee,s[2]=C*L+A*N+P*J,s[5]=C*H+A*q+P*he,s[8]=C*F+A*Y+P*ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],y=e[8];return t*o*y-t*a*c-n*s*y+n*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],y=e[8],x=y*o-a*c,C=a*l-y*s,A=c*s-o*l,P=t*x+n*C+r*A;if(0===P)return this.set(0,0,0,0,0,0,0,0,0);const L=1/P;return e[0]=x*L,e[1]=(r*c-y*n)*L,e[2]=(a*n-r*o)*L,e[3]=C*L,e[4]=(y*t-r*l)*L,e[5]=(r*s-a*t)*L,e[6]=A*L,e[7]=(n*l-c*t)*L,e[8]=(o*t-n*s)*L,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],y=r[7];return r[0]=t*s+n*l,r[3]=t*o+n*c,r[6]=t*a+n*y,r[1]=-n*s+t*l,r[4]=-n*o+t*c,r[7]=-n*a+t*y,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function nj(i){if(0===i.length)return-1/0;let e=i[0];for(let t=1,n=i.length;t<n;++t)i[t]>e&&(e=i[t]);return e}function H0(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function ij(i,e=0){let t=3735928559^e,n=1103547991^e;for(let s,r=0;r<i.length;r++)s=i.charCodeAt(r),t=Math.imul(t^s,2654435761),n=Math.imul(n^s,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&n)+(t>>>0)}let Vf;Ws.prototype.isMatrix3=!0,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;class Uf{static getDataURL(e){if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Vf&&(Vf=H0("canvas")),Vf.width=e.width,Vf.height=e.height;const n=Vf.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Vf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let Xle=0;class $s extends hu{constructor(e=$s.DEFAULT_IMAGE,t=$s.DEFAULT_MAPPING,n=bo,r=bo,s=zs,o=1008,a=xo,l=du,c=1,y=wo){super(),Object.defineProperty(this,"id",{value:Xle++}),this.uuid=ua(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Yt(0,0),this.repeat=new Yt(1,1),this.center=new Yt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ws,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=y,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const r=this.image;if(void 0===r.uuid&&(r.uuid=ua()),!t&&void 0===e.images[r.uuid]){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(eE(r[o].isDataTexture?r[o].image:r[o]))}else s=eE(r);e.images[r.uuid]={uuid:r.uuid,url:s}}n.image=r.uuid}return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case bo:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case bo:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&this.version++}}function eE(i){return"undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&i instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&i instanceof ImageBitmap?Uf.getDataURL(i):i.data?{data:Array.prototype.slice.call(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}$s.DEFAULT_IMAGE=void 0,$s.DEFAULT_MAPPING=300,$s.prototype.isTexture=!0;class Ir{constructor(e=0,t=0,n=0,r=1){this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const o=.01,a=.1,l=e.elements,c=l[0],y=l[4],x=l[8],C=l[1],A=l[5],P=l[9],L=l[2],H=l[6],F=l[10];if(Math.abs(y-C)<o&&Math.abs(x-L)<o&&Math.abs(P-H)<o){if(Math.abs(y+C)<a&&Math.abs(x+L)<a&&Math.abs(P+H)<a&&Math.abs(c+A+F-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const q=(c+1)/2,Y=(A+1)/2,J=(F+1)/2,he=(y+C)/4,ee=(x+L)/4,ge=(P+H)/4;return q>Y&&q>J?q<o?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(q),r=he/n,s=ee/n):Y>J?Y<o?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(Y),n=he/r,s=ge/r):J<o?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(J),n=ee/s,r=ge/s),this.set(n,r,s,t),this}let N=Math.sqrt((H-P)*(H-P)+(x-L)*(x-L)+(C-y)*(C-y));return Math.abs(N)<.001&&(N=1),this.x=(H-P)/N,this.y=(x-L)/N,this.z=(C-y)/N,this.w=Math.acos((c+A+F-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Ir.prototype.isVector4=!0;class Ul extends hu{constructor(e,t,n={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new Ir(0,0,e,t),this.scissorTest=!1,this.viewport=new Ir(0,0,e,t),this.texture=new $s(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:zs,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=Ds({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Ul.prototype.isWebGLRenderTarget=!0,class Zle extends Ul{constructor(e,t,n){super(e,t);const r=this.texture;this.texture=[];for(let s=0;s<n;s++)this.texture[s]=r.clone()}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}.prototype.isWebGLMultipleRenderTargets=!0;class rj extends Ul{constructor(e,t,n){super(e,t,n),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}rj.prototype.isWebGLMultisampleRenderTarget=!0;class qs{constructor(e=0,t=0,n=0,r=1){this._x=e,this._y=t,this._z=n,this._w=r}static slerp(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}static slerpFlat(e,t,n,r,s,o,a){let l=n[r+0],c=n[r+1],y=n[r+2],x=n[r+3];const C=s[o+0],A=s[o+1],P=s[o+2],L=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=y,void(e[t+3]=x);if(1===a)return e[t+0]=C,e[t+1]=A,e[t+2]=P,void(e[t+3]=L);if(x!==L||l!==C||c!==A||y!==P){let H=1-a;const F=l*C+c*A+y*P+x*L,N=F>=0?1:-1,q=1-F*F;if(q>Number.EPSILON){const J=Math.sqrt(q),he=Math.atan2(J,F*N);H=Math.sin(H*he)/J,a=Math.sin(a*he)/J}const Y=a*N;if(l=l*H+C*Y,c=c*H+A*Y,y=y*H+P*Y,x=x*H+L*Y,H===1-a){const J=1/Math.sqrt(l*l+c*c+y*y+x*x);l*=J,c*=J,y*=J,x*=J}}e[t]=l,e[t+1]=c,e[t+2]=y,e[t+3]=x}static multiplyQuaternionsFlat(e,t,n,r,s,o){const a=n[r],l=n[r+1],c=n[r+2],y=n[r+3],x=s[o],C=s[o+1],A=s[o+2],P=s[o+3];return e[t]=a*P+y*x+l*A-c*C,e[t+1]=l*P+y*C+c*x-a*A,e[t+2]=c*P+y*A+a*C-l*x,e[t+3]=y*P-a*x-l*C-c*A,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(n/2),y=a(r/2),x=a(s/2),C=l(n/2),A=l(r/2),P=l(s/2);switch(o){case"XYZ":this._x=C*y*x+c*A*P,this._y=c*A*x-C*y*P,this._z=c*y*P+C*A*x,this._w=c*y*x-C*A*P;break;case"YXZ":this._x=C*y*x+c*A*P,this._y=c*A*x-C*y*P,this._z=c*y*P-C*A*x,this._w=c*y*x+C*A*P;break;case"ZXY":this._x=C*y*x-c*A*P,this._y=c*A*x+C*y*P,this._z=c*y*P+C*A*x,this._w=c*y*x-C*A*P;break;case"ZYX":this._x=C*y*x-c*A*P,this._y=c*A*x+C*y*P,this._z=c*y*P-C*A*x,this._w=c*y*x+C*A*P;break;case"YZX":this._x=C*y*x+c*A*P,this._y=c*A*x+C*y*P,this._z=c*y*P-C*A*x,this._w=c*y*x-C*A*P;break;case"XZY":this._x=C*y*x-c*A*P,this._y=c*A*x-C*y*P,this._z=c*y*P+C*A*x,this._w=c*y*x+C*A*P;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],y=t[6],x=t[10],C=n+a+x;if(C>0){const A=.5/Math.sqrt(C+1);this._w=.25/A,this._x=(y-l)*A,this._y=(s-c)*A,this._z=(o-r)*A}else if(n>a&&n>x){const A=2*Math.sqrt(1+n-a-x);this._w=(y-l)/A,this._x=.25*A,this._y=(r+o)/A,this._z=(s+c)/A}else if(a>x){const A=2*Math.sqrt(1+a-n-x);this._w=(s-c)/A,this._x=(r+o)/A,this._y=.25*A,this._z=(l+y)/A}else{const A=2*Math.sqrt(1+x-n-a);this._w=(o-r)/A,this._x=(s+c)/A,this._y=(l+y)/A,this._z=.25*A}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ao(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,y=t._w;return this._x=n*y+o*a+r*c-s*l,this._y=r*y+o*l+s*a-n*c,this._z=s*y+o*c+n*l-r*a,this._w=o*y-n*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const A=1-t;return this._w=A*o+t*this._w,this._x=A*n+t*this._x,this._y=A*r+t*this._y,this._z=A*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),y=Math.atan2(c,a),x=Math.sin((1-t)*y)/c,C=Math.sin(t*y)/c;return this._w=o*x+this._w*C,this._x=n*x+this._x*C,this._y=r*x+this._y*C,this._z=s*x+this._z*C,this._onChangeCallback(),this}slerpQuaternions(e,t,n){this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(s),n*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}qs.prototype.isQuaternion=!0;class ke{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(sj.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(sj.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*n,y=l*n+a*t-s*r,x=l*r+s*n-o*t,C=-s*t-o*n-a*r;return this.x=c*l+C*-s+y*-a-x*-o,this.y=y*l+C*-o+x*-s-c*-a,this.z=x*l+C*-a+c*-o-y*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-n*l,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return tE.copy(this).projectOnVector(e),this.sub(tE)}reflect(e){return this.sub(tE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(ao(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-IV(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}ke.prototype.isVector3=!0;const tE=new ke,sj=new qs;class Oa{constructor(e=new ke(1/0,1/0,1/0),t=new ke(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const y=e[l],x=e[l+1],C=e[l+2];y<t&&(t=y),x<n&&(n=x),C<r&&(r=C),y>s&&(s=y),x>o&&(o=x),C>a&&(a=C)}return this.min.set(t,n,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const y=e.getX(l),x=e.getY(l),C=e.getZ(l);y<t&&(t=y),x<n&&(n=x),C<r&&(r=C),y>s&&(s=y),x>o&&(o=x),C>a&&(a=C)}return this.min.set(t,n,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=kg.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),nE.copy(t.boundingBox),nE.applyMatrix4(e.matrixWorld),this.union(nE));const n=e.children;for(let r=0,s=n.length;r<s;r++)this.expandByObject(n[r]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,kg),kg.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Pg),G0.subVectors(this.max,Pg),Hf.subVectors(e.a,Pg),Gf.subVectors(e.b,Pg),zf.subVectors(e.c,Pg),fu.subVectors(Gf,Hf),pu.subVectors(zf,Gf),Id.subVectors(Hf,zf);let t=[0,-fu.z,fu.y,0,-pu.z,pu.y,0,-Id.z,Id.y,fu.z,0,-fu.x,pu.z,0,-pu.x,Id.z,0,-Id.x,-fu.y,fu.x,0,-pu.y,pu.x,0,-Id.y,Id.x,0];return!(!iE(t,Hf,Gf,zf,G0)||(t=[1,0,0,0,1,0,0,0,1],!iE(t,Hf,Gf,zf,G0)))&&(z0.crossVectors(fu,pu),t=[z0.x,z0.y,z0.z],iE(t,Hf,Gf,zf,G0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return kg.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(kg).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Mc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mc)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Oa.prototype.isBox3=!0;const Mc=[new ke,new ke,new ke,new ke,new ke,new ke,new ke,new ke],kg=new ke,nE=new Oa,Hf=new ke,Gf=new ke,zf=new ke,fu=new ke,pu=new ke,Id=new ke,Pg=new ke,G0=new ke,z0=new ke,kd=new ke;function iE(i,e,t,n,r){for(let s=0,o=i.length-3;s<=o;s+=3){kd.fromArray(i,s);const a=r.x*Math.abs(kd.x)+r.y*Math.abs(kd.y)+r.z*Math.abs(kd.z),l=e.dot(kd),c=t.dot(kd),y=n.dot(kd);if(Math.max(-Math.max(l,c,y),Math.min(l,c,y))>a)return!1}return!0}const Kle=new Oa,oj=new ke,rE=new ke,sE=new ke;class Pd{constructor(e=new ke,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Kle.setFromPoints(e).getCenter(n);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){sE.subVectors(e,this.center);const t=sE.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(sE.multiplyScalar(r/n)),this.radius+=r}return this}union(e){return rE.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(oj.copy(e.center).add(rE)),this.expandByPoint(oj.copy(e.center).sub(rE)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Sc=new ke,oE=new ke,W0=new ke,mu=new ke,aE=new ke,$0=new ke,lE=new ke;class Ld{constructor(e=new ke,t=new ke(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Sc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Sc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Sc.copy(this.direction).multiplyScalar(t).add(this.origin),Sc.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){oE.copy(e).add(t).multiplyScalar(.5),W0.copy(t).sub(e).normalize(),mu.copy(this.origin).sub(oE);const s=.5*e.distanceTo(t),o=-this.direction.dot(W0),a=mu.dot(this.direction),l=-mu.dot(W0),c=mu.lengthSq(),y=Math.abs(1-o*o);let x,C,A,P;if(y>0)if(x=o*l-a,C=o*a-l,P=s*y,x>=0)if(C>=-P)if(C<=P){const L=1/y;x*=L,C*=L,A=x*(x+o*C+2*a)+C*(o*x+C+2*l)+c}else C=s,x=Math.max(0,-(o*C+a)),A=-x*x+C*(C+2*l)+c;else C=-s,x=Math.max(0,-(o*C+a)),A=-x*x+C*(C+2*l)+c;else C<=-P?(x=Math.max(0,-(-o*s+a)),C=x>0?-s:Math.min(Math.max(-s,-l),s),A=-x*x+C*(C+2*l)+c):C<=P?(x=0,C=Math.min(Math.max(-s,-l),s),A=C*(C+2*l)+c):(x=Math.max(0,-(o*s+a)),C=x>0?s:Math.min(Math.max(-s,-l),s),A=-x*x+C*(C+2*l)+c);else C=o>0?-s:s,x=Math.max(0,-(o*C+a)),A=-x*x+C*(C+2*l)+c;return n&&n.copy(this.direction).multiplyScalar(x).add(this.origin),r&&r.copy(W0).multiplyScalar(C).add(oE),A}intersectSphere(e,t){Sc.subVectors(e.center,this.origin);const n=Sc.dot(this.direction),r=Sc.dot(Sc)-n*n,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=n-o,l=n+o;return a<0&&l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,o,a,l;const c=1/this.direction.x,y=1/this.direction.y,x=1/this.direction.z,C=this.origin;return c>=0?(n=(e.min.x-C.x)*c,r=(e.max.x-C.x)*c):(n=(e.max.x-C.x)*c,r=(e.min.x-C.x)*c),y>=0?(s=(e.min.y-C.y)*y,o=(e.max.y-C.y)*y):(s=(e.max.y-C.y)*y,o=(e.min.y-C.y)*y),n>o||s>r||((s>n||n!=n)&&(n=s),(o<r||r!=r)&&(r=o),x>=0?(a=(e.min.z-C.z)*x,l=(e.max.z-C.z)*x):(a=(e.max.z-C.z)*x,l=(e.min.z-C.z)*x),n>l||a>r)||((a>n||n!=n)&&(n=a),(l<r||r!=r)&&(r=l),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return null!==this.intersectBox(e,Sc)}intersectTriangle(e,t,n,r,s){aE.subVectors(t,e),$0.subVectors(n,e),lE.crossVectors(aE,$0);let a,o=this.direction.dot(lE);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}mu.subVectors(this.origin,e);const l=a*this.direction.dot($0.crossVectors(mu,$0));if(l<0)return null;const c=a*this.direction.dot(aE.cross(mu));if(c<0||l+c>o)return null;const y=-a*mu.dot(lE);return y<0?null:this.at(y/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class qn{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,s,o,a,l,c,y,x,C,A,P,L,H){const F=this.elements;return F[0]=e,F[4]=t,F[8]=n,F[12]=r,F[1]=s,F[5]=o,F[9]=a,F[13]=l,F[2]=c,F[6]=y,F[10]=x,F[14]=C,F[3]=A,F[7]=P,F[11]=L,F[15]=H,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new qn).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Wf.setFromMatrixColumn(e,0).length(),s=1/Wf.setFromMatrixColumn(e,1).length(),o=1/Wf.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,r=e.y,s=e.z,o=Math.cos(n),a=Math.sin(n),l=Math.cos(r),c=Math.sin(r),y=Math.cos(s),x=Math.sin(s);if("XYZ"===e.order){const C=o*y,A=o*x,P=a*y,L=a*x;t[0]=l*y,t[4]=-l*x,t[8]=c,t[1]=A+P*c,t[5]=C-L*c,t[9]=-a*l,t[2]=L-C*c,t[6]=P+A*c,t[10]=o*l}else if("YXZ"===e.order){const C=l*y,A=l*x,P=c*y,L=c*x;t[0]=C+L*a,t[4]=P*a-A,t[8]=o*c,t[1]=o*x,t[5]=o*y,t[9]=-a,t[2]=A*a-P,t[6]=L+C*a,t[10]=o*l}else if("ZXY"===e.order){const C=l*y,A=l*x,P=c*y,L=c*x;t[0]=C-L*a,t[4]=-o*x,t[8]=P+A*a,t[1]=A+P*a,t[5]=o*y,t[9]=L-C*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const C=o*y,A=o*x,P=a*y,L=a*x;t[0]=l*y,t[4]=P*c-A,t[8]=C*c+L,t[1]=l*x,t[5]=L*c+C,t[9]=A*c-P,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const C=o*l,A=o*c,P=a*l,L=a*c;t[0]=l*y,t[4]=L-C*x,t[8]=P*x+A,t[1]=x,t[5]=o*y,t[9]=-a*y,t[2]=-c*y,t[6]=A*x+P,t[10]=C-L*x}else if("XZY"===e.order){const C=o*l,A=o*c,P=a*l,L=a*c;t[0]=l*y,t[4]=-x,t[8]=c*y,t[1]=C*x+L,t[5]=o*y,t[9]=A*x-P,t[2]=P*x-A,t[6]=a*y,t[10]=L*x+C}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Qle,e,Jle)}lookAt(e,t,n){const r=this.elements;return da.subVectors(e,t),0===da.lengthSq()&&(da.z=1),da.normalize(),gu.crossVectors(n,da),0===gu.lengthSq()&&(1===Math.abs(n.z)?da.x+=1e-4:da.z+=1e-4,da.normalize(),gu.crossVectors(n,da)),gu.normalize(),q0.crossVectors(da,gu),r[0]=gu.x,r[4]=q0.x,r[8]=da.x,r[1]=gu.y,r[5]=q0.y,r[9]=da.y,r[2]=gu.z,r[6]=q0.z,r[10]=da.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[4],l=n[8],c=n[12],y=n[1],x=n[5],C=n[9],A=n[13],P=n[2],L=n[6],H=n[10],F=n[14],N=n[3],q=n[7],Y=n[11],J=n[15],he=r[0],ee=r[4],ge=r[8],je=r[12],Me=r[1],Se=r[5],Je=r[9],qe=r[13],ue=r[2],Ce=r[6],pe=r[10],we=r[14],me=r[3],He=r[7],Re=r[11],Qe=r[15];return s[0]=o*he+a*Me+l*ue+c*me,s[4]=o*ee+a*Se+l*Ce+c*He,s[8]=o*ge+a*Je+l*pe+c*Re,s[12]=o*je+a*qe+l*we+c*Qe,s[1]=y*he+x*Me+C*ue+A*me,s[5]=y*ee+x*Se+C*Ce+A*He,s[9]=y*ge+x*Je+C*pe+A*Re,s[13]=y*je+x*qe+C*we+A*Qe,s[2]=P*he+L*Me+H*ue+F*me,s[6]=P*ee+L*Se+H*Ce+F*He,s[10]=P*ge+L*Je+H*pe+F*Re,s[14]=P*je+L*qe+H*we+F*Qe,s[3]=N*he+q*Me+Y*ue+J*me,s[7]=N*ee+q*Se+Y*Ce+J*He,s[11]=N*ge+q*Je+Y*pe+J*Re,s[15]=N*je+q*qe+Y*we+J*Qe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],y=e[2],x=e[6],C=e[10],A=e[14];return e[3]*(+s*l*x-r*c*x-s*a*C+n*c*C+r*a*A-n*l*A)+e[7]*(+t*l*A-t*c*C+s*o*C-r*o*A+r*c*y-s*l*y)+e[11]*(+t*c*x-t*a*A-s*o*x+n*o*A+s*a*y-n*c*y)+e[15]*(-r*a*y-t*l*x+t*a*C+r*o*x-n*o*C+n*l*y)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],y=e[8],x=e[9],C=e[10],A=e[11],P=e[12],L=e[13],H=e[14],F=e[15],N=x*H*c-L*C*c+L*l*A-a*H*A-x*l*F+a*C*F,q=P*C*c-y*H*c-P*l*A+o*H*A+y*l*F-o*C*F,Y=y*L*c-P*x*c+P*a*A-o*L*A-y*a*F+o*x*F,J=P*x*l-y*L*l-P*a*C+o*L*C+y*a*H-o*x*H,he=t*N+n*q+r*Y+s*J;if(0===he)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ee=1/he;return e[0]=N*ee,e[1]=(L*C*s-x*H*s-L*r*A+n*H*A+x*r*F-n*C*F)*ee,e[2]=(a*H*s-L*l*s+L*r*c-n*H*c-a*r*F+n*l*F)*ee,e[3]=(x*l*s-a*C*s-x*r*c+n*C*c+a*r*A-n*l*A)*ee,e[4]=q*ee,e[5]=(y*H*s-P*C*s+P*r*A-t*H*A-y*r*F+t*C*F)*ee,e[6]=(P*l*s-o*H*s-P*r*c+t*H*c+o*r*F-t*l*F)*ee,e[7]=(o*C*s-y*l*s+y*r*c-t*C*c-o*r*A+t*l*A)*ee,e[8]=Y*ee,e[9]=(P*x*s-y*L*s-P*n*A+t*L*A+y*n*F-t*x*F)*ee,e[10]=(o*L*s-P*a*s+P*n*c-t*L*c-o*n*F+t*a*F)*ee,e[11]=(y*a*s-o*x*s-y*n*c+t*x*c+o*n*A-t*a*A)*ee,e[12]=J*ee,e[13]=(y*L*r-P*x*r+P*n*C-t*L*C-y*n*H+t*x*H)*ee,e[14]=(P*a*r-o*L*r-P*n*l+t*L*l+o*n*H-t*a*H)*ee,e[15]=(o*x*r-y*a*r+y*n*l-t*x*l-o*n*C+t*a*C)*ee,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,o=e.x,a=e.y,l=e.z,c=s*o,y=s*a;return this.set(c*o+n,c*a-r*l,c*l+r*a,0,c*a+r*l,y*a+n,y*l-r*o,0,c*l-r*a,y*l+r*o,s*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,o){return this.set(1,n,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,y=o+o,x=a+a,C=s*c,A=s*y,P=s*x,L=o*y,H=o*x,F=a*x,N=l*c,q=l*y,Y=l*x,J=n.x,he=n.y,ee=n.z;return r[0]=(1-(L+F))*J,r[1]=(A+Y)*J,r[2]=(P-q)*J,r[3]=0,r[4]=(A-Y)*he,r[5]=(1-(C+F))*he,r[6]=(H+N)*he,r[7]=0,r[8]=(P+q)*ee,r[9]=(H-N)*ee,r[10]=(1-(C+L))*ee,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=Wf.set(r[0],r[1],r[2]).length();const o=Wf.set(r[4],r[5],r[6]).length(),a=Wf.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],al.copy(this);const c=1/s,y=1/o,x=1/a;return al.elements[0]*=c,al.elements[1]*=c,al.elements[2]*=c,al.elements[4]*=y,al.elements[5]*=y,al.elements[6]*=y,al.elements[8]*=x,al.elements[9]*=x,al.elements[10]*=x,t.setFromRotationMatrix(al),n.x=s,n.y=o,n.z=a,this}makePerspective(e,t,n,r,s,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,c=2*s/(n-r),y=(t+e)/(t-e),x=(n+r)/(n-r),C=-(o+s)/(o-s),A=-2*o*s/(o-s);return a[0]=2*s/(t-e),a[4]=0,a[8]=y,a[12]=0,a[1]=0,a[5]=c,a[9]=x,a[13]=0,a[2]=0,a[6]=0,a[10]=C,a[14]=A,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,r,s,o){const a=this.elements,l=1/(t-e),c=1/(n-r),y=1/(o-s),x=(t+e)*l,C=(n+r)*c,A=(o+s)*y;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-x,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-C,a[2]=0,a[6]=0,a[10]=-2*y,a[14]=-A,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}qn.prototype.isMatrix4=!0;const Wf=new ke,al=new qn,Qle=new ke(0,0,0),Jle=new ke(1,1,1),gu=new ke,q0=new ke,da=new ke,aj=new qn,lj=new qs;class yu{constructor(e=0,t=0,n=0,r=yu.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],y=r[9],x=r[2],C=r[6],A=r[10];switch(t){case"XYZ":this._y=Math.asin(ao(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-y,A),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(C,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ao(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(a,A),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-x,s),this._z=0);break;case"ZXY":this._x=Math.asin(ao(C,-1,1)),Math.abs(C)<.9999999?(this._y=Math.atan2(-x,A),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ao(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(C,A),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ao(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-y,c),this._y=Math.atan2(-x,s)):(this._x=0,this._y=Math.atan2(a,A));break;case"XZY":this._z=Math.asin(-ao(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(C,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-y,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return aj.makeRotationFromQuaternion(e),this.setFromRotationMatrix(aj,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return lj.setFromEuler(this),this.setFromQuaternion(lj,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new ke(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}yu.prototype.isEuler=!0,yu.DefaultOrder="XYZ",yu.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class cj{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}}let ece=0;const uj=new ke,$f=new qs,Cc=new qn,Y0=new ke,Lg=new ke,tce=new ke,nce=new qs,dj=new ke(1,0,0),hj=new ke(0,1,0),fj=new ke(0,0,1),ice={type:"added"},pj={type:"removed"};class ir extends hu{constructor(){super(),Object.defineProperty(this,"id",{value:ece++}),this.uuid=ua(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ir.DefaultUp.clone();const e=new ke,t=new yu,n=new qs,r=new ke(1,1,1);t._onChange(function s(){n.setFromEuler(t,!1)}),n._onChange(function o(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new qn},normalMatrix:{value:new Ws}}),this.matrix=new qn,this.matrixWorld=new qn,this.matrixAutoUpdate=ir.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new cj,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return $f.setFromAxisAngle(e,t),this.quaternion.multiply($f),this}rotateOnWorldAxis(e,t){return $f.setFromAxisAngle(e,t),this.quaternion.premultiply($f),this}rotateX(e){return this.rotateOnAxis(dj,e)}rotateY(e){return this.rotateOnAxis(hj,e)}rotateZ(e){return this.rotateOnAxis(fj,e)}translateOnAxis(e,t){return uj.copy(e).applyQuaternion(this.quaternion),this.position.add(uj.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(dj,e)}translateY(e){return this.translateOnAxis(hj,e)}translateZ(e){return this.translateOnAxis(fj,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Cc.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Y0.copy(e):Y0.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Lg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Cc.lookAt(Lg,Y0,this.up):Cc.lookAt(Y0,Lg,this.up),this.quaternion.setFromRotationMatrix(Cc),r&&(Cc.extractRotation(r.matrixWorld),$f.setFromRotationMatrix(Cc),this.quaternion.premultiply($f.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ice)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(pj)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(pj)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Cc.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Cc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Cc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const o=this.children[n].getObjectByProperty(e,t);if(void 0!==o)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lg,e,tce),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lg,nce,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function s(a,l){return void 0===a[l.uuid]&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){const l=a.shapes;if(Array.isArray(l))for(let c=0,y=l.length;c<y;c++)s(e.shapes,l[c]);else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++)r.animations.push(s(e.animations,this.animations[a]))}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),y=o(e.images),x=o(e.shapes),C=o(e.skeletons),A=o(e.animations);a.length>0&&(n.geometries=a),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),y.length>0&&(n.images=y),x.length>0&&(n.shapes=x),C.length>0&&(n.skeletons=C),A.length>0&&(n.animations=A)}return n.object=r,n;function o(a){const l=[];for(const c in a){const y=a[c];delete y.metadata,l.push(y)}return l}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++)this.add(e.children[n].clone());return this}}ir.DefaultUp=new ke(0,1,0),ir.DefaultMatrixAutoUpdate=!0,ir.prototype.isObject3D=!0;const ll=new ke,Ec=new ke,cE=new ke,Dc=new ke,qf=new ke,Yf=new ke,mj=new ke,uE=new ke,dE=new ke,hE=new ke;class Cs{constructor(e=new ke,t=new ke,n=new ke){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),ll.subVectors(e,t),r.cross(ll);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){ll.subVectors(r,t),Ec.subVectors(n,t),cE.subVectors(e,t);const o=ll.dot(ll),a=ll.dot(Ec),l=ll.dot(cE),c=Ec.dot(Ec),y=Ec.dot(cE),x=o*c-a*a;if(0===x)return s.set(-2,-1,-1);const C=1/x,A=(c*l-a*y)*C,P=(o*y-a*l)*C;return s.set(1-A-P,P,A)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Dc),Dc.x>=0&&Dc.y>=0&&Dc.x+Dc.y<=1}static getUV(e,t,n,r,s,o,a,l){return this.getBarycoord(e,t,n,r,Dc),l.set(0,0),l.addScaledVector(s,Dc.x),l.addScaledVector(o,Dc.y),l.addScaledVector(a,Dc.z),l}static isFrontFacing(e,t,n,r){return ll.subVectors(n,t),Ec.subVectors(e,t),ll.cross(Ec).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ll.subVectors(this.c,this.b),Ec.subVectors(this.a,this.b),.5*ll.cross(Ec).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Cs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Cs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,s){return Cs.getUV(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return Cs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Cs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let o,a;qf.subVectors(r,n),Yf.subVectors(s,n),uE.subVectors(e,n);const l=qf.dot(uE),c=Yf.dot(uE);if(l<=0&&c<=0)return t.copy(n);dE.subVectors(e,r);const y=qf.dot(dE),x=Yf.dot(dE);if(y>=0&&x<=y)return t.copy(r);const C=l*x-y*c;if(C<=0&&l>=0&&y<=0)return o=l/(l-y),t.copy(n).addScaledVector(qf,o);hE.subVectors(e,s);const A=qf.dot(hE),P=Yf.dot(hE);if(P>=0&&A<=P)return t.copy(s);const L=A*c-l*P;if(L<=0&&c>=0&&P<=0)return a=c/(c-P),t.copy(n).addScaledVector(Yf,a);const H=y*P-A*x;if(H<=0&&x-y>=0&&A-P>=0)return mj.subVectors(s,r),a=(x-y)/(x-y+(A-P)),t.copy(r).addScaledVector(mj,a);const F=1/(H+L+C);return o=L*F,a=C*F,t.copy(n).addScaledVector(qf,o).addScaledVector(Yf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let rce=0;class lo extends hu{constructor(){super(),Object.defineProperty(this,"id",{value:rce++}),this.uuid=ua(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.format=xo,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.format!==xo&&(n.format=this.format),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){const s=r(e.textures),o=r(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}lo.prototype.isMaterial=!0;const gj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},cl={h:0,s:0,l:0},X0={h:0,s:0,l:0};function fE(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+6*(e-i)*t:t<.5?e:t<2/3?i+6*(e-i)*(2/3-t):i}function pE(i){return i<.04045?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function mE(i){return i<.0031308?12.92*i:1.055*Math.pow(i,.41666)-.055}let Pn=(()=>{class i{constructor(t,n,r){return void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,n,r){return this.r=t,this.g=n,this.b=r,this}setHSL(t,n,r){if(t=function QC(i,e){return(i%e+e)%e}(t,1),n=ao(n,0,1),r=ao(r,0,1),0===n)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=fE(o,s,t+1/3),this.g=fE(o,s,t),this.b=fE(o,s,t-1/3)}return this}setStyle(t){function n(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let s;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,n(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,n(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseInt(s[2],10)/100,y=parseInt(s[3],10)/100;return n(s[4]),this.setHSL(l,c,y)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=r[1],o=s.length;if(3===o)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,this;if(6===o)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const n=gj[t.toLowerCase()];return void 0!==n?this.setHex(n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,n=2){return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}copyLinearToGamma(t,n=2){const r=n>0?1/n:1;return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=pE(t.r),this.g=pE(t.g),this.b=pE(t.b),this}copyLinearToSRGB(t){return this.r=mE(t.r),this.g=mE(t.g),this.b=mE(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){const n=this.r,r=this.g,s=this.b,o=Math.max(n,r,s),a=Math.min(n,r,s);let l,c;const y=(a+o)/2;if(a===o)l=0,c=0;else{const x=o-a;switch(c=y<=.5?x/(o+a):x/(2-o-a),o){case n:l=(r-s)/x+(r<s?6:0);break;case r:l=(s-n)/x+2;break;case s:l=(n-r)/x+4}l/=6}return t.h=l,t.s=c,t.l=y,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,n,r){return this.getHSL(cl),cl.h+=t,cl.s+=n,cl.l+=r,this.setHSL(cl.h,cl.s,cl.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpColors(t,n,r){return this.r=t.r+(n.r-t.r)*r,this.g=t.g+(n.g-t.g)*r,this.b=t.b+(n.b-t.b)*r,this}lerpHSL(t,n){this.getHSL(cl),t.getHSL(X0);const r=Ig(cl.h,X0.h,n),s=Ig(cl.s,X0.s,n),o=Ig(cl.l,X0.l,n);return this.setHSL(r,s,o),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}return i.NAMES=gj,i})();Pn.prototype.isColor=!0,Pn.prototype.r=1,Pn.prototype.g=1,Pn.prototype.b=1;class _u extends lo{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Pn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}_u.prototype.isMeshBasicMaterial=!0;const jr=new ke,Z0=new Yt;class Lr{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=Ag,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let n=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Pn),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}copyVector2sArray(e){const t=this.array;let n=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Yt),t[n++]=o.x,t[n++]=o.y}return this}copyVector3sArray(e){const t=this.array;let n=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new ke),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}copyVector4sArray(e){const t=this.array;let n=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Ir),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Z0.fromBufferAttribute(this,t),Z0.applyMatrix3(e),this.setXY(t,Z0.x,Z0.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)jr.fromBufferAttribute(this,t),jr.applyMatrix3(e),this.setXYZ(t,jr.x,jr.y,jr.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)jr.x=this.getX(t),jr.y=this.getY(t),jr.z=this.getZ(t),jr.applyMatrix4(e),this.setXYZ(t,jr.x,jr.y,jr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)jr.x=this.getX(t),jr.y=this.getY(t),jr.z=this.getZ(t),jr.applyNormalMatrix(e),this.setXYZ(t,jr.x,jr.y,jr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)jr.x=this.getX(t),jr.y=this.getY(t),jr.z=this.getZ(t),jr.transformDirection(e),this.setXYZ(t,jr.x,jr.y,jr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Ag&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}Lr.prototype.isBufferAttribute=!0;class gE extends Lr{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class yE extends Lr{constructor(e,t,n){super(new Uint32Array(e),t,n)}}(class uce extends Lr{constructor(e,t,n){super(new Uint16Array(e),t,n)}}).prototype.isFloat16BufferAttribute=!0;class Wn extends Lr{constructor(e,t,n){super(new Float32Array(e),t,n)}}let hce=0;const Fa=new qn,_E=new ir,Xf=new ke,ha=new Oa,Og=new Oa,Ys=new ke;class ci extends hu{constructor(){super(),Object.defineProperty(this,"id",{value:hce++}),this.uuid=ua(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(nj(e)>65535?yE:gE)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const s=(new Ws).getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Fa.makeRotationFromQuaternion(e),this.applyMatrix4(Fa),this}rotateX(e){return Fa.makeRotationX(e),this.applyMatrix4(Fa),this}rotateY(e){return Fa.makeRotationY(e),this.applyMatrix4(Fa),this}rotateZ(e){return Fa.makeRotationZ(e),this.applyMatrix4(Fa),this}translate(e,t,n){return Fa.makeTranslation(e,t,n),this.applyMatrix4(Fa),this}scale(e,t,n){return Fa.makeScale(e,t,n),this.applyMatrix4(Fa),this}lookAt(e){return _E.lookAt(e),_E.updateMatrix(),this.applyMatrix4(_E.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xf).negate(),this.translate(Xf.x,Xf.y,Xf.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Wn(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Oa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ke(-1/0,-1/0,-1/0),new ke(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++)ha.setFromBufferAttribute(t[n]),this.morphTargetsRelative?(Ys.addVectors(this.boundingBox.min,ha.min),this.boundingBox.expandByPoint(Ys),Ys.addVectors(this.boundingBox.max,ha.max),this.boundingBox.expandByPoint(Ys)):(this.boundingBox.expandByPoint(ha.min),this.boundingBox.expandByPoint(ha.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Pd);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ke,1/0);if(e){const n=this.boundingSphere.center;if(ha.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)Og.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(Ys.addVectors(ha.min,Og.min),ha.expandByPoint(Ys),Ys.addVectors(ha.max,Og.max),ha.expandByPoint(Ys)):(ha.expandByPoint(Og.min),ha.expandByPoint(Og.max));ha.getCenter(n);let r=0;for(let s=0,o=e.count;s<o;s++)Ys.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(Ys));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,y=a.count;c<y;c++)Ys.fromBufferAttribute(a,c),l&&(Xf.fromBufferAttribute(e,c),Ys.add(Xf)),r=Math.max(r,n.distanceToSquared(Ys))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;void 0===t.tangent&&this.setAttribute("tangent",new Lr(new Float32Array(4*a),4));const l=t.tangent.array,c=[],y=[];for(let Me=0;Me<a;Me++)c[Me]=new ke,y[Me]=new ke;const x=new ke,C=new ke,A=new ke,P=new Yt,L=new Yt,H=new Yt,F=new ke,N=new ke;function q(Me,Se,Je){x.fromArray(r,3*Me),C.fromArray(r,3*Se),A.fromArray(r,3*Je),P.fromArray(o,2*Me),L.fromArray(o,2*Se),H.fromArray(o,2*Je),C.sub(x),A.sub(x),L.sub(P),H.sub(P);const qe=1/(L.x*H.y-H.x*L.y);!isFinite(qe)||(F.copy(C).multiplyScalar(H.y).addScaledVector(A,-L.y).multiplyScalar(qe),N.copy(A).multiplyScalar(L.x).addScaledVector(C,-H.x).multiplyScalar(qe),c[Me].add(F),c[Se].add(F),c[Je].add(F),y[Me].add(N),y[Se].add(N),y[Je].add(N))}let Y=this.groups;0===Y.length&&(Y=[{start:0,count:n.length}]);for(let Me=0,Se=Y.length;Me<Se;++Me){const Je=Y[Me],qe=Je.start;for(let Ce=qe,pe=qe+Je.count;Ce<pe;Ce+=3)q(n[Ce+0],n[Ce+1],n[Ce+2])}const J=new ke,he=new ke,ee=new ke,ge=new ke;function je(Me){ee.fromArray(s,3*Me),ge.copy(ee);const Se=c[Me];J.copy(Se),J.sub(ee.multiplyScalar(ee.dot(Se))).normalize(),he.crossVectors(ge,Se);const qe=he.dot(y[Me])<0?-1:1;l[4*Me]=J.x,l[4*Me+1]=J.y,l[4*Me+2]=J.z,l[4*Me+3]=qe}for(let Me=0,Se=Y.length;Me<Se;++Me){const Je=Y[Me],qe=Je.start;for(let Ce=qe,pe=qe+Je.count;Ce<pe;Ce+=3)je(n[Ce+0]),je(n[Ce+1]),je(n[Ce+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Lr(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let C=0,A=n.count;C<A;C++)n.setXYZ(C,0,0,0);const r=new ke,s=new ke,o=new ke,a=new ke,l=new ke,c=new ke,y=new ke,x=new ke;if(e)for(let C=0,A=e.count;C<A;C+=3){const P=e.getX(C+0),L=e.getX(C+1),H=e.getX(C+2);r.fromBufferAttribute(t,P),s.fromBufferAttribute(t,L),o.fromBufferAttribute(t,H),y.subVectors(o,s),x.subVectors(r,s),y.cross(x),a.fromBufferAttribute(n,P),l.fromBufferAttribute(n,L),c.fromBufferAttribute(n,H),a.add(y),l.add(y),c.add(y),n.setXYZ(P,a.x,a.y,a.z),n.setXYZ(L,l.x,l.y,l.z),n.setXYZ(H,c.x,c.y,c.z)}else for(let C=0,A=t.count;C<A;C+=3)r.fromBufferAttribute(t,C+0),s.fromBufferAttribute(t,C+1),o.fromBufferAttribute(t,C+2),y.subVectors(o,s),x.subVectors(r,s),y.cross(x),n.setXYZ(C+0,y.x,y.y,y.z),n.setXYZ(C+1,y.x,y.y,y.z),n.setXYZ(C+2,y.x,y.y,y.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===e.attributes[r])continue;const o=n[r].array,a=e.attributes[r],l=a.array,c=a.itemSize*t,y=Math.min(l.length,o.length-c);for(let x=0,C=c;x<y;x++,C++)o[C]=l[x]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ys.fromBufferAttribute(e,t),Ys.normalize(),e.setXYZ(t,Ys.x,Ys.y,Ys.z)}toNonIndexed(){function e(a,l){const c=a.array,y=a.itemSize,x=a.normalized,C=new c.constructor(l.length*y);let A=0,P=0;for(let L=0,H=l.length;L<H;L++){A=a.isInterleavedBufferAttribute?l[L]*a.data.stride+a.offset:l[L]*y;for(let F=0;F<y;F++)C[P++]=c[A++]}return new Lr(C,y,x)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ci,n=this.index.array,r=this.attributes;for(const a in r){const c=e(r[a],n);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let y=0,x=c.length;y<x;y++){const A=e(c[y],n);l.push(A)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n)e.data.attributes[l]=n[l].toJSON(e.data);const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],y=[];for(let x=0,C=c.length;x<C;x++)y.push(c[x].toJSON(e.data));y.length>0&&(r[l]=y,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r)this.setAttribute(c,r[c].clone(t));const s=e.morphAttributes;for(const c in s){const y=[],x=s[c];for(let C=0,A=x.length;C<A;C++)y.push(x[C].clone(t));this.morphAttributes[c]=y}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,y=o.length;c<y;c++){const x=o[c];this.addGroup(x.start,x.count,x.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}ci.prototype.isBufferGeometry=!0;const yj=new qn,Zf=new Ld,vE=new Pd,vu=new ke,bu=new ke,xu=new ke,bE=new ke,xE=new ke,wE=new ke,K0=new ke,Q0=new ke,J0=new ke,eb=new Yt,tb=new Yt,nb=new Yt,ME=new ke,ib=new ke;class wr extends ir{constructor(e=new ci,t=new _u){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;if(void 0===r||(null===n.boundingSphere&&n.computeBoundingSphere(),vE.copy(n.boundingSphere),vE.applyMatrix4(s),!1===e.ray.intersectsSphere(vE))||(yj.copy(s).invert(),Zf.copy(e.ray).applyMatrix4(yj),null!==n.boundingBox&&!1===Zf.intersectsBox(n.boundingBox)))return;let o;if(n.isBufferGeometry){const a=n.index,l=n.attributes.position,c=n.morphAttributes.position,y=n.morphTargetsRelative,x=n.attributes.uv,C=n.attributes.uv2,A=n.groups,P=n.drawRange;if(null!==a)if(Array.isArray(r))for(let L=0,H=A.length;L<H;L++){const F=A[L],N=r[F.materialIndex];for(let J=Math.max(F.start,P.start),he=Math.min(a.count,Math.min(F.start+F.count,P.start+P.count));J<he;J+=3){const ee=a.getX(J),ge=a.getX(J+1),je=a.getX(J+2);o=rb(this,N,e,Zf,l,c,y,x,C,ee,ge,je),o&&(o.faceIndex=Math.floor(J/3),o.face.materialIndex=F.materialIndex,t.push(o))}}else for(let F=Math.max(0,P.start),N=Math.min(a.count,P.start+P.count);F<N;F+=3){const q=a.getX(F),Y=a.getX(F+1),J=a.getX(F+2);o=rb(this,r,e,Zf,l,c,y,x,C,q,Y,J),o&&(o.faceIndex=Math.floor(F/3),t.push(o))}else if(void 0!==l)if(Array.isArray(r))for(let L=0,H=A.length;L<H;L++){const F=A[L],N=r[F.materialIndex];for(let J=Math.max(F.start,P.start),he=Math.min(l.count,Math.min(F.start+F.count,P.start+P.count));J<he;J+=3)o=rb(this,N,e,Zf,l,c,y,x,C,J,J+1,J+2),o&&(o.faceIndex=Math.floor(J/3),o.face.materialIndex=F.materialIndex,t.push(o))}else for(let F=Math.max(0,P.start),N=Math.min(l.count,P.start+P.count);F<N;F+=3)o=rb(this,r,e,Zf,l,c,y,x,C,F,F+1,F+2),o&&(o.faceIndex=Math.floor(F/3),t.push(o))}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function rb(i,e,t,n,r,s,o,a,l,c,y,x){vu.fromBufferAttribute(r,c),bu.fromBufferAttribute(r,y),xu.fromBufferAttribute(r,x);const C=i.morphTargetInfluences;if(s&&C){K0.set(0,0,0),Q0.set(0,0,0),J0.set(0,0,0);for(let P=0,L=s.length;P<L;P++){const H=C[P],F=s[P];0!==H&&(bE.fromBufferAttribute(F,c),xE.fromBufferAttribute(F,y),wE.fromBufferAttribute(F,x),o?(K0.addScaledVector(bE,H),Q0.addScaledVector(xE,H),J0.addScaledVector(wE,H)):(K0.addScaledVector(bE.sub(vu),H),Q0.addScaledVector(xE.sub(bu),H),J0.addScaledVector(wE.sub(xu),H)))}vu.add(K0),bu.add(Q0),xu.add(J0)}i.isSkinnedMesh&&(i.boneTransform(c,vu),i.boneTransform(y,bu),i.boneTransform(x,xu));const A=function fce(i,e,t,n,r,s,o,a){let l;if(l=1===e.side?n.intersectTriangle(o,s,r,!0,a):n.intersectTriangle(r,s,o,2!==e.side,a),null===l)return null;ib.copy(a),ib.applyMatrix4(i.matrixWorld);const c=t.ray.origin.distanceTo(ib);return c<t.near||c>t.far?null:{distance:c,point:ib.clone(),object:i}}(i,e,t,n,vu,bu,xu,ME);if(A){a&&(eb.fromBufferAttribute(a,c),tb.fromBufferAttribute(a,y),nb.fromBufferAttribute(a,x),A.uv=Cs.getUV(ME,vu,bu,xu,eb,tb,nb,new Yt)),l&&(eb.fromBufferAttribute(l,c),tb.fromBufferAttribute(l,y),nb.fromBufferAttribute(l,x),A.uv2=Cs.getUV(ME,vu,bu,xu,eb,tb,nb,new Yt));const P={a:c,b:y,c:x,normal:new ke,materialIndex:0};Cs.getNormal(vu,bu,xu,P.normal),A.face=P}return A}wr.prototype.isMesh=!0;class Ac extends ci{constructor(e=1,t=1,n=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],y=[],x=[];let C=0,A=0;function P(L,H,F,N,q,Y,J,he,ee,ge,je){const Me=Y/ee,Se=J/ge,Je=Y/2,qe=J/2,ue=he/2,Ce=ee+1,pe=ge+1;let we=0,me=0;const He=new ke;for(let Re=0;Re<pe;Re++){const Qe=Re*Se-qe;for(let ht=0;ht<Ce;ht++)He[L]=(ht*Me-Je)*N,He[H]=Qe*q,He[F]=ue,c.push(He.x,He.y,He.z),He[L]=0,He[H]=0,He[F]=he>0?1:-1,y.push(He.x,He.y,He.z),x.push(ht/ee),x.push(1-Re/ge),we+=1}for(let Re=0;Re<ge;Re++)for(let Qe=0;Qe<ee;Qe++){const Xe=C+Qe+Ce*(Re+1),Ze=C+(Qe+1)+Ce*(Re+1),mt=C+(Qe+1)+Ce*Re;l.push(C+Qe+Ce*Re,Xe,mt),l.push(Xe,Ze,mt),me+=6}a.addGroup(A,me,je),A+=me,C+=we}P("z","y","x",-1,-1,n,t,e,o,s,0),P("z","y","x",1,-1,n,t,-e,o,s,1),P("x","z","y",1,1,e,n,t,r,o,2),P("x","z","y",1,-1,e,n,-t,r,o,3),P("x","y","z",1,-1,e,t,n,r,s,4),P("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(l),this.setAttribute("position",new Wn(c,3)),this.setAttribute("normal",new Wn(y,3)),this.setAttribute("uv",new Wn(x,2))}static fromJSON(e){return new Ac(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Kf(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];e[t][n]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.clone():Array.isArray(r)?r.slice():r}}return e}function Mo(i){const e={};for(let t=0;t<i.length;t++){const n=Kf(i[t]);for(const r in n)e[r]=n[r]}return e}const pce={clone:Kf,merge:Mo};class wu extends lo{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Kf(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}wu.prototype.isShaderMaterial=!0;class sb extends ir{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new qn,this.projectionMatrix=new qn,this.projectionMatrixInverse=new qn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}sb.prototype.isCamera=!0;class Ls extends sb{constructor(e=50,t=1,n=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Rg*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Rd*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Rg*Math.atan(Math.tan(.5*Rd*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Rd*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*n/c,r*=o.width/l,n*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Ls.prototype.isPerspectiveCamera=!0;class SE extends ir{constructor(e,t,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new Ls(90,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new ke(1,0,0)),this.add(r);const s=new Ls(90,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new ke(-1,0,0)),this.add(s);const o=new Ls(90,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new ke(0,1,0)),this.add(o);const a=new Ls(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new ke(0,-1,0)),this.add(a);const l=new Ls(90,1,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new ke(0,0,1)),this.add(l);const c=new Ls(90,1,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new ke(0,0,-1)),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,s,o,a,l,c]=this.children,y=e.xr.enabled,x=e.getRenderTarget();e.xr.enabled=!1;const C=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,s),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=C,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(x),e.xr.enabled=y}}class Fg extends $s{constructor(e,t,n,r,s,o,a,l,c,y){super(e=void 0!==e?e:[],t=void 0!==t?t:301,n,r,s,o,a,l,c,y),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Fg.prototype.isCubeTexture=!0;class CE extends Ul{constructor(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),super(e,e,t),this.texture=new Fg(void 0,(t=t||{}).mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:zs,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=xo,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new Ac(5,5,5),s=new wu({name:"CubemapFromEquirect",uniforms:Kf(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new wr(r,s),a=t.minFilter;return 1008===t.minFilter&&(t.minFilter=zs),new SE(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(s)}}CE.prototype.isWebGLCubeRenderTarget=!0;const EE=new ke,yce=new ke,_ce=new Ws;class Tc{constructor(e=new ke(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=EE.subVectors(n,t).cross(yce.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(EE),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(n).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||_ce.getNormalMatrix(e),r=this.coplanarPoint(EE).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}Tc.prototype.isPlane=!0;const ep=new Pd,ob=new ke;class ab{constructor(e=new Tc,t=new Tc,n=new Tc,r=new Tc,s=new Tc,o=new Tc){this.planes=[e,t,n,r,s,o]}set(e,t,n,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],y=n[6],x=n[7],C=n[8],A=n[9],P=n[10],L=n[11],H=n[12],F=n[13],N=n[14],q=n[15];return t[0].setComponents(a-r,x-l,L-C,q-H).normalize(),t[1].setComponents(a+r,x+l,L+C,q+H).normalize(),t[2].setComponents(a+s,x+c,L+A,q+F).normalize(),t[3].setComponents(a-s,x-c,L-A,q-F).normalize(),t[4].setComponents(a-o,x-y,L-P,q-N).normalize(),t[5].setComponents(a+o,x+y,L+P,q+N).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ep.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ep)}intersectsSprite(e){return ep.center.set(0,0,0),ep.radius=.7071067811865476,ep.applyMatrix4(e.matrixWorld),this.intersectsSphere(ep)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(ob.x=r.normal.x>0?e.max.x:e.min.x,ob.y=r.normal.y>0?e.max.y:e.min.y,ob.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ob)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function _j(){let i=null,e=!1,t=null,n=null;function r(s,o){t(s,o),n=i.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function vce(i,e){const t=e.isWebGL2,n=new WeakMap;return{get:function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),n.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const y=n.get(c);y&&(i.deleteBuffer(y.buffer),n.delete(c))},update:function l(c,y){if(c.isGLBufferAttribute){const C=n.get(c);return void((!C||C.version<c.version)&&n.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const x=n.get(c);void 0===x?n.set(c,function r(c,y){const x=c.array,C=c.usage,A=i.createBuffer();i.bindBuffer(y,A),i.bufferData(y,x,C),c.onUploadCallback();let P=5126;return x instanceof Float32Array?P=5126:x instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):x instanceof Uint16Array?c.isFloat16BufferAttribute?t?P=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):P=5123:x instanceof Int16Array?P=5122:x instanceof Uint32Array?P=5125:x instanceof Int32Array?P=5124:x instanceof Int8Array?P=5120:(x instanceof Uint8Array||x instanceof Uint8ClampedArray)&&(P=5121),{buffer:A,type:P,bytesPerElement:x.BYTES_PER_ELEMENT,version:c.version}}(c,y)):x.version<c.version&&(function s(c,y,x){const C=y.array,A=y.updateRange;i.bindBuffer(x,c),-1===A.count?i.bufferSubData(x,0,C):(t?i.bufferSubData(x,A.offset*C.BYTES_PER_ELEMENT,C,A.offset,A.count):i.bufferSubData(x,A.offset*C.BYTES_PER_ELEMENT,C.subarray(A.offset,A.offset+A.count)),A.count=-1)}(x.buffer,c,y),x.version=c.version)}}}class Rc extends ci{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(n),l=Math.floor(r),c=a+1,y=l+1,x=e/a,C=t/l,A=[],P=[],L=[],H=[];for(let F=0;F<y;F++){const N=F*C-o;for(let q=0;q<c;q++)P.push(q*x-s,-N,0),L.push(0,0,1),H.push(q/a),H.push(1-F/l)}for(let F=0;F<l;F++)for(let N=0;N<a;N++){const Y=N+c*(F+1),J=N+1+c*(F+1),he=N+1+c*F;A.push(N+c*F,Y,he),A.push(Y,J,he)}this.setIndex(A),this.setAttribute("position",new Wn(P,3)),this.setAttribute("normal",new Wn(L,3)),this.setAttribute("uv",new Wn(H,2))}static fromJSON(e){return new Rc(e.width,e.height,e.widthSegments,e.heightSegments)}}const $i={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {\n\t\t\tfloat texelIndex = float( vertexIndex * stride + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV ).xyz;\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\t#ifndef USE_MORPHNORMALS\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];\n\t\t\t#else\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];\n\t\t\t#endif\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( float roughness, float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},En={common:{diffuse:{value:new Pn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ws},uv2Transform:{value:new Ws},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Yt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Pn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Pn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ws}},sprite:{diffuse:{value:new Pn(16777215)},opacity:{value:1},center:{value:new Yt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ws}}},Hl={basic:{uniforms:Mo([En.common,En.specularmap,En.envmap,En.aomap,En.lightmap,En.fog]),vertexShader:$i.meshbasic_vert,fragmentShader:$i.meshbasic_frag},lambert:{uniforms:Mo([En.common,En.specularmap,En.envmap,En.aomap,En.lightmap,En.emissivemap,En.fog,En.lights,{emissive:{value:new Pn(0)}}]),vertexShader:$i.meshlambert_vert,fragmentShader:$i.meshlambert_frag},phong:{uniforms:Mo([En.common,En.specularmap,En.envmap,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.fog,En.lights,{emissive:{value:new Pn(0)},specular:{value:new Pn(1118481)},shininess:{value:30}}]),vertexShader:$i.meshphong_vert,fragmentShader:$i.meshphong_frag},standard:{uniforms:Mo([En.common,En.envmap,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.roughnessmap,En.metalnessmap,En.fog,En.lights,{emissive:{value:new Pn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:$i.meshphysical_vert,fragmentShader:$i.meshphysical_frag},toon:{uniforms:Mo([En.common,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.gradientmap,En.fog,En.lights,{emissive:{value:new Pn(0)}}]),vertexShader:$i.meshtoon_vert,fragmentShader:$i.meshtoon_frag},matcap:{uniforms:Mo([En.common,En.bumpmap,En.normalmap,En.displacementmap,En.fog,{matcap:{value:null}}]),vertexShader:$i.meshmatcap_vert,fragmentShader:$i.meshmatcap_frag},points:{uniforms:Mo([En.points,En.fog]),vertexShader:$i.points_vert,fragmentShader:$i.points_frag},dashed:{uniforms:Mo([En.common,En.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:$i.linedashed_vert,fragmentShader:$i.linedashed_frag},depth:{uniforms:Mo([En.common,En.displacementmap]),vertexShader:$i.depth_vert,fragmentShader:$i.depth_frag},normal:{uniforms:Mo([En.common,En.bumpmap,En.normalmap,En.displacementmap,{opacity:{value:1}}]),vertexShader:$i.meshnormal_vert,fragmentShader:$i.meshnormal_frag},sprite:{uniforms:Mo([En.sprite,En.fog]),vertexShader:$i.sprite_vert,fragmentShader:$i.sprite_frag},background:{uniforms:{uvTransform:{value:new Ws},t2D:{value:null}},vertexShader:$i.background_vert,fragmentShader:$i.background_frag},cube:{uniforms:Mo([En.envmap,{opacity:{value:1}}]),vertexShader:$i.cube_vert,fragmentShader:$i.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:$i.equirect_vert,fragmentShader:$i.equirect_frag},distanceRGBA:{uniforms:Mo([En.common,En.displacementmap,{referencePosition:{value:new ke},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:$i.distanceRGBA_vert,fragmentShader:$i.distanceRGBA_frag},shadow:{uniforms:Mo([En.lights,En.fog,{color:{value:new Pn(0)},opacity:{value:1}}]),vertexShader:$i.shadow_vert,fragmentShader:$i.shadow_frag}};function pde(i,e,t,n,r){const s=new Pn(0);let a,l,o=0,c=null,y=0,x=null;function A(P,L){t.buffers.color.setClear(P.r,P.g,P.b,L,r)}return{getClearColor:function(){return s},setClearColor:function(P,L=1){s.set(P),o=L,A(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(P){o=P,A(s,o)},render:function C(P,L){let H=!1,F=!0===L.isScene?L.background:null;F&&F.isTexture&&(F=e.get(F));const N=i.xr,q=N.getSession&&N.getSession();q&&"additive"===q.environmentBlendMode&&(F=null),null===F?A(s,o):F&&F.isColor&&(A(F,1),H=!0),(i.autoClear||H)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),F&&(F.isCubeTexture||306===F.mapping)?(void 0===l&&(l=new wr(new Ac(1,1,1),new wu({name:"BackgroundCubeMaterial",uniforms:Kf(Hl.cube.uniforms),vertexShader:Hl.cube.vertexShader,fragmentShader:Hl.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(Y,J,he){this.matrixWorld.copyPosition(he.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(l)),l.material.uniforms.envMap.value=F,l.material.uniforms.flipEnvMap.value=F.isCubeTexture&&!1===F.isRenderTargetTexture?-1:1,(c!==F||y!==F.version||x!==i.toneMapping)&&(l.material.needsUpdate=!0,c=F,y=F.version,x=i.toneMapping),P.unshift(l,l.geometry,l.material,0,0,null)):F&&F.isTexture&&(void 0===a&&(a=new wr(new Rc(2,2),new wu({name:"BackgroundMaterial",uniforms:Kf(Hl.background.uniforms),vertexShader:Hl.background.vertexShader,fragmentShader:Hl.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(a)),a.material.uniforms.t2D.value=F,!0===F.matrixAutoUpdate&&F.updateMatrix(),a.material.uniforms.uvTransform.value.copy(F.matrix),(c!==F||y!==F.version||x!==i.toneMapping)&&(a.material.needsUpdate=!0,c=F,y=F.version,x=i.toneMapping),P.unshift(a,a.geometry,a.material,0,0,null))}}}function mde(i,e,t,n){const r=i.getParameter(34921),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||null!==s,a={},l=L(null);let c=l;function C(qe){return n.isWebGL2?i.bindVertexArray(qe):s.bindVertexArrayOES(qe)}function A(qe){return n.isWebGL2?i.deleteVertexArray(qe):s.deleteVertexArrayOES(qe)}function L(qe){const ue=[],Ce=[],pe=[];for(let we=0;we<r;we++)ue[we]=0,Ce[we]=0,pe[we]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ue,enabledAttributes:Ce,attributeDivisors:pe,object:qe,attributes:{},index:null}}function N(){const qe=c.newAttributes;for(let ue=0,Ce=qe.length;ue<Ce;ue++)qe[ue]=0}function q(qe){Y(qe,0)}function Y(qe,ue){const pe=c.enabledAttributes,we=c.attributeDivisors;c.newAttributes[qe]=1,0===pe[qe]&&(i.enableVertexAttribArray(qe),pe[qe]=1),we[qe]!==ue&&((n.isWebGL2?i:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](qe,ue),we[qe]=ue)}function J(){const qe=c.newAttributes,ue=c.enabledAttributes;for(let Ce=0,pe=ue.length;Ce<pe;Ce++)ue[Ce]!==qe[Ce]&&(i.disableVertexAttribArray(Ce),ue[Ce]=0)}function he(qe,ue,Ce,pe,we,me){!0!==n.isWebGL2||5124!==Ce&&5125!==Ce?i.vertexAttribPointer(qe,ue,Ce,pe,we,me):i.vertexAttribIPointer(qe,ue,Ce,we,me)}function Se(){Je(),c!==l&&(c=l,C(c.object))}function Je(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function y(qe,ue,Ce,pe,we){let me=!1;if(o){const He=function P(qe,ue,Ce){const pe=!0===Ce.wireframe;let we=a[qe.id];void 0===we&&(we={},a[qe.id]=we);let me=we[ue.id];void 0===me&&(me={},we[ue.id]=me);let He=me[pe];return void 0===He&&(He=L(function x(){return n.isWebGL2?i.createVertexArray():s.createVertexArrayOES()}()),me[pe]=He),He}(pe,Ce,ue);c!==He&&(c=He,C(c.object)),me=function H(qe,ue){const Ce=c.attributes,pe=qe.attributes;let we=0;for(const me in pe){const He=Ce[me],Re=pe[me];if(void 0===He||He.attribute!==Re||He.data!==Re.data)return!0;we++}return c.attributesNum!==we||c.index!==ue}(pe,we),me&&function F(qe,ue){const Ce={},pe=qe.attributes;let we=0;for(const me in pe){const He=pe[me],Re={};Re.attribute=He,He.data&&(Re.data=He.data),Ce[me]=Re,we++}c.attributes=Ce,c.attributesNum=we,c.index=ue}(pe,we)}else{const He=!0===ue.wireframe;(c.geometry!==pe.id||c.program!==Ce.id||c.wireframe!==He)&&(c.geometry=pe.id,c.program=Ce.id,c.wireframe=He,me=!0)}!0===qe.isInstancedMesh&&(me=!0),null!==we&&t.update(we,34963),me&&(function ee(qe,ue,Ce,pe){if(!1===n.isWebGL2&&(qe.isInstancedMesh||pe.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;N();const we=pe.attributes,me=Ce.getAttributes(),He=ue.defaultAttributeValues;for(const Re in me){const Qe=me[Re];if(Qe.location>=0){let ht=we[Re];if(void 0===ht&&("instanceMatrix"===Re&&qe.instanceMatrix&&(ht=qe.instanceMatrix),"instanceColor"===Re&&qe.instanceColor&&(ht=qe.instanceColor)),void 0!==ht){const Xe=ht.normalized,Ze=ht.itemSize,mt=t.get(ht);if(void 0===mt)continue;const rt=mt.buffer,gt=mt.type,Ft=mt.bytesPerElement;if(ht.isInterleavedBufferAttribute){const Tt=ht.data,Pt=Tt.stride,qt=ht.offset;if(Tt&&Tt.isInstancedInterleavedBuffer){for(let yt=0;yt<Qe.locationSize;yt++)Y(Qe.location+yt,Tt.meshPerAttribute);!0!==qe.isInstancedMesh&&void 0===pe._maxInstanceCount&&(pe._maxInstanceCount=Tt.meshPerAttribute*Tt.count)}else for(let yt=0;yt<Qe.locationSize;yt++)q(Qe.location+yt);i.bindBuffer(34962,rt);for(let yt=0;yt<Qe.locationSize;yt++)he(Qe.location+yt,Ze/Qe.locationSize,gt,Xe,Pt*Ft,(qt+Ze/Qe.locationSize*yt)*Ft)}else{if(ht.isInstancedBufferAttribute){for(let Tt=0;Tt<Qe.locationSize;Tt++)Y(Qe.location+Tt,ht.meshPerAttribute);!0!==qe.isInstancedMesh&&void 0===pe._maxInstanceCount&&(pe._maxInstanceCount=ht.meshPerAttribute*ht.count)}else for(let Tt=0;Tt<Qe.locationSize;Tt++)q(Qe.location+Tt);i.bindBuffer(34962,rt);for(let Tt=0;Tt<Qe.locationSize;Tt++)he(Qe.location+Tt,Ze/Qe.locationSize,gt,Xe,Ze*Ft,Ze/Qe.locationSize*Tt*Ft)}}else if(void 0!==He){const Xe=He[Re];if(void 0!==Xe)switch(Xe.length){case 2:i.vertexAttrib2fv(Qe.location,Xe);break;case 3:i.vertexAttrib3fv(Qe.location,Xe);break;case 4:i.vertexAttrib4fv(Qe.location,Xe);break;default:i.vertexAttrib1fv(Qe.location,Xe)}}}}J()}(qe,ue,Ce,pe),null!==we&&i.bindBuffer(34963,t.get(we).buffer))},reset:Se,resetDefaultState:Je,dispose:function ge(){Se();for(const qe in a){const ue=a[qe];for(const Ce in ue){const pe=ue[Ce];for(const we in pe)A(pe[we].object),delete pe[we];delete ue[Ce]}delete a[qe]}},releaseStatesOfGeometry:function je(qe){if(void 0===a[qe.id])return;const ue=a[qe.id];for(const Ce in ue){const pe=ue[Ce];for(const we in pe)A(pe[we].object),delete pe[we];delete ue[Ce]}delete a[qe.id]},releaseStatesOfProgram:function Me(qe){for(const ue in a){const Ce=a[ue];if(void 0===Ce[qe.id])continue;const pe=Ce[qe.id];for(const we in pe)A(pe[we].object),delete pe[we];delete Ce[qe.id]}},initAttributes:N,enableAttribute:q,disableUnusedAttributes:J}}function gde(i,e,t,n){const r=n.isWebGL2;let s;this.setMode=function o(c){s=c},this.render=function a(c,y){i.drawArrays(s,c,y),t.update(y,s,1)},this.renderInstances=function l(c,y,x){if(0===x)return;let C,A;if(r)C=i,A="drawArraysInstanced";else if(C=e.get("ANGLE_instanced_arrays"),A="drawArraysInstancedANGLE",null===C)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");C[A](s,c,y,x),t.update(y,s,x)}}function yde(i,e,t){let n;function s(ee){if("highp"===ee){if(i.getShaderPrecisionFormat(35633,36338).precision>0&&i.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";ee="mediump"}return"mediump"===ee&&i.getShaderPrecisionFormat(35633,36337).precision>0&&i.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&i instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&i instanceof WebGL2ComputeRenderingContext;let a=void 0!==t.precision?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),y=!0===t.logarithmicDepthBuffer,x=i.getParameter(34930),C=i.getParameter(35660),A=i.getParameter(3379),P=i.getParameter(34076),L=i.getParameter(34921),H=i.getParameter(36347),F=i.getParameter(36348),N=i.getParameter(36349),q=C>0,Y=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function r(){if(void 0!==n)return n;if(!0===e.has("EXT_texture_filter_anisotropic")){const ee=e.get("EXT_texture_filter_anisotropic");n=i.getParameter(ee.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:s,precision:a,logarithmicDepthBuffer:y,maxTextures:x,maxVertexTextures:C,maxTextureSize:A,maxCubemapSize:P,maxAttributes:L,maxVertexUniforms:H,maxVaryings:F,maxFragmentUniforms:N,vertexTextures:q,floatFragmentTextures:Y,floatVertexTextures:q&&Y,maxSamples:o?i.getParameter(36183):0}}function _de(i){const e=this;let t=null,n=0,r=!1,s=!1;const o=new Tc,a=new Ws,l={value:null,needsUpdate:!1};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function y(x,C,A,P){const L=null!==x?x.length:0;let H=null;if(0!==L){if(H=l.value,!0!==P||null===H){const F=A+4*L,N=C.matrixWorldInverse;a.getNormalMatrix(N),(null===H||H.length<F)&&(H=new Float32Array(F));for(let q=0,Y=A;q!==L;++q,Y+=4)o.copy(x[q]).applyMatrix4(N,a),o.normal.toArray(H,Y),H[Y+3]=o.constant}l.value=H,l.needsUpdate=!0}return e.numPlanes=L,e.numIntersection=0,H}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(x,C,A){const P=0!==x.length||C||0!==n||r;return r=C,t=y(x,A,0),n=x.length,P},this.beginShadows=function(){s=!0,y(null)},this.endShadows=function(){s=!1,c()},this.setState=function(x,C,A){const P=x.clippingPlanes,L=x.clipIntersection,H=x.clipShadows,F=i.get(x);if(!r||null===P||0===P.length||s&&!H)s?y(null):c();else{const N=s?0:n,q=4*N;let Y=F.clippingState||null;l.value=Y,Y=y(P,C,q,A);for(let J=0;J!==q;++J)Y[J]=t[J];F.clippingState=Y,this.numIntersection=L?this.numPlanes:0,this.numPlanes+=N}}}function vde(i){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=301:304===a&&(o.mapping=302),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function n(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=i.getRenderTarget(),y=new CE(l.height/2);return y.fromEquirectangularTexture(i,o),e.set(o,y),i.setRenderTarget(c),o.addEventListener("dispose",r),t(y.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}Hl.physical={uniforms:Mo([Hl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Yt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Pn(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Yt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Pn(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new Pn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:$i.meshphysical_vert,fragmentShader:$i.meshphysical_frag};class Ng extends sb{constructor(e=-1,t=1,n=1,r=-1,s=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,o=n+e,a=r+t,l=r-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=y*this.view.offsetY,l=a-y*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}Ng.prototype.isOrthographicCamera=!0;class Bg extends wu{constructor(e){super(e),this.type="RawShaderMaterial"}}Bg.prototype.isRawShaderMaterial=!0;const Gl=Math.pow(2,8),vj=[.125,.215,.35,.446,.526,.582],bj=5+vj.length,Su={[wo]:0,[Td]:1,3002:2,3004:3,3005:4,3006:5,3007:6},DE=new Ng,{_lodPlanes:jg,_sizeLods:xj,_sigmas:lb}=wde(),wj=new Pn;let AE=null;const Od=(1+Math.sqrt(5))/2,ip=1/Od,Mj=[new ke(1,1,1),new ke(-1,1,1),new ke(1,1,-1),new ke(-1,1,-1),new ke(0,Od,ip),new ke(0,Od,-ip),new ke(ip,0,Od),new ke(-ip,0,Od),new ke(Od,ip,0),new ke(-Od,ip,0)];class bde{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function Mde(i){const e=new Float32Array(i),t=new ke(0,1,0);return new Bg({name:"SphericalGaussianBlur",defines:{n:i},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:Su[wo]},outputEncoding:{value:Su[wo]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){AE=this._renderer.getRenderTarget();const s=this._allocateTargets();return this._sceneToCubeUV(e,n,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=Ej(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=Cj(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let e=0;e<jg.length;e++)jg[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(AE),e.scissorTest=!1,cb(e,0,0,e.width,e.height)}_fromTexture(e){AE=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:Ps,minFilter:Ps,generateMipmaps:!1,type:du,format:1023,encoding:(i=e,void 0===i||i.type!==du||i.encoding!==wo&&i.encoding!==Td&&3007!==i.encoding?3002:e.encoding),depthBuffer:!1},n=Sj(t);var i;return n.depthBuffer=!e,this._pingPongRenderTarget=Sj(t),n}_compileMaterial(e){const t=new wr(jg[0],e);this._renderer.compile(t,DE)}_sceneToCubeUV(e,t,n,r){const a=new Ls(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],y=this._renderer,x=y.autoClear,C=y.outputEncoding,A=y.toneMapping;y.getClearColor(wj),y.toneMapping=0,y.outputEncoding=wo,y.autoClear=!1;const P=new _u({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),L=new wr(new Ac,P);let H=!1;const F=e.background;F?F.isColor&&(P.color.copy(F),e.background=null,H=!0):(P.color.copy(wj),H=!0);for(let N=0;N<6;N++){const q=N%3;0==q?(a.up.set(0,l[N],0),a.lookAt(c[N],0,0)):1==q?(a.up.set(0,0,l[N]),a.lookAt(0,c[N],0)):(a.up.set(0,l[N],0),a.lookAt(0,0,c[N])),cb(r,q*Gl,N>2?Gl:0,Gl,Gl),y.setRenderTarget(r),H&&y.render(L,a),y.render(e,a)}L.geometry.dispose(),L.material.dispose(),y.toneMapping=A,y.outputEncoding=C,y.autoClear=x,e.background=F}_setEncoding(e,t){e.value=!0===this._renderer.capabilities.isWebGL2&&t.format===xo&&t.type===du&&t.encoding===Td?Su[wo]:Su[t.encoding]}_textureToCubeUV(e,t){const n=this._renderer,r=301===e.mapping||302===e.mapping;r?null==this._cubemapShader&&(this._cubemapShader=Ej()):null==this._equirectShader&&(this._equirectShader=Cj());const s=r?this._cubemapShader:this._equirectShader,o=new wr(jg[0],s),a=s.uniforms;a.envMap.value=e,r||a.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(a.inputEncoding,e),this._setEncoding(a.outputEncoding,t.texture),cb(t,0,0,3*Gl,2*Gl),n.setRenderTarget(t),n.render(o,DE)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<bj;r++){const s=Math.sqrt(lb[r]*lb[r]-lb[r-1]*lb[r-1]);this._blur(e,r-1,r,s,Mj[(r-1)%Mj.length])}t.autoClear=n}_blur(e,t,n,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",s),this._halfBlur(o,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const x=new wr(jg[r],c),C=c.uniforms,A=xj[n]-1,P=isFinite(s)?Math.PI/(2*A):2*Math.PI/39,L=s/P,H=isFinite(s)?1+Math.floor(3*L):20;H>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${H} samples when the maximum is set to 20`);const F=[];let N=0;for(let he=0;he<20;++he){const ee=he/L,ge=Math.exp(-ee*ee/2);F.push(ge),0==he?N+=ge:he<H&&(N+=2*ge)}for(let he=0;he<F.length;he++)F[he]=F[he]/N;C.envMap.value=e.texture,C.samples.value=H,C.weights.value=F,C.latitudinal.value="latitudinal"===o,a&&(C.poleAxis.value=a),C.dTheta.value=P,C.mipInt.value=8-n,this._setEncoding(C.inputEncoding,e.texture),this._setEncoding(C.outputEncoding,e.texture);const q=xj[r];cb(t,3*Math.max(0,Gl-2*q),(0===r?0:2*Gl)+2*q*(r>4?r-8+4:0),3*q,2*q),l.setRenderTarget(t),l.render(x,DE)}}function wde(){const i=[],e=[],t=[];let n=8;for(let r=0;r<bj;r++){const s=Math.pow(2,n);e.push(s);let o=1/s;r>4?o=vj[r-8+4-1]:0==r&&(o=0),t.push(o);const a=1/(s-1),l=-a/2,c=1+a/2,y=[l,l,c,l,c,c,l,l,c,c,l,c],x=6,C=6,A=3,P=2,L=1,H=new Float32Array(A*C*x),F=new Float32Array(P*C*x),N=new Float32Array(L*C*x);for(let Y=0;Y<x;Y++){const J=Y%3*2/3-1,he=Y>2?0:-1;H.set([J,he,0,J+2/3,he,0,J+2/3,he+1,0,J,he,0,J+2/3,he+1,0,J,he+1,0],A*C*Y),F.set(y,P*C*Y),N.set([Y,Y,Y,Y,Y,Y],L*C*Y)}const q=new ci;q.setAttribute("position",new Lr(H,A)),q.setAttribute("uv",new Lr(F,P)),q.setAttribute("faceIndex",new Lr(N,L)),i.push(q),n>4&&n--}return{_lodPlanes:i,_sizeLods:e,_sigmas:t}}function Sj(i){const e=new Ul(3*Gl,3*Gl,i);return e.texture.mapping=306,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function cb(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function Cj(){const i=new Yt(1,1);return new Bg({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:i},inputEncoding:{value:Su[wo]},outputEncoding:{value:Su[wo]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Ej(){return new Bg({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Su[wo]},outputEncoding:{value:Su[wo]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Sde(i){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function n(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const l=a.mapping,c=303===l||304===l,y=301===l||302===l;if(c||y){if(e.has(a))return e.get(a).texture;{const x=a.image;if(c&&x&&x.height>0||y&&x&&function r(a){let l=0;for(let y=0;y<6;y++)void 0!==a[y]&&l++;return 6===l}(x)){const C=i.getRenderTarget();null===t&&(t=new bde(i));const A=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,A),i.setRenderTarget(C),a.addEventListener("dispose",s),A.texture}return null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function Cde(i){const e={};function t(n){if(void 0!==e[n])return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return null!==t(n)},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float")},get:function(n){const r=t(n);return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function Ede(i,e,t,n){const r={},s=new WeakMap;function o(x){const C=x.target;null!==C.index&&e.remove(C.index);for(const P in C.attributes)e.remove(C.attributes[P]);C.removeEventListener("dispose",o),delete r[C.id];const A=s.get(C);A&&(e.remove(A),s.delete(C)),n.releaseStatesOfGeometry(C),!0===C.isInstancedBufferGeometry&&delete C._maxInstanceCount,t.memory.geometries--}function c(x){const C=[],A=x.index,P=x.attributes.position;let L=0;if(null!==A){const N=A.array;L=A.version;for(let q=0,Y=N.length;q<Y;q+=3){const J=N[q+0],he=N[q+1],ee=N[q+2];C.push(J,he,he,ee,ee,J)}}else{L=P.version;for(let q=0,Y=P.array.length/3-1;q<Y;q+=3){const J=q+0,he=q+1,ee=q+2;C.push(J,he,he,ee,ee,J)}}const H=new(nj(C)>65535?yE:gE)(C,1);H.version=L;const F=s.get(x);F&&e.remove(F),s.set(x,H)}return{get:function a(x,C){return!0===r[C.id]||(C.addEventListener("dispose",o),r[C.id]=!0,t.memory.geometries++),C},update:function l(x){const C=x.attributes;for(const P in C)e.update(C[P],34962);const A=x.morphAttributes;for(const P in A){const L=A[P];for(let H=0,F=L.length;H<F;H++)e.update(L[H],34962)}},getWireframeAttribute:function y(x){const C=s.get(x);if(C){const A=x.index;null!==A&&C.version<A.version&&c(x)}else c(x);return s.get(x)}}}function Dde(i,e,t,n){const r=n.isWebGL2;let s,a,l;this.setMode=function o(C){s=C},this.setIndex=function c(C){a=C.type,l=C.bytesPerElement},this.render=function y(C,A){i.drawElements(s,A,a,C*l),t.update(A,s,1)},this.renderInstances=function x(C,A,P){if(0===P)return;let L,H;if(r)L=i,H="drawElementsInstanced";else if(L=e.get("ANGLE_instanced_arrays"),H="drawElementsInstancedANGLE",null===L)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");L[H](s,A,a,C*l,P),t.update(A,s,P)}}function Ade(i){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function n(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}class IE extends $s{constructor(e=null,t=1,n=1,r=1){super(null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=Ps,this.minFilter=Ps,this.wrapR=bo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}function Tde(i,e){return i[0]-e[0]}function Rde(i,e){return Math.abs(e[1])-Math.abs(i[1])}function Dj(i,e){let t=1;const n=e.isInterleavedBufferAttribute?e.data.array:e.array;n instanceof Int8Array?t=127:n instanceof Int16Array?t=32767:n instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),i.divideScalar(t)}function Ide(i,e,t){const n={},r=new Float32Array(8),s=new WeakMap,o=new ke,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function l(c,y,x,C){const A=c.morphTargetInfluences;if(!0===e.isWebGL2){const P=y.morphAttributes.position.length;let L=s.get(y);if(void 0===L||L.count!==P){void 0!==L&&L.texture.dispose();const N=void 0!==y.morphAttributes.normal,q=y.morphAttributes.position,Y=y.morphAttributes.normal||[],he=!0===N?2:1;let ee=y.attributes.position.count*he,ge=1;ee>e.maxTextureSize&&(ge=Math.ceil(ee/e.maxTextureSize),ee=e.maxTextureSize);const je=new Float32Array(ee*ge*4*P),Me=new IE(je,ee,ge,P);Me.format=xo,Me.type=wc;const Se=4*he;for(let Je=0;Je<P;Je++){const qe=q[Je],ue=Y[Je],Ce=ee*ge*4*Je;for(let pe=0;pe<qe.count;pe++){o.fromBufferAttribute(qe,pe),!0===qe.normalized&&Dj(o,qe);const we=pe*Se;je[Ce+we+0]=o.x,je[Ce+we+1]=o.y,je[Ce+we+2]=o.z,je[Ce+we+3]=0,!0===N&&(o.fromBufferAttribute(ue,pe),!0===ue.normalized&&Dj(o,ue),je[Ce+we+4]=o.x,je[Ce+we+5]=o.y,je[Ce+we+6]=o.z,je[Ce+we+7]=0)}}L={count:P,texture:Me,size:new Yt(ee,ge)},s.set(y,L)}let H=0;for(let N=0;N<A.length;N++)H+=A[N];const F=y.morphTargetsRelative?1:1-H;C.getUniforms().setValue(i,"morphTargetBaseInfluence",F),C.getUniforms().setValue(i,"morphTargetInfluences",A),C.getUniforms().setValue(i,"morphTargetsTexture",L.texture,t),C.getUniforms().setValue(i,"morphTargetsTextureSize",L.size)}else{const P=void 0===A?0:A.length;let L=n[y.id];if(void 0===L||L.length!==P){L=[];for(let Y=0;Y<P;Y++)L[Y]=[Y,0];n[y.id]=L}for(let Y=0;Y<P;Y++){const J=L[Y];J[0]=Y,J[1]=A[Y]}L.sort(Rde);for(let Y=0;Y<8;Y++)Y<P&&L[Y][1]?(a[Y][0]=L[Y][0],a[Y][1]=L[Y][1]):(a[Y][0]=Number.MAX_SAFE_INTEGER,a[Y][1]=0);a.sort(Tde);const H=y.morphAttributes.position,F=y.morphAttributes.normal;let N=0;for(let Y=0;Y<8;Y++){const J=a[Y],he=J[0],ee=J[1];he!==Number.MAX_SAFE_INTEGER&&ee?(H&&y.getAttribute("morphTarget"+Y)!==H[he]&&y.setAttribute("morphTarget"+Y,H[he]),F&&y.getAttribute("morphNormal"+Y)!==F[he]&&y.setAttribute("morphNormal"+Y,F[he]),r[Y]=ee,N+=ee):(H&&!0===y.hasAttribute("morphTarget"+Y)&&y.deleteAttribute("morphTarget"+Y),F&&!0===y.hasAttribute("morphNormal"+Y)&&y.deleteAttribute("morphNormal"+Y),r[Y]=0)}const q=y.morphTargetsRelative?1:1-N;C.getUniforms().setValue(i,"morphTargetBaseInfluence",q),C.getUniforms().setValue(i,"morphTargetInfluences",r)}}}}function kde(i,e,t,n){let r=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function s(l){const c=n.render.frame,x=e.get(l,l.geometry);return r.get(x)!==c&&(e.update(x),r.set(x,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),null!==l.instanceColor&&t.update(l.instanceColor,34962)),x},dispose:function o(){r=new WeakMap}}}IE.prototype.isDataTexture2DArray=!0;class Aj extends $s{constructor(e=null,t=1,n=1,r=1){super(null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=Ps,this.minFilter=Ps,this.wrapR=bo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Aj.prototype.isDataTexture3D=!0;const Tj=new $s,Pde=new IE,Lde=new Aj,Rj=new Fg,Ij=[],kj=[],Pj=new Float32Array(16),Lj=new Float32Array(9),Oj=new Float32Array(4);function rp(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=Ij[r];if(void 0===s&&(s=new Float32Array(r),Ij[r]=s),0!==e){n.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,i[o].toArray(s,a)}return s}function Po(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function So(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function Fj(i,e){let t=kj[e];void 0===t&&(t=new Int32Array(e),kj[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function Ode(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function Fde(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Po(t,e))return;i.uniform2fv(this.addr,e),So(t,e)}}function Nde(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Po(t,e))return;i.uniform3fv(this.addr,e),So(t,e)}}function Bde(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Po(t,e))return;i.uniform4fv(this.addr,e),So(t,e)}}function jde(i,e){const t=this.cache,n=e.elements;if(void 0===n){if(Po(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),So(t,e)}else{if(Po(t,n))return;Oj.set(n),i.uniformMatrix2fv(this.addr,!1,Oj),So(t,n)}}function Vde(i,e){const t=this.cache,n=e.elements;if(void 0===n){if(Po(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),So(t,e)}else{if(Po(t,n))return;Lj.set(n),i.uniformMatrix3fv(this.addr,!1,Lj),So(t,n)}}function Ude(i,e){const t=this.cache,n=e.elements;if(void 0===n){if(Po(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),So(t,e)}else{if(Po(t,n))return;Pj.set(n),i.uniformMatrix4fv(this.addr,!1,Pj),So(t,n)}}function Hde(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function Gde(i,e){const t=this.cache;Po(t,e)||(i.uniform2iv(this.addr,e),So(t,e))}function zde(i,e){const t=this.cache;Po(t,e)||(i.uniform3iv(this.addr,e),So(t,e))}function Wde(i,e){const t=this.cache;Po(t,e)||(i.uniform4iv(this.addr,e),So(t,e))}function $de(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function qde(i,e){const t=this.cache;Po(t,e)||(i.uniform2uiv(this.addr,e),So(t,e))}function Yde(i,e){const t=this.cache;Po(t,e)||(i.uniform3uiv(this.addr,e),So(t,e))}function Xde(i,e){const t=this.cache;Po(t,e)||(i.uniform4uiv(this.addr,e),So(t,e))}function Zde(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.safeSetTexture2D(e||Tj,r)}function Kde(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||Lde,r)}function Qde(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.safeSetTextureCube(e||Rj,r)}function Jde(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||Pde,r)}function the(i,e){i.uniform1fv(this.addr,e)}function nhe(i,e){const t=rp(e,this.size,2);i.uniform2fv(this.addr,t)}function ihe(i,e){const t=rp(e,this.size,3);i.uniform3fv(this.addr,t)}function rhe(i,e){const t=rp(e,this.size,4);i.uniform4fv(this.addr,t)}function she(i,e){const t=rp(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function ohe(i,e){const t=rp(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function ahe(i,e){const t=rp(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function lhe(i,e){i.uniform1iv(this.addr,e)}function che(i,e){i.uniform2iv(this.addr,e)}function uhe(i,e){i.uniform3iv(this.addr,e)}function dhe(i,e){i.uniform4iv(this.addr,e)}function hhe(i,e){i.uniform1uiv(this.addr,e)}function fhe(i,e){i.uniform2uiv(this.addr,e)}function phe(i,e){i.uniform3uiv(this.addr,e)}function mhe(i,e){i.uniform4uiv(this.addr,e)}function ghe(i,e,t){const n=e.length,r=Fj(t,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)t.safeSetTexture2D(e[s]||Tj,r[s])}function yhe(i,e,t){const n=e.length,r=Fj(t,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)t.safeSetTextureCube(e[s]||Rj,r[s])}function vhe(i,e,t){this.id=i,this.addr=t,this.cache=[],this.setValue=function ehe(i){switch(i){case 5126:return Ode;case 35664:return Fde;case 35665:return Nde;case 35666:return Bde;case 35674:return jde;case 35675:return Vde;case 35676:return Ude;case 5124:case 35670:return Hde;case 35667:case 35671:return Gde;case 35668:case 35672:return zde;case 35669:case 35673:return Wde;case 5125:return $de;case 36294:return qde;case 36295:return Yde;case 36296:return Xde;case 35678:case 36198:case 36298:case 36306:case 35682:return Zde;case 35679:case 36299:case 36307:return Kde;case 35680:case 36300:case 36308:case 36293:return Qde;case 36289:case 36303:case 36311:case 36292:return Jde}}(e.type)}function Nj(i,e,t){this.id=i,this.addr=t,this.cache=[],this.size=e.size,this.setValue=function _he(i){switch(i){case 5126:return the;case 35664:return nhe;case 35665:return ihe;case 35666:return rhe;case 35674:return she;case 35675:return ohe;case 35676:return ahe;case 5124:case 35670:return lhe;case 35667:case 35671:return che;case 35668:case 35672:return uhe;case 35669:case 35673:return dhe;case 5125:return hhe;case 36294:return fhe;case 36295:return phe;case 36296:return mhe;case 35678:case 36198:case 36298:case 36306:case 35682:return ghe;case 35680:case 36300:case 36308:case 36293:return yhe}}(e.type)}function Bj(i){this.id=i,this.seq=[],this.map={}}Nj.prototype.updateCache=function(i){const e=this.cache;i instanceof Float32Array&&e.length!==i.length&&(this.cache=new Float32Array(i.length)),So(e,i)},Bj.prototype.setValue=function(i,e,t){const n=this.seq;for(let r=0,s=n.length;r!==s;++r){const o=n[r];o.setValue(i,e[o.id],t)}};const kE=/(\w+)(\])?(\[|\.)?/g;function jj(i,e){i.seq.push(e),i.map[e.id]=e}function bhe(i,e,t){const n=i.name,r=n.length;for(kE.lastIndex=0;;){const s=kE.exec(n),o=kE.lastIndex;let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&o+2===r){jj(t,void 0===c?new vhe(a,i,e):new Nj(a,i,e));break}{let x=t.map[a];void 0===x&&(x=new Bj(a),jj(t,x)),t=x}}}function Cu(i,e){this.seq=[],this.map={};const t=i.getProgramParameter(e,35718);for(let n=0;n<t;++n){const r=i.getActiveUniform(e,n);bhe(r,i.getUniformLocation(e,r.name),this)}}function Vj(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}Cu.prototype.setValue=function(i,e,t,n){const r=this.map[e];void 0!==r&&r.setValue(i,t,n)},Cu.prototype.setOptional=function(i,e,t){const n=e[t];void 0!==n&&this.setValue(i,t,n)},Cu.upload=function(i,e,t,n){for(let r=0,s=e.length;r!==s;++r){const o=e[r],a=t[o.id];!1!==a.needsUpdate&&o.setValue(i,a.value,n)}},Cu.seqWithValue=function(i,e){const t=[];for(let n=0,r=i.length;n!==r;++n){const s=i[n];s.id in e&&t.push(s)}return t};let xhe=0;function Uj(i){switch(i){case wo:return["Linear","( value )"];case Td:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",i),["Linear","( value )"]}}function Hj(i,e,t){const n=i.getShaderParameter(e,35713),r=i.getShaderInfoLog(e).trim();return n&&""===r?"":t.toUpperCase()+"\n\n"+r+"\n\n"+function whe(i){const e=i.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(i.getShaderSource(e))}function Fd(i,e){const t=Uj(e);return"vec4 "+i+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function Mhe(i,e){const t=Uj(e);return"vec4 "+i+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function She(i,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Vg(i){return""!==i}function Gj(i,e){return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function zj(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Ahe=/^[ \t]*#include +<([\w\d./]+)>/gm;function PE(i){return i.replace(Ahe,The)}function The(i,e){const t=$i[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return PE(t)}const Rhe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Ihe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Wj(i){return i.replace(Ihe,$j).replace(Rhe,khe)}function khe(i,e,t,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),$j(0,e,t,n)}function $j(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function qj(i){let e="precision "+i.precision+" float;\nprecision "+i.precision+" int;";return"highp"===i.precision?e+="\n#define HIGH_PRECISION":"mediump"===i.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===i.precision&&(e+="\n#define LOW_PRECISION"),e}function Nhe(i,e,t,n){const r=i.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function Phe(i){let e="SHADOWMAP_TYPE_BASIC";return 1===i.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===i.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===i.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function Lhe(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),y=function Ohe(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(t),x=function Fhe(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),C=i.gammaFactor>0?i.gammaFactor:1,A=t.isWebGL2?"":function Che(i){return[i.extensionDerivatives||i.envMapCubeUV||i.bumpMap||i.tangentSpaceNormalMap||i.clearcoatNormalMap||i.flatShading||"physical"===i.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Vg).join("\n")}(t),P=function Ehe(i){const e=[];for(const t in i){const n=i[t];!1!==n&&e.push("#define "+t+" "+n)}return e.join("\n")}(s),L=r.createProgram();let H,F,N=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(H=[P].filter(Vg).join("\n"),H.length>0&&(H+="\n"),F=[A,P].filter(Vg).join("\n"),F.length>0&&(F+="\n")):(H=[qj(t),"#define SHADER_NAME "+t.shaderName,P,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+C,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+y:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Vg).join("\n"),F=[A,qj(t),"#define SHADER_NAME "+t.shaderName,P,"#define GAMMA_FACTOR "+C,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+y:"",t.envMap?"#define "+x:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?$i.tonemapping_pars_fragment:"",0!==t.toneMapping?She("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===Lf?"#define OPAQUE":"",$i.encodings_pars_fragment,t.map?Fd("mapTexelToLinear",t.mapEncoding):"",t.matcap?Fd("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?Fd("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?Fd("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularColorMap?Fd("specularColorMapTexelToLinear",t.specularColorMapEncoding):"",t.sheenColorMap?Fd("sheenColorMapTexelToLinear",t.sheenColorMapEncoding):"",t.lightMap?Fd("lightMapTexelToLinear",t.lightMapEncoding):"",Mhe("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(Vg).join("\n")),o=PE(o),o=Gj(o,t),o=zj(o,t),a=PE(a),a=Gj(a,t),a=zj(a,t),o=Wj(o),a=Wj(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(N="#version 300 es\n",H=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+H,F=["#define varying in","300 es"===t.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+F);const Y=N+F+a,J=Vj(r,35633,N+H+o),he=Vj(r,35632,Y);if(r.attachShader(L,J),r.attachShader(L,he),void 0!==t.index0AttributeName?r.bindAttribLocation(L,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(L,0,"position"),r.linkProgram(L),i.debug.checkShaderErrors){const je=r.getProgramInfoLog(L).trim(),Me=r.getShaderInfoLog(J).trim(),Se=r.getShaderInfoLog(he).trim();let Je=!0,qe=!0;if(!1===r.getProgramParameter(L,35714)){Je=!1;const ue=Hj(r,J,"vertex"),Ce=Hj(r,he,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(L,35715)+"\n\nProgram Info Log: "+je+"\n"+ue+"\n"+Ce)}else""!==je?console.warn("THREE.WebGLProgram: Program Info Log:",je):(""===Me||""===Se)&&(qe=!1);qe&&(this.diagnostics={runnable:Je,programLog:je,vertexShader:{log:Me,prefix:H},fragmentShader:{log:Se,prefix:F}})}let ee,ge;return r.deleteShader(J),r.deleteShader(he),this.getUniforms=function(){return void 0===ee&&(ee=new Cu(r,L)),ee},this.getAttributes=function(){return void 0===ge&&(ge=function Dhe(i,e){const t={},n=i.getProgramParameter(e,35721);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),o=s.name;let a=1;35674===s.type&&(a=2),35675===s.type&&(a=3),35676===s.type&&(a=4),t[o]={type:s.type,location:i.getAttribLocation(e,o),locationSize:a}}return t}(r,L)),ge},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(L),this.program=void 0},this.name=t.shaderName,this.id=xhe++,this.cacheKey=e,this.usedTimes=1,this.program=L,this.vertexShader=J,this.fragmentShader=he,this}function Bhe(i,e,t,n,r,s,o){const a=[],l=r.isWebGL2,c=r.logarithmicDepthBuffer,y=r.floatVertexTextures,x=r.maxVertexUniforms,C=r.vertexTextures;let A=r.precision;const P={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},L=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function F(ee){let ge;return ee&&ee.isTexture?ge=ee.encoding:ee&&ee.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),ge=ee.texture.encoding):ge=wo,l&&ee&&ee.isTexture&&ee.format===xo&&ee.type===du&&ee.encoding===Td&&(ge=wo),ge}return{getParameters:function N(ee,ge,je,Me,Se){const Je=Me.fog,ue=(ee.isMeshStandardMaterial?t:e).get(ee.envMap||(ee.isMeshStandardMaterial?Me.environment:null)),Ce=P[ee.type],pe=Se.isSkinnedMesh?function H(ee){const je=ee.skeleton.bones;if(y)return 1024;{const Se=Math.floor((x-20)/4),Je=Math.min(Se,je.length);return Je<je.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+je.length+" bones. This GPU supports "+Je+"."),0):Je}}(Se):0;let we,me;if(null!==ee.precision&&(A=r.getMaxPrecision(ee.precision),A!==ee.precision&&console.warn("THREE.WebGLProgram.getParameters:",ee.precision,"not supported, using",A,"instead.")),Ce){const Xe=Hl[Ce];we=Xe.vertexShader,me=Xe.fragmentShader}else we=ee.vertexShader,me=ee.fragmentShader;const He=i.getRenderTarget(),Re=ee.alphaTest>0,Qe=ee.clearcoat>0;return{isWebGL2:l,shaderID:Ce,shaderName:ee.type,vertexShader:we,fragmentShader:me,defines:ee.defines,isRawShaderMaterial:!0===ee.isRawShaderMaterial,glslVersion:ee.glslVersion,precision:A,instancing:!0===Se.isInstancedMesh,instancingColor:!0===Se.isInstancedMesh&&null!==Se.instanceColor,supportsVertexTextures:C,outputEncoding:null!==He?F(He.texture):i.outputEncoding,map:!!ee.map,mapEncoding:F(ee.map),matcap:!!ee.matcap,matcapEncoding:F(ee.matcap),envMap:!!ue,envMapMode:ue&&ue.mapping,envMapEncoding:F(ue),envMapCubeUV:!!ue&&(306===ue.mapping||307===ue.mapping),lightMap:!!ee.lightMap,lightMapEncoding:F(ee.lightMap),aoMap:!!ee.aoMap,emissiveMap:!!ee.emissiveMap,emissiveMapEncoding:F(ee.emissiveMap),bumpMap:!!ee.bumpMap,normalMap:!!ee.normalMap,objectSpaceNormalMap:1===ee.normalMapType,tangentSpaceNormalMap:0===ee.normalMapType,clearcoat:Qe,clearcoatMap:Qe&&!!ee.clearcoatMap,clearcoatRoughnessMap:Qe&&!!ee.clearcoatRoughnessMap,clearcoatNormalMap:Qe&&!!ee.clearcoatNormalMap,displacementMap:!!ee.displacementMap,roughnessMap:!!ee.roughnessMap,metalnessMap:!!ee.metalnessMap,specularMap:!!ee.specularMap,specularIntensityMap:!!ee.specularIntensityMap,specularColorMap:!!ee.specularColorMap,specularColorMapEncoding:F(ee.specularColorMap),alphaMap:!!ee.alphaMap,alphaTest:Re,gradientMap:!!ee.gradientMap,sheen:ee.sheen>0,sheenColorMap:!!ee.sheenColorMap,sheenColorMapEncoding:F(ee.sheenColorMap),sheenRoughnessMap:!!ee.sheenRoughnessMap,transmission:ee.transmission>0,transmissionMap:!!ee.transmissionMap,thicknessMap:!!ee.thicknessMap,combine:ee.combine,vertexTangents:!!ee.normalMap&&!!Se.geometry&&!!Se.geometry.attributes.tangent,vertexColors:ee.vertexColors,vertexAlphas:!0===ee.vertexColors&&!!Se.geometry&&!!Se.geometry.attributes.color&&4===Se.geometry.attributes.color.itemSize,vertexUvs:!!ee.map||!!ee.bumpMap||!!ee.normalMap||!!ee.specularMap||!!ee.alphaMap||!!ee.emissiveMap||!!ee.roughnessMap||!!ee.metalnessMap||!!ee.clearcoatMap||!!ee.clearcoatRoughnessMap||!!ee.clearcoatNormalMap||!!ee.displacementMap||!!ee.transmissionMap||!!ee.thicknessMap||!!ee.specularIntensityMap||!!ee.specularColorMap||!!ee.sheenColorMap||ee.sheenRoughnessMap,uvsVertexOnly:!(ee.map||ee.bumpMap||ee.normalMap||ee.specularMap||ee.alphaMap||ee.emissiveMap||ee.roughnessMap||ee.metalnessMap||ee.clearcoatNormalMap||ee.transmission>0||ee.transmissionMap||ee.thicknessMap||ee.specularIntensityMap||ee.specularColorMap||!!ee.sheen>0||ee.sheenColorMap||ee.sheenRoughnessMap||!ee.displacementMap),fog:!!Je,useFog:ee.fog,fogExp2:Je&&Je.isFogExp2,flatShading:!!ee.flatShading,sizeAttenuation:ee.sizeAttenuation,logarithmicDepthBuffer:c,skinning:!0===Se.isSkinnedMesh&&pe>0,maxBones:pe,useVertexTexture:y,morphTargets:!!Se.geometry&&!!Se.geometry.morphAttributes.position,morphNormals:!!Se.geometry&&!!Se.geometry.morphAttributes.normal,morphTargetsCount:Se.geometry&&Se.geometry.morphAttributes.position?Se.geometry.morphAttributes.position.length:0,numDirLights:ge.directional.length,numPointLights:ge.point.length,numSpotLights:ge.spot.length,numRectAreaLights:ge.rectArea.length,numHemiLights:ge.hemi.length,numDirLightShadows:ge.directionalShadowMap.length,numPointLightShadows:ge.pointShadowMap.length,numSpotLightShadows:ge.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,format:ee.format,dithering:ee.dithering,shadowMapEnabled:i.shadowMap.enabled&&je.length>0,shadowMapType:i.shadowMap.type,toneMapping:ee.toneMapped?i.toneMapping:0,physicallyCorrectLights:i.physicallyCorrectLights,premultipliedAlpha:ee.premultipliedAlpha,doubleSided:2===ee.side,flipSided:1===ee.side,depthPacking:void 0!==ee.depthPacking&&ee.depthPacking,index0AttributeName:ee.index0AttributeName,extensionDerivatives:ee.extensions&&ee.extensions.derivatives,extensionFragDepth:ee.extensions&&ee.extensions.fragDepth,extensionDrawBuffers:ee.extensions&&ee.extensions.drawBuffers,extensionShaderTextureLOD:ee.extensions&&ee.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||n.has("EXT_shader_texture_lod"),customProgramCacheKey:ee.customProgramCacheKey()}},getProgramCacheKey:function q(ee){const ge=[];if(ee.shaderID?ge.push(ee.shaderID):(ge.push(ij(ee.fragmentShader)),ge.push(ij(ee.vertexShader))),void 0!==ee.defines)for(const je in ee.defines)ge.push(je),ge.push(ee.defines[je]);if(!1===ee.isRawShaderMaterial){for(let je=0;je<L.length;je++)ge.push(ee[L[je]]);ge.push(i.outputEncoding),ge.push(i.gammaFactor)}return ge.push(ee.customProgramCacheKey),ge.join()},getUniforms:function Y(ee){const ge=P[ee.type];let je;return je=ge?pce.clone(Hl[ge].uniforms):ee.uniforms,je},acquireProgram:function J(ee,ge){let je;for(let Me=0,Se=a.length;Me<Se;Me++){const Je=a[Me];if(Je.cacheKey===ge){je=Je,++je.usedTimes;break}}return void 0===je&&(je=new Nhe(i,ge,ee,s),a.push(je)),je},releaseProgram:function he(ee){if(0==--ee.usedTimes){const ge=a.indexOf(ee);a[ge]=a[a.length-1],a.pop(),ee.destroy()}},programs:a}}function jhe(){let i=new WeakMap;return{get:function e(s){let o=i.get(s);return void 0===o&&(o={},i.set(s,o)),o},remove:function t(s){i.delete(s)},update:function n(s,o,a){i.get(s)[o]=a},dispose:function r(){i=new WeakMap}}}function Vhe(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.program!==e.program?i.program.id-e.program.id:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function Yj(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function Xj(i){const e=[];let t=0;const n=[],r=[],s=[],o={id:-1};function l(A,P,L,H,F,N){let q=e[t];const Y=i.get(L);return void 0===q?(q={id:A.id,object:A,geometry:P,material:L,program:Y.program||o,groupOrder:H,renderOrder:A.renderOrder,z:F,group:N},e[t]=q):(q.id=A.id,q.object=A,q.geometry=P,q.material=L,q.program=Y.program||o,q.groupOrder=H,q.renderOrder=A.renderOrder,q.z=F,q.group=N),t++,q}return{opaque:n,transmissive:r,transparent:s,init:function a(){t=0,n.length=0,r.length=0,s.length=0},push:function c(A,P,L,H,F,N){const q=l(A,P,L,H,F,N);L.transmission>0?r.push(q):!0===L.transparent?s.push(q):n.push(q)},unshift:function y(A,P,L,H,F,N){const q=l(A,P,L,H,F,N);L.transmission>0?r.unshift(q):!0===L.transparent?s.unshift(q):n.unshift(q)},finish:function C(){for(let A=t,P=e.length;A<P;A++){const L=e[A];if(null===L.id)break;L.id=null,L.object=null,L.geometry=null,L.material=null,L.program=null,L.group=null}},sort:function x(A,P){n.length>1&&n.sort(A||Vhe),r.length>1&&r.sort(P||Yj),s.length>1&&s.sort(P||Yj)}}}function Uhe(i){let e=new WeakMap;return{get:function t(r,s){let o;return!1===e.has(r)?(o=new Xj(i),e.set(r,[o])):s>=e.get(r).length?(o=new Xj(i),e.get(r).push(o)):o=e.get(r)[s],o},dispose:function n(){e=new WeakMap}}}function Hhe(){const i={};return{get:function(e){if(void 0!==i[e.id])return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ke,color:new Pn};break;case"SpotLight":t={position:new ke,direction:new ke,color:new Pn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ke,color:new Pn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ke,skyColor:new Pn,groundColor:new Pn};break;case"RectAreaLight":t={color:new Pn,position:new ke,halfWidth:new ke,halfHeight:new ke}}return i[e.id]=t,t}}}let zhe=0;function Whe(i,e){return(e.castShadow?1:0)-(i.castShadow?1:0)}function $he(i,e){const t=new Hhe,n=function Ghe(){const i={};return{get:function(e){if(void 0!==i[e.id])return i[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yt,shadowCameraNear:1,shadowCameraFar:1e3}}return i[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let y=0;y<9;y++)r.probe.push(new ke);const s=new ke,o=new qn,a=new qn;return{setup:function l(y,x){let C=0,A=0,P=0;for(let je=0;je<9;je++)r.probe[je].set(0,0,0);let L=0,H=0,F=0,N=0,q=0,Y=0,J=0,he=0;y.sort(Whe);const ee=!0!==x?Math.PI:1;for(let je=0,Me=y.length;je<Me;je++){const Se=y[je],Je=Se.color,qe=Se.intensity,ue=Se.distance,Ce=Se.shadow&&Se.shadow.map?Se.shadow.map.texture:null;if(Se.isAmbientLight)C+=Je.r*qe*ee,A+=Je.g*qe*ee,P+=Je.b*qe*ee;else if(Se.isLightProbe)for(let pe=0;pe<9;pe++)r.probe[pe].addScaledVector(Se.sh.coefficients[pe],qe);else if(Se.isDirectionalLight){const pe=t.get(Se);if(pe.color.copy(Se.color).multiplyScalar(Se.intensity*ee),Se.castShadow){const we=Se.shadow,me=n.get(Se);me.shadowBias=we.bias,me.shadowNormalBias=we.normalBias,me.shadowRadius=we.radius,me.shadowMapSize=we.mapSize,r.directionalShadow[L]=me,r.directionalShadowMap[L]=Ce,r.directionalShadowMatrix[L]=Se.shadow.matrix,Y++}r.directional[L]=pe,L++}else if(Se.isSpotLight){const pe=t.get(Se);if(pe.position.setFromMatrixPosition(Se.matrixWorld),pe.color.copy(Je).multiplyScalar(qe*ee),pe.distance=ue,pe.coneCos=Math.cos(Se.angle),pe.penumbraCos=Math.cos(Se.angle*(1-Se.penumbra)),pe.decay=Se.decay,Se.castShadow){const we=Se.shadow,me=n.get(Se);me.shadowBias=we.bias,me.shadowNormalBias=we.normalBias,me.shadowRadius=we.radius,me.shadowMapSize=we.mapSize,r.spotShadow[F]=me,r.spotShadowMap[F]=Ce,r.spotShadowMatrix[F]=Se.shadow.matrix,he++}r.spot[F]=pe,F++}else if(Se.isRectAreaLight){const pe=t.get(Se);pe.color.copy(Je).multiplyScalar(qe),pe.halfWidth.set(.5*Se.width,0,0),pe.halfHeight.set(0,.5*Se.height,0),r.rectArea[N]=pe,N++}else if(Se.isPointLight){const pe=t.get(Se);if(pe.color.copy(Se.color).multiplyScalar(Se.intensity*ee),pe.distance=Se.distance,pe.decay=Se.decay,Se.castShadow){const we=Se.shadow,me=n.get(Se);me.shadowBias=we.bias,me.shadowNormalBias=we.normalBias,me.shadowRadius=we.radius,me.shadowMapSize=we.mapSize,me.shadowCameraNear=we.camera.near,me.shadowCameraFar=we.camera.far,r.pointShadow[H]=me,r.pointShadowMap[H]=Ce,r.pointShadowMatrix[H]=Se.shadow.matrix,J++}r.point[H]=pe,H++}else if(Se.isHemisphereLight){const pe=t.get(Se);pe.skyColor.copy(Se.color).multiplyScalar(qe*ee),pe.groundColor.copy(Se.groundColor).multiplyScalar(qe*ee),r.hemi[q]=pe,q++}}N>0&&(e.isWebGL2||!0===i.has("OES_texture_float_linear")?(r.rectAreaLTC1=En.LTC_FLOAT_1,r.rectAreaLTC2=En.LTC_FLOAT_2):!0===i.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=En.LTC_HALF_1,r.rectAreaLTC2=En.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=C,r.ambient[1]=A,r.ambient[2]=P;const ge=r.hash;(ge.directionalLength!==L||ge.pointLength!==H||ge.spotLength!==F||ge.rectAreaLength!==N||ge.hemiLength!==q||ge.numDirectionalShadows!==Y||ge.numPointShadows!==J||ge.numSpotShadows!==he)&&(r.directional.length=L,r.spot.length=F,r.rectArea.length=N,r.point.length=H,r.hemi.length=q,r.directionalShadow.length=Y,r.directionalShadowMap.length=Y,r.pointShadow.length=J,r.pointShadowMap.length=J,r.spotShadow.length=he,r.spotShadowMap.length=he,r.directionalShadowMatrix.length=Y,r.pointShadowMatrix.length=J,r.spotShadowMatrix.length=he,ge.directionalLength=L,ge.pointLength=H,ge.spotLength=F,ge.rectAreaLength=N,ge.hemiLength=q,ge.numDirectionalShadows=Y,ge.numPointShadows=J,ge.numSpotShadows=he,r.version=zhe++)},setupView:function c(y,x){let C=0,A=0,P=0,L=0,H=0;const F=x.matrixWorldInverse;for(let N=0,q=y.length;N<q;N++){const Y=y[N];if(Y.isDirectionalLight){const J=r.directional[C];J.direction.setFromMatrixPosition(Y.matrixWorld),s.setFromMatrixPosition(Y.target.matrixWorld),J.direction.sub(s),J.direction.transformDirection(F),C++}else if(Y.isSpotLight){const J=r.spot[P];J.position.setFromMatrixPosition(Y.matrixWorld),J.position.applyMatrix4(F),J.direction.setFromMatrixPosition(Y.matrixWorld),s.setFromMatrixPosition(Y.target.matrixWorld),J.direction.sub(s),J.direction.transformDirection(F),P++}else if(Y.isRectAreaLight){const J=r.rectArea[L];J.position.setFromMatrixPosition(Y.matrixWorld),J.position.applyMatrix4(F),a.identity(),o.copy(Y.matrixWorld),o.premultiply(F),a.extractRotation(o),J.halfWidth.set(.5*Y.width,0,0),J.halfHeight.set(0,.5*Y.height,0),J.halfWidth.applyMatrix4(a),J.halfHeight.applyMatrix4(a),L++}else if(Y.isPointLight){const J=r.point[A];J.position.setFromMatrixPosition(Y.matrixWorld),J.position.applyMatrix4(F),A++}else if(Y.isHemisphereLight){const J=r.hemi[H];J.direction.setFromMatrixPosition(Y.matrixWorld),J.direction.transformDirection(F),J.direction.normalize(),H++}}},state:r}}function Zj(i,e){const t=new $he(i,e),n=[],r=[];return{init:function s(){n.length=0,r.length=0},state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:function l(x){t.setup(n,x)},setupLightsView:function c(x){t.setupView(n,x)},pushLight:function o(x){n.push(x)},pushShadow:function a(x){r.push(x)}}}function qhe(i,e){let t=new WeakMap;return{get:function n(s,o=0){let a;return!1===t.has(s)?(a=new Zj(i,e),t.set(s,[a])):o>=t.get(s).length?(a=new Zj(i,e),t.get(s).push(a)):a=t.get(s)[o],a},dispose:function r(){t=new WeakMap}}}class LE extends lo{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}LE.prototype.isMeshDepthMaterial=!0;class OE extends lo{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new ke,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Kj(i,e,t){let n=new ab;const r=new Yt,s=new Yt,o=new Ir,a=new LE({depthPacking:3201}),l=new OE,c={},y=t.maxTextureSize,x={0:1,1:0,2:2},C=new wu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Yt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),A=C.clone();A.defines.HORIZONTAL_PASS=1;const P=new ci;P.setAttribute("position",new Lr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const L=new wr(P,C),H=this;function F(Y,J){const he=e.update(L);C.defines.VSM_SAMPLES!==Y.blurSamples&&(C.defines.VSM_SAMPLES=Y.blurSamples,A.defines.VSM_SAMPLES=Y.blurSamples,C.needsUpdate=!0,A.needsUpdate=!0),C.uniforms.shadow_pass.value=Y.map.texture,C.uniforms.resolution.value=Y.mapSize,C.uniforms.radius.value=Y.radius,i.setRenderTarget(Y.mapPass),i.clear(),i.renderBufferDirect(J,null,he,C,L,null),A.uniforms.shadow_pass.value=Y.mapPass.texture,A.uniforms.resolution.value=Y.mapSize,A.uniforms.radius.value=Y.radius,i.setRenderTarget(Y.map),i.clear(),i.renderBufferDirect(J,null,he,A,L,null)}function N(Y,J,he,ee,ge,je,Me){let Se=null;const Je=!0===ee.isPointLight?Y.customDistanceMaterial:Y.customDepthMaterial;if(Se=void 0!==Je?Je:!0===ee.isPointLight?l:a,i.localClippingEnabled&&!0===he.clipShadows&&0!==he.clippingPlanes.length||he.displacementMap&&0!==he.displacementScale||he.alphaMap&&he.alphaTest>0){const qe=Se.uuid,ue=he.uuid;let Ce=c[qe];void 0===Ce&&(Ce={},c[qe]=Ce);let pe=Ce[ue];void 0===pe&&(pe=Se.clone(),Ce[ue]=pe),Se=pe}return Se.visible=he.visible,Se.wireframe=he.wireframe,Se.side=3===Me?null!==he.shadowSide?he.shadowSide:he.side:null!==he.shadowSide?he.shadowSide:x[he.side],Se.alphaMap=he.alphaMap,Se.alphaTest=he.alphaTest,Se.clipShadows=he.clipShadows,Se.clippingPlanes=he.clippingPlanes,Se.clipIntersection=he.clipIntersection,Se.displacementMap=he.displacementMap,Se.displacementScale=he.displacementScale,Se.displacementBias=he.displacementBias,Se.wireframeLinewidth=he.wireframeLinewidth,Se.linewidth=he.linewidth,!0===ee.isPointLight&&!0===Se.isMeshDistanceMaterial&&(Se.referencePosition.setFromMatrixPosition(ee.matrixWorld),Se.nearDistance=ge,Se.farDistance=je),Se}function q(Y,J,he,ee,ge){if(!1===Y.visible)return;if(Y.layers.test(J.layers)&&(Y.isMesh||Y.isLine||Y.isPoints)&&(Y.castShadow||Y.receiveShadow&&3===ge)&&(!Y.frustumCulled||n.intersectsObject(Y))){Y.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,Y.matrixWorld);const Se=e.update(Y),Je=Y.material;if(Array.isArray(Je)){const qe=Se.groups;for(let ue=0,Ce=qe.length;ue<Ce;ue++){const pe=qe[ue],we=Je[pe.materialIndex];if(we&&we.visible){const me=N(Y,0,we,ee,he.near,he.far,ge);i.renderBufferDirect(he,null,Se,me,Y,pe)}}}else if(Je.visible){const qe=N(Y,0,Je,ee,he.near,he.far,ge);i.renderBufferDirect(he,null,Se,qe,Y,null)}}const Me=Y.children;for(let Se=0,Je=Me.length;Se<Je;Se++)q(Me[Se],J,he,ee,ge)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(Y,J,he){if(!1===H.enabled||!1===H.autoUpdate&&!1===H.needsUpdate||0===Y.length)return;const ee=i.getRenderTarget(),ge=i.getActiveCubeFace(),je=i.getActiveMipmapLevel(),Me=i.state;Me.setBlending(0),Me.buffers.color.setClear(1,1,1,1),Me.buffers.depth.setTest(!0),Me.setScissorTest(!1);for(let Se=0,Je=Y.length;Se<Je;Se++){const qe=Y[Se],ue=qe.shadow;if(void 0===ue){console.warn("THREE.WebGLShadowMap:",qe,"has no shadow.");continue}if(!1===ue.autoUpdate&&!1===ue.needsUpdate)continue;r.copy(ue.mapSize);const Ce=ue.getFrameExtents();if(r.multiply(Ce),s.copy(ue.mapSize),(r.x>y||r.y>y)&&(r.x>y&&(s.x=Math.floor(y/Ce.x),r.x=s.x*Ce.x,ue.mapSize.x=s.x),r.y>y&&(s.y=Math.floor(y/Ce.y),r.y=s.y*Ce.y,ue.mapSize.y=s.y)),null===ue.map&&!ue.isPointLightShadow&&3===this.type){const we={minFilter:zs,magFilter:zs,format:xo};ue.map=new Ul(r.x,r.y,we),ue.map.texture.name=qe.name+".shadowMap",ue.mapPass=new Ul(r.x,r.y,we),ue.camera.updateProjectionMatrix()}null===ue.map&&(ue.map=new Ul(r.x,r.y,{minFilter:Ps,magFilter:Ps,format:xo}),ue.map.texture.name=qe.name+".shadowMap",ue.camera.updateProjectionMatrix()),i.setRenderTarget(ue.map),i.clear();const pe=ue.getViewportCount();for(let we=0;we<pe;we++){const me=ue.getViewport(we);o.set(s.x*me.x,s.y*me.y,s.x*me.z,s.y*me.w),Me.viewport(o),ue.updateMatrices(qe,we),n=ue.getFrustum(),q(J,he,ue.camera,qe,this.type)}!ue.isPointLightShadow&&3===this.type&&F(ue,he),ue.needsUpdate=!1}H.needsUpdate=!1,i.setRenderTarget(ee,ge,je)}}function Zhe(i,e,t){const n=t.isWebGL2,a=new function r(){let _t=!1;const xn=new Ir;let Qt=null;const Un=new Ir(0,0,0,0);return{setMask:function(jn){Qt!==jn&&!_t&&(i.colorMask(jn,jn,jn,jn),Qt=jn)},setLocked:function(jn){_t=jn},setClear:function(jn,Ri,bt,Nn,xr){!0===xr&&(jn*=Nn,Ri*=Nn,bt*=Nn),xn.set(jn,Ri,bt,Nn),!1===Un.equals(xn)&&(i.clearColor(jn,Ri,bt,Nn),Un.copy(xn))},reset:function(){_t=!1,Qt=null,Un.set(-1,0,0,0)}}},l=new function s(){let _t=!1,xn=null,Qt=null,Un=null;return{setTest:function(jn){jn?Ze(2929):mt(2929)},setMask:function(jn){xn!==jn&&!_t&&(i.depthMask(jn),xn=jn)},setFunc:function(jn){if(Qt!==jn){if(jn)switch(jn){case 0:i.depthFunc(512);break;case 1:i.depthFunc(519);break;case 2:i.depthFunc(513);break;case 3:default:i.depthFunc(515);break;case 4:i.depthFunc(514);break;case 5:i.depthFunc(518);break;case 6:i.depthFunc(516);break;case 7:i.depthFunc(517)}else i.depthFunc(515);Qt=jn}},setLocked:function(jn){_t=jn},setClear:function(jn){Un!==jn&&(i.clearDepth(jn),Un=jn)},reset:function(){_t=!1,xn=null,Qt=null,Un=null}}},c=new function o(){let _t=!1,xn=null,Qt=null,Un=null,jn=null,Ri=null,bt=null,Nn=null,xr=null;return{setTest:function(ji){_t||(ji?Ze(2960):mt(2960))},setMask:function(ji){xn!==ji&&!_t&&(i.stencilMask(ji),xn=ji)},setFunc:function(ji,gs,Zs){(Qt!==ji||Un!==gs||jn!==Zs)&&(i.stencilFunc(ji,gs,Zs),Qt=ji,Un=gs,jn=Zs)},setOp:function(ji,gs,Zs){(Ri!==ji||bt!==gs||Nn!==Zs)&&(i.stencilOp(ji,gs,Zs),Ri=ji,bt=gs,Nn=Zs)},setLocked:function(ji){_t=ji},setClear:function(ji){xr!==ji&&(i.clearStencil(ji),xr=ji)},reset:function(){_t=!1,xn=null,Qt=null,Un=null,jn=null,Ri=null,bt=null,Nn=null,xr=null}}};let y={},x=null,C={},A=null,P=!1,L=null,H=null,F=null,N=null,q=null,Y=null,J=null,he=!1,ee=null,ge=null,je=null,Me=null,Se=null;const Je=i.getParameter(35661);let qe=!1,ue=0;const Ce=i.getParameter(7938);-1!==Ce.indexOf("WebGL")?(ue=parseFloat(/^WebGL (\d)/.exec(Ce)[1]),qe=ue>=1):-1!==Ce.indexOf("OpenGL ES")&&(ue=parseFloat(/^OpenGL ES (\d)/.exec(Ce)[1]),qe=ue>=2);let pe=null,we={};const me=i.getParameter(3088),He=i.getParameter(2978),Re=(new Ir).fromArray(me),Qe=(new Ir).fromArray(He);function ht(_t,xn,Qt){const Un=new Uint8Array(4),jn=i.createTexture();i.bindTexture(_t,jn),i.texParameteri(_t,10241,9728),i.texParameteri(_t,10240,9728);for(let Ri=0;Ri<Qt;Ri++)i.texImage2D(xn+Ri,0,6408,1,1,0,6408,5121,Un);return jn}const Xe={};function Ze(_t){!0!==y[_t]&&(i.enable(_t),y[_t]=!0)}function mt(_t){!1!==y[_t]&&(i.disable(_t),y[_t]=!1)}Xe[3553]=ht(3553,3553,1),Xe[34067]=ht(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ze(2929),l.setFunc(3),St(!1),Wt(1),Ze(2884),qt(0);const Tt={100:32774,101:32778,102:32779};if(n)Tt[103]=32775,Tt[104]=32776;else{const _t=e.get("EXT_blend_minmax");null!==_t&&(Tt[103]=_t.MIN_EXT,Tt[104]=_t.MAX_EXT)}const Pt={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function qt(_t,xn,Qt,Un,jn,Ri,bt,Nn){if(0!==_t){if(!1===P&&(Ze(3042),P=!0),5===_t)jn=jn||xn,Ri=Ri||Qt,bt=bt||Un,(xn!==H||jn!==q)&&(i.blendEquationSeparate(Tt[xn],Tt[jn]),H=xn,q=jn),(Qt!==F||Un!==N||Ri!==Y||bt!==J)&&(i.blendFuncSeparate(Pt[Qt],Pt[Un],Pt[Ri],Pt[bt]),F=Qt,N=Un,Y=Ri,J=bt),L=_t,he=null;else if(_t!==L||Nn!==he){if((100!==H||100!==q)&&(i.blendEquation(32774),H=100,q=100),Nn)switch(_t){case 1:i.blendFuncSeparate(1,771,1,771);break;case 2:i.blendFunc(1,1);break;case 3:i.blendFuncSeparate(0,0,769,771);break;case 4:i.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",_t)}else switch(_t){case 1:i.blendFuncSeparate(770,771,1,771);break;case 2:i.blendFunc(770,1);break;case 3:i.blendFunc(0,769);break;case 4:i.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",_t)}F=null,N=null,Y=null,J=null,L=_t,he=Nn}}else!0===P&&(mt(3042),P=!1)}function St(_t){ee!==_t&&(i.frontFace(_t?2304:2305),ee=_t)}function Wt(_t){0!==_t?(Ze(2884),_t!==ge&&i.cullFace(1===_t?1029:2===_t?1028:1032)):mt(2884),ge=_t}function $t(_t,xn,Qt){_t?(Ze(32823),(Me!==xn||Se!==Qt)&&(i.polygonOffset(xn,Qt),Me=xn,Se=Qt)):mt(32823)}function Te(_t){void 0===_t&&(_t=33984+Je-1),pe!==_t&&(i.activeTexture(_t),pe=_t)}return{buffers:{color:a,depth:l,stencil:c},enable:Ze,disable:mt,bindFramebuffer:function gt(_t,xn){return null===xn&&null!==x&&(xn=x),C[_t]!==xn&&(i.bindFramebuffer(_t,xn),C[_t]=xn,n&&(36009===_t&&(C[36160]=xn),36160===_t&&(C[36009]=xn)),!0)},bindXRFramebuffer:function rt(_t){_t!==x&&(i.bindFramebuffer(36160,_t),x=_t)},useProgram:function Ft(_t){return A!==_t&&(i.useProgram(_t),A=_t,!0)},setBlending:qt,setMaterial:function yt(_t,xn){2===_t.side?mt(2884):Ze(2884);let Qt=1===_t.side;xn&&(Qt=!Qt),St(Qt),1===_t.blending&&!1===_t.transparent?qt(0):qt(_t.blending,_t.blendEquation,_t.blendSrc,_t.blendDst,_t.blendEquationAlpha,_t.blendSrcAlpha,_t.blendDstAlpha,_t.premultipliedAlpha),l.setFunc(_t.depthFunc),l.setTest(_t.depthTest),l.setMask(_t.depthWrite),a.setMask(_t.colorWrite);const Un=_t.stencilWrite;c.setTest(Un),Un&&(c.setMask(_t.stencilWriteMask),c.setFunc(_t.stencilFunc,_t.stencilRef,_t.stencilFuncMask),c.setOp(_t.stencilFail,_t.stencilZFail,_t.stencilZPass)),$t(_t.polygonOffset,_t.polygonOffsetFactor,_t.polygonOffsetUnits),!0===_t.alphaToCoverage?Ze(32926):mt(32926)},setFlipSided:St,setCullFace:Wt,setLineWidth:function pn(_t){_t!==je&&(qe&&i.lineWidth(_t),je=_t)},setPolygonOffset:$t,setScissorTest:function Le(_t){_t?Ze(3089):mt(3089)},activeTexture:Te,bindTexture:function Rt(_t,xn){null===pe&&Te();let Qt=we[pe];void 0===Qt&&(Qt={type:void 0,texture:void 0},we[pe]=Qt),(Qt.type!==_t||Qt.texture!==xn)&&(i.bindTexture(_t,xn||Xe[_t]),Qt.type=_t,Qt.texture=xn)},unbindTexture:function tn(){const _t=we[pe];void 0!==_t&&void 0!==_t.type&&(i.bindTexture(_t.type,null),_t.type=void 0,_t.texture=void 0)},compressedTexImage2D:function nn(){try{i.compressedTexImage2D.apply(i,arguments)}catch(_t){console.error("THREE.WebGLState:",_t)}},texImage2D:function vn(){try{i.texImage2D.apply(i,arguments)}catch(_t){console.error("THREE.WebGLState:",_t)}},texImage3D:function ei(){try{i.texImage3D.apply(i,arguments)}catch(_t){console.error("THREE.WebGLState:",_t)}},scissor:function On(_t){!1===Re.equals(_t)&&(i.scissor(_t.x,_t.y,_t.z,_t.w),Re.copy(_t))},viewport:function Qn(_t){!1===Qe.equals(_t)&&(i.viewport(_t.x,_t.y,_t.z,_t.w),Qe.copy(_t))},reset:function Hn(){i.disable(3042),i.disable(2884),i.disable(2929),i.disable(32823),i.disable(3089),i.disable(2960),i.disable(32926),i.blendEquation(32774),i.blendFunc(1,0),i.blendFuncSeparate(1,0,1,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(513),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(519,0,4294967295),i.stencilOp(7680,7680,7680),i.clearStencil(0),i.cullFace(1029),i.frontFace(2305),i.polygonOffset(0,0),i.activeTexture(33984),i.bindFramebuffer(36160,null),!0===n&&(i.bindFramebuffer(36009,null),i.bindFramebuffer(36008,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),y={},pe=null,we={},x=null,C={},A=null,P=!1,L=null,H=null,F=null,N=null,q=null,Y=null,J=null,he=!1,ee=null,ge=null,je=null,Me=null,Se=null,Re.set(0,0,i.canvas.width,i.canvas.height),Qe.set(0,0,i.canvas.width,i.canvas.height),a.reset(),l.reset(),c.reset()}}}function Khe(i,e,t,n,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,y=r.maxTextureSize,x=r.maxSamples,C=new WeakMap;let A,P=!1;try{P="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Le){}function L(Le,Te){return P?new OffscreenCanvas(Le,Te):H0("canvas")}function H(Le,Te,Rt,tn){let nn=1;if((Le.width>tn||Le.height>tn)&&(nn=tn/Math.max(Le.width,Le.height)),nn<1||!0===Te){if("undefined"!=typeof HTMLImageElement&&Le instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&Le instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&Le instanceof ImageBitmap){const vn=Te?tj:Math.floor,ei=vn(nn*Le.width),On=vn(nn*Le.height);void 0===A&&(A=L(ei,On));const Qn=Rt?L(ei,On):A;return Qn.width=ei,Qn.height=On,Qn.getContext("2d").drawImage(Le,0,0,ei,On),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Le.width+"x"+Le.height+") to ("+ei+"x"+On+")."),Qn}return"data"in Le&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Le.width+"x"+Le.height+")."),Le}return Le}function F(Le){return JC(Le.width)&&JC(Le.height)}function q(Le,Te){return Le.generateMipmaps&&Te&&Le.minFilter!==Ps&&Le.minFilter!==zs}function Y(Le,Te,Rt,tn,nn=1){i.generateMipmap(Le),n.get(Te).__maxMipLevel=Math.log2(Math.max(Rt,tn,nn))}function J(Le,Te,Rt,tn){if(!1===a)return Te;if(null!==Le){if(void 0!==i[Le])return i[Le];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Le+"'")}let nn=Te;return 6403===Te&&(5126===Rt&&(nn=33326),5131===Rt&&(nn=33325),5121===Rt&&(nn=33321)),6407===Te&&(5126===Rt&&(nn=34837),5131===Rt&&(nn=34843),5121===Rt&&(nn=32849)),6408===Te&&(5126===Rt&&(nn=34836),5131===Rt&&(nn=34842),5121===Rt&&(nn=tn===Td?35907:32856)),(33325===nn||33326===nn||34842===nn||34836===nn)&&e.get("EXT_color_buffer_float"),nn}function he(Le){return Le===Ps||1004===Le||1005===Le?9728:9729}function ee(Le){const Te=Le.target;Te.removeEventListener("dispose",ee),function je(Le){const Te=n.get(Le);void 0!==Te.__webglInit&&(i.deleteTexture(Te.__webglTexture),n.remove(Le))}(Te),Te.isVideoTexture&&C.delete(Te),o.memory.textures--}function ge(Le){const Te=Le.target;Te.removeEventListener("dispose",ge),function Me(Le){const Te=Le.texture,Rt=n.get(Le),tn=n.get(Te);if(Le){if(void 0!==tn.__webglTexture&&(i.deleteTexture(tn.__webglTexture),o.memory.textures--),Le.depthTexture&&Le.depthTexture.dispose(),Le.isWebGLCubeRenderTarget)for(let nn=0;nn<6;nn++)i.deleteFramebuffer(Rt.__webglFramebuffer[nn]),Rt.__webglDepthbuffer&&i.deleteRenderbuffer(Rt.__webglDepthbuffer[nn]);else i.deleteFramebuffer(Rt.__webglFramebuffer),Rt.__webglDepthbuffer&&i.deleteRenderbuffer(Rt.__webglDepthbuffer),Rt.__webglMultisampledFramebuffer&&i.deleteFramebuffer(Rt.__webglMultisampledFramebuffer),Rt.__webglColorRenderbuffer&&i.deleteRenderbuffer(Rt.__webglColorRenderbuffer),Rt.__webglDepthRenderbuffer&&i.deleteRenderbuffer(Rt.__webglDepthRenderbuffer);if(Le.isWebGLMultipleRenderTargets)for(let nn=0,vn=Te.length;nn<vn;nn++){const ei=n.get(Te[nn]);ei.__webglTexture&&(i.deleteTexture(ei.__webglTexture),o.memory.textures--),n.remove(Te[nn])}n.remove(Te),n.remove(Le)}}(Te)}let Se=0;function ue(Le,Te){const Rt=n.get(Le);if(Le.isVideoTexture&&function yt(Le){const Te=o.render.frame;C.get(Le)!==Te&&(C.set(Le,Te),Le.update())}(Le),Le.version>0&&Rt.__version!==Le.version){const tn=Le.image;if(void 0===tn)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==tn.complete)return void ht(Rt,Le,Te);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.activeTexture(33984+Te),t.bindTexture(3553,Rt.__webglTexture)}function we(Le,Te){const Rt=n.get(Le);Le.version>0&&Rt.__version!==Le.version?function Xe(Le,Te,Rt){if(6!==Te.image.length)return;Qe(Le,Te),t.activeTexture(33984+Rt),t.bindTexture(34067,Le.__webglTexture),i.pixelStorei(37440,Te.flipY),i.pixelStorei(37441,Te.premultiplyAlpha),i.pixelStorei(3317,Te.unpackAlignment),i.pixelStorei(37443,0);const tn=Te&&(Te.isCompressedTexture||Te.image[0].isCompressedTexture),nn=Te.image[0]&&Te.image[0].isDataTexture,vn=[];for(let Qt=0;Qt<6;Qt++)vn[Qt]=tn||nn?nn?Te.image[Qt].image:Te.image[Qt]:H(Te.image[Qt],!1,!0,c);const ei=vn[0],On=F(ei)||a,Qn=s.convert(Te.format),Hn=s.convert(Te.type),_t=J(Te.internalFormat,Qn,Hn,Te.encoding);let xn;if(Re(34067,Te,On),tn){for(let Qt=0;Qt<6;Qt++){xn=vn[Qt].mipmaps;for(let Un=0;Un<xn.length;Un++){const jn=xn[Un];Te.format!==xo&&Te.format!==Lf?null!==Qn?t.compressedTexImage2D(34069+Qt,Un,_t,jn.width,jn.height,0,jn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+Qt,Un,_t,jn.width,jn.height,0,Qn,Hn,jn.data)}}Le.__maxMipLevel=xn.length-1}else{xn=Te.mipmaps;for(let Qt=0;Qt<6;Qt++)if(nn){t.texImage2D(34069+Qt,0,_t,vn[Qt].width,vn[Qt].height,0,Qn,Hn,vn[Qt].data);for(let Un=0;Un<xn.length;Un++){const Ri=xn[Un].image[Qt].image;t.texImage2D(34069+Qt,Un+1,_t,Ri.width,Ri.height,0,Qn,Hn,Ri.data)}}else{t.texImage2D(34069+Qt,0,_t,Qn,Hn,vn[Qt]);for(let Un=0;Un<xn.length;Un++)t.texImage2D(34069+Qt,Un+1,_t,Qn,Hn,xn[Un].image[Qt])}Le.__maxMipLevel=xn.length}q(Te,On)&&Y(34067,Te,ei.width,ei.height),Le.__version=Te.version,Te.onUpdate&&Te.onUpdate(Te)}(Rt,Le,Te):(t.activeTexture(33984+Te),t.bindTexture(34067,Rt.__webglTexture))}const me={1e3:10497,[bo]:33071,1002:33648},He={[Ps]:9728,1004:9984,1005:9986,[zs]:9729,1007:9985,1008:9987};function Re(Le,Te,Rt){if(Rt?(i.texParameteri(Le,10242,me[Te.wrapS]),i.texParameteri(Le,10243,me[Te.wrapT]),(32879===Le||35866===Le)&&i.texParameteri(Le,32882,me[Te.wrapR]),i.texParameteri(Le,10240,He[Te.magFilter]),i.texParameteri(Le,10241,He[Te.minFilter])):(i.texParameteri(Le,10242,33071),i.texParameteri(Le,10243,33071),(32879===Le||35866===Le)&&i.texParameteri(Le,32882,33071),(Te.wrapS!==bo||Te.wrapT!==bo)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(Le,10240,he(Te.magFilter)),i.texParameteri(Le,10241,he(Te.minFilter)),Te.minFilter!==Ps&&Te.minFilter!==zs&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const tn=e.get("EXT_texture_filter_anisotropic");if(Te.type===wc&&!1===e.has("OES_texture_float_linear")||!1===a&&Te.type===Pf&&!1===e.has("OES_texture_half_float_linear"))return;(Te.anisotropy>1||n.get(Te).__currentAnisotropy)&&(i.texParameterf(Le,tn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Te.anisotropy,r.getMaxAnisotropy())),n.get(Te).__currentAnisotropy=Te.anisotropy)}}function Qe(Le,Te){void 0===Le.__webglInit&&(Le.__webglInit=!0,Te.addEventListener("dispose",ee),Le.__webglTexture=i.createTexture(),o.memory.textures++)}function ht(Le,Te,Rt){let tn=3553;Te.isDataTexture2DArray&&(tn=35866),Te.isDataTexture3D&&(tn=32879),Qe(Le,Te),t.activeTexture(33984+Rt),t.bindTexture(tn,Le.__webglTexture),i.pixelStorei(37440,Te.flipY),i.pixelStorei(37441,Te.premultiplyAlpha),i.pixelStorei(3317,Te.unpackAlignment),i.pixelStorei(37443,0);const nn=function N(Le){return!a&&(Le.wrapS!==bo||Le.wrapT!==bo||Le.minFilter!==Ps&&Le.minFilter!==zs)}(Te)&&!1===F(Te.image),vn=H(Te.image,nn,!1,y),ei=F(vn)||a,On=s.convert(Te.format);let _t,Qn=s.convert(Te.type),Hn=J(Te.internalFormat,On,Qn,Te.encoding);Re(tn,Te,ei);const xn=Te.mipmaps;if(Te.isDepthTexture)Hn=6402,a?Hn=Te.type===wc?36012:1014===Te.type?33190:Te.type===Eg?35056:33189:Te.type===wc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Te.format===Of&&6402===Hn&&1012!==Te.type&&1014!==Te.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Te.type=1012,Qn=s.convert(Te.type)),Te.format===Dg&&6402===Hn&&(Hn=34041,Te.type!==Eg&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Te.type=Eg,Qn=s.convert(Te.type))),t.texImage2D(3553,0,Hn,vn.width,vn.height,0,On,Qn,null);else if(Te.isDataTexture)if(xn.length>0&&ei){for(let Qt=0,Un=xn.length;Qt<Un;Qt++)_t=xn[Qt],t.texImage2D(3553,Qt,Hn,_t.width,_t.height,0,On,Qn,_t.data);Te.generateMipmaps=!1,Le.__maxMipLevel=xn.length-1}else t.texImage2D(3553,0,Hn,vn.width,vn.height,0,On,Qn,vn.data),Le.__maxMipLevel=0;else if(Te.isCompressedTexture){for(let Qt=0,Un=xn.length;Qt<Un;Qt++)_t=xn[Qt],Te.format!==xo&&Te.format!==Lf?null!==On?t.compressedTexImage2D(3553,Qt,Hn,_t.width,_t.height,0,_t.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,Qt,Hn,_t.width,_t.height,0,On,Qn,_t.data);Le.__maxMipLevel=xn.length-1}else if(Te.isDataTexture2DArray)t.texImage3D(35866,0,Hn,vn.width,vn.height,vn.depth,0,On,Qn,vn.data),Le.__maxMipLevel=0;else if(Te.isDataTexture3D)t.texImage3D(32879,0,Hn,vn.width,vn.height,vn.depth,0,On,Qn,vn.data),Le.__maxMipLevel=0;else if(xn.length>0&&ei){for(let Qt=0,Un=xn.length;Qt<Un;Qt++)_t=xn[Qt],t.texImage2D(3553,Qt,Hn,On,Qn,_t);Te.generateMipmaps=!1,Le.__maxMipLevel=xn.length-1}else t.texImage2D(3553,0,Hn,On,Qn,vn),Le.__maxMipLevel=0;q(Te,ei)&&Y(tn,Te,vn.width,vn.height),Le.__version=Te.version,Te.onUpdate&&Te.onUpdate(Te)}function Ze(Le,Te,Rt,tn,nn){const vn=s.convert(Rt.format),ei=s.convert(Rt.type),On=J(Rt.internalFormat,vn,ei,Rt.encoding);32879===nn||35866===nn?t.texImage3D(nn,0,On,Te.width,Te.height,Te.depth,0,vn,ei,null):t.texImage2D(nn,0,On,Te.width,Te.height,0,vn,ei,null),t.bindFramebuffer(36160,Le),i.framebufferTexture2D(36160,tn,nn,n.get(Rt).__webglTexture,0),t.bindFramebuffer(36160,null)}function mt(Le,Te,Rt){if(i.bindRenderbuffer(36161,Le),Te.depthBuffer&&!Te.stencilBuffer){let tn=33189;if(Rt){const nn=Te.depthTexture;nn&&nn.isDepthTexture&&(nn.type===wc?tn=36012:1014===nn.type&&(tn=33190));const vn=qt(Te);i.renderbufferStorageMultisample(36161,vn,tn,Te.width,Te.height)}else i.renderbufferStorage(36161,tn,Te.width,Te.height);i.framebufferRenderbuffer(36160,36096,36161,Le)}else if(Te.depthBuffer&&Te.stencilBuffer){if(Rt){const tn=qt(Te);i.renderbufferStorageMultisample(36161,tn,35056,Te.width,Te.height)}else i.renderbufferStorage(36161,34041,Te.width,Te.height);i.framebufferRenderbuffer(36160,33306,36161,Le)}else{const tn=!0===Te.isWebGLMultipleRenderTargets?Te.texture[0]:Te.texture,nn=s.convert(tn.format),vn=s.convert(tn.type),ei=J(tn.internalFormat,nn,vn,tn.encoding);if(Rt){const On=qt(Te);i.renderbufferStorageMultisample(36161,On,ei,Te.width,Te.height)}else i.renderbufferStorage(36161,ei,Te.width,Te.height)}i.bindRenderbuffer(36161,null)}function qt(Le){return a&&Le.isWebGLMultisampleRenderTarget?Math.min(x,Le.samples):0}let St=!1,Wt=!1;this.allocateTextureUnit=function qe(){const Le=Se;return Le>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Le+" texture units while this GPU supports only "+l),Se+=1,Le},this.resetTextureUnits=function Je(){Se=0},this.setTexture2D=ue,this.setTexture2DArray=function Ce(Le,Te){const Rt=n.get(Le);Le.version>0&&Rt.__version!==Le.version?ht(Rt,Le,Te):(t.activeTexture(33984+Te),t.bindTexture(35866,Rt.__webglTexture))},this.setTexture3D=function pe(Le,Te){const Rt=n.get(Le);Le.version>0&&Rt.__version!==Le.version?ht(Rt,Le,Te):(t.activeTexture(33984+Te),t.bindTexture(32879,Rt.__webglTexture))},this.setTextureCube=we,this.setupRenderTarget=function Ft(Le){const Te=Le.texture,Rt=n.get(Le),tn=n.get(Te);Le.addEventListener("dispose",ge),!0!==Le.isWebGLMultipleRenderTargets&&(tn.__webglTexture=i.createTexture(),tn.__version=Te.version,o.memory.textures++);const nn=!0===Le.isWebGLCubeRenderTarget,vn=!0===Le.isWebGLMultipleRenderTargets,ei=!0===Le.isWebGLMultisampleRenderTarget,On=Te.isDataTexture3D||Te.isDataTexture2DArray,Qn=F(Le)||a;if(a&&Te.format===Lf&&(Te.type===wc||Te.type===Pf)&&(Te.format=xo,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),nn){Rt.__webglFramebuffer=[];for(let Hn=0;Hn<6;Hn++)Rt.__webglFramebuffer[Hn]=i.createFramebuffer()}else if(Rt.__webglFramebuffer=i.createFramebuffer(),vn)if(r.drawBuffers){const Hn=Le.texture;for(let _t=0,xn=Hn.length;_t<xn;_t++){const Qt=n.get(Hn[_t]);void 0===Qt.__webglTexture&&(Qt.__webglTexture=i.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(ei)if(a){Rt.__webglMultisampledFramebuffer=i.createFramebuffer(),Rt.__webglColorRenderbuffer=i.createRenderbuffer(),i.bindRenderbuffer(36161,Rt.__webglColorRenderbuffer);const Hn=s.convert(Te.format),_t=s.convert(Te.type),xn=J(Te.internalFormat,Hn,_t,Te.encoding),Qt=qt(Le);i.renderbufferStorageMultisample(36161,Qt,xn,Le.width,Le.height),t.bindFramebuffer(36160,Rt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064,36161,Rt.__webglColorRenderbuffer),i.bindRenderbuffer(36161,null),Le.depthBuffer&&(Rt.__webglDepthRenderbuffer=i.createRenderbuffer(),mt(Rt.__webglDepthRenderbuffer,Le,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(nn){t.bindTexture(34067,tn.__webglTexture),Re(34067,Te,Qn);for(let Hn=0;Hn<6;Hn++)Ze(Rt.__webglFramebuffer[Hn],Le,Te,36064,34069+Hn);q(Te,Qn)&&Y(34067,Te,Le.width,Le.height),t.unbindTexture()}else if(vn){const Hn=Le.texture;for(let _t=0,xn=Hn.length;_t<xn;_t++){const Qt=Hn[_t],Un=n.get(Qt);t.bindTexture(3553,Un.__webglTexture),Re(3553,Qt,Qn),Ze(Rt.__webglFramebuffer,Le,Qt,36064+_t,3553),q(Qt,Qn)&&Y(3553,Qt,Le.width,Le.height)}t.unbindTexture()}else{let Hn=3553;On&&(a?Hn=Te.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(Hn,tn.__webglTexture),Re(Hn,Te,Qn),Ze(Rt.__webglFramebuffer,Le,Te,36064,Hn),q(Te,Qn)&&Y(Hn,Te,Le.width,Le.height,Le.depth),t.unbindTexture()}Le.depthBuffer&&function gt(Le){const Te=n.get(Le),Rt=!0===Le.isWebGLCubeRenderTarget;if(Le.depthTexture){if(Rt)throw new Error("target.depthTexture not supported in Cube render targets");!function rt(Le,Te){if(Te&&Te.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Le),!Te.depthTexture||!Te.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(Te.depthTexture).__webglTexture||Te.depthTexture.image.width!==Te.width||Te.depthTexture.image.height!==Te.height)&&(Te.depthTexture.image.width=Te.width,Te.depthTexture.image.height=Te.height,Te.depthTexture.needsUpdate=!0),ue(Te.depthTexture,0);const tn=n.get(Te.depthTexture).__webglTexture;if(Te.depthTexture.format===Of)i.framebufferTexture2D(36160,36096,3553,tn,0);else{if(Te.depthTexture.format!==Dg)throw new Error("Unknown depthTexture format");i.framebufferTexture2D(36160,33306,3553,tn,0)}}(Te.__webglFramebuffer,Le)}else if(Rt){Te.__webglDepthbuffer=[];for(let tn=0;tn<6;tn++)t.bindFramebuffer(36160,Te.__webglFramebuffer[tn]),Te.__webglDepthbuffer[tn]=i.createRenderbuffer(),mt(Te.__webglDepthbuffer[tn],Le,!1)}else t.bindFramebuffer(36160,Te.__webglFramebuffer),Te.__webglDepthbuffer=i.createRenderbuffer(),mt(Te.__webglDepthbuffer,Le,!1);t.bindFramebuffer(36160,null)}(Le)},this.updateRenderTargetMipmap=function Tt(Le){const Te=F(Le)||a,Rt=!0===Le.isWebGLMultipleRenderTargets?Le.texture:[Le.texture];for(let tn=0,nn=Rt.length;tn<nn;tn++){const vn=Rt[tn];if(q(vn,Te)){const ei=Le.isWebGLCubeRenderTarget?34067:3553,On=n.get(vn).__webglTexture;t.bindTexture(ei,On),Y(ei,vn,Le.width,Le.height),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Pt(Le){if(Le.isWebGLMultisampleRenderTarget)if(a){const Te=Le.width,Rt=Le.height;let tn=16384;Le.depthBuffer&&(tn|=256),Le.stencilBuffer&&(tn|=1024);const nn=n.get(Le);t.bindFramebuffer(36008,nn.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,nn.__webglFramebuffer),i.blitFramebuffer(0,0,Te,Rt,0,0,Te,Rt,tn,9728),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,nn.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function pn(Le,Te){Le&&Le.isWebGLRenderTarget&&(!1===St&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),St=!0),Le=Le.texture),ue(Le,Te)},this.safeSetTextureCube=function $t(Le,Te){Le&&Le.isWebGLCubeRenderTarget&&(!1===Wt&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Wt=!0),Le=Le.texture),we(Le,Te)}}function Qhe(i,e,t){const n=t.isWebGL2;return{convert:function r(s){let o;if(s===du)return 5121;if(1017===s)return 32819;if(1018===s)return 32820;if(1019===s)return 33635;if(1010===s)return 5120;if(1011===s)return 5122;if(1012===s)return 5123;if(1013===s)return 5124;if(1014===s)return 5125;if(s===wc)return 5126;if(s===Pf)return n?5131:(o=e.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(1021===s)return 6406;if(s===Lf)return 6407;if(s===xo)return 6408;if(1024===s)return 6409;if(1025===s)return 6410;if(s===Of)return 6402;if(s===Dg)return 34041;if(1028===s)return 6403;if(1029===s)return 36244;if(1030===s)return 33319;if(1031===s)return 33320;if(1032===s)return 36248;if(1033===s)return 36249;if(33776===s||33777===s||33778===s||33779===s){if(o=e.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(33776===s)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(o=e.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(35840===s)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return o=e.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===s||37496===s)&&(o=e.get("WEBGL_compressed_texture_etc"),null!==o)){if(37492===s)return o.COMPRESSED_RGB8_ETC2;if(37496===s)return o.COMPRESSED_RGBA8_ETC2_EAC}return 37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s||37840===s||37841===s||37842===s||37843===s||37844===s||37845===s||37846===s||37847===s||37848===s||37849===s||37850===s||37851===s||37852===s||37853===s?(o=e.get("WEBGL_compressed_texture_astc"),null!==o?s:null):36492===s?(o=e.get("EXT_texture_compression_bptc"),null!==o?s:null):s===Eg?n?34042:(o=e.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}OE.prototype.isMeshDistanceMaterial=!0;class Qj extends Ls{constructor(e=[]){super(),this.cameras=e}}Qj.prototype.isArrayCamera=!0;class sp extends ir{constructor(){super(),this.type="Group"}}sp.prototype.isGroup=!0;const Jhe={type:"move"};class FE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new sp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new sp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ke,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ke),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new sp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ke,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ke),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==a&&(r=t.getPose(e.targetRaySpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Jhe))),c&&e.hand){o=!0;for(const L of e.hand.values()){const H=t.getJointPose(L,n);if(void 0===c.joints[L.jointName]){const N=new sp;N.matrixAutoUpdate=!1,N.visible=!1,c.joints[L.jointName]=N,c.add(N)}const F=c.joints[L.jointName];null!==H&&(F.matrix.fromArray(H.transform.matrix),F.matrix.decompose(F.position,F.rotation,F.scale),F.jointRadius=H.radius),F.visible=null!==H}const C=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),A=.02,P=.005;c.inputState.pinching&&C>A+P?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&C<=A-P&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}}class efe extends hu{constructor(e,t){super();const n=this,r=e.state;let s=null,o=1,a=null,l="local-floor",c=null,y=null,x=null,C=null,A=null,P=!1,L=null,H=null,F=null,N=null,q=null,Y=null;const J=[],he=new Map,ee=new Ls;ee.layers.enable(1),ee.viewport=new Ir;const ge=new Ls;ge.layers.enable(2),ge.viewport=new Ir;const je=[ee,ge],Me=new Qj;Me.layers.enable(1),Me.layers.enable(2);let Se=null,Je=null;function qe(Xe){const Ze=he.get(Xe.inputSource);Ze&&Ze.dispatchEvent({type:Xe.type,data:Xe.inputSource})}function ue(){he.forEach(function(Xe,Ze){Xe.disconnect(Ze)}),he.clear(),Se=null,Je=null,r.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),x&&t.deleteFramebuffer(x),L&&t.deleteFramebuffer(L),H&&t.deleteRenderbuffer(H),F&&t.deleteRenderbuffer(F),x=null,L=null,H=null,F=null,A=null,C=null,y=null,s=null,ht.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function Ce(Xe){const Ze=s.inputSources;for(let mt=0;mt<J.length;mt++)he.set(Ze[mt],J[mt]);for(let mt=0;mt<Xe.removed.length;mt++){const rt=Xe.removed[mt],gt=he.get(rt);gt&&(gt.dispatchEvent({type:"disconnected",data:rt}),he.delete(rt))}for(let mt=0;mt<Xe.added.length;mt++){const rt=Xe.added[mt],gt=he.get(rt);gt&&gt.dispatchEvent({type:"connected",data:rt})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Xe){let Ze=J[Xe];return void 0===Ze&&(Ze=new FE,J[Xe]=Ze),Ze.getTargetRaySpace()},this.getControllerGrip=function(Xe){let Ze=J[Xe];return void 0===Ze&&(Ze=new FE,J[Xe]=Ze),Ze.getGripSpace()},this.getHand=function(Xe){let Ze=J[Xe];return void 0===Ze&&(Ze=new FE,J[Xe]=Ze),Ze.getHandSpace()},this.setFramebufferScaleFactor=function(Xe){o=Xe,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Xe){l=Xe,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return null!==C?C:A},this.getBinding=function(){return y},this.getFrame=function(){return N},this.getSession=function(){return s},this.setSession=function(){var Xe=ts(function*(Ze){if(s=Ze,null!==s){s.addEventListener("select",qe),s.addEventListener("selectstart",qe),s.addEventListener("selectend",qe),s.addEventListener("squeeze",qe),s.addEventListener("squeezestart",qe),s.addEventListener("squeezeend",qe),s.addEventListener("end",ue),s.addEventListener("inputsourceschange",Ce);const mt=t.getContextAttributes();if(!0!==mt.xrCompatible&&(yield t.makeXRCompatible()),void 0===s.renderState.layers)A=new XRWebGLLayer(s,t,{antialias:mt.antialias,alpha:mt.alpha,depth:mt.depth,stencil:mt.stencil,framebufferScaleFactor:o}),s.updateRenderState({baseLayer:A});else if(t instanceof WebGLRenderingContext)A=new XRWebGLLayer(s,t,{antialias:!0,alpha:mt.alpha,depth:mt.depth,stencil:mt.stencil,framebufferScaleFactor:o}),s.updateRenderState({layers:[A]});else{P=mt.antialias;let rt=null;mt.depth&&(Y=256,mt.stencil&&(Y|=1024),q=mt.stencil?33306:36096,rt=mt.stencil?35056:33190);const gt={colorFormat:mt.alpha?32856:32849,depthFormat:rt,scaleFactor:o};y=new XRWebGLBinding(s,t),C=y.createProjectionLayer(gt),x=t.createFramebuffer(),s.updateRenderState({layers:[C]}),P&&(L=t.createFramebuffer(),H=t.createRenderbuffer(),t.bindRenderbuffer(36161,H),t.renderbufferStorageMultisample(36161,4,32856,C.textureWidth,C.textureHeight),r.bindFramebuffer(36160,L),t.framebufferRenderbuffer(36160,36064,36161,H),t.bindRenderbuffer(36161,null),null!==rt&&(F=t.createRenderbuffer(),t.bindRenderbuffer(36161,F),t.renderbufferStorageMultisample(36161,4,rt,C.textureWidth,C.textureHeight),t.framebufferRenderbuffer(36160,q,36161,F),t.bindRenderbuffer(36161,null)),r.bindFramebuffer(36160,null))}a=yield s.requestReferenceSpace(l),ht.setContext(s),ht.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function(Ze){return Xe.apply(this,arguments)}}();const pe=new ke,we=new ke;function He(Xe,Ze){null===Ze?Xe.matrixWorld.copy(Xe.matrix):Xe.matrixWorld.multiplyMatrices(Ze.matrixWorld,Xe.matrix),Xe.matrixWorldInverse.copy(Xe.matrixWorld).invert()}this.updateCamera=function(Xe){if(null===s)return;Me.near=ge.near=ee.near=Xe.near,Me.far=ge.far=ee.far=Xe.far,(Se!==Me.near||Je!==Me.far)&&(s.updateRenderState({depthNear:Me.near,depthFar:Me.far}),Se=Me.near,Je=Me.far);const Ze=Xe.parent,mt=Me.cameras;He(Me,Ze);for(let gt=0;gt<mt.length;gt++)He(mt[gt],Ze);Me.matrixWorld.decompose(Me.position,Me.quaternion,Me.scale),Xe.position.copy(Me.position),Xe.quaternion.copy(Me.quaternion),Xe.scale.copy(Me.scale),Xe.matrix.copy(Me.matrix),Xe.matrixWorld.copy(Me.matrixWorld);const rt=Xe.children;for(let gt=0,Ft=rt.length;gt<Ft;gt++)rt[gt].updateMatrixWorld(!0);2===mt.length?function me(Xe,Ze,mt){pe.setFromMatrixPosition(Ze.matrixWorld),we.setFromMatrixPosition(mt.matrixWorld);const rt=pe.distanceTo(we),gt=Ze.projectionMatrix.elements,Ft=mt.projectionMatrix.elements,Tt=gt[14]/(gt[10]-1),Pt=gt[14]/(gt[10]+1),qt=(gt[9]+1)/gt[5],yt=(gt[9]-1)/gt[5],St=(gt[8]-1)/gt[0],Wt=(Ft[8]+1)/Ft[0],pn=Tt*St,$t=Tt*Wt,Le=rt/(-St+Wt),Te=Le*-St;Ze.matrixWorld.decompose(Xe.position,Xe.quaternion,Xe.scale),Xe.translateX(Te),Xe.translateZ(Le),Xe.matrixWorld.compose(Xe.position,Xe.quaternion,Xe.scale),Xe.matrixWorldInverse.copy(Xe.matrixWorld).invert();const Rt=Tt+Le,tn=Pt+Le;Xe.projectionMatrix.makePerspective(pn-Te,$t+(rt-Te),qt*Pt/tn*Rt,yt*Pt/tn*Rt,Rt,tn)}(Me,ee,ge):Me.projectionMatrix.copy(ee.projectionMatrix)},this.getCamera=function(){return Me},this.getFoveation=function(){return null!==C?C.fixedFoveation:null!==A?A.fixedFoveation:void 0},this.setFoveation=function(Xe){null!==C&&(C.fixedFoveation=Xe),null!==A&&void 0!==A.fixedFoveation&&(A.fixedFoveation=Xe)};let Re=null;const ht=new _j;ht.setAnimationLoop(function Qe(Xe,Ze){if(c=Ze.getViewerPose(a),N=Ze,null!==c){const rt=c.views;null!==A&&r.bindXRFramebuffer(A.framebuffer);let gt=!1;rt.length!==Me.cameras.length&&(Me.cameras.length=0,gt=!0);for(let Ft=0;Ft<rt.length;Ft++){const Tt=rt[Ft];let Pt=null;if(null!==A)Pt=A.getViewport(Tt);else{const yt=y.getViewSubImage(C,Tt);r.bindXRFramebuffer(x),void 0!==yt.depthStencilTexture&&t.framebufferTexture2D(36160,q,3553,yt.depthStencilTexture,0),t.framebufferTexture2D(36160,36064,3553,yt.colorTexture,0),Pt=yt.viewport}const qt=je[Ft];qt.matrix.fromArray(Tt.transform.matrix),qt.projectionMatrix.fromArray(Tt.projectionMatrix),qt.viewport.set(Pt.x,Pt.y,Pt.width,Pt.height),0===Ft&&Me.matrix.copy(qt.matrix),!0===gt&&Me.cameras.push(qt)}P&&(r.bindXRFramebuffer(L),null!==Y&&t.clear(Y))}const mt=s.inputSources;for(let rt=0;rt<J.length;rt++)J[rt].update(mt[rt],Ze,a);if(Re&&Re(Xe,Ze),P){const rt=C.textureWidth,gt=C.textureHeight;r.bindFramebuffer(36008,L),r.bindFramebuffer(36009,x),t.invalidateFramebuffer(36008,[q]),t.invalidateFramebuffer(36009,[q]),t.blitFramebuffer(0,0,rt,gt,0,0,rt,gt,16384,9728),t.invalidateFramebuffer(36008,[36064]),r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),r.bindFramebuffer(36160,L)}N=null}),this.setAnimationLoop=function(Xe){Re=Xe},this.dispose=function(){}}}function tfe(i){function n(F,N){F.opacity.value=N.opacity,N.color&&F.diffuse.value.copy(N.color),N.emissive&&F.emissive.value.copy(N.emissive).multiplyScalar(N.emissiveIntensity),N.map&&(F.map.value=N.map),N.alphaMap&&(F.alphaMap.value=N.alphaMap),N.specularMap&&(F.specularMap.value=N.specularMap),N.alphaTest>0&&(F.alphaTest.value=N.alphaTest);const q=i.get(N).envMap;if(q){F.envMap.value=q,F.flipEnvMap.value=q.isCubeTexture&&!1===q.isRenderTargetTexture?-1:1,F.reflectivity.value=N.reflectivity,F.ior.value=N.ior,F.refractionRatio.value=N.refractionRatio;const he=i.get(q).__maxMipLevel;void 0!==he&&(F.maxMipLevel.value=he)}let Y,J;N.lightMap&&(F.lightMap.value=N.lightMap,F.lightMapIntensity.value=N.lightMapIntensity),N.aoMap&&(F.aoMap.value=N.aoMap,F.aoMapIntensity.value=N.aoMapIntensity),N.map?Y=N.map:N.specularMap?Y=N.specularMap:N.displacementMap?Y=N.displacementMap:N.normalMap?Y=N.normalMap:N.bumpMap?Y=N.bumpMap:N.roughnessMap?Y=N.roughnessMap:N.metalnessMap?Y=N.metalnessMap:N.alphaMap?Y=N.alphaMap:N.emissiveMap?Y=N.emissiveMap:N.clearcoatMap?Y=N.clearcoatMap:N.clearcoatNormalMap?Y=N.clearcoatNormalMap:N.clearcoatRoughnessMap?Y=N.clearcoatRoughnessMap:N.specularIntensityMap?Y=N.specularIntensityMap:N.specularColorMap?Y=N.specularColorMap:N.transmissionMap?Y=N.transmissionMap:N.thicknessMap?Y=N.thicknessMap:N.sheenColorMap?Y=N.sheenColorMap:N.sheenRoughnessMap&&(Y=N.sheenRoughnessMap),void 0!==Y&&(Y.isWebGLRenderTarget&&(Y=Y.texture),!0===Y.matrixAutoUpdate&&Y.updateMatrix(),F.uvTransform.value.copy(Y.matrix)),N.aoMap?J=N.aoMap:N.lightMap&&(J=N.lightMap),void 0!==J&&(J.isWebGLRenderTarget&&(J=J.texture),!0===J.matrixAutoUpdate&&J.updateMatrix(),F.uv2Transform.value.copy(J.matrix))}function x(F,N){F.roughness.value=N.roughness,F.metalness.value=N.metalness,N.roughnessMap&&(F.roughnessMap.value=N.roughnessMap),N.metalnessMap&&(F.metalnessMap.value=N.metalnessMap),N.emissiveMap&&(F.emissiveMap.value=N.emissiveMap),N.bumpMap&&(F.bumpMap.value=N.bumpMap,F.bumpScale.value=N.bumpScale,1===N.side&&(F.bumpScale.value*=-1)),N.normalMap&&(F.normalMap.value=N.normalMap,F.normalScale.value.copy(N.normalScale),1===N.side&&F.normalScale.value.negate()),N.displacementMap&&(F.displacementMap.value=N.displacementMap,F.displacementScale.value=N.displacementScale,F.displacementBias.value=N.displacementBias),i.get(N).envMap&&(F.envMapIntensity.value=N.envMapIntensity)}return{refreshFogUniforms:function e(F,N){F.fogColor.value.copy(N.color),N.isFog?(F.fogNear.value=N.near,F.fogFar.value=N.far):N.isFogExp2&&(F.fogDensity.value=N.density)},refreshMaterialUniforms:function t(F,N,q,Y,J){N.isMeshBasicMaterial?n(F,N):N.isMeshLambertMaterial?(n(F,N),function l(F,N){N.emissiveMap&&(F.emissiveMap.value=N.emissiveMap)}(F,N)):N.isMeshToonMaterial?(n(F,N),function y(F,N){N.gradientMap&&(F.gradientMap.value=N.gradientMap),N.emissiveMap&&(F.emissiveMap.value=N.emissiveMap),N.bumpMap&&(F.bumpMap.value=N.bumpMap,F.bumpScale.value=N.bumpScale,1===N.side&&(F.bumpScale.value*=-1)),N.normalMap&&(F.normalMap.value=N.normalMap,F.normalScale.value.copy(N.normalScale),1===N.side&&F.normalScale.value.negate()),N.displacementMap&&(F.displacementMap.value=N.displacementMap,F.displacementScale.value=N.displacementScale,F.displacementBias.value=N.displacementBias)}(F,N)):N.isMeshPhongMaterial?(n(F,N),function c(F,N){F.specular.value.copy(N.specular),F.shininess.value=Math.max(N.shininess,1e-4),N.emissiveMap&&(F.emissiveMap.value=N.emissiveMap),N.bumpMap&&(F.bumpMap.value=N.bumpMap,F.bumpScale.value=N.bumpScale,1===N.side&&(F.bumpScale.value*=-1)),N.normalMap&&(F.normalMap.value=N.normalMap,F.normalScale.value.copy(N.normalScale),1===N.side&&F.normalScale.value.negate()),N.displacementMap&&(F.displacementMap.value=N.displacementMap,F.displacementScale.value=N.displacementScale,F.displacementBias.value=N.displacementBias)}(F,N)):N.isMeshStandardMaterial?(n(F,N),N.isMeshPhysicalMaterial?function C(F,N,q){x(F,N),F.ior.value=N.ior,N.sheen>0&&(F.sheenColor.value.copy(N.sheenColor).multiplyScalar(N.sheen),F.sheenRoughness.value=N.sheenRoughness,N.sheenColorMap&&(F.sheenColorMap.value=N.sheenColorMap),N.sheenRoughnessMap&&(F.sheenRoughnessMap.value=N.sheenRoughnessMap)),N.clearcoat>0&&(F.clearcoat.value=N.clearcoat,F.clearcoatRoughness.value=N.clearcoatRoughness,N.clearcoatMap&&(F.clearcoatMap.value=N.clearcoatMap),N.clearcoatRoughnessMap&&(F.clearcoatRoughnessMap.value=N.clearcoatRoughnessMap),N.clearcoatNormalMap&&(F.clearcoatNormalScale.value.copy(N.clearcoatNormalScale),F.clearcoatNormalMap.value=N.clearcoatNormalMap,1===N.side&&F.clearcoatNormalScale.value.negate())),N.transmission>0&&(F.transmission.value=N.transmission,F.transmissionSamplerMap.value=q.texture,F.transmissionSamplerSize.value.set(q.width,q.height),N.transmissionMap&&(F.transmissionMap.value=N.transmissionMap),F.thickness.value=N.thickness,N.thicknessMap&&(F.thicknessMap.value=N.thicknessMap),F.attenuationDistance.value=N.attenuationDistance,F.attenuationColor.value.copy(N.attenuationColor)),F.specularIntensity.value=N.specularIntensity,F.specularColor.value.copy(N.specularColor),N.specularIntensityMap&&(F.specularIntensityMap.value=N.specularIntensityMap),N.specularColorMap&&(F.specularColorMap.value=N.specularColorMap)}(F,N,J):x(F,N)):N.isMeshMatcapMaterial?(n(F,N),function A(F,N){N.matcap&&(F.matcap.value=N.matcap),N.bumpMap&&(F.bumpMap.value=N.bumpMap,F.bumpScale.value=N.bumpScale,1===N.side&&(F.bumpScale.value*=-1)),N.normalMap&&(F.normalMap.value=N.normalMap,F.normalScale.value.copy(N.normalScale),1===N.side&&F.normalScale.value.negate()),N.displacementMap&&(F.displacementMap.value=N.displacementMap,F.displacementScale.value=N.displacementScale,F.displacementBias.value=N.displacementBias)}(F,N)):N.isMeshDepthMaterial?(n(F,N),function P(F,N){N.displacementMap&&(F.displacementMap.value=N.displacementMap,F.displacementScale.value=N.displacementScale,F.displacementBias.value=N.displacementBias)}(F,N)):N.isMeshDistanceMaterial?(n(F,N),function L(F,N){N.displacementMap&&(F.displacementMap.value=N.displacementMap,F.displacementScale.value=N.displacementScale,F.displacementBias.value=N.displacementBias),F.referencePosition.value.copy(N.referencePosition),F.nearDistance.value=N.nearDistance,F.farDistance.value=N.farDistance}(F,N)):N.isMeshNormalMaterial?(n(F,N),function H(F,N){N.bumpMap&&(F.bumpMap.value=N.bumpMap,F.bumpScale.value=N.bumpScale,1===N.side&&(F.bumpScale.value*=-1)),N.normalMap&&(F.normalMap.value=N.normalMap,F.normalScale.value.copy(N.normalScale),1===N.side&&F.normalScale.value.negate()),N.displacementMap&&(F.displacementMap.value=N.displacementMap,F.displacementScale.value=N.displacementScale,F.displacementBias.value=N.displacementBias)}(F,N)):N.isLineBasicMaterial?(function r(F,N){F.diffuse.value.copy(N.color),F.opacity.value=N.opacity}(F,N),N.isLineDashedMaterial&&function s(F,N){F.dashSize.value=N.dashSize,F.totalSize.value=N.dashSize+N.gapSize,F.scale.value=N.scale}(F,N)):N.isPointsMaterial?function o(F,N,q,Y){let J;F.diffuse.value.copy(N.color),F.opacity.value=N.opacity,F.size.value=N.size*q,F.scale.value=.5*Y,N.map&&(F.map.value=N.map),N.alphaMap&&(F.alphaMap.value=N.alphaMap),N.alphaTest>0&&(F.alphaTest.value=N.alphaTest),N.map?J=N.map:N.alphaMap&&(J=N.alphaMap),void 0!==J&&(!0===J.matrixAutoUpdate&&J.updateMatrix(),F.uvTransform.value.copy(J.matrix))}(F,N,q,Y):N.isSpriteMaterial?function a(F,N){let q;F.diffuse.value.copy(N.color),F.opacity.value=N.opacity,F.rotation.value=N.rotation,N.map&&(F.map.value=N.map),N.alphaMap&&(F.alphaMap.value=N.alphaMap),N.alphaTest>0&&(F.alphaTest.value=N.alphaTest),N.map?q=N.map:N.alphaMap&&(q=N.alphaMap),void 0!==q&&(!0===q.matrixAutoUpdate&&q.updateMatrix(),F.uvTransform.value.copy(q.matrix))}(F,N):N.isShadowMaterial?(F.color.value.copy(N.color),F.opacity.value=N.opacity):N.isShaderMaterial&&(N.uniformsNeedUpdate=!1)}}}function yr(i={}){const e=void 0!==i.canvas?i.canvas:function nfe(){const i=H0("canvas");return i.style.display="block",i}(),t=void 0!==i.context?i.context:null,n=void 0!==i.alpha&&i.alpha,r=void 0===i.depth||i.depth,s=void 0===i.stencil||i.stencil,o=void 0!==i.antialias&&i.antialias,a=void 0===i.premultipliedAlpha||i.premultipliedAlpha,l=void 0!==i.preserveDrawingBuffer&&i.preserveDrawingBuffer,c=void 0!==i.powerPreference?i.powerPreference:"default",y=void 0!==i.failIfMajorPerformanceCaveat&&i.failIfMajorPerformanceCaveat;let x=null,C=null;const A=[],P=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=wo,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const L=this;let H=!1,F=0,N=0,q=null,Y=-1,J=null;const he=new Ir,ee=new Ir;let ge=null,je=e.width,Me=e.height,Se=1,Je=null,qe=null;const ue=new Ir(0,0,je,Me),Ce=new Ir(0,0,je,Me);let pe=!1;const we=[],me=new ab;let He=!1,Re=!1,Qe=null;const ht=new qn,Xe=new ke,Ze={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function mt(){return null===q?Se:1}let Ft,Tt,Pt,qt,yt,St,Wt,pn,$t,Le,Te,Rt,tn,nn,vn,ei,On,Qn,Hn,_t,xn,Qt,Un,rt=t;function gt($e,It){for(let zt=0;zt<$e.length;zt++){const rn=e.getContext($e[zt],It);if(null!==rn)return rn}return null}try{const $e={alpha:n,depth:r,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:y};if(e.addEventListener("webglcontextlost",bt,!1),e.addEventListener("webglcontextrestored",Nn,!1),null===rt){const It=["webgl2","webgl","experimental-webgl"];if(!0===L.isWebGL1Renderer&&It.shift(),rt=gt(It,$e),null===rt)throw gt(It)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===rt.getShaderPrecisionFormat&&(rt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($e){throw console.error("THREE.WebGLRenderer: "+$e.message),$e}function jn(){Ft=new Cde(rt),Tt=new yde(rt,Ft,i),Ft.init(Tt),Qt=new Qhe(rt,Ft,Tt),Pt=new Zhe(rt,Ft,Tt),we[0]=1029,qt=new Ade(rt),yt=new jhe,St=new Khe(rt,Ft,Pt,yt,Tt,Qt,qt),Wt=new vde(L),pn=new Sde(L),$t=new vce(rt,Tt),Un=new mde(rt,Ft,$t,Tt),Le=new Ede(rt,$t,qt,Un),Te=new kde(rt,Le,$t,qt),Hn=new Ide(rt,Tt,St),ei=new _de(yt),Rt=new Bhe(L,Wt,pn,Ft,Tt,Un,ei),tn=new tfe(yt),nn=new Uhe(yt),vn=new qhe(Ft,Tt),Qn=new pde(L,Wt,Pt,Te,a),On=new Kj(L,Te,Tt),_t=new gde(rt,Ft,qt,Tt),xn=new Dde(rt,Ft,qt,Tt),qt.programs=Rt.programs,L.capabilities=Tt,L.extensions=Ft,L.properties=yt,L.renderLists=nn,L.shadowMap=On,L.state=Pt,L.info=qt}jn();const Ri=new efe(L,rt);function bt($e){$e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),H=!0}function Nn(){console.log("THREE.WebGLRenderer: Context Restored."),H=!1;const $e=qt.autoReset,It=On.enabled,zt=On.autoUpdate,Ot=On.needsUpdate,rn=On.type;jn(),qt.autoReset=$e,On.enabled=It,On.autoUpdate=zt,On.needsUpdate=Ot,On.type=rn}function xr($e){const It=$e.target;It.removeEventListener("dispose",xr),function ji($e){(function gs($e){const It=yt.get($e).programs;void 0!==It&&It.forEach(function(zt){Rt.releaseProgram(zt)})})($e),yt.remove($e)}(It)}this.xr=Ri,this.getContext=function(){return rt},this.getContextAttributes=function(){return rt.getContextAttributes()},this.forceContextLoss=function(){const $e=Ft.get("WEBGL_lose_context");$e&&$e.loseContext()},this.forceContextRestore=function(){const $e=Ft.get("WEBGL_lose_context");$e&&$e.restoreContext()},this.getPixelRatio=function(){return Se},this.setPixelRatio=function($e){void 0!==$e&&(Se=$e,this.setSize(je,Me,!1))},this.getSize=function($e){return $e.set(je,Me)},this.setSize=function($e,It,zt){Ri.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(je=$e,Me=It,e.width=Math.floor($e*Se),e.height=Math.floor(It*Se),!1!==zt&&(e.style.width=$e+"px",e.style.height=It+"px"),this.setViewport(0,0,$e,It))},this.getDrawingBufferSize=function($e){return $e.set(je*Se,Me*Se).floor()},this.setDrawingBufferSize=function($e,It,zt){je=$e,Me=It,Se=zt,e.width=Math.floor($e*zt),e.height=Math.floor(It*zt),this.setViewport(0,0,$e,It)},this.getCurrentViewport=function($e){return $e.copy(he)},this.getViewport=function($e){return $e.copy(ue)},this.setViewport=function($e,It,zt,Ot){$e.isVector4?ue.set($e.x,$e.y,$e.z,$e.w):ue.set($e,It,zt,Ot),Pt.viewport(he.copy(ue).multiplyScalar(Se).floor())},this.getScissor=function($e){return $e.copy(Ce)},this.setScissor=function($e,It,zt,Ot){$e.isVector4?Ce.set($e.x,$e.y,$e.z,$e.w):Ce.set($e,It,zt,Ot),Pt.scissor(ee.copy(Ce).multiplyScalar(Se).floor())},this.getScissorTest=function(){return pe},this.setScissorTest=function($e){Pt.setScissorTest(pe=$e)},this.setOpaqueSort=function($e){Je=$e},this.setTransparentSort=function($e){qe=$e},this.getClearColor=function($e){return $e.copy(Qn.getClearColor())},this.setClearColor=function(){Qn.setClearColor.apply(Qn,arguments)},this.getClearAlpha=function(){return Qn.getClearAlpha()},this.setClearAlpha=function(){Qn.setClearAlpha.apply(Qn,arguments)},this.clear=function($e,It,zt){let Ot=0;(void 0===$e||$e)&&(Ot|=16384),(void 0===It||It)&&(Ot|=256),(void 0===zt||zt)&&(Ot|=1024),rt.clear(Ot)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",bt,!1),e.removeEventListener("webglcontextrestored",Nn,!1),nn.dispose(),vn.dispose(),yt.dispose(),Wt.dispose(),pn.dispose(),Te.dispose(),Un.dispose(),Ri.dispose(),Ri.removeEventListener("sessionstart",by),Ri.removeEventListener("sessionend",Ba),Qe&&(Qe.dispose(),Qe=null),ho.stop()},this.renderBufferDirect=function($e,It,zt,Ot,rn,Ei){null===It&&(It=Ze);const _i=rn.isMesh&&rn.matrixWorld.determinant()<0,pi=function yge($e,It,zt,Ot,rn){!0!==It.isScene&&(It=Ze),St.resetTextureUnits();const Ei=It.fog,pi=null===q?L.outputEncoding:q.texture.encoding,qi=(Ot.isMeshStandardMaterial?pn:Wt).get(Ot.envMap||(Ot.isMeshStandardMaterial?It.environment:null)),Mr=!0===Ot.vertexColors&&!!zt.attributes.color&&4===zt.attributes.color.itemSize,Ji=!!Ot.normalMap&&!!zt.attributes.tangent,ur=!!zt.morphAttributes.position,us=!!zt.morphAttributes.normal,Jd=zt.morphAttributes.position?zt.morphAttributes.position.length:0,pr=yt.get(Ot),xy=C.state.lights;!0!==He||!0!==Re&&$e===J||ei.setState(Ot,$e,$e===J&&Ot.id===Y);let Gr=!1;Ot.version===pr.__version?(pr.needsLights&&pr.lightsStateVersion!==xy.state.version||pr.outputEncoding!==pi||rn.isInstancedMesh&&!1===pr.instancing||!rn.isInstancedMesh&&!0===pr.instancing||rn.isSkinnedMesh&&!1===pr.skinning||!rn.isSkinnedMesh&&!0===pr.skinning||pr.envMap!==qi||Ot.fog&&pr.fog!==Ei||void 0!==pr.numClippingPlanes&&(pr.numClippingPlanes!==ei.numPlanes||pr.numIntersection!==ei.numIntersection)||pr.vertexAlphas!==Mr||pr.vertexTangents!==Ji||pr.morphTargets!==ur||pr.morphNormals!==us||!0===Tt.isWebGL2&&pr.morphTargetsCount!==Jd)&&(Gr=!0):(Gr=!0,pr.__version=Ot.version);let eh=pr.currentProgram;!0===Gr&&(eh=aA(Ot,It,rn));let th=!1,nh=!1,Uu=!1;const ds=eh.getUniforms(),wy=pr.uniforms;if(Pt.useProgram(eh.program)&&(th=!0,nh=!0,Uu=!0),Ot.id!==Y&&(Y=Ot.id,nh=!0),th||J!==$e){if(ds.setValue(rt,"projectionMatrix",$e.projectionMatrix),Tt.logarithmicDepthBuffer&&ds.setValue(rt,"logDepthBufFC",2/(Math.log($e.far+1)/Math.LN2)),J!==$e&&(J=$e,nh=!0,Uu=!0),Ot.isShaderMaterial||Ot.isMeshPhongMaterial||Ot.isMeshToonMaterial||Ot.isMeshStandardMaterial||Ot.envMap){const pl=ds.map.cameraPosition;void 0!==pl&&pl.setValue(rt,Xe.setFromMatrixPosition($e.matrixWorld))}(Ot.isMeshPhongMaterial||Ot.isMeshToonMaterial||Ot.isMeshLambertMaterial||Ot.isMeshBasicMaterial||Ot.isMeshStandardMaterial||Ot.isShaderMaterial)&&ds.setValue(rt,"isOrthographic",!0===$e.isOrthographicCamera),(Ot.isMeshPhongMaterial||Ot.isMeshToonMaterial||Ot.isMeshLambertMaterial||Ot.isMeshBasicMaterial||Ot.isMeshStandardMaterial||Ot.isShaderMaterial||Ot.isShadowMaterial||rn.isSkinnedMesh)&&ds.setValue(rt,"viewMatrix",$e.matrixWorldInverse)}if(rn.isSkinnedMesh){ds.setOptional(rt,rn,"bindMatrix"),ds.setOptional(rt,rn,"bindMatrixInverse");const pl=rn.skeleton;pl&&(Tt.floatVertexTextures?(null===pl.boneTexture&&pl.computeBoneTexture(),ds.setValue(rt,"boneTexture",pl.boneTexture,St),ds.setValue(rt,"boneTextureSize",pl.boneTextureSize)):ds.setOptional(rt,pl,"boneMatrices"))}return!!zt&&(void 0!==zt.morphAttributes.position||void 0!==zt.morphAttributes.normal)&&Hn.update(rn,zt,Ot,eh),(nh||pr.receiveShadow!==rn.receiveShadow)&&(pr.receiveShadow=rn.receiveShadow,ds.setValue(rt,"receiveShadow",rn.receiveShadow)),nh&&(ds.setValue(rt,"toneMappingExposure",L.toneMappingExposure),pr.needsLights&&function _ge($e,It){$e.ambientLightColor.needsUpdate=It,$e.lightProbe.needsUpdate=It,$e.directionalLights.needsUpdate=It,$e.directionalLightShadows.needsUpdate=It,$e.pointLights.needsUpdate=It,$e.pointLightShadows.needsUpdate=It,$e.spotLights.needsUpdate=It,$e.spotLightShadows.needsUpdate=It,$e.rectAreaLights.needsUpdate=It,$e.hemisphereLights.needsUpdate=It}(wy,Uu),Ei&&Ot.fog&&tn.refreshFogUniforms(wy,Ei),tn.refreshMaterialUniforms(wy,Ot,Se,Me,Qe),Cu.upload(rt,pr.uniformsList,wy,St)),Ot.isShaderMaterial&&!0===Ot.uniformsNeedUpdate&&(Cu.upload(rt,pr.uniformsList,wy,St),Ot.uniformsNeedUpdate=!1),Ot.isSpriteMaterial&&ds.setValue(rt,"center",rn.center),ds.setValue(rt,"modelViewMatrix",rn.modelViewMatrix),ds.setValue(rt,"normalMatrix",rn.normalMatrix),ds.setValue(rt,"modelMatrix",rn.matrixWorld),eh}($e,It,zt,Ot,rn);Pt.setMaterial(Ot,_i);let qi=zt.index;const Mr=zt.attributes.position;if(null===qi){if(void 0===Mr||0===Mr.count)return}else if(0===qi.count)return;let Ji=1;!0===Ot.wireframe&&(qi=Le.getWireframeAttribute(zt),Ji=2),Un.setup(rn,Ot,pi,zt,qi);let ur,us=_t;null!==qi&&(ur=$t.get(qi),us=xn,us.setIndex(ur));const Jd=null!==qi?qi.count:Mr.count,pr=zt.drawRange.start*Ji,xy=zt.drawRange.count*Ji,Gr=null!==Ei?Ei.start*Ji:0,eh=null!==Ei?Ei.count*Ji:1/0,th=Math.max(pr,Gr),nh=Math.min(Jd,pr+xy,Gr+eh)-1,Uu=Math.max(0,nh-th+1);if(0!==Uu){if(rn.isMesh)!0===Ot.wireframe?(Pt.setLineWidth(Ot.wireframeLinewidth*mt()),us.setMode(1)):us.setMode(4);else if(rn.isLine){let ds=Ot.linewidth;void 0===ds&&(ds=1),Pt.setLineWidth(ds*mt()),us.setMode(rn.isLineSegments?1:rn.isLineLoop?2:3)}else rn.isPoints?us.setMode(0):rn.isSprite&&us.setMode(4);if(rn.isInstancedMesh)us.renderInstances(th,Uu,rn.count);else if(zt.isInstancedBufferGeometry){const ds=Math.min(zt.instanceCount,zt._maxInstanceCount);us.renderInstances(th,Uu,ds)}else us.render(th,Uu)}},this.compile=function($e,It){C=vn.get($e),C.init(),P.push(C),$e.traverseVisible(function(zt){zt.isLight&&zt.layers.test(It.layers)&&(C.pushLight(zt),zt.castShadow&&C.pushShadow(zt))}),C.setupLights(L.physicallyCorrectLights),$e.traverse(function(zt){const Ot=zt.material;if(Ot)if(Array.isArray(Ot))for(let rn=0;rn<Ot.length;rn++)aA(Ot[rn],$e,zt);else aA(Ot,$e,zt)}),P.pop(),C=null};let Zs=null;function by(){ho.stop()}function Ba(){ho.start()}const ho=new _j;function DV($e,It,zt,Ot){if(!1===$e.visible)return;if($e.layers.test(It.layers))if($e.isGroup)zt=$e.renderOrder;else if($e.isLOD)!0===$e.autoUpdate&&$e.update(It);else if($e.isLight)C.pushLight($e),$e.castShadow&&C.pushShadow($e);else if($e.isSprite){if(!$e.frustumCulled||me.intersectsSprite($e)){Ot&&Xe.setFromMatrixPosition($e.matrixWorld).applyMatrix4(ht);const _i=Te.update($e),pi=$e.material;pi.visible&&x.push($e,_i,pi,zt,Xe.z,null)}}else if(($e.isMesh||$e.isLine||$e.isPoints)&&($e.isSkinnedMesh&&$e.skeleton.frame!==qt.render.frame&&($e.skeleton.update(),$e.skeleton.frame=qt.render.frame),!$e.frustumCulled||me.intersectsObject($e))){Ot&&Xe.setFromMatrixPosition($e.matrixWorld).applyMatrix4(ht);const _i=Te.update($e),pi=$e.material;if(Array.isArray(pi)){const qi=_i.groups;for(let Mr=0,Ji=qi.length;Mr<Ji;Mr++){const ur=qi[Mr],us=pi[ur.materialIndex];us&&us.visible&&x.push($e,_i,us,zt,Xe.z,ur)}}else pi.visible&&x.push($e,_i,pi,zt,Xe.z,null)}const Ei=$e.children;for(let _i=0,pi=Ei.length;_i<pi;_i++)DV(Ei[_i],It,zt,Ot)}function AV($e,It,zt,Ot){const rn=$e.opaque,Ei=$e.transmissive,_i=$e.transparent;C.setupLightsView(zt),Ei.length>0&&function mge($e,It,zt){null===Qe&&(Qe=new(!0===o&&!0===Tt.isWebGL2?rj:Ul)(1024,1024,{generateMipmaps:!0,type:null!==Qt.convert(Pf)?Pf:du,minFilter:1008,magFilter:Ps,wrapS:bo,wrapT:bo}));const Ot=L.getRenderTarget();L.setRenderTarget(Qe),L.clear();const rn=L.toneMapping;L.toneMapping=0,_x($e,It,zt),L.toneMapping=rn,St.updateMultisampleRenderTarget(Qe),St.updateRenderTargetMipmap(Qe),L.setRenderTarget(Ot)}(rn,It,zt),Ot&&Pt.viewport(he.copy(Ot)),rn.length>0&&_x(rn,It,zt),Ei.length>0&&_x(Ei,It,zt),_i.length>0&&_x(_i,It,zt)}function _x($e,It,zt){const Ot=!0===It.isScene?It.overrideMaterial:null;for(let rn=0,Ei=$e.length;rn<Ei;rn++){const _i=$e[rn],pi=_i.object,qi=_i.geometry,Mr=null===Ot?_i.material:Ot,Ji=_i.group;pi.layers.test(zt.layers)&&gge(pi,It,zt,qi,Mr,Ji)}}function gge($e,It,zt,Ot,rn,Ei){$e.onBeforeRender(L,It,zt,Ot,rn,Ei),$e.modelViewMatrix.multiplyMatrices(zt.matrixWorldInverse,$e.matrixWorld),$e.normalMatrix.getNormalMatrix($e.modelViewMatrix),rn.onBeforeRender(L,It,zt,Ot,$e,Ei),!0===rn.transparent&&2===rn.side?(rn.side=1,rn.needsUpdate=!0,L.renderBufferDirect(zt,It,Ot,rn,$e,Ei),rn.side=0,rn.needsUpdate=!0,L.renderBufferDirect(zt,It,Ot,rn,$e,Ei),rn.side=2):L.renderBufferDirect(zt,It,Ot,rn,$e,Ei),$e.onAfterRender(L,It,zt,Ot,rn,Ei)}function aA($e,It,zt){!0!==It.isScene&&(It=Ze);const Ot=yt.get($e),rn=C.state.lights,_i=rn.state.version,pi=Rt.getParameters($e,rn.state,C.state.shadowsArray,It,zt),qi=Rt.getProgramCacheKey(pi);let Mr=Ot.programs;Ot.environment=$e.isMeshStandardMaterial?It.environment:null,Ot.fog=It.fog,Ot.envMap=($e.isMeshStandardMaterial?pn:Wt).get($e.envMap||Ot.environment),void 0===Mr&&($e.addEventListener("dispose",xr),Mr=new Map,Ot.programs=Mr);let Ji=Mr.get(qi);if(void 0!==Ji){if(Ot.currentProgram===Ji&&Ot.lightsStateVersion===_i)return TV($e,pi),Ji}else pi.uniforms=Rt.getUniforms($e),$e.onBuild(zt,pi,L),$e.onBeforeCompile(pi,L),Ji=Rt.acquireProgram(pi,qi),Mr.set(qi,Ji),Ot.uniforms=pi.uniforms;const ur=Ot.uniforms;(!$e.isShaderMaterial&&!$e.isRawShaderMaterial||!0===$e.clipping)&&(ur.clippingPlanes=ei.uniform),TV($e,pi),Ot.needsLights=function vge($e){return $e.isMeshLambertMaterial||$e.isMeshToonMaterial||$e.isMeshPhongMaterial||$e.isMeshStandardMaterial||$e.isShadowMaterial||$e.isShaderMaterial&&!0===$e.lights}($e),Ot.lightsStateVersion=_i,Ot.needsLights&&(ur.ambientLightColor.value=rn.state.ambient,ur.lightProbe.value=rn.state.probe,ur.directionalLights.value=rn.state.directional,ur.directionalLightShadows.value=rn.state.directionalShadow,ur.spotLights.value=rn.state.spot,ur.spotLightShadows.value=rn.state.spotShadow,ur.rectAreaLights.value=rn.state.rectArea,ur.ltc_1.value=rn.state.rectAreaLTC1,ur.ltc_2.value=rn.state.rectAreaLTC2,ur.pointLights.value=rn.state.point,ur.pointLightShadows.value=rn.state.pointShadow,ur.hemisphereLights.value=rn.state.hemi,ur.directionalShadowMap.value=rn.state.directionalShadowMap,ur.directionalShadowMatrix.value=rn.state.directionalShadowMatrix,ur.spotShadowMap.value=rn.state.spotShadowMap,ur.spotShadowMatrix.value=rn.state.spotShadowMatrix,ur.pointShadowMap.value=rn.state.pointShadowMap,ur.pointShadowMatrix.value=rn.state.pointShadowMatrix);const us=Ji.getUniforms(),Jd=Cu.seqWithValue(us.seq,ur);return Ot.currentProgram=Ji,Ot.uniformsList=Jd,Ji}function TV($e,It){const zt=yt.get($e);zt.outputEncoding=It.outputEncoding,zt.instancing=It.instancing,zt.skinning=It.skinning,zt.morphTargets=It.morphTargets,zt.morphNormals=It.morphNormals,zt.morphTargetsCount=It.morphTargetsCount,zt.numClippingPlanes=It.numClippingPlanes,zt.numIntersection=It.numClipIntersection,zt.vertexAlphas=It.vertexAlphas,zt.vertexTangents=It.vertexTangents}ho.setAnimationLoop(function Pp($e){Zs&&Zs($e)}),"undefined"!=typeof window&&ho.setContext(window),this.setAnimationLoop=function($e){Zs=$e,Ri.setAnimationLoop($e),null===$e?ho.stop():ho.start()},Ri.addEventListener("sessionstart",by),Ri.addEventListener("sessionend",Ba),this.render=function($e,It){if(void 0===It||!0===It.isCamera){if(!0!==H){if(!0===$e.autoUpdate&&$e.updateMatrixWorld(),null===It.parent&&It.updateMatrixWorld(),!0===Ri.enabled&&!0===Ri.isPresenting&&(!0===Ri.cameraAutoUpdate&&Ri.updateCamera(It),It=Ri.getCamera()),!0===$e.isScene&&$e.onBeforeRender(L,$e,It,q),C=vn.get($e,P.length),C.init(),P.push(C),ht.multiplyMatrices(It.projectionMatrix,It.matrixWorldInverse),me.setFromProjectionMatrix(ht),Re=this.localClippingEnabled,He=ei.init(this.clippingPlanes,Re,It),x=nn.get($e,A.length),x.init(),A.push(x),DV($e,It,0,L.sortObjects),x.finish(),!0===L.sortObjects&&x.sort(Je,qe),!0===He&&ei.beginShadows(),On.render(C.state.shadowsArray,$e,It),!0===He&&ei.endShadows(),!0===this.info.autoReset&&this.info.reset(),Qn.render(x,$e),C.setupLights(L.physicallyCorrectLights),It.isArrayCamera){const Ot=It.cameras;for(let rn=0,Ei=Ot.length;rn<Ei;rn++){const _i=Ot[rn];AV(x,$e,_i,_i.viewport)}}else AV(x,$e,It);null!==q&&(St.updateMultisampleRenderTarget(q),St.updateRenderTargetMipmap(q)),!0===$e.isScene&&$e.onAfterRender(L,$e,It),Pt.buffers.depth.setTest(!0),Pt.buffers.depth.setMask(!0),Pt.buffers.color.setMask(!0),Pt.setPolygonOffset(!1),Un.resetDefaultState(),Y=-1,J=null,P.pop(),C=P.length>0?P[P.length-1]:null,A.pop(),x=A.length>0?A[A.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return F},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return q},this.setRenderTarget=function($e,It=0,zt=0){q=$e,F=It,N=zt,$e&&void 0===yt.get($e).__webglFramebuffer&&St.setupRenderTarget($e);let Ot=null,rn=!1,Ei=!1;if($e){const pi=$e.texture;(pi.isDataTexture3D||pi.isDataTexture2DArray)&&(Ei=!0);const qi=yt.get($e).__webglFramebuffer;$e.isWebGLCubeRenderTarget?(Ot=qi[It],rn=!0):Ot=$e.isWebGLMultisampleRenderTarget?yt.get($e).__webglMultisampledFramebuffer:qi,he.copy($e.viewport),ee.copy($e.scissor),ge=$e.scissorTest}else he.copy(ue).multiplyScalar(Se).floor(),ee.copy(Ce).multiplyScalar(Se).floor(),ge=pe;if(Pt.bindFramebuffer(36160,Ot)&&Tt.drawBuffers){let pi=!1;if($e)if($e.isWebGLMultipleRenderTargets){const qi=$e.texture;if(we.length!==qi.length||36064!==we[0]){for(let Mr=0,Ji=qi.length;Mr<Ji;Mr++)we[Mr]=36064+Mr;we.length=qi.length,pi=!0}}else(1!==we.length||36064!==we[0])&&(we[0]=36064,we.length=1,pi=!0);else(1!==we.length||1029!==we[0])&&(we[0]=1029,we.length=1,pi=!0);pi&&(Tt.isWebGL2?rt.drawBuffers(we):Ft.get("WEBGL_draw_buffers").drawBuffersWEBGL(we))}if(Pt.viewport(he),Pt.scissor(ee),Pt.setScissorTest(ge),rn){const pi=yt.get($e.texture);rt.framebufferTexture2D(36160,36064,34069+It,pi.__webglTexture,zt)}else if(Ei){const pi=yt.get($e.texture);rt.framebufferTextureLayer(36160,36064,pi.__webglTexture,zt||0,It||0)}Y=-1},this.readRenderTargetPixels=function($e,It,zt,Ot,rn,Ei,_i){if(!$e||!$e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let pi=yt.get($e).__webglFramebuffer;if($e.isWebGLCubeRenderTarget&&void 0!==_i&&(pi=pi[_i]),pi){Pt.bindFramebuffer(36160,pi);try{const qi=$e.texture,Mr=qi.format,Ji=qi.type;if(Mr!==xo&&Qt.convert(Mr)!==rt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const ur=Ji===Pf&&(Ft.has("EXT_color_buffer_half_float")||Tt.isWebGL2&&Ft.has("EXT_color_buffer_float"));if(!(Ji===du||Qt.convert(Ji)===rt.getParameter(35738)||Ji===wc&&(Tt.isWebGL2||Ft.has("OES_texture_float")||Ft.has("WEBGL_color_buffer_float"))||ur))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===rt.checkFramebufferStatus(36160)?It>=0&&It<=$e.width-Ot&&zt>=0&&zt<=$e.height-rn&&rt.readPixels(It,zt,Ot,rn,Qt.convert(Mr),Qt.convert(Ji),Ei):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const qi=null!==q?yt.get(q).__webglFramebuffer:null;Pt.bindFramebuffer(36160,qi)}}},this.copyFramebufferToTexture=function($e,It,zt=0){const Ot=Math.pow(2,-zt),rn=Math.floor(It.image.width*Ot),Ei=Math.floor(It.image.height*Ot);let _i=Qt.convert(It.format);Tt.isWebGL2&&(6407===_i&&(_i=32849),6408===_i&&(_i=32856)),St.setTexture2D(It,0),rt.copyTexImage2D(3553,zt,_i,$e.x,$e.y,rn,Ei,0),Pt.unbindTexture()},this.copyTextureToTexture=function($e,It,zt,Ot=0){const rn=It.image.width,Ei=It.image.height,_i=Qt.convert(zt.format),pi=Qt.convert(zt.type);St.setTexture2D(zt,0),rt.pixelStorei(37440,zt.flipY),rt.pixelStorei(37441,zt.premultiplyAlpha),rt.pixelStorei(3317,zt.unpackAlignment),It.isDataTexture?rt.texSubImage2D(3553,Ot,$e.x,$e.y,rn,Ei,_i,pi,It.image.data):It.isCompressedTexture?rt.compressedTexSubImage2D(3553,Ot,$e.x,$e.y,It.mipmaps[0].width,It.mipmaps[0].height,_i,It.mipmaps[0].data):rt.texSubImage2D(3553,Ot,$e.x,$e.y,_i,pi,It.image),0===Ot&&zt.generateMipmaps&&rt.generateMipmap(3553),Pt.unbindTexture()},this.copyTextureToTexture3D=function($e,It,zt,Ot,rn=0){if(L.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Ei=$e.max.x-$e.min.x+1,_i=$e.max.y-$e.min.y+1,pi=$e.max.z-$e.min.z+1,qi=Qt.convert(Ot.format),Mr=Qt.convert(Ot.type);let Ji;if(Ot.isDataTexture3D)St.setTexture3D(Ot,0),Ji=32879;else{if(!Ot.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");St.setTexture2DArray(Ot,0),Ji=35866}rt.pixelStorei(37440,Ot.flipY),rt.pixelStorei(37441,Ot.premultiplyAlpha),rt.pixelStorei(3317,Ot.unpackAlignment);const ur=rt.getParameter(3314),us=rt.getParameter(32878),Jd=rt.getParameter(3316),pr=rt.getParameter(3315),xy=rt.getParameter(32877),Gr=zt.isCompressedTexture?zt.mipmaps[0]:zt.image;rt.pixelStorei(3314,Gr.width),rt.pixelStorei(32878,Gr.height),rt.pixelStorei(3316,$e.min.x),rt.pixelStorei(3315,$e.min.y),rt.pixelStorei(32877,$e.min.z),zt.isDataTexture||zt.isDataTexture3D?rt.texSubImage3D(Ji,rn,It.x,It.y,It.z,Ei,_i,pi,qi,Mr,Gr.data):zt.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),rt.compressedTexSubImage3D(Ji,rn,It.x,It.y,It.z,Ei,_i,pi,qi,Gr.data)):rt.texSubImage3D(Ji,rn,It.x,It.y,It.z,Ei,_i,pi,qi,Mr,Gr),rt.pixelStorei(3314,ur),rt.pixelStorei(32878,us),rt.pixelStorei(3316,Jd),rt.pixelStorei(3315,pr),rt.pixelStorei(32877,xy),0===rn&&Ot.generateMipmaps&&rt.generateMipmap(Ji),Pt.unbindTexture()},this.initTexture=function($e){St.setTexture2D($e,0),Pt.unbindTexture()},this.resetState=function(){F=0,N=0,q=null,Pt.reset(),Un.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}yr.prototype.isWebGLRenderer=!0,class ife extends yr{}.prototype.isWebGL1Renderer=!0;class ub{constructor(e,t=25e-5){this.name="",this.color=new Pn(e),this.density=t}clone(){return new ub(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}ub.prototype.isFogExp2=!0;class db{constructor(e,t=1,n=1e3){this.name="",this.color=new Pn(e),this.near=t,this.far=n}clone(){return new db(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}db.prototype.isFog=!0;class Ug extends ir{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}Ug.prototype.isScene=!0;class op{constructor(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Ag,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ua()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ua()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ua()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}op.prototype.isInterleavedBuffer=!0;const ps=new ke;class Nd{constructor(e,t,n,r=!1){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)ps.x=this.getX(t),ps.y=this.getY(t),ps.z=this.getZ(t),ps.applyMatrix4(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ps.x=this.getX(t),ps.y=this.getY(t),ps.z=this.getZ(t),ps.applyNormalMatrix(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ps.x=this.getX(t),ps.y=this.getY(t),ps.z=this.getZ(t),ps.transformDirection(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,n){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Lr(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Nd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Nd.prototype.isInterleavedBufferAttribute=!0;class NE extends lo{constructor(e){super(),this.type="SpriteMaterial",this.color=new Pn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}let ap;NE.prototype.isSpriteMaterial=!0;const Hg=new ke,lp=new ke,cp=new ke,up=new Yt,Gg=new Yt,Jj=new qn,hb=new ke,zg=new ke,fb=new ke,e5=new Yt,BE=new Yt,t5=new Yt;function pb(i,e,t,n,r,s){up.subVectors(i,t).addScalar(.5).multiply(n),void 0!==r?(Gg.x=s*up.x-r*up.y,Gg.y=r*up.x+s*up.y):Gg.copy(up),i.copy(e),i.x+=Gg.x,i.y+=Gg.y,i.applyMatrix4(Jj)}(class jE extends ir{constructor(e){if(super(),this.type="Sprite",void 0===ap){ap=new ci;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new op(t,5);ap.setIndex([0,1,2,0,2,3]),ap.setAttribute("position",new Nd(n,3,0,!1)),ap.setAttribute("uv",new Nd(n,2,3,!1))}this.geometry=ap,this.material=void 0!==e?e:new NE,this.center=new Yt(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),lp.setFromMatrixScale(this.matrixWorld),Jj.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),cp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&lp.multiplyScalar(-cp.z);const n=this.material.rotation;let r,s;0!==n&&(s=Math.cos(n),r=Math.sin(n));const o=this.center;pb(hb.set(-.5,-.5,0),cp,o,lp,r,s),pb(zg.set(.5,-.5,0),cp,o,lp,r,s),pb(fb.set(.5,.5,0),cp,o,lp,r,s),e5.set(0,0),BE.set(1,0),t5.set(1,1);let a=e.ray.intersectTriangle(hb,zg,fb,!1,Hg);if(null===a&&(pb(zg.set(-.5,.5,0),cp,o,lp,r,s),BE.set(0,1),a=e.ray.intersectTriangle(hb,fb,zg,!1,Hg),null===a))return;const l=e.ray.origin.distanceTo(Hg);l<e.near||l>e.far||t.push({distance:l,point:Hg.clone(),uv:Cs.getUV(Hg,hb,zg,fb,e5,BE,t5,new Yt),face:null,object:this})}copy(e){return super.copy(e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}).prototype.isSprite=!0;const i5=new ke,r5=new Ir,s5=new Ir,sfe=new ke,o5=new qn;class VE extends wr{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new qn,this.bindMatrixInverse=new qn}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ir,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;r5.fromBufferAttribute(r.attributes.skinIndex,e),s5.fromBufferAttribute(r.attributes.skinWeight,e),i5.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=s5.getComponent(s);if(0!==o){const a=r5.getComponent(s);o5.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(sfe.copy(i5).applyMatrix4(o5),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}VE.prototype.isSkinnedMesh=!0;(class UE extends ir{constructor(){super(),this.type="Bone"}}).prototype.isBone=!0;(class dp extends $s{constructor(e=null,t=1,n=1,r,s,o,a,l,c=Ps,y=Ps,x,C){super(null,o,a,l,c,y,r,s,x,C),this.image={data:e,width:t,height:n},this.magFilter=c,this.minFilter=y,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}).prototype.isDataTexture=!0;class hp extends Lr{constructor(e,t,n,r=1){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,n),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}hp.prototype.isInstancedBufferAttribute=!0;const l5=new qn,c5=new qn,gb=[],Wg=new wr;(class u5 extends wr{constructor(e,t,n){super(e,t),this.instanceMatrix=new hp(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Wg.geometry=this.geometry,Wg.material=this.material,void 0!==Wg.material)for(let s=0;s<r;s++){this.getMatrixAt(s,l5),c5.multiplyMatrices(n,l5),Wg.matrixWorld=c5,Wg.raycast(e,gb);for(let o=0,a=gb.length;o<a;o++){const l=gb[o];l.instanceId=s,l.object=this,t.push(l)}gb.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new hp(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class Es extends lo{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Pn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Es.prototype.isLineBasicMaterial=!0;const d5=new ke,h5=new ke,f5=new qn,GE=new Ld,yb=new Pd;class Bd extends ir{constructor(e=new ci,t=new Es){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[0];for(let r=1,s=t.count;r<s;r++)d5.fromBufferAttribute(t,r-1),h5.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=d5.distanceTo(h5);e.setAttribute("lineDistance",new Wn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),yb.copy(n.boundingSphere),yb.applyMatrix4(r),yb.radius+=s,!1===e.ray.intersectsSphere(yb))return;f5.copy(r).invert(),GE.copy(e.ray).applyMatrix4(f5);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new ke,y=new ke,x=new ke,C=new ke,A=this.isLineSegments?2:1;if(n.isBufferGeometry){const P=n.index,H=n.attributes.position;if(null!==P)for(let q=Math.max(0,o.start),Y=Math.min(P.count,o.start+o.count)-1;q<Y;q+=A){const J=P.getX(q),he=P.getX(q+1);if(c.fromBufferAttribute(H,J),y.fromBufferAttribute(H,he),GE.distanceSqToSegment(c,y,C,x)>l)continue;C.applyMatrix4(this.matrixWorld);const ge=e.ray.origin.distanceTo(C);ge<e.near||ge>e.far||t.push({distance:ge,point:x.clone().applyMatrix4(this.matrixWorld),index:q,face:null,faceIndex:null,object:this})}else for(let q=Math.max(0,o.start),Y=Math.min(H.count,o.start+o.count)-1;q<Y;q+=A){if(c.fromBufferAttribute(H,q),y.fromBufferAttribute(H,q+1),GE.distanceSqToSegment(c,y,C,x)>l)continue;C.applyMatrix4(this.matrixWorld);const he=e.ray.origin.distanceTo(C);he<e.near||he>e.far||t.push({distance:he,point:x.clone().applyMatrix4(this.matrixWorld),index:q,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Bd.prototype.isLine=!0;const p5=new ke,m5=new ke;class Ic extends Bd{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[];for(let r=0,s=t.count;r<s;r+=2)p5.fromBufferAttribute(t,r),m5.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+p5.distanceTo(m5);e.setAttribute("lineDistance",new Wn(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Ic.prototype.isLineSegments=!0;(class g5 extends Bd{constructor(e,t){super(e,t),this.type="LineLoop"}}).prototype.isLineLoop=!0;class fp extends lo{constructor(e){super(),this.type="PointsMaterial",this.color=new Pn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}fp.prototype.isPointsMaterial=!0;const y5=new qn,zE=new Ld,_b=new Pd,vb=new ke;function _5(i,e,t,n,r,s,o){const a=zE.distanceSqToPoint(i);if(a<t){const l=new ke;zE.closestPointToPoint(i,l),l.applyMatrix4(n);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}(class bb extends ir{constructor(e=new ci,t=new fp){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),_b.copy(n.boundingSphere),_b.applyMatrix4(r),_b.radius+=s,!1===e.ray.intersectsSphere(_b))return;y5.copy(r).invert(),zE.copy(e.ray).applyMatrix4(y5);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(n.isBufferGeometry){const c=n.index,x=n.attributes.position;if(null!==c)for(let P=Math.max(0,o.start),L=Math.min(c.count,o.start+o.count);P<L;P++){const H=c.getX(P);vb.fromBufferAttribute(x,H),_5(vb,H,l,r,e,t,this)}else for(let P=Math.max(0,o.start),L=Math.min(x.count,o.start+o.count);P<L;P++)vb.fromBufferAttribute(x,P),_5(vb,P,l,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}).prototype.isPoints=!0,class afe extends $s{constructor(e,t,n,r,s,o,a,l,c){super(e,t,n,r,s,o,a,l,c),this.format=void 0!==a?a:Lf,this.minFilter=void 0!==o?o:zs,this.magFilter=void 0!==s?s:zs,this.generateMipmaps=!1;const y=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function x(){y.needsUpdate=!0,e.requestVideoFrameCallback(x)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e==0&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}.prototype.isVideoTexture=!0;(class v5 extends $s{constructor(e,t,n,r,s,o,a,l,c,y,x,C){super(null,o,a,l,c,y,r,s,x,C),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}).prototype.isCompressedTexture=!0,class lfe extends $s{constructor(e,t,n,r,s,o,a,l,c){super(e,t,n,r,s,o,a,l,c),this.needsUpdate=!0}}.prototype.isCanvasTexture=!0,class cfe extends $s{constructor(e,t,n,r,s,o,a,l,c,y){if((y=void 0!==y?y:Of)!==Of&&y!==Dg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&y===Of&&(n=1012),void 0===n&&y===Dg&&(n=Eg),super(null,r,s,o,a,l,y,n,c),this.image={width:e,height:t},this.magFilter=void 0!==a?a:Ps,this.minFilter=void 0!==l?l:Ps,this.flipY=!1,this.generateMipmaps=!1}}.prototype.isDepthTexture=!0;class pp extends ci{constructor(e=1,t=1,n=1,r=8,s=1,o=!1,a=0,l=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const y=[],x=[],C=[],A=[];let P=0;const L=[],H=n/2;let F=0;function q(Y){const J=P,he=new Yt,ee=new ke;let ge=0;const je=!0===Y?e:t,Me=!0===Y?1:-1;for(let Je=1;Je<=r;Je++)x.push(0,H*Me,0),C.push(0,Me,0),A.push(.5,.5),P++;const Se=P;for(let Je=0;Je<=r;Je++){const ue=Je/r*l+a,Ce=Math.cos(ue),pe=Math.sin(ue);ee.x=je*pe,ee.y=H*Me,ee.z=je*Ce,x.push(ee.x,ee.y,ee.z),C.push(0,Me,0),he.x=.5*Ce+.5,he.y=.5*pe*Me+.5,A.push(he.x,he.y),P++}for(let Je=0;Je<r;Je++){const qe=J+Je,ue=Se+Je;!0===Y?y.push(ue,ue+1,qe):y.push(ue+1,ue,qe),ge+=3}c.addGroup(F,ge,!0===Y?1:2),F+=ge}(function N(){const Y=new ke,J=new ke;let he=0;const ee=(t-e)/n;for(let ge=0;ge<=s;ge++){const je=[],Me=ge/s,Se=Me*(t-e)+e;for(let Je=0;Je<=r;Je++){const qe=Je/r,ue=qe*l+a,Ce=Math.sin(ue),pe=Math.cos(ue);J.x=Se*Ce,J.y=-Me*n+H,J.z=Se*pe,x.push(J.x,J.y,J.z),Y.set(Ce,ee,pe).normalize(),C.push(Y.x,Y.y,Y.z),A.push(qe,1-Me),je.push(P++)}L.push(je)}for(let ge=0;ge<r;ge++)for(let je=0;je<s;je++){const Se=L[je+1][ge],Je=L[je+1][ge+1],qe=L[je][ge+1];y.push(L[je][ge],Se,qe),y.push(Se,Je,qe),he+=6}c.addGroup(F,he,0),F+=he})(),!1===o&&(e>0&&q(!0),t>0&&q(!1)),this.setIndex(y),this.setAttribute("position",new Wn(x,3)),this.setAttribute("normal",new Wn(C,3)),this.setAttribute("uv",new Wn(A,2))}static fromJSON(e){return new pp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}new ke,new ke,new ke,new Cs;class Na{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),s+=n.distanceTo(r),t.push(s),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const s=n.length;let o;o=t||e*n[s-1];let c,a=0,l=s-1;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=n[r]-o,c<0)a=r+1;else{if(!(c>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(s-1);const y=n[r];return(r+(o-y)/(n[r+1]-y))/(s-1)}getTangent(e,t){const n=1e-4;let r=e-n,s=e+n;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Yt:new ke);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new ke,r=[],s=[],o=[],a=new ke,l=new qn;for(let A=0;A<=e;A++)r[A]=this.getTangentAt(A/e,new ke);s[0]=new ke,o[0]=new ke;let c=Number.MAX_VALUE;const y=Math.abs(r[0].x),x=Math.abs(r[0].y),C=Math.abs(r[0].z);y<=c&&(c=y,n.set(1,0,0)),x<=c&&(c=x,n.set(0,1,0)),C<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let A=1;A<=e;A++){if(s[A]=s[A-1].clone(),o[A]=o[A-1].clone(),a.crossVectors(r[A-1],r[A]),a.length()>Number.EPSILON){a.normalize();const P=Math.acos(ao(r[A-1].dot(r[A]),-1,1));s[A].applyMatrix4(l.makeRotationAxis(a,P))}o[A].crossVectors(r[A],s[A])}if(!0===t){let A=Math.acos(ao(s[0].dot(s[e]),-1,1));A/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(A=-A);for(let P=1;P<=e;P++)s[P].applyMatrix4(l.makeRotationAxis(r[P],A*P)),o[P].crossVectors(r[P],s[P])}return{tangents:r,normals:s,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Db extends Na{constructor(e=0,t=0,n=1,r=1,s=0,o=2*Math.PI,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const n=t||new Yt,r=2*Math.PI;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(s=o?0:r),!0===this.aClockwise&&!o&&(s===r?s=-r:s-=r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const y=Math.cos(this.aRotation),x=Math.sin(this.aRotation),C=l-this.aX,A=c-this.aY;l=C*y-A*x+this.aX,c=C*x+A*y+this.aY}return n.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Db.prototype.isEllipseCurve=!0;class x5 extends Db{constructor(e,t,n,r,s,o){super(e,t,n,n,r,s,o),this.type="ArcCurve"}}function $E(){let i=0,e=0,t=0,n=0;function r(s,o,a,l){i=s,e=a,t=-3*s+3*o-2*a-l,n=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,y,x){let C=(o-s)/c-(a-s)/(c+y)+(a-o)/y,A=(a-o)/y-(l-o)/(y+x)+(l-a)/x;C*=y,A*=y,r(o,a,C,A)},calc:function(s){const o=s*s;return i+e*s+t*o+n*(o*s)}}}x5.prototype.isArcCurve=!0;const Ab=new ke,qE=new $E,YE=new $E,XE=new $E;class w5 extends Na{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new ke){const n=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let c,y,a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:0===l&&a===s-1&&(a=s-2,l=1),this.closed||a>0?c=r[(a-1)%s]:(Ab.subVectors(r[0],r[1]).add(r[0]),c=Ab);const x=r[a%s],C=r[(a+1)%s];if(this.closed||a+2<s?y=r[(a+2)%s]:(Ab.subVectors(r[s-1],r[s-2]).add(r[s-1]),y=Ab),"centripetal"===this.curveType||"chordal"===this.curveType){const A="chordal"===this.curveType?.5:.25;let P=Math.pow(c.distanceToSquared(x),A),L=Math.pow(x.distanceToSquared(C),A),H=Math.pow(C.distanceToSquared(y),A);L<1e-4&&(L=1),P<1e-4&&(P=L),H<1e-4&&(H=L),qE.initNonuniformCatmullRom(c.x,x.x,C.x,y.x,P,L,H),YE.initNonuniformCatmullRom(c.y,x.y,C.y,y.y,P,L,H),XE.initNonuniformCatmullRom(c.z,x.z,C.z,y.z,P,L,H)}else"catmullrom"===this.curveType&&(qE.initCatmullRom(c.x,x.x,C.x,y.x,this.tension),YE.initCatmullRom(c.y,x.y,C.y,y.y,this.tension),XE.initCatmullRom(c.z,x.z,C.z,y.z,this.tension));return n.set(qE.calc(l),YE.calc(l),XE.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push((new ke).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function M5(i,e,t,n,r){const s=.5*(n-e),o=.5*(r-t),a=i*i;return(2*t-2*n+s+o)*(i*a)+(-3*t+3*n-2*s-o)*a+s*i+t}function $g(i,e,t,n){return function ufe(i,e){const t=1-i;return t*t*e}(i,e)+function dfe(i,e){return 2*(1-i)*i*e}(i,t)+function hfe(i,e){return i*i*e}(i,n)}function qg(i,e,t,n,r){return function ffe(i,e){const t=1-i;return t*t*t*e}(i,e)+function pfe(i,e){const t=1-i;return 3*t*t*i*e}(i,t)+function mfe(i,e){return 3*(1-i)*i*i*e}(i,n)+function gfe(i,e){return i*i*i*e}(i,r)}w5.prototype.isCatmullRomCurve3=!0;class ZE extends Na{constructor(e=new Yt,t=new Yt,n=new Yt,r=new Yt){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Yt){const n=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(qg(e,r.x,s.x,o.x,a.x),qg(e,r.y,s.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}ZE.prototype.isCubicBezierCurve=!0;class S5 extends Na{constructor(e=new ke,t=new ke,n=new ke,r=new ke){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new ke){const n=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(qg(e,r.x,s.x,o.x,a.x),qg(e,r.y,s.y,o.y,a.y),qg(e,r.z,s.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}S5.prototype.isCubicBezierCurve3=!0;class Tb extends Na{constructor(e=new Yt,t=new Yt){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Yt){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new Yt;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Tb.prototype.isLineCurve=!0;class KE extends Na{constructor(e=new Yt,t=new Yt,n=new Yt){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Yt){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set($g(e,r.x,s.x,o.x),$g(e,r.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}KE.prototype.isQuadraticBezierCurve=!0;class QE extends Na{constructor(e=new ke,t=new ke,n=new ke){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ke){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set($g(e,r.x,s.x,o.x),$g(e,r.y,s.y,o.y),$g(e,r.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}QE.prototype.isQuadraticBezierCurve3=!0;class JE extends Na{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new Yt){const n=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[0===o?o:o-1],c=r[o],y=r[o>r.length-2?r.length-1:o+1],x=r[o>r.length-3?r.length-1:o+2];return n.set(M5(a,l.x,c.x,y.x,x.x),M5(a,l.y,c.y,y.y,x.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push((new Yt).fromArray(r))}return this}}JE.prototype.isSplineCurve=!0;var eD=Object.freeze({__proto__:null,ArcCurve:x5,CatmullRomCurve3:w5,CubicBezierCurve:ZE,CubicBezierCurve3:S5,EllipseCurve:Db,LineCurve:Tb,LineCurve3:class yfe extends Na{constructor(e=new ke,t=new ke){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new ke){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:KE,QuadraticBezierCurve3:QE,SplineCurve:JE});class _fe extends Na{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Tb(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=n){const o=r[s]-n,a=this.curves[s],l=a.getLength();return a.getPointAt(0===l?0:1-o/l,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],l=o.getPoints(o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e);for(let c=0;c<l.length;c++){const y=l[c];n&&n.equals(y)||(t.push(y),n=y)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push((new eD[r.type]).fromJSON(r))}return this}}class Rb extends _fe{constructor(e){super(),this.type="Path",this.currentPoint=new Yt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Tb(this.currentPoint.clone(),new Yt(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const s=new KE(this.currentPoint.clone(),new Yt(e,t),new Yt(n,r));return this.curves.push(s),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,s,o){const a=new ZE(this.currentPoint.clone(),new Yt(e,t),new Yt(n,r),new Yt(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new JE(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,s,o){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,n,r,s,o),this}absarc(e,t,n,r,s,o){return this.absellipse(e,t,n,n,r,s,o),this}ellipse(e,t,n,r,s,o,a,l){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,n,r,s,o,a,l),this}absellipse(e,t,n,r,s,o,a,l){const c=new Db(e,t,n,r,s,o,a,l);if(this.curves.length>0){const x=c.getPoint(0);x.equals(this.currentPoint)||this.lineTo(x.x,x.y)}this.curves.push(c);const y=c.getPoint(1);return this.currentPoint.copy(y),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class kc extends Rb{constructor(e){super(e),this.uuid=ua(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push((new Rb).fromJSON(r))}return this}}function C5(i,e,t,n,r){let s,o;if(r===function Ofe(i,e,t,n){let r=0;for(let s=e,o=t-n;s<t;s+=n)r+=(i[o]-i[s])*(i[s+1]+i[o+1]),o=s;return r}(i,e,t,n)>0)for(s=e;s<t;s+=n)o=A5(s,i[s],i[s+1],o);else for(s=t-n;s>=e;s-=n)o=A5(s,i[s],i[s+1],o);return o&&Ib(o,o.next)&&(Zg(o),o=o.next),o}function Du(i,e){if(!i)return i;e||(e=i);let n,t=i;do{if(n=!1,t.steiner||!Ib(t,t.next)&&0!==ns(t.prev,t,t.next))t=t.next;else{if(Zg(t),t=e=t.prev,t===t.next)break;n=!0}}while(n||t!==e);return e}function Yg(i,e,t,n,r,s,o){if(!i)return;!o&&s&&function Tfe(i,e,t,n){let r=i;do{null===r.z&&(r.z=tD(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,function Rfe(i){let e,t,n,r,s,o,a,l,c=1;do{for(t=i,i=null,s=null,o=0;t;){for(o++,n=t,a=0,e=0;e<c&&(a++,n=n.nextZ,n);e++);for(l=c;a>0||l>0&&n;)0!==a&&(0===l||!n||t.z<=n.z)?(r=t,t=t.nextZ,a--):(r=n,n=n.nextZ,l--),s?s.nextZ=r:i=r,r.prevZ=s,s=r;t=n}s.nextZ=null,c*=2}while(o>1)}(r)}(i,n,r,s);let l,c,a=i;for(;i.prev!==i.next;)if(l=i.prev,c=i.next,s?xfe(i,n,r,s):bfe(i))e.push(l.i/t),e.push(i.i/t),e.push(c.i/t),Zg(i),i=c.next,a=c.next;else if((i=c)===a){o?1===o?Yg(i=wfe(Du(i),e,t),e,t,n,r,s,2):2===o&&Mfe(i,e,t,n,r,s):Yg(Du(i),e,t,n,r,s,1);break}}function bfe(i){const e=i.prev,t=i,n=i.next;if(ns(e,t,n)>=0)return!1;let r=i.next.next;for(;r!==i.prev;){if(mp(e.x,e.y,t.x,t.y,n.x,n.y,r.x,r.y)&&ns(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function xfe(i,e,t,n){const r=i.prev,s=i,o=i.next;if(ns(r,s,o)>=0)return!1;const c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,y=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,x=tD(r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,e,t,n),C=tD(c,y,e,t,n);let A=i.prevZ,P=i.nextZ;for(;A&&A.z>=x&&P&&P.z<=C;){if(A!==i.prev&&A!==i.next&&mp(r.x,r.y,s.x,s.y,o.x,o.y,A.x,A.y)&&ns(A.prev,A,A.next)>=0||(A=A.prevZ,P!==i.prev&&P!==i.next&&mp(r.x,r.y,s.x,s.y,o.x,o.y,P.x,P.y)&&ns(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;A&&A.z>=x;){if(A!==i.prev&&A!==i.next&&mp(r.x,r.y,s.x,s.y,o.x,o.y,A.x,A.y)&&ns(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;P&&P.z<=C;){if(P!==i.prev&&P!==i.next&&mp(r.x,r.y,s.x,s.y,o.x,o.y,P.x,P.y)&&ns(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function wfe(i,e,t){let n=i;do{const r=n.prev,s=n.next.next;!Ib(r,s)&&E5(r,n,n.next,s)&&Xg(r,s)&&Xg(s,r)&&(e.push(r.i/t),e.push(n.i/t),e.push(s.i/t),Zg(n),Zg(n.next),n=i=s),n=n.next}while(n!==i);return Du(n)}function Mfe(i,e,t,n,r,s){let o=i;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&kfe(o,a)){let l=D5(o,a);return o=Du(o,o.next),l=Du(l,l.next),Yg(o,e,t,n,r,s),void Yg(l,e,t,n,r,s)}a=a.next}o=o.next}while(o!==i)}function Cfe(i,e){return i.x-e.x}function Efe(i,e){if(e=function Dfe(i,e){let t=e;const n=i.x,r=i.y;let o,s=-1/0;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const C=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(C<=n&&C>s){if(s=C,C===n){if(r===t.y)return t;if(r===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(n===s)return o;const a=o,l=o.x,c=o.y;let x,y=1/0;t=o;do{n>=t.x&&t.x>=l&&n!==t.x&&mp(r<c?n:s,r,l,c,r<c?s:n,r,t.x,t.y)&&(x=Math.abs(r-t.y)/(n-t.x),Xg(t,i)&&(x<y||x===y&&(t.x>o.x||t.x===o.x&&Afe(o,t)))&&(o=t,y=x)),t=t.next}while(t!==a);return o}(i,e),e){const t=D5(e,i);Du(e,e.next),Du(t,t.next)}}function Afe(i,e){return ns(i.prev,i,e.prev)<0&&ns(e.next,i,i.next)<0}function tD(i,e,t,n,r){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-t)*r)|i<<8))|i<<4))|i<<2))|i<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ife(i){let e=i,t=i;do{(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next}while(e!==i);return t}function mp(i,e,t,n,r,s,o,a){return(r-o)*(e-a)-(i-o)*(s-a)>=0&&(i-o)*(n-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(r-o)*(n-a)>=0}function kfe(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!function Pfe(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&E5(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}(i,e)&&(Xg(i,e)&&Xg(e,i)&&function Lfe(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,s=(i.y+e.y)/2;do{t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next}while(t!==i);return n}(i,e)&&(ns(i.prev,i,e.prev)||ns(i,e.prev,e))||Ib(i,e)&&ns(i.prev,i,i.next)>0&&ns(e.prev,e,e.next)>0)}function ns(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function Ib(i,e){return i.x===e.x&&i.y===e.y}function E5(i,e,t,n){const r=Pb(ns(i,e,t)),s=Pb(ns(i,e,n)),o=Pb(ns(t,n,i)),a=Pb(ns(t,n,e));return!!(r!==s&&o!==a||0===r&&kb(i,t,e)||0===s&&kb(i,n,e)||0===o&&kb(t,i,n)||0===a&&kb(t,e,n))}function kb(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function Pb(i){return i>0?1:i<0?-1:0}function Xg(i,e){return ns(i.prev,i,i.next)<0?ns(i,e,i.next)>=0&&ns(i,i.prev,e)>=0:ns(i,e,i.prev)<0||ns(i,i.next,e)<0}function D5(i,e){const t=new nD(i.i,i.x,i.y),n=new nD(e.i,e.x,e.y),r=i.next,s=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function A5(i,e,t,n){const r=new nD(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Zg(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function nD(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Pc{static area(e){const t=e.length;let n=0;for(let r=t-1,s=0;s<t;r=s++)n+=e[r].x*e[s].y-e[s].x*e[r].y;return.5*n}static isClockWise(e){return Pc.area(e)<0}static triangulateShape(e,t){const n=[],r=[],s=[];T5(e),R5(n,e);let o=e.length;t.forEach(T5);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,R5(n,t[l]);const a=function(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let s=C5(i,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,y,x,C,A;if(n&&(s=function Sfe(i,e,t,n){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:i.length,c=C5(i,a,l,n,!1),c===c.next&&(c.steiner=!0),r.push(Ife(c));for(r.sort(Cfe),s=0;s<r.length;s++)Efe(r[s],t),t=Du(t,t.next);return t}(i,e,s,t)),i.length>80*t){a=c=i[0],l=y=i[1];for(let P=t;P<r;P+=t)x=i[P],C=i[P+1],x<a&&(a=x),C<l&&(l=C),x>c&&(c=x),C>y&&(y=C);A=Math.max(c-a,y-l),A=0!==A?1/A:0}return Yg(s,o,t,a,l,A),o}(n,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function T5(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function R5(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class Au extends ci{constructor(e=new kc([new Yt(.5,.5),new Yt(-.5,.5),new Yt(-.5,-.5),new Yt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++)o(e[a]);function o(a){const l=[],c=void 0!==t.curveSegments?t.curveSegments:12,y=void 0!==t.steps?t.steps:1;let x=void 0!==t.depth?t.depth:1,C=void 0===t.bevelEnabled||t.bevelEnabled,A=void 0!==t.bevelThickness?t.bevelThickness:.2,P=void 0!==t.bevelSize?t.bevelSize:A-.1,L=void 0!==t.bevelOffset?t.bevelOffset:0,H=void 0!==t.bevelSegments?t.bevelSegments:3;const F=t.extrudePath,N=void 0!==t.UVGenerator?t.UVGenerator:Ffe;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),x=t.amount);let q,J,he,ee,ge,Y=!1;F&&(q=F.getSpacedPoints(y),Y=!0,C=!1,J=F.computeFrenetFrames(y,!1),he=new ke,ee=new ke,ge=new ke),C||(H=0,A=0,P=0,L=0);const je=a.extractPoints(c);let Me=je.shape;const Se=je.holes;if(!Pc.isClockWise(Me)){Me=Me.reverse();for(let yt=0,St=Se.length;yt<St;yt++){const Wt=Se[yt];Pc.isClockWise(Wt)&&(Se[yt]=Wt.reverse())}}const qe=Pc.triangulateShape(Me,Se),ue=Me;for(let yt=0,St=Se.length;yt<St;yt++)Me=Me.concat(Se[yt]);function Ce(yt,St,Wt){return St||console.error("THREE.ExtrudeGeometry: vec does not exist"),St.clone().multiplyScalar(Wt).add(yt)}const pe=Me.length,we=qe.length;function me(yt,St,Wt){let pn,$t,Le;const Te=yt.x-St.x,Rt=yt.y-St.y,tn=Wt.x-yt.x,nn=Wt.y-yt.y,vn=Te*Te+Rt*Rt;if(Math.abs(Te*nn-Rt*tn)>Number.EPSILON){const On=Math.sqrt(vn),Qn=Math.sqrt(tn*tn+nn*nn),Hn=St.x-Rt/On,_t=St.y+Te/On,Un=((Wt.x-nn/Qn-Hn)*nn-(Wt.y+tn/Qn-_t)*tn)/(Te*nn-Rt*tn);pn=Hn+Te*Un-yt.x,$t=_t+Rt*Un-yt.y;const jn=pn*pn+$t*$t;if(jn<=2)return new Yt(pn,$t);Le=Math.sqrt(jn/2)}else{let On=!1;Te>Number.EPSILON?tn>Number.EPSILON&&(On=!0):Te<-Number.EPSILON?tn<-Number.EPSILON&&(On=!0):Math.sign(Rt)===Math.sign(nn)&&(On=!0),On?(pn=-Rt,$t=Te,Le=Math.sqrt(vn)):(pn=Te,$t=Rt,Le=Math.sqrt(vn/2))}return new Yt(pn/Le,$t/Le)}const He=[];for(let yt=0,St=ue.length,Wt=St-1,pn=yt+1;yt<St;yt++,Wt++,pn++)Wt===St&&(Wt=0),pn===St&&(pn=0),He[yt]=me(ue[yt],ue[Wt],ue[pn]);const Re=[];let Qe,ht=He.concat();for(let yt=0,St=Se.length;yt<St;yt++){const Wt=Se[yt];Qe=[];for(let pn=0,$t=Wt.length,Le=$t-1,Te=pn+1;pn<$t;pn++,Le++,Te++)Le===$t&&(Le=0),Te===$t&&(Te=0),Qe[pn]=me(Wt[pn],Wt[Le],Wt[Te]);Re.push(Qe),ht=ht.concat(Qe)}for(let yt=0;yt<H;yt++){const St=yt/H,Wt=A*Math.cos(St*Math.PI/2),pn=P*Math.sin(St*Math.PI/2)+L;for(let $t=0,Le=ue.length;$t<Le;$t++){const Te=Ce(ue[$t],He[$t],pn);gt(Te.x,Te.y,-Wt)}for(let $t=0,Le=Se.length;$t<Le;$t++){const Te=Se[$t];Qe=Re[$t];for(let Rt=0,tn=Te.length;Rt<tn;Rt++){const nn=Ce(Te[Rt],Qe[Rt],pn);gt(nn.x,nn.y,-Wt)}}}const Xe=P+L;for(let yt=0;yt<pe;yt++){const St=C?Ce(Me[yt],ht[yt],Xe):Me[yt];Y?(ee.copy(J.normals[0]).multiplyScalar(St.x),he.copy(J.binormals[0]).multiplyScalar(St.y),ge.copy(q[0]).add(ee).add(he),gt(ge.x,ge.y,ge.z)):gt(St.x,St.y,0)}for(let yt=1;yt<=y;yt++)for(let St=0;St<pe;St++){const Wt=C?Ce(Me[St],ht[St],Xe):Me[St];Y?(ee.copy(J.normals[yt]).multiplyScalar(Wt.x),he.copy(J.binormals[yt]).multiplyScalar(Wt.y),ge.copy(q[yt]).add(ee).add(he),gt(ge.x,ge.y,ge.z)):gt(Wt.x,Wt.y,x/y*yt)}for(let yt=H-1;yt>=0;yt--){const St=yt/H,Wt=A*Math.cos(St*Math.PI/2),pn=P*Math.sin(St*Math.PI/2)+L;for(let $t=0,Le=ue.length;$t<Le;$t++){const Te=Ce(ue[$t],He[$t],pn);gt(Te.x,Te.y,x+Wt)}for(let $t=0,Le=Se.length;$t<Le;$t++){const Te=Se[$t];Qe=Re[$t];for(let Rt=0,tn=Te.length;Rt<tn;Rt++){const nn=Ce(Te[Rt],Qe[Rt],pn);Y?gt(nn.x,nn.y+q[y-1].y,q[y-1].x+Wt):gt(nn.x,nn.y,x+Wt)}}}function rt(yt,St){let Wt=yt.length;for(;--Wt>=0;){const pn=Wt;let $t=Wt-1;$t<0&&($t=yt.length-1);for(let Le=0,Te=y+2*H;Le<Te;Le++){const Rt=pe*Le,tn=pe*(Le+1);Tt(St+pn+Rt,St+$t+Rt,St+$t+tn,St+pn+tn)}}}function gt(yt,St,Wt){l.push(yt),l.push(St),l.push(Wt)}function Ft(yt,St,Wt){Pt(yt),Pt(St),Pt(Wt);const pn=r.length/3,$t=N.generateTopUV(n,r,pn-3,pn-2,pn-1);qt($t[0]),qt($t[1]),qt($t[2])}function Tt(yt,St,Wt,pn){Pt(yt),Pt(St),Pt(pn),Pt(St),Pt(Wt),Pt(pn);const $t=r.length/3,Le=N.generateSideWallUV(n,r,$t-6,$t-3,$t-2,$t-1);qt(Le[0]),qt(Le[1]),qt(Le[3]),qt(Le[1]),qt(Le[2]),qt(Le[3])}function Pt(yt){r.push(l[3*yt+0]),r.push(l[3*yt+1]),r.push(l[3*yt+2])}function qt(yt){s.push(yt.x),s.push(yt.y)}(function Ze(){const yt=r.length/3;if(C){let St=0,Wt=pe*St;for(let pn=0;pn<we;pn++){const $t=qe[pn];Ft($t[2]+Wt,$t[1]+Wt,$t[0]+Wt)}St=y+2*H,Wt=pe*St;for(let pn=0;pn<we;pn++){const $t=qe[pn];Ft($t[0]+Wt,$t[1]+Wt,$t[2]+Wt)}}else{for(let St=0;St<we;St++){const Wt=qe[St];Ft(Wt[2],Wt[1],Wt[0])}for(let St=0;St<we;St++){const Wt=qe[St];Ft(Wt[0]+pe*y,Wt[1]+pe*y,Wt[2]+pe*y)}}n.addGroup(yt,r.length/3-yt,0)})(),function mt(){const yt=r.length/3;let St=0;rt(ue,St),St+=ue.length;for(let Wt=0,pn=Se.length;Wt<pn;Wt++){const $t=Se[Wt];rt($t,St),St+=$t.length}n.addGroup(yt,r.length/3-yt,1)}()}this.setAttribute("position",new Wn(r,3)),this.setAttribute("uv",new Wn(s,2)),this.computeVertexNormals()}toJSON(){const e=super.toJSON();return function Nfe(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++)t.shapes.push(i[n].uuid);else t.shapes.push(i.uuid);return void 0!==e.extrudePath&&(t.options.extrudePath=e.extrudePath.toJSON()),t}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++)n.push(t[e.shapes[s]]);const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new eD[r.type]).fromJSON(r)),new Au(n,e.options)}}const Ffe={generateTopUV:function(i,e,t,n,r){const a=e[3*n],l=e[3*n+1],c=e[3*r],y=e[3*r+1];return[new Yt(e[3*t],e[3*t+1]),new Yt(a,l),new Yt(c,y)]},generateSideWallUV:function(i,e,t,n,r,s){const o=e[3*t],a=e[3*t+1],l=e[3*t+2],c=e[3*n],y=e[3*n+1],x=e[3*n+2],C=e[3*r],A=e[3*r+1],P=e[3*r+2],L=e[3*s],H=e[3*s+1],F=e[3*s+2];return Math.abs(a-y)<Math.abs(o-c)?[new Yt(o,1-l),new Yt(c,1-x),new Yt(C,1-P),new Yt(L,1-F)]:[new Yt(a,1-l),new Yt(y,1-x),new Yt(A,1-P),new Yt(H,1-F)]}};class Qg extends ci{constructor(e=new kc([new Yt(0,.5),new Yt(-.5,-.5),new Yt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],s=[],o=[];let a=0,l=0;if(!1===Array.isArray(e))c(e);else for(let y=0;y<e.length;y++)c(e[y]),this.addGroup(a,l,y),a+=l,l=0;function c(y){const x=r.length/3,C=y.extractPoints(t);let A=C.shape;const P=C.holes;!1===Pc.isClockWise(A)&&(A=A.reverse());for(let H=0,F=P.length;H<F;H++){const N=P[H];!0===Pc.isClockWise(N)&&(P[H]=N.reverse())}const L=Pc.triangulateShape(A,P);for(let H=0,F=P.length;H<F;H++)A=A.concat(P[H]);for(let H=0,F=A.length;H<F;H++){const N=A[H];r.push(N.x,N.y,0),s.push(0,0,1),o.push(N.x,N.y)}for(let H=0,F=L.length;H<F;H++){const N=L[H];n.push(N[0]+x,N[1]+x,N[2]+x),l+=3}}this.setIndex(n),this.setAttribute("position",new Wn(r,3)),this.setAttribute("normal",new Wn(s,3)),this.setAttribute("uv",new Wn(o,2))}toJSON(){const e=super.toJSON();return function Bfe(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++)e.shapes.push(i[t].uuid);else e.shapes.push(i.uuid);return e}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,s=e.shapes.length;r<s;r++)n.push(t[e.shapes[r]]);return new Qg(n,e.curveSegments)}}class jd extends ci{constructor(e=1,t=32,n=16,r=0,s=2*Math.PI,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const l=Math.min(o+a,Math.PI);let c=0;const y=[],x=new ke,C=new ke,A=[],P=[],L=[],H=[];for(let F=0;F<=n;F++){const N=[],q=F/n;let Y=0;0==F&&0==o?Y=.5/t:F==n&&l==Math.PI&&(Y=-.5/t);for(let J=0;J<=t;J++){const he=J/t;x.x=-e*Math.cos(r+he*s)*Math.sin(o+q*a),x.y=e*Math.cos(o+q*a),x.z=e*Math.sin(r+he*s)*Math.sin(o+q*a),P.push(x.x,x.y,x.z),C.copy(x).normalize(),L.push(C.x,C.y,C.z),H.push(he+Y,1-q),N.push(c++)}y.push(N)}for(let F=0;F<n;F++)for(let N=0;N<t;N++){const q=y[F][N+1],Y=y[F][N],J=y[F+1][N],he=y[F+1][N+1];(0!==F||o>0)&&A.push(q,Y,he),(F!==n-1||l<Math.PI)&&A.push(Y,J,he)}this.setIndex(A),this.setAttribute("position",new Wn(P,3)),this.setAttribute("normal",new Wn(L,3)),this.setAttribute("uv",new Wn(H,2))}static fromJSON(e){return new jd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}(class L5 extends lo{constructor(e){super(),this.type="ShadowMaterial",this.color=new Pn(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}).prototype.isShadowMaterial=!0;class Ub extends lo{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Pn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}Ub.prototype.isMeshStandardMaterial=!0;(class O5 extends Ub{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Yt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ao(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new Pn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Pn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Pn(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}).prototype.isMeshPhysicalMaterial=!0;class Vd extends lo{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Pn(16777215),this.specular=new Pn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}Vd.prototype.isMeshPhongMaterial=!0;(class F5 extends lo{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Pn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}).prototype.isMeshToonMaterial=!0;(class N5 extends lo{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}).prototype.isMeshNormalMaterial=!0;class Jg extends lo{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Pn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Jg.prototype.isMeshLambertMaterial=!0;(class B5 extends lo{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Pn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}).prototype.isMeshMatcapMaterial=!0;(class j5 extends Es{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}).prototype.isLineDashedMaterial=!0;const qr={arraySlice:function(i,e,t){return qr.isTypedArray(i)?new i.constructor(i.subarray(e,void 0!==t?t:i.length)):i.slice(e,t)},convertArray:function(i,e,t){return!i||!t&&i.constructor===e?i:"number"==typeof e.BYTES_PER_ELEMENT?new e(i):Array.prototype.slice.call(i)},isTypedArray:function(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)},getKeyframeOrder:function(i){const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(function e(r,s){return i[r]-i[s]}),n},sortedArray:function(i,e,t){const n=i.length,r=new i.constructor(n);for(let s=0,o=0;o!==n;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=i[a+l]}return r},flattenJSON:function(i,e,t,n){let r=1,s=i[0];for(;void 0!==s&&void 0===s[n];)s=i[r++];if(void 0===s)return;let o=s[n];if(void 0!==o)if(Array.isArray(o))do{o=s[n],void 0!==o&&(e.push(s.time),t.push.apply(t,o)),s=i[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{o=s[n],void 0!==o&&(e.push(s.time),o.toArray(t,t.length)),s=i[r++]}while(void 0!==s);else do{o=s[n],void 0!==o&&(e.push(s.time),t.push(o)),s=i[r++]}while(void 0!==s)},subclip:function(i,e,t,n,r=30){const s=i.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],y=c.getValueSize(),x=[],C=[];for(let A=0;A<c.times.length;++A){const P=c.times[A]*r;if(!(P<t||P>=n)){x.push(c.times[A]);for(let L=0;L<y;++L)C.push(c.values[A*y+L])}}0!==x.length&&(c.times=qr.convertArray(x,c.times.constructor),c.values=qr.convertArray(C,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,s=e/n;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if("bool"===l||"string"===l)continue;const c=i.tracks.find(function(F){return F.name===a.name&&F.ValueTypeName===l});if(void 0===c)continue;let y=0;const x=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=x/3);let C=0;const A=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(C=A/3);const P=a.times.length-1;let L;if(s<=a.times[0])L=qr.arraySlice(a.values,y,x-y);else if(s>=a.times[P]){const F=P*x+y;L=qr.arraySlice(a.values,F,F+x-y)}else{const F=a.createInterpolant(),N=y,q=x-y;F.evaluate(s),L=qr.arraySlice(F.resultBuffer,N,q)}"quaternion"===l&&(new qs).fromArray(L).normalize().conjugate().toArray(L);const H=c.times.length;for(let F=0;F<H;++F){const N=F*A+C;if("quaternion"===l)qs.multiplyQuaternionsFlat(c.values,N,L,0,c.values,N);else{const q=A-2*C;for(let Y=0;Y<q;++Y)c.values[N+Y]-=L[Y]}}}return i.blendMode=2501,i}};class Tu{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],s=t[n-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,s)}if(n===a)break;if(s=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(n=2,s=a);for(let l=n-2;;){if(void 0===s)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===l)break;if(r=s,s=t[--n-1],e>=s)break t}o=n,n=0}}for(;n<o;){const a=n+o>>>1;e<t[a]?o=a:n=a+1}if(r=t[n],s=t[n-1],void 0===s)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,s,e)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Tu.prototype.beforeStart_=Tu.prototype.copySampleValue_,Tu.prototype.afterEnd_=Tu.prototype.copySampleValue_;class Vfe extends Tu{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ff,endingEnd:Ff}}intervalChanged_(e,t,n){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Nf:s=e,a=2*t-n;break;case 2402:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=n}if(void 0===l)switch(this.getSettings_().endingEnd){case Nf:o=e,l=2*n-t;break;case 2402:o=1,l=n+r[1]-r[0];break;default:o=e-1,l=t}const c=.5*(n-t),y=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-n),this._offsetPrev=s*y,this._offsetNext=o*y}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,y=this._offsetPrev,x=this._offsetNext,C=this._weightPrev,A=this._weightNext,P=(n-t)/(r-t),L=P*P,H=L*P,F=-C*H+2*C*L-C*P,N=(1+C)*H+(-1.5-2*C)*L+(-.5+C)*P+1,q=(-1-A)*H+(1.5+A)*L+.5*P,Y=A*H-A*L;for(let J=0;J!==a;++J)s[J]=F*o[y+J]+N*o[c+J]+q*o[l+J]+Y*o[x+J];return s}}class V5 extends Tu{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,y=(n-t)/(r-t),x=1-y;for(let C=0;C!==a;++C)s[C]=o[c+C]*x+o[l+C]*y;return s}}class Ufe extends Tu{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class zl{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=qr.convertArray(t,this.TimeBufferType),this.values=qr.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:qr.convertArray(e.times,Array),values:qr.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Ufe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new V5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Vfe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let s=0,o=r-1;for(;s!==r&&n[s]<e;)++s;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=qr.arraySlice(n,s,o),this.values=qr.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,s=n.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=n[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==r&&qr.isTypedArray(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=qr.arraySlice(this.times),t=qr.arraySlice(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(r)l=!0;else{const x=a*n,C=x-n,A=x+n;for(let P=0;P!==n;++P){const L=t[x+P];if(L!==t[C+P]||L!==t[A+P]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const x=a*n,C=o*n;for(let A=0;A!==n;++A)t[C+A]=t[x+A]}++o}}if(s>0){e[o]=e[s];for(let a=s*n,l=o*n,c=0;c!==n;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=qr.arraySlice(e,0,o),this.values=qr.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=qr.arraySlice(this.times,0),t=qr.arraySlice(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}zl.prototype.TimeBufferType=Float32Array,zl.prototype.ValueBufferType=Float32Array,zl.prototype.DefaultInterpolation=2301;class gp extends zl{}gp.prototype.ValueTypeName="bool",gp.prototype.ValueBufferType=Array,gp.prototype.DefaultInterpolation=2300,gp.prototype.InterpolantFactoryMethodLinear=void 0,gp.prototype.InterpolantFactoryMethodSmooth=void 0;class U5 extends zl{}U5.prototype.ValueTypeName="color";class Hb extends zl{}Hb.prototype.ValueTypeName="number";class Hfe extends Tu{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(n-t)/(r-t);let c=e*a;for(let y=c+a;c!==y;c+=4)qs.slerpFlat(s,0,o,c-a,o,c,l);return s}}class ey extends zl{InterpolantFactoryMethodLinear(e){return new Hfe(this.times,this.values,this.getValueSize(),e)}}ey.prototype.ValueTypeName="quaternion",ey.prototype.DefaultInterpolation=2301,ey.prototype.InterpolantFactoryMethodSmooth=void 0;class yp extends zl{}yp.prototype.ValueTypeName="string",yp.prototype.ValueBufferType=Array,yp.prototype.DefaultInterpolation=2300,yp.prototype.InterpolantFactoryMethodLinear=void 0,yp.prototype.InterpolantFactoryMethodSmooth=void 0;class Gb extends zl{}Gb.prototype.ValueTypeName="vector";class zb{constructor(e,t=-1,n,r=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=ua(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(zfe(n[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=n.length;s!==o;++s)t.push(zl.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const y=qr.getKeyframeOrder(l);l=qr.sortedArray(l,1,y),c=qr.sortedArray(c,1,y),!r&&0===l[0]&&(l.push(s),c.push(c[0])),o.push(new Hb(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],y=c.name.match(s);if(y&&y.length>1){const x=y[1];let C=r[x];C||(r[x]=C=[]),C.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(x,C,A,P,L){if(0!==A.length){const H=[],F=[];qr.flattenJSON(A,H,F,P),0!==H.length&&L.push(new x(C,H,F))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let x=0;x<c.length;x++){const C=c[x].keys;if(C&&0!==C.length)if(C[0].morphTargets){const A={};let P;for(P=0;P<C.length;P++)if(C[P].morphTargets)for(let L=0;L<C[P].morphTargets.length;L++)A[C[P].morphTargets[L]]=-1;for(const L in A){const H=[],F=[];for(let N=0;N!==C[P].morphTargets.length;++N){const q=C[P];H.push(q.time),F.push(q.morphTarget===L?1:0)}r.push(new Hb(".morphTargetInfluence["+L+"]",H,F))}l=A.length*(o||1)}else{const A=".bones["+t[x].name+"]";n(Gb,A+".position",C,"pos",r),n(ey,A+".quaternion",C,"rot",r),n(Gb,A+".scale",C,"scl",r)}}return 0===r.length?null:new this(s,l,r,a)}resetDuration(){let t=0;for(let n=0,r=this.tracks.length;n!==r;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function zfe(i){if(void 0===i.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function Gfe(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Hb;case"vector":case"vector2":case"vector3":case"vector4":return Gb;case"color":return U5;case"quaternion":return ey;case"bool":case"boolean":return gp;case"string":return yp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}(i.type);if(void 0===i.times){const t=[],n=[];qr.flattenJSON(i.keys,t,n,"value"),i.times=t,i.values=n}return void 0!==e.parse?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const _p={enabled:!1,files:{},add:function(i,e){!1!==this.enabled&&(this.files[i]=e)},get:function(i){if(!1!==this.enabled)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};const Wfe=new class H5{constructor(e,t,n){const r=this;let l,s=!1,o=0,a=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(y){a++,!1===s&&void 0!==r.onStart&&r.onStart(y,o,a),s=!0},this.itemEnd=function(y){o++,void 0!==r.onProgress&&r.onProgress(y,o,a),o===a&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(y){void 0!==r.onError&&r.onError(y)},this.resolveURL=function(y){return l?l(y):y},this.setURLModifier=function(y){return l=y,this},this.addHandler=function(y,x){return c.push(y,x),this},this.removeHandler=function(y){const x=c.indexOf(y);return-1!==x&&c.splice(x,2),this},this.getHandler=function(y){for(let x=0,C=c.length;x<C;x+=2){const A=c[x],P=c[x+1];if(A.global&&(A.lastIndex=0),A.test(y))return P}return null}}};class Ru{constructor(e){this.manager=void 0!==e?e:Wfe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,s){n.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Lc={};class Oc extends Ru{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=_p.get(e);if(void 0!==s)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(void 0!==Lc[e])return void Lc[e].push({onLoad:t,onProgress:n,onError:r});Lc[e]=[],Lc[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(o).then(a=>{if(200===a.status||0===a.status){0===a.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");const l=Lc[e],c=a.body.getReader(),y=a.headers.get("Content-Length"),x=y?parseInt(y):0,C=0!==x;let A=0;return new ReadableStream({start(P){!function L(){c.read().then(({done:H,value:F})=>{if(H)P.close();else{A+=F.byteLength;const N=new ProgressEvent("progress",{lengthComputable:C,loaded:A,total:x});for(let q=0,Y=l.length;q<Y;q++){const J=l[q];J.onProgress&&J.onProgress(N)}P.enqueue(F),L()}})}()}})}throw Error(`fetch for "${a.url}" responded with ${a.status}: ${a.statusText}`)}).then(a=>{const l=new Response(a);switch(this.responseType){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>(new DOMParser).parseFromString(c,this.mimeType));case"json":return l.json();default:return l.text()}}).then(a=>{_p.add(e,a);const l=Lc[e];delete Lc[e];for(let c=0,y=l.length;c<y;c++){const x=l[c];x.onLoad&&x.onLoad(a)}this.manager.itemEnd(e)}).catch(a=>{const l=Lc[e];delete Lc[e];for(let c=0,y=l.length;c<y;c++){const x=l[c];x.onError&&x.onError(a)}this.manager.itemError(e),this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Wb extends Ru{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=_p.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=H0("img");function l(){y(),_p.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(x){y(),r&&r(x),s.manager.itemError(e),s.manager.itemEnd(e)}function y(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class $fe extends Ru{constructor(e){super(e)}load(e,t,n,r){const s=new Fg,o=new Wb(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(y){s.images[c]=y,a++,6===a&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class Yfe extends Ru{constructor(e){super(e)}load(e,t,n,r){const s=new $s,o=new Wb(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,void 0!==t&&t(s)},n,r),s}}class Wl extends ir{constructor(e,t=1){super(),this.type="Light",this.color=new Pn(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}Wl.prototype.isLight=!0;class iD extends Wl{constructor(e,t,n){super(e,n),this.type="HemisphereLight",this.position.copy(ir.DefaultUp),this.updateMatrix(),this.groundColor=new Pn(t)}copy(e){return Wl.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}iD.prototype.isHemisphereLight=!0;const G5=new qn,z5=new ke,W5=new ke;class rD{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Yt(512,512),this.map=null,this.mapPass=null,this.matrix=new qn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ab,this._frameExtents=new Yt(1,1),this._viewportCount=1,this._viewports=[new Ir(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;z5.setFromMatrixPosition(e.matrixWorld),t.position.copy(z5),W5.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(W5),t.updateMatrixWorld(),G5.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(G5),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class $5 extends rD{constructor(){super(new Ls(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,n=2*Rg*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}$5.prototype.isSpotLightShadow=!0;(class q5 extends Wl{constructor(e,t,n=0,r=Math.PI/3,s=0,o=1){super(e,t),this.type="SpotLight",this.position.copy(ir.DefaultUp),this.updateMatrix(),this.target=new ir,this.distance=n,this.angle=r,this.penumbra=s,this.decay=o,this.shadow=new $5}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}).prototype.isSpotLight=!0;const Y5=new qn,ty=new ke,sD=new ke;class X5 extends rD{constructor(){super(new Ls(90,1,.5,500)),this._frameExtents=new Yt(4,2),this._viewportCount=6,this._viewports=[new Ir(2,1,1,1),new Ir(0,1,1,1),new Ir(3,1,1,1),new Ir(1,1,1,1),new Ir(3,0,1,1),new Ir(1,0,1,1)],this._cubeDirections=[new ke(1,0,0),new ke(-1,0,0),new ke(0,0,1),new ke(0,0,-1),new ke(0,1,0),new ke(0,-1,0)],this._cubeUps=[new ke(0,1,0),new ke(0,1,0),new ke(0,1,0),new ke(0,1,0),new ke(0,0,1),new ke(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),ty.setFromMatrixPosition(e.matrixWorld),n.position.copy(ty),sD.copy(n.position),sD.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(sD),n.updateMatrixWorld(),r.makeTranslation(-ty.x,-ty.y,-ty.z),Y5.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Y5)}}X5.prototype.isPointLightShadow=!0;class oD extends Wl{constructor(e,t,n=0,r=1){super(e,t),this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new X5}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}oD.prototype.isPointLight=!0;class Z5 extends rD{constructor(){super(new Ng(-5,5,5,-5,.5,500))}}Z5.prototype.isDirectionalLightShadow=!0;class aD extends Wl{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(ir.DefaultUp),this.updateMatrix(),this.target=new ir,this.shadow=new Z5}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}aD.prototype.isDirectionalLight=!0;(class K5 extends Wl{constructor(e,t){super(e,t),this.type="AmbientLight"}}).prototype.isAmbientLight=!0;(class Q5 extends Wl{constructor(e,t,n=10,r=10){super(e,t),this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}).prototype.isRectAreaLight=!0;class J5{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ke)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*s*1.092548),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],n*s*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*s),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],.858086*n*s),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-r*r)}}J5.prototype.isSphericalHarmonics3=!0;class $b extends Wl{constructor(e=new J5,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}$b.prototype.isLightProbe=!0;let qb;(class e4 extends ci{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}).prototype.isInstancedBufferGeometry=!0,class Qfe extends Ru{constructor(e){super(e),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=_p.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){_p.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}.prototype.isImageBitmapLoader=!0;class Jfe extends Ru{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new Oc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);(void 0===qb&&(qb=new(window.AudioContext||window.webkitAudioContext)),qb).decodeAudioData(l,function(y){t(y)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},n,r)}}(class epe extends $b{constructor(e,t,n=1){super(void 0,n);const r=(new Pn).set(e),s=(new Pn).set(t),o=new ke(r.r,r.g,r.b),a=new ke(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}).prototype.isHemisphereLightProbe=!0,class tpe extends $b{constructor(e,t=1){super(void 0,t);const n=(new Pn).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}.prototype.isAmbientLightProbe=!0;class ape{constructor(e,t,n){let r,s,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(0===o){for(let a=0;a!==r;++a)n[s+a]=n[a];o=t}else o+=t,this._mixBufferRegion(n,s,0,t/o,r);this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1&&this._mixBufferRegion(n,r,t*this._origIndex,1-s,t),o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){a.setValue(n,r);break}}saveOriginalState(){const t=this.buffer,n=this.valueSize,r=n*this._origIndex;this.binding.getValue(t,r);for(let s=n,o=r;s!==o;++s)t[s]=t[r+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){qs.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,s){const o=this._workIndex*s;qs.multiplyQuaternionsFlat(e,o,e,t,e,n),qs.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[n+a]*r}}_lerpAdditive(e,t,n,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[n+o]*r}}}const cD="\\[\\]\\.:\\/",lpe=new RegExp("["+cD+"]","g"),uD="[^"+cD+"]",cpe="[^"+cD.replace("\\.","")+"]",upe=/((?:WC+[\/:])*)/.source.replace("WC",uD),dpe=/(WCOD+)?/.source.replace("WCOD",cpe),hpe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",uD),fpe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",uD),ppe=new RegExp("^"+upe+dpe+hpe+fpe+"$"),mpe=["material","materials","bones"];class gpe{constructor(e,t,n){const r=n||Hr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}let Hr=(()=>{class i{constructor(t,n,r){this.path=n,this.parsedPath=r||i.parseTrackName(n),this.node=i.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,n,r){return t&&t.isAnimationObjectGroup?new i.Composite(t,n,r):new i(t,n,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(lpe,"")}static parseTrackName(t){const n=ppe.exec(t);if(!n)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==mpe.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,n){if(!n||""===n||"."===n||-1===n||n===t.name||n===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(n);if(void 0!==r)return r}if(t.children){const r=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===n||l.uuid===n)return l;const c=r(l.children);if(c)return c}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,n){t[n]=this.targetObject[this.propertyName]}_getValue_array(t,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)t[n++]=r[s]}_getValue_arrayElement(t,n){t[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,n){this.resolvedProperty.toArray(t,n)}_setValue_direct(t,n){this.targetObject[this.propertyName]=t[n]}_setValue_direct_setNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[n++]}_setValue_array_setNeedsUpdate(t,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,n){this.resolvedProperty[this.propertyIndex]=t[n]}_setValue_arrayElement_setNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,n){this.resolvedProperty.fromArray(t,n)}_setValue_fromArray_setNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,n){this.bind(),this.getValue(t,n)}_setValue_unbound(t,n){this.bind(),this.setValue(t,n)}bind(){let t=this.node;const n=this.parsedPath,r=n.objectName,s=n.propertyName;let o=n.propertyIndex;if(t||(t=i.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let y=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let x=0;x<t.length;x++)if(t[x].name===y){y=x;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==y){if(void 0===t[y])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[y]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return i.Composite=gpe,i})();Hr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Hr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Hr.prototype.GetterByBindingType=[Hr.prototype._getValue_direct,Hr.prototype._getValue_array,Hr.prototype._getValue_arrayElement,Hr.prototype._getValue_toArray],Hr.prototype.SetterByBindingTypeAndVersioning=[[Hr.prototype._setValue_direct,Hr.prototype._setValue_direct_setNeedsUpdate,Hr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Hr.prototype._setValue_array,Hr.prototype._setValue_array_setNeedsUpdate,Hr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Hr.prototype._setValue_arrayElement,Hr.prototype._setValue_arrayElement_setNeedsUpdate,Hr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Hr.prototype._setValue_fromArray,Hr.prototype._setValue_fromArray_setNeedsUpdate,Hr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class _pe{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ff,endingEnd:Ff};for(let c=0;c!==o;++c){const y=s[c].createInterpolant(null);a[c]=y,y.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,s=e._clip.duration,a=r/s;e.warp(1,s/r,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+n,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const s=this._startTime;if(null!==s){const l=(e-s)*n;if(l<0||0===n)return;this._startTime=null,t=n*l}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;if(2501===this.blendMode)for(let y=0,x=l.length;y!==x;++y)l[y].evaluate(o),c[y].accumulateAdditive(a);else for(let y=0,x=l.length;y!==x;++y)l[y].evaluate(o),c[y].accumulate(r,a)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,s=this._loopCount;const o=2202===n;if(0===e)return-1===s?r:o&&1==(1&s)?t-r:r;if(2200===n){-1===s&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===s&&(e>=0?(s=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===l){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&1==(1&s))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Nf,r.endingEnd=Nf):(r.endingStart=e?this.zeroSlopeAtStart?Nf:Ff:2402,r.endingEnd=t?this.zeroSlopeAtEnd?Nf:Ff:2402)}_scheduleFading(e,t,n){const r=this._mixer,s=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=n,this}}(class vpe extends hu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=n.uuid,c=this._bindingsByRootAndName;let y=c[l];void 0===y&&(y={},c[l]=y);for(let x=0;x!==s;++x){const C=r[x],A=C.name;let P=y[A];if(void 0!==P)o[x]=P;else{if(P=o[x],void 0!==P){null===P._cacheIndex&&(++P.referenceCount,this._addInactiveBinding(P,l,A));continue}P=new ape(Hr.create(n,A,t&&t._propertyBindings[x].binding.parsedPath),C.ValueTypeName,C.getValueSize()),++P.referenceCount,this._addInactiveBinding(P,l,A),o[x]=P}a[x].resultBuffer=P.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];0==--s.useCount&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,s=this._actionsByClip;let o=s[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],y=e._byClipCacheIndex;c._byClipCacheIndex=y,l[y]=c,l.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===l.length&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];0==--s.referenceCount&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],0===Object.keys(a).length&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new V5(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const r=t||this._root,s=r.uuid;let o="string"==typeof e?zb.findByName(r,e):e;const a=null!==o?o.uuid:e,l=this._actionsByClip[a];let c=null;if(void 0===n&&(n=null!==o?o.blendMode:2500),void 0!==l){const x=l.actionByRoot[s];if(void 0!==x&&x.blendMode===n)return x;c=l.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;const y=new _pe(this,o,t,n);return this._bindAction(y,c),this._addInactiveAction(y,a,s),y}existingAction(e,t){const n=t||this._root,r=n.uuid,s="string"==typeof e?zb.findByName(n,e):e,a=this._actionsByClip[s?s.uuid:e];return void 0!==a&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let n=this._nActiveActions-1;n>=0;--n)e[n].stop();return this}update(e){const t=this._actions,n=this._nActiveActions,r=this.time+=e*=this.timeScale,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,s=r[n];if(void 0!==s){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const y=c._cacheIndex,x=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,x._cacheIndex=y,t[y]=x,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const l=n[o].actionByRoot[t];void 0!==l&&(this._deactivateAction(l),this._removeInactiveAction(l))}const s=this._bindingsByRootAndName[t];if(void 0!==s)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}).prototype._controlInterpolantsResultBuffer=new Float32Array(1);class dD{constructor(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new dD(void 0===this.value.clone?this.value:this.value.clone())}}(class bpe extends op{constructor(e,t,n=1){super(e,t),this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}).prototype.isInstancedInterleavedBuffer=!0;class d4{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(ao(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const h4=new Yt;class ny{constructor(e=new Yt(1/0,1/0),t=new Yt(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=h4.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return h4.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}ny.prototype.isBox2=!0;const Iu=new ke,Xb=new qn,fD=new qn;function m4(i){const e=[];i&&i.isBone&&e.push(i);for(let t=0;t<i.children.length;t++)e.push.apply(e,m4(i.children[t]));return e}const b4=new ke;let Jb,pD;class Dpe extends ir{constructor(e=new ke(0,0,1),t=new ke(0,0,0),n=1,r=16776960,s=.2*n,o=.2*s){super(),this.type="ArrowHelper",void 0===Jb&&(Jb=new ci,Jb.setAttribute("position",new Wn([0,0,0,0,1,0],3)),pD=new pp(0,.5,1,5,1),pD.translate(0,-.5,0)),this.position.copy(t),this.line=new Bd(Jb,new Es({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new wr(pD,new _u({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{b4.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(b4,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class x4 extends Ic{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=new ci;r.setAttribute("position",new Wn(t,3)),r.setAttribute("color",new Wn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(r,new Es({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new Pn,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(n),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const w4=new Float32Array(1);function vp(i,e){var t=i.__state.conversionName.toString(),n=Math.round(i.r),r=Math.round(i.g),s=Math.round(i.b),o=i.a,a=Math.round(i.h),l=i.s.toFixed(1),c=i.v.toFixed(1);if(e||"THREE_CHAR_HEX"===t||"SIX_CHAR_HEX"===t){for(var y=i.hex.toString(16);y.length<6;)y="0"+y;return"#"+y}return"CSS_RGB"===t?"rgb("+n+","+r+","+s+")":"CSS_RGBA"===t?"rgba("+n+","+r+","+s+","+o+")":"HEX"===t?"0x"+i.hex.toString(16):"RGB_ARRAY"===t?"["+n+","+r+","+s+"]":"RGBA_ARRAY"===t?"["+n+","+r+","+s+","+o+"]":"RGB_OBJ"===t?"{r:"+n+",g:"+r+",b:"+s+"}":"RGBA_OBJ"===t?"{r:"+n+",g:"+r+",b:"+s+",a:"+o+"}":"HSV_OBJ"===t?"{h:"+a+",s:"+l+",v:"+c+"}":"HSVA_OBJ"===t?"{h:"+a+",s:"+l+",v:"+c+",a:"+o+"}":"unknown format"}new Int32Array(w4.buffer),Na.create=function(i,e){return console.log("THREE.Curve.create() has been deprecated"),i.prototype=Object.create(Na.prototype),i.prototype.constructor=i,i.prototype.getPoint=e,i},Rb.prototype.fromPoints=function(i){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(i)},class Cpe extends Ic{constructor(e=10,t=10,n=4473924,r=8947848){n=new Pn(n),r=new Pn(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let C=0,A=0,P=-a;C<=t;C++,P+=o){l.push(-a,0,P,a,0,P),l.push(P,0,-a,P,0,a);const L=C===s?n:r;L.toArray(c,A),A+=3,L.toArray(c,A),A+=3,L.toArray(c,A),A+=3,L.toArray(c,A),A+=3}const y=new ci;y.setAttribute("position",new Wn(l,3)),y.setAttribute("color",new Wn(c,3)),super(y,new Es({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class Mpe extends Ic{constructor(e){const t=m4(e),n=new ci,r=[],s=[],o=new Pn(0,0,1),a=new Pn(0,1,0);for(let c=0;c<t.length;c++){const y=t[c];y.parent&&y.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}n.setAttribute("position",new Wn(r,3)),n.setAttribute("color",new Wn(s,3)),super(n,new Es({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");fD.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Xb.multiplyMatrices(fD,a.matrixWorld),Iu.setFromMatrixPosition(Xb),r.setXYZ(o,Iu.x,Iu.y,Iu.z),Xb.multiplyMatrices(fD,a.parent.matrixWorld),Iu.setFromMatrixPosition(Xb),r.setXYZ(o+1,Iu.x,Iu.y,Iu.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Ru.prototype.extractUrlBase=function(i){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),class lD{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}.extractUrlBase(i)},Ru.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},ny.prototype.center=function(i){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(i)},ny.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ny.prototype.isIntersectionBox=function(i){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},ny.prototype.size=function(i){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(i)},Oa.prototype.center=function(i){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(i)},Oa.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Oa.prototype.isIntersectionBox=function(i){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},Oa.prototype.isIntersectionSphere=function(i){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(i)},Oa.prototype.size=function(i){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(i)},Pd.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ab.prototype.setFromMatrix=function(i){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(i)},Ws.prototype.flattenToArrayOffset=function(i,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(i,e)},Ws.prototype.multiplyVector3=function(i){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),i.applyMatrix3(this)},Ws.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Ws.prototype.applyToBufferAttribute=function(i){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),i.applyMatrix3(this)},Ws.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Ws.prototype.getInverse=function(i){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(i).invert()},qn.prototype.extractPosition=function(i){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(i)},qn.prototype.flattenToArrayOffset=function(i,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(i,e)},qn.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new ke).setFromMatrixColumn(this,3)},qn.prototype.setRotationFromQuaternion=function(i){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(i)},qn.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},qn.prototype.multiplyVector3=function(i){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},qn.prototype.multiplyVector4=function(i){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},qn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},qn.prototype.rotateAxis=function(i){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),i.transformDirection(this)},qn.prototype.crossVector=function(i){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},qn.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},qn.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},qn.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},qn.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},qn.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},qn.prototype.applyToBufferAttribute=function(i){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},qn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},qn.prototype.makeFrustum=function(i,e,t,n,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(i,e,n,t,r,s)},qn.prototype.getInverse=function(i){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(i).invert()},Tc.prototype.isIntersectionLine=function(i){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(i)},qs.prototype.multiplyVector3=function(i){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),i.applyQuaternion(this)},qs.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Ld.prototype.isIntersectionBox=function(i){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},Ld.prototype.isIntersectionPlane=function(i){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(i)},Ld.prototype.isIntersectionSphere=function(i){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(i)},Cs.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Cs.prototype.barycoordFromPoint=function(i,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(i,e)},Cs.prototype.midpoint=function(i){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(i)},Cs.prototypenormal=function(i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(i)},Cs.prototype.plane=function(i){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(i)},Cs.barycoordFromPoint=function(i,e,t,n,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Cs.getBarycoord(i,e,t,n,r)},Cs.normal=function(i,e,t,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Cs.getNormal(i,e,t,n)},kc.prototype.extractAllPoints=function(i){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(i)},kc.prototype.extrude=function(i){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Au(this,i)},kc.prototype.makeGeometry=function(i){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Qg(this,i)},Yt.prototype.fromAttribute=function(i,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,e,t)},Yt.prototype.distanceToManhattan=function(i){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(i)},Yt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},ke.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},ke.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},ke.prototype.getPositionFromMatrix=function(i){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(i)},ke.prototype.getScaleFromMatrix=function(i){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(i)},ke.prototype.getColumnFromMatrix=function(i,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,i)},ke.prototype.applyProjection=function(i){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(i)},ke.prototype.fromAttribute=function(i,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,e,t)},ke.prototype.distanceToManhattan=function(i){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(i)},ke.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ir.prototype.fromAttribute=function(i,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,e,t)},Ir.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},ir.prototype.getChildByName=function(i){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(i)},ir.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},ir.prototype.translate=function(i,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,i)},ir.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},ir.prototype.applyMatrix=function(i){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(i)},Object.defineProperties(ir.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(i){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=i}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),wr.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(wr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),VE.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Ls.prototype.setLens=function(i,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(i)},Object.defineProperties(Wl.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(i){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=i}},shadowCameraLeft:{set:function(i){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=i}},shadowCameraRight:{set:function(i){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=i}},shadowCameraTop:{set:function(i){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=i}},shadowCameraBottom:{set:function(i){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=i}},shadowCameraNear:{set:function(i){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=i}},shadowCameraFar:{set:function(i){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=i}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(i){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=i}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(i){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=i}},shadowMapHeight:{set:function(i){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=i}}}),Object.defineProperties(Lr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Tg},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Tg)}}}),Lr.prototype.setDynamic=function(i){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===i?Tg:Ag),this},Lr.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Lr.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},ci.prototype.addIndex=function(i){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(i)},ci.prototype.addAttribute=function(i,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===i?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(i,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(i,new Lr(arguments[1],arguments[2])))},ci.prototype.addDrawCall=function(i,e,t){void 0!==t&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(i,e)},ci.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},ci.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},ci.prototype.removeAttribute=function(i){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(i)},ci.prototype.applyMatrix=function(i){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(i)},Object.defineProperties(ci.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),op.prototype.setDynamic=function(i){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===i?Tg:Ag),this},op.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Au.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Au.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Au.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},Ug.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},dD.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(lo.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Pn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(i){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===i}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(i){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=i}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(wu.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(i){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=i}}}),yr.prototype.clearTarget=function(i,e,t,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(i),this.clear(e,t,n)},yr.prototype.animate=function(i){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(i)},yr.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},yr.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},yr.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},yr.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},yr.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},yr.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},yr.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},yr.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},yr.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},yr.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},yr.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},yr.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},yr.prototype.enableScissorTest=function(i){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(i)},yr.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},yr.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},yr.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},yr.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},yr.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},yr.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},yr.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},yr.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},yr.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},yr.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(yr.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(i){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=i}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(i){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=i}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(i){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===i?Td:wo}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Kj.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ul.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(i){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=i}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(i){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=i}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(i){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=i}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(i){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=i}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(i){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=i}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(i){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=i}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(i){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=i}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(i){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=i}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(i){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=i}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(i){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=i}}}),class rpe extends ir{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}.prototype.load=function(i){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new Jfe).load(i,function(n){e.setBuffer(n)}),this},SE.prototype.updateCubeMap=function(i,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(i,e)},SE.prototype.clear=function(i,e,t,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(i,e,t,n)},Uf.crossOrigin=void 0,Uf.loadTexture=function(i,e,t,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new Yfe;r.setCrossOrigin(this.crossOrigin);const s=r.load(i,t,void 0,n);return e&&(s.mapping=e),s},Uf.loadTextureCube=function(i,e,t,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new $fe;r.setCrossOrigin(this.crossOrigin);const s=r.load(i,t,void 0,n);return e&&(s.mapping=e),s},Uf.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Uf.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"134"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="134");var M4=Array.prototype.forEach,iy=Array.prototype.slice,en={BREAK:{},extend:function(e){return this.each(iy.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(r){this.isUndefined(t[r])||(e[r]=t[r])}.bind(this))},this),e},defaults:function(e){return this.each(iy.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(r){this.isUndefined(e[r])&&(e[r]=t[r])}.bind(this))},this),e},compose:function(){var e=iy.call(arguments);return function(){for(var t=iy.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(M4&&e.forEach&&e.forEach===M4)e.forEach(t,n);else if(e.length===e.length+0){var s,r=void 0;for(r=0,s=e.length;r<s;r++)if(r in e&&t.call(n,e[r],r)===this.BREAK)return}else for(var o in e)if(t.call(n,e[o],o)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r=void 0;return function(){var s=this,o=arguments;function a(){r=null,n||e.apply(s,o)}var l=n||!r;clearTimeout(r),r=setTimeout(a,t),l&&e.apply(s,o)}},toArray:function(e){return e.toArray?e.toArray():iy.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(i){function e(t){return i.apply(this,arguments)}return e.toString=function(){return i.toString()},e}(function(i){return isNaN(i)}),isArray:Array.isArray||function(i){return i.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return e instanceof Function}},Rpe=[{litmus:en.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:vp},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:vp},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:vp},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:vp}}},{litmus:en.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:en.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:en.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(en.isNumber(e.r)&&en.isNumber(e.g)&&en.isNumber(e.b)&&en.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(en.isNumber(e.r)&&en.isNumber(e.g)&&en.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(en.isNumber(e.h)&&en.isNumber(e.s)&&en.isNumber(e.v)&&en.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(en.isNumber(e.h)&&en.isNumber(e.s)&&en.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],ry=void 0,ex=void 0,tx=function(){ex=!1;var e=arguments.length>1?en.toArray(arguments):arguments[0];return en.each(Rpe,function(t){if(t.litmus(e))return en.each(t.conversions,function(n,r){if(ry=n.read(e),!1===ex&&!1!==ry)return ex=ry,ry.conversionName=r,ry.conversion=n,en.BREAK}),en.BREAK}),ex},S4=void 0,sy={hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,s=e/60-Math.floor(e/60),o=n*(1-t),a=n*(1-s*t),l=n*(1-(1-s)*t),c=[[n,l,o],[a,n,o],[o,n,l],[o,a,n],[l,o,n],[n,o,a]][r];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(e,t,n){var r=Math.min(e,t,n),s=Math.max(e,t,n),o=s-r,a=void 0;return 0===s?{h:NaN,s:0,v:0}:(a=e===s?(t-n)/o:t===s?2+(n-e)/o:4+(e-t)/o,(a/=6)<0&&(a+=1),{h:360*a,s:o/s,v:s/255})},rgb_to_hex:function(e,t,n){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),this.hex_with_component(r,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(S4=8*t)|e&~(255<<S4)}},Ipe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ul=function(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")},dl=function(){function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),ku=function i(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:i(s,t,n)}if("value"in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(n)},Pu=function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)},Lu=function(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?i:e},Os=function(){function i(){if(ul(this,i),this.__state=tx.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return dl(i,[{key:"toString",value:function(){return vp(this)}},{key:"toHexString",value:function(){return vp(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),i}();function mD(i,e,t){Object.defineProperty(i,e,{get:function(){return"RGB"===this.__state.space||Os.recalculateRGB(this,e,t),this.__state[e]},set:function(r){"RGB"!==this.__state.space&&(Os.recalculateRGB(this,e,t),this.__state.space="RGB"),this.__state[e]=r}})}function gD(i,e){Object.defineProperty(i,e,{get:function(){return"HSV"===this.__state.space||Os.recalculateHSV(this),this.__state[e]},set:function(n){"HSV"!==this.__state.space&&(Os.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=n}})}Os.recalculateRGB=function(i,e,t){if("HEX"===i.__state.space)i.__state[e]=sy.component_from_hex(i.__state.hex,t);else{if("HSV"!==i.__state.space)throw new Error("Corrupted color state");en.extend(i.__state,sy.hsv_to_rgb(i.__state.h,i.__state.s,i.__state.v))}},Os.recalculateHSV=function(i){var e=sy.rgb_to_hsv(i.r,i.g,i.b);en.extend(i.__state,{s:e.s,v:e.v}),en.isNaN(e.h)?en.isUndefined(i.__state.h)&&(i.__state.h=0):i.__state.h=e.h},Os.COMPONENTS=["r","g","b","h","s","v","hex","a"],mD(Os.prototype,"r",2),mD(Os.prototype,"g",1),mD(Os.prototype,"b",0),gD(Os.prototype,"h"),gD(Os.prototype,"s"),gD(Os.prototype,"v"),Object.defineProperty(Os.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(Os.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=sy.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var Ou=function(){function i(e,t){ul(this,i),this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0}return dl(i,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),i}(),C4={};en.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(i,e){en.each(i,function(t){C4[t]=e})});var Ppe=/(\d+(\.\d+)?)px/;function $l(i){if("0"===i||en.isUndefined(i))return 0;var e=i.match(Ppe);return en.isNull(e)?0:parseFloat(e[1])}var At={makeSelectable:function(e,t){void 0===e||void 0===e.style||(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var r=n,s=t;en.isUndefined(s)&&(s=!0),en.isUndefined(r)&&(r=!0),e.style.position="absolute",s&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,r){var s=n||{},o=C4[t];if(!o)throw new Error("Event type "+t+" not supported.");var a=document.createEvent(o);switch(o){case"MouseEvents":a.initMouseEvent(t,s.bubbles||!1,s.cancelable||!0,window,s.clickCount||1,0,0,s.x||s.clientX||0,s.y||s.clientY||0,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var y=a.initKeyboardEvent||a.initKeyEvent;en.defaults(s,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),y(t,s.bubbles||!1,s.cancelable,window,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.keyCode,s.charCode);break;default:a.initEvent(t,s.bubbles||!1,s.cancelable||!0)}en.defaults(a,r),e.dispatchEvent(a)},bind:function(e,t,n,r){return e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n),At},unbind:function(e,t,n,r){return e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n),At},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return At},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),r=n.indexOf(t);-1!==r&&(n.splice(r,1),e.className=n.join(" "))}else e.className=void 0;return At},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return $l(t["border-left-width"])+$l(t["border-right-width"])+$l(t["padding-left"])+$l(t["padding-right"])+$l(t.width)},getHeight:function(e){var t=getComputedStyle(e);return $l(t["border-top-width"])+$l(t["border-bottom-width"])+$l(t["padding-top"])+$l(t["padding-bottom"])+$l(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},yD=function(i){function e(t,n){ul(this,e);var r=Lu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),s=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),At.bind(r.__checkbox,"change",function o(){s.setValue(!s.__prev)},!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return Pu(e,i),dl(e,[{key:"setValue",value:function(n){var r=ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),r}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Ou),E4=function(i){function e(t,n,r){ul(this,e);var s=Lu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r,a=s;if(s.__select=document.createElement("select"),en.isArray(o)){var l={};en.each(o,function(c){l[c]=c}),o=l}return en.each(o,function(c,y){var x=document.createElement("option");x.innerHTML=y,x.setAttribute("value",c),a.__select.appendChild(x)}),s.updateDisplay(),At.bind(s.__select,"change",function(){a.setValue(this.options[this.selectedIndex].value)}),s.domElement.appendChild(s.__select),s}return Pu(e,i),dl(e,[{key:"setValue",value:function(n){var r=ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),r}},{key:"updateDisplay",value:function(){return At.isActive(this.__select)?this:(this.__select.value=this.getValue(),ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(Ou),D4=function(i){function e(t,n){ul(this,e);var r=Lu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),s=r;function o(){s.setValue(s.__input.value)}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),At.bind(r.__input,"keyup",o),At.bind(r.__input,"change",o),At.bind(r.__input,"blur",function a(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}),At.bind(r.__input,"keydown",function(l){13===l.keyCode&&this.blur()}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return Pu(e,i),dl(e,[{key:"updateDisplay",value:function(){return At.isActive(this.__input)||(this.__input.value=this.getValue()),ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Ou);function A4(i){var e=i.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var _D=function(i){function e(t,n,r){ul(this,e);var s=Lu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r||{};return s.__min=o.min,s.__max=o.max,s.__step=o.step,s.__impliedStep=en.isUndefined(s.__step)?0===s.initialValue?1:Math.pow(10,Math.floor(Math.log(Math.abs(s.initialValue))/Math.LN10))/10:s.__step,s.__precision=A4(s.__impliedStep),s}return Pu(e,i),dl(e,[{key:"setValue",value:function(n){var r=n;return void 0!==this.__min&&r<this.__min?r=this.__min:void 0!==this.__max&&r>this.__max&&(r=this.__max),void 0!==this.__step&&r%this.__step!=0&&(r=Math.round(r/this.__step)*this.__step),ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,r)}},{key:"min",value:function(n){return this.__min=n,this}},{key:"max",value:function(n){return this.__max=n,this}},{key:"step",value:function(n){return this.__step=n,this.__impliedStep=n,this.__precision=A4(n),this}}]),e}(Ou),oy=function(i){function e(t,n,r){ul(this,e);var s=Lu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));s.__truncationSuspended=!1;var o=s,a=void 0;function c(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function x(P){var L=a-P.clientY;o.setValue(o.getValue()+L*o.__impliedStep),a=P.clientY}function C(){At.unbind(window,"mousemove",x),At.unbind(window,"mouseup",C),c()}return s.__input=document.createElement("input"),s.__input.setAttribute("type","text"),At.bind(s.__input,"change",function l(){var P=parseFloat(o.__input.value);en.isNaN(P)||o.setValue(P)}),At.bind(s.__input,"blur",function y(){c()}),At.bind(s.__input,"mousedown",function A(P){At.bind(window,"mousemove",x),At.bind(window,"mouseup",C),a=P.clientY}),At.bind(s.__input,"keydown",function(P){13===P.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,c())}),s.updateDisplay(),s.domElement.appendChild(s.__input),s}return Pu(e,i),dl(e,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():function Lpe(i,e){var t=Math.pow(10,e);return Math.round(i*t)/t}(this.getValue(),this.__precision),ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(_D);function T4(i,e,t,n,r){return n+(i-e)/(t-e)*(r-n)}var nx=function(i){function e(t,n,r,s,o){ul(this,e);var a=Lu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:r,max:s,step:o})),l=a;function y(L){L.preventDefault();var H=l.__background.getBoundingClientRect();return l.setValue(T4(L.clientX,H.left,H.right,l.__min,l.__max)),!1}function x(){At.unbind(window,"mousemove",y),At.unbind(window,"mouseup",x),l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}function A(L){var H=L.touches[0].clientX,F=l.__background.getBoundingClientRect();l.setValue(T4(H,F.left,F.right,l.__min,l.__max))}function P(){At.unbind(window,"touchmove",A),At.unbind(window,"touchend",P),l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),At.bind(a.__background,"mousedown",function c(L){document.activeElement.blur(),At.bind(window,"mousemove",y),At.bind(window,"mouseup",x),y(L)}),At.bind(a.__background,"touchstart",function C(L){1===L.touches.length&&(At.bind(window,"touchmove",A),At.bind(window,"touchend",P),A(L))}),At.addClass(a.__background,"slider"),At.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return Pu(e,i),dl(e,[{key:"updateDisplay",value:function(){var n=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*n+"%",ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(_D),vD=function(i){function e(t,n,r){ul(this,e);var s=Lu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=s;return s.__button=document.createElement("div"),s.__button.innerHTML=void 0===r?"Fire":r,At.bind(s.__button,"click",function(a){return a.preventDefault(),o.fire(),!1}),At.addClass(s.__button,"button"),s.domElement.appendChild(s.__button),s}return Pu(e,i),dl(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(Ou),ix=function(i){function e(t,n){ul(this,e);var r=Lu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.__color=new Os(r.getValue()),r.__temp=new Os(0);var s=r;r.domElement=document.createElement("div"),At.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",At.bind(r.__input,"keydown",function(L){13===L.keyCode&&x.call(this)}),At.bind(r.__input,"blur",x),At.bind(r.__selector,"mousedown",function(){At.addClass(this,"drag").bind(window,"mouseup",function(){At.removeClass(s.__selector,"drag")})}),At.bind(r.__selector,"touchstart",function(){At.addClass(this,"drag").bind(window,"touchend",function(){At.removeClass(s.__selector,"drag")})});var o=document.createElement("div");function a(L){A(L),At.bind(window,"mousemove",A),At.bind(window,"touchmove",A),At.bind(window,"mouseup",c),At.bind(window,"touchend",c)}function l(L){P(L),At.bind(window,"mousemove",P),At.bind(window,"touchmove",P),At.bind(window,"mouseup",y),At.bind(window,"touchend",y)}function c(){At.unbind(window,"mousemove",A),At.unbind(window,"touchmove",A),At.unbind(window,"mouseup",c),At.unbind(window,"touchend",c),C()}function y(){At.unbind(window,"mousemove",P),At.unbind(window,"touchmove",P),At.unbind(window,"mouseup",y),At.unbind(window,"touchend",y),C()}function x(){var L=tx(this.value);!1!==L?(s.__color.__state=L,s.setValue(s.__color.toOriginal())):this.value=s.__color.toString()}function C(){s.__onFinishChange&&s.__onFinishChange.call(s,s.__color.toOriginal())}function A(L){-1===L.type.indexOf("touch")&&L.preventDefault();var H=s.__saturation_field.getBoundingClientRect(),F=L.touches&&L.touches[0]||L,Y=(F.clientX-H.left)/(H.right-H.left),J=1-(F.clientY-H.top)/(H.bottom-H.top);return J>1?J=1:J<0&&(J=0),Y>1?Y=1:Y<0&&(Y=0),s.__color.v=J,s.__color.s=Y,s.setValue(s.__color.toOriginal()),!1}function P(L){-1===L.type.indexOf("touch")&&L.preventDefault();var H=s.__hue_field.getBoundingClientRect(),q=1-((L.touches&&L.touches[0]||L).clientY-H.top)/(H.bottom-H.top);return q>1?q=1:q<0&&(q=0),s.__color.h=360*q,s.setValue(s.__color.toOriginal()),!1}return en.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),en.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),en.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),en.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),en.extend(o.style,{width:"100%",height:"100%",background:"none"}),R4(o,"top","rgba(0,0,0,0)","#000"),en.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),function Fpe(i){i.style.background="",i.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",i.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}(r.__hue_field),en.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),At.bind(r.__saturation_field,"mousedown",a),At.bind(r.__saturation_field,"touchstart",a),At.bind(r.__field_knob,"mousedown",a),At.bind(r.__field_knob,"touchstart",a),At.bind(r.__hue_field,"mousedown",l),At.bind(r.__hue_field,"touchstart",l),r.__saturation_field.appendChild(o),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return Pu(e,i),dl(e,[{key:"updateDisplay",value:function(){var n=tx(this.getValue());if(!1!==n){var r=!1;en.each(Os.COMPONENTS,function(a){if(!en.isUndefined(n[a])&&!en.isUndefined(this.__color.__state[a])&&n[a]!==this.__color.__state[a])return r=!0,{}},this),r&&en.extend(this.__color.__state,n)}en.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var s=this.__color.v<.5||this.__color.s>.5?255:0,o=255-s;en.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+s+","+s+","+s+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,R4(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),en.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+s+","+s+","+s+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}}]),e}(Ou),Ope=["-moz-","-o-","-webkit-","-ms-",""];function R4(i,e,t,n){i.style.background="",en.each(Ope,function(r){i.style.cssText+="background: "+r+"linear-gradient("+e+", "+t+" 0%, "+n+" 100%); "})}var Bpe='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',jpe=function(e,t){var n=e[t];return en.isArray(arguments[2])||en.isObject(arguments[2])?new E4(e,t,arguments[2]):en.isNumber(n)?en.isNumber(arguments[2])&&en.isNumber(arguments[3])?en.isNumber(arguments[4])?new nx(e,t,arguments[2],arguments[3],arguments[4]):new nx(e,t,arguments[2],arguments[3]):en.isNumber(arguments[4])?new oy(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new oy(e,t,{min:arguments[2],max:arguments[3]}):en.isString(n)?new D4(e,t):en.isFunction(n)?new vD(e,t,""):en.isBoolean(n)?new yD(e,t):null},Upe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function Vpe(i){setTimeout(i,1e3/60)},Hpe=function(){function i(){ul(this,i),this.backgroundElement=document.createElement("div"),en.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),At.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),en.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;At.bind(this.backgroundElement,"click",function(){e.hide()})}return dl(i,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),en.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var t=this,n=function r(){t.domElement.style.display="none",t.backgroundElement.style.display="none",At.unbind(t.domElement,"webkitTransitionEnd",r),At.unbind(t.domElement,"transitionend",r),At.unbind(t.domElement,"oTransitionEnd",r)};At.bind(this.domElement,"webkitTransitionEnd",n),At.bind(this.domElement,"transitionend",n),At.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-At.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-At.getHeight(this.domElement)/2+"px"}}]),i}();!function(e,t){var n=t||document,r=document.createElement("style");r.type="text/css",r.innerHTML=e;var s=n.getElementsByTagName("head")[0];try{s.appendChild(r)}catch(o){}}(function Tpe(i){if(i&&"undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=i,document.head.appendChild(e),i}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var ay="Default",ly=function(){try{return!!window.localStorage}catch(i){return!1}}(),cy=void 0,L4=!0,bp=void 0,bD=!1,O4=[],Or=function i(e){var t=this,n=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),At.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],n=en.defaults(n,{closeOnTop:!1,autoPlace:!0,width:i.DEFAULT_WIDTH}),n=en.defaults(n,{resizable:n.autoPlace,hideable:n.autoPlace}),en.isUndefined(n.load)?n.load={preset:ay}:n.preset&&(n.load.preset=n.preset),en.isUndefined(n.parent)&&n.hideable&&O4.push(this),n.resizable=en.isUndefined(n.parent)&&n.resizable,n.autoPlace&&en.isUndefined(n.scrollable)&&(n.scrollable=!0);var r=ly&&"true"===localStorage.getItem(xp(0,"isLocal")),s=void 0,o=void 0;if(Object.defineProperties(this,{parent:{get:function(){return n.parent}},scrollable:{get:function(){return n.scrollable}},autoPlace:{get:function(){return n.autoPlace}},closeOnTop:{get:function(){return n.closeOnTop}},preset:{get:function(){return t.parent?t.getRoot().preset:n.load.preset},set:function(C){t.parent?t.getRoot().preset=C:n.load.preset=C,function qpe(i){for(var e=0;e<i.__preset_select.length;e++)i.__preset_select[e].value===i.preset&&(i.__preset_select.selectedIndex=e)}(this),t.revert()}},width:{get:function(){return n.width},set:function(C){n.width=C,SD(t,C)}},name:{get:function(){return n.name},set:function(C){n.name=C,o&&(o.innerHTML=n.name)}},closed:{get:function(){return n.closed},set:function(C){n.closed=C,n.closed?At.addClass(t.__ul,i.CLASS_CLOSED):At.removeClass(t.__ul,i.CLASS_CLOSED),this.onResize(),t.__closeButton&&(t.__closeButton.innerHTML=C?i.TEXT_OPEN:i.TEXT_CLOSED)}},load:{get:function(){return n.load}},useLocalStorage:{get:function(){return r},set:function(C){ly&&(r=C,C?At.bind(window,"unload",s):At.unbind(window,"unload",s),localStorage.setItem(xp(0,"isLocal"),C))}}}),en.isUndefined(n.parent)){if(this.closed=n.closed||!1,At.addClass(this.domElement,i.CLASS_MAIN),At.makeSelectable(this.domElement,!1),ly&&r){t.useLocalStorage=!0;var a=localStorage.getItem(xp(0,"gui"));a&&(n.load=JSON.parse(a))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=i.TEXT_CLOSED,At.addClass(this.__closeButton,i.CLASS_CLOSE_BUTTON),n.closeOnTop?(At.addClass(this.__closeButton,i.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(At.addClass(this.__closeButton,i.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),At.bind(this.__closeButton,"click",function(){t.closed=!t.closed})}else{void 0===n.closed&&(n.closed=!0);var l=document.createTextNode(n.name);At.addClass(l,"controller-name"),o=xD(t,l),At.addClass(this.__ul,i.CLASS_CLOSED),At.addClass(o,"title"),At.bind(o,"click",function(C){return C.preventDefault(),t.closed=!t.closed,!1}),n.closed||(this.closed=!1)}n.autoPlace&&(en.isUndefined(n.parent)&&(L4&&(bp=document.createElement("div"),At.addClass(bp,"dg"),At.addClass(bp,i.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(bp),L4=!1),bp.appendChild(this.domElement),At.addClass(this.domElement,i.CLASS_AUTO_PLACE)),this.parent||SD(t,n.width)),this.__resizeHandler=function(){t.onResizeDebounced()},At.bind(window,"resize",this.__resizeHandler),At.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),At.bind(this.__ul,"transitionend",this.__resizeHandler),At.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),n.resizable&&function $pe(i){var e=void 0;function t(s){return s.preventDefault(),i.width+=e-s.clientX,i.onResize(),e=s.clientX,!1}function n(){At.removeClass(i.__closeButton,Or.CLASS_DRAG),At.unbind(window,"mousemove",t),At.unbind(window,"mouseup",n)}function r(s){return s.preventDefault(),e=s.clientX,At.addClass(i.__closeButton,Or.CLASS_DRAG),At.bind(window,"mousemove",t),At.bind(window,"mouseup",n),!1}i.__resize_handle=document.createElement("div"),en.extend(i.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),At.bind(i.__resize_handle,"mousedown",r),At.bind(i.__closeButton,"mousedown",r),i.domElement.insertBefore(i.__resize_handle,i.domElement.firstElementChild)}(this),this.saveToLocalStorageIfPossible=s=function(){ly&&"true"===localStorage.getItem(xp(0,"isLocal"))&&localStorage.setItem(xp(0,"gui"),JSON.stringify(t.getSaveObject()))},n.parent||function y(){var x=t.getRoot();x.width+=1,en.defer(function(){x.width-=1})}()};function xD(i,e,t){var n=document.createElement("li");return e&&n.appendChild(e),t?i.__ul.insertBefore(n,t):i.__ul.appendChild(n),i.onResize(),n}function F4(i){At.unbind(window,"resize",i.__resizeHandler),i.saveToLocalStorageIfPossible&&At.unbind(window,"unload",i.saveToLocalStorageIfPossible)}function wD(i,e){var t=i.__preset_select[i.__preset_select.selectedIndex];t.innerHTML=e?t.value+"*":t.value}function N4(i,e){var t=i.getRoot(),n=t.__rememberedObjects.indexOf(e.object);if(-1!==n){var r=t.__rememberedObjectIndecesToControllers[n];if(void 0===r&&(t.__rememberedObjectIndecesToControllers[n]=r={}),r[e.property]=e,t.load&&t.load.remembered){var s=t.load.remembered,o=void 0;if(s[i.preset])o=s[i.preset];else{if(!s[ay])return;o=s[ay]}if(o[n]&&void 0!==o[n][e.property]){var a=o[n][e.property];e.initialValue=a,e.setValue(a)}}}}function uy(i,e,t,n){if(void 0===e[t])throw new Error('Object "'+e+'" has no property "'+t+'"');var r=void 0;if(n.color)r=new ix(e,t);else{var s=[e,t].concat(n.factoryArgs);r=jpe.apply(i,s)}n.before instanceof Ou&&(n.before=n.before.__li),N4(i,r),At.addClass(r.domElement,"c");var o=document.createElement("span");At.addClass(o,"property-name"),o.innerHTML=r.property;var a=document.createElement("div");a.appendChild(o),a.appendChild(r.domElement);var l=xD(i,a,n.before);return At.addClass(l,Or.CLASS_CONTROLLER_ROW),At.addClass(l,r instanceof ix?"color":Ipe(r.getValue())),function zpe(i,e,t){if(t.__li=e,t.__gui=i,en.extend(t,{options:function(o){if(arguments.length>1){var a=t.__li.nextElementSibling;return t.remove(),uy(i,t.object,t.property,{before:a,factoryArgs:[en.toArray(arguments)]})}if(en.isArray(o)||en.isObject(o)){var l=t.__li.nextElementSibling;return t.remove(),uy(i,t.object,t.property,{before:l,factoryArgs:[o]})}},name:function(o){return t.__li.firstElementChild.firstElementChild.innerHTML=o,t},listen:function(){return t.__gui.listen(t),t},remove:function(){return t.__gui.remove(t),t}}),t instanceof nx){var n=new oy(t.object,t.property,{min:t.__min,max:t.__max,step:t.__step});en.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(s){var o=t[s],a=n[s];t[s]=n[s]=function(){var l=Array.prototype.slice.call(arguments);return a.apply(n,l),o.apply(t,l)}}),At.addClass(e,"has-slider"),t.domElement.insertBefore(n.domElement,t.domElement.firstElementChild)}else if(t instanceof oy){var r=function(o){if(en.isNumber(t.__min)&&en.isNumber(t.__max)){var a=t.__li.firstElementChild.firstElementChild.innerHTML,l=t.__gui.__listening.indexOf(t)>-1;t.remove();var c=uy(i,t.object,t.property,{before:t.__li.nextElementSibling,factoryArgs:[t.__min,t.__max,t.__step]});return c.name(a),l&&c.listen(),c}return o};t.min=en.compose(r,t.min),t.max=en.compose(r,t.max)}else t instanceof yD?(At.bind(e,"click",function(){At.fakeEvent(t.__checkbox,"click")}),At.bind(t.__checkbox,"click",function(s){s.stopPropagation()})):t instanceof vD?(At.bind(e,"click",function(){At.fakeEvent(t.__button,"click")}),At.bind(e,"mouseover",function(){At.addClass(t.__button,"hover")}),At.bind(e,"mouseout",function(){At.removeClass(t.__button,"hover")})):t instanceof ix&&(At.addClass(e,"color"),t.updateDisplay=en.compose(function(s){return e.style.borderLeftColor=t.__color.toString(),s},t.updateDisplay),t.updateDisplay());t.setValue=en.compose(function(s){return i.getRoot().__preset_select&&t.isModified()&&wD(i.getRoot(),!0),s},t.setValue)}(i,l,r),i.__controllers.push(r),r}function xp(i,e){return document.location.href+"."+e}function MD(i,e,t){var n=document.createElement("option");n.innerHTML=e,n.value=e,i.__preset_select.appendChild(n),t&&(i.__preset_select.selectedIndex=i.__preset_select.length-1)}function B4(i,e){e.style.display=i.useLocalStorage?"block":"none"}function Wpe(i){var e=i.__save_row=document.createElement("li");At.addClass(i.domElement,"has-save"),i.__ul.insertBefore(e,i.__ul.firstChild),At.addClass(e,"save-row");var t=document.createElement("span");t.innerHTML="&nbsp;",At.addClass(t,"button gears");var n=document.createElement("span");n.innerHTML="Save",At.addClass(n,"button"),At.addClass(n,"save");var r=document.createElement("span");r.innerHTML="New",At.addClass(r,"button"),At.addClass(r,"save-as");var s=document.createElement("span");s.innerHTML="Revert",At.addClass(s,"button"),At.addClass(s,"revert");var o=i.__preset_select=document.createElement("select");if(i.load&&i.load.remembered?en.each(i.load.remembered,function(x,C){MD(i,C,C===i.preset)}):MD(i,ay,!1),At.bind(o,"change",function(){for(var x=0;x<i.__preset_select.length;x++)i.__preset_select[x].innerHTML=i.__preset_select[x].value;i.preset=this.value}),e.appendChild(o),e.appendChild(t),e.appendChild(n),e.appendChild(r),e.appendChild(s),ly){var a=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(xp(0,"isLocal"))&&l.setAttribute("checked","checked"),B4(i,a),At.bind(l,"change",function(){i.useLocalStorage=!i.useLocalStorage,B4(i,a)})}var y=document.getElementById("dg-new-constructor");At.bind(y,"keydown",function(x){x.metaKey&&(67===x.which||67===x.keyCode)&&cy.hide()}),At.bind(t,"click",function(){y.innerHTML=JSON.stringify(i.getSaveObject(),void 0,2),cy.show(),y.focus(),y.select()}),At.bind(n,"click",function(){i.save()}),At.bind(r,"click",function(){var x=prompt("Enter a new preset name.");x&&i.saveAs(x)}),At.bind(s,"click",function(){i.revert()})}function SD(i,e){i.domElement.style.width=e+"px",i.__save_row&&i.autoPlace&&(i.__save_row.style.width=e+"px"),i.__closeButton&&(i.__closeButton.style.width=e+"px")}function rx(i,e){var t={};return en.each(i.__rememberedObjects,function(n,r){var s={};en.each(i.__rememberedObjectIndecesToControllers[r],function(a,l){s[l]=e?a.initialValue:a.getValue()}),t[r]=s}),t}function j4(i){0!==i.length&&Upe.call(window,function(){j4(i)}),en.each(i,function(e){e.updateDisplay()})}Or.toggleHide=function(){bD=!bD,en.each(O4,function(i){i.domElement.style.display=bD?"none":""})},Or.CLASS_AUTO_PLACE="a",Or.CLASS_AUTO_PLACE_CONTAINER="ac",Or.CLASS_MAIN="main",Or.CLASS_CONTROLLER_ROW="cr",Or.CLASS_TOO_TALL="taller-than-window",Or.CLASS_CLOSED="closed",Or.CLASS_CLOSE_BUTTON="close-button",Or.CLASS_CLOSE_TOP="close-top",Or.CLASS_CLOSE_BOTTOM="close-bottom",Or.CLASS_DRAG="drag",Or.DEFAULT_WIDTH=245,Or.TEXT_CLOSED="Close Controls",Or.TEXT_OPEN="Open Controls",Or._keydownHandler=function(i){"text"!==document.activeElement.type&&(72===i.which||72===i.keyCode)&&Or.toggleHide()},At.bind(window,"keydown",Or._keydownHandler,!1),en.extend(Or.prototype,{add:function(e,t){return uy(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return uy(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;en.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&bp.removeChild(this.domElement);var e=this;en.each(this.__folders,function(t){e.removeFolder(t)}),At.unbind(window,"keydown",Or._keydownHandler,!1),F4(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new Or(t);this.__folders[e]=n;var r=xD(this,n.domElement);return At.addClass(r,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],F4(e);var t=this;en.each(e.__folders,function(n){e.removeFolder(n)}),en.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=At.getOffset(e.__ul).top,n=0;en.each(e.__ul.childNodes,function(r){e.autoPlace&&r===e.__save_row||(n+=At.getHeight(r))}),window.innerHeight-t-20<n?(At.addClass(e.domElement,Or.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(At.removeClass(e.domElement,Or.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&en.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:en.debounce(function(){this.onResize()},50),remember:function(){if(en.isUndefined(cy)&&((cy=new Hpe).domElement.innerHTML=Bpe),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;en.each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&Wpe(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&SD(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=rx(this)),e.folders={},en.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=rx(this),wD(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[ay]=rx(this,!0)),this.load.remembered[e]=rx(this),this.preset=e,MD(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){en.each(this.__controllers,function(t){this.getRoot().load.remembered?N4(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),en.each(this.__folders,function(t){t.revert(t)}),e||wD(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&j4(this.__listening)},updateDisplay:function(){en.each(this.__controllers,function(e){e.updateDisplay()}),en.each(this.__folders,function(e){e.updateDisplay()})}});var V4=Or;const U4={type:"change"},CD={type:"start"},ED={type:"end"};class Qpe extends hu{constructor(e,t){super(),void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new ke,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(bt){bt.addEventListener("keydown",On),this._domElementKeyEvents=bt},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(U4),n.update(),s=r.NONE},this.update=function(){const bt=new ke,Nn=(new qs).setFromUnitVectors(e.up,new ke(0,1,0)),xr=Nn.clone().invert(),ji=new ke,gs=new qs,Zs=2*Math.PI;return function(){const by=n.object.position;bt.copy(by).sub(n.target),bt.applyQuaternion(Nn),a.setFromVector3(bt),n.autoRotate&&s===r.NONE&&je(function ee(){return 2*Math.PI/60/60*n.autoRotateSpeed}()),n.enableDamping?(a.theta+=l.theta*n.dampingFactor,a.phi+=l.phi*n.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let Ba=n.minAzimuthAngle,ho=n.maxAzimuthAngle;return isFinite(Ba)&&isFinite(ho)&&(Ba<-Math.PI?Ba+=Zs:Ba>Math.PI&&(Ba-=Zs),ho<-Math.PI?ho+=Zs:ho>Math.PI&&(ho-=Zs),a.theta=Ba<=ho?Math.max(Ba,Math.min(ho,a.theta)):a.theta>(Ba+ho)/2?Math.max(Ba,a.theta):Math.min(ho,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(n.minDistance,Math.min(n.maxDistance,a.radius)),!0===n.enableDamping?n.target.addScaledVector(y,n.dampingFactor):n.target.add(y),bt.setFromSpherical(a),bt.applyQuaternion(xr),by.copy(n.target).add(bt),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,y.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),y.set(0,0,0)),c=1,!!(x||ji.distanceToSquared(n.object.position)>o||8*(1-gs.dot(n.object.quaternion))>o)&&(n.dispatchEvent(U4),ji.copy(n.object.position),gs.copy(n.object.quaternion),x=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",xn),n.domElement.removeEventListener("pointerdown",$t),n.domElement.removeEventListener("pointercancel",Rt),n.domElement.removeEventListener("wheel",ei),n.domElement.removeEventListener("pointermove",Le),n.domElement.removeEventListener("pointerup",Te),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",On)};const n=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const o=1e-6,a=new d4,l=new d4;let c=1;const y=new ke;let x=!1;const C=new Yt,A=new Yt,P=new Yt,L=new Yt,H=new Yt,F=new Yt,N=new Yt,q=new Yt,Y=new Yt,J=[],he={};function ge(){return Math.pow(.95,n.zoomSpeed)}function je(bt){l.theta-=bt}function Me(bt){l.phi-=bt}const Se=function(){const bt=new ke;return function(xr,ji){bt.setFromMatrixColumn(ji,0),bt.multiplyScalar(-xr),y.add(bt)}}(),Je=function(){const bt=new ke;return function(xr,ji){!0===n.screenSpacePanning?bt.setFromMatrixColumn(ji,1):(bt.setFromMatrixColumn(ji,0),bt.crossVectors(n.object.up,bt)),bt.multiplyScalar(xr),y.add(bt)}}(),qe=function(){const bt=new ke;return function(xr,ji){const gs=n.domElement;if(n.object.isPerspectiveCamera){bt.copy(n.object.position).sub(n.target);let Pp=bt.length();Pp*=Math.tan(n.object.fov/2*Math.PI/180),Se(2*xr*Pp/gs.clientHeight,n.object.matrix),Je(2*ji*Pp/gs.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(Se(xr*(n.object.right-n.object.left)/n.object.zoom/gs.clientWidth,n.object.matrix),Je(ji*(n.object.top-n.object.bottom)/n.object.zoom/gs.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function ue(bt){n.object.isPerspectiveCamera?c/=bt:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*bt)),n.object.updateProjectionMatrix(),x=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function Ce(bt){n.object.isPerspectiveCamera?c*=bt:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/bt)),n.object.updateProjectionMatrix(),x=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function pe(bt){C.set(bt.clientX,bt.clientY)}function me(bt){L.set(bt.clientX,bt.clientY)}function mt(){1===J.length?C.set(J[0].pageX,J[0].pageY):C.set(.5*(J[0].pageX+J[1].pageX),.5*(J[0].pageY+J[1].pageY))}function rt(){1===J.length?L.set(J[0].pageX,J[0].pageY):L.set(.5*(J[0].pageX+J[1].pageX),.5*(J[0].pageY+J[1].pageY))}function gt(){const bt=J[0].pageX-J[1].pageX,Nn=J[0].pageY-J[1].pageY,xr=Math.sqrt(bt*bt+Nn*Nn);N.set(0,xr)}function Pt(bt){if(1==J.length)A.set(bt.pageX,bt.pageY);else{const xr=Ri(bt);A.set(.5*(bt.pageX+xr.x),.5*(bt.pageY+xr.y))}P.subVectors(A,C).multiplyScalar(n.rotateSpeed);const Nn=n.domElement;je(2*Math.PI*P.x/Nn.clientHeight),Me(2*Math.PI*P.y/Nn.clientHeight),C.copy(A)}function qt(bt){if(1===J.length)H.set(bt.pageX,bt.pageY);else{const Nn=Ri(bt);H.set(.5*(bt.pageX+Nn.x),.5*(bt.pageY+Nn.y))}F.subVectors(H,L).multiplyScalar(n.panSpeed),qe(F.x,F.y),L.copy(H)}function yt(bt){const Nn=Ri(bt),xr=bt.pageX-Nn.x,ji=bt.pageY-Nn.y,gs=Math.sqrt(xr*xr+ji*ji);q.set(0,gs),Y.set(0,Math.pow(q.y/N.y,n.zoomSpeed)),ue(Y.y),N.copy(q)}function $t(bt){!1!==n.enabled&&(0===J.length&&(n.domElement.setPointerCapture(bt.pointerId),n.domElement.addEventListener("pointermove",Le),n.domElement.addEventListener("pointerup",Te)),function Qt(bt){J.push(bt)}(bt),"touch"===bt.pointerType?function Qn(bt){switch(jn(bt),J.length){case 1:switch(n.touches.ONE){case 0:if(!1===n.enableRotate)return;mt(),s=r.TOUCH_ROTATE;break;case 1:if(!1===n.enablePan)return;rt(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(n.touches.TWO){case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;(function Ft(){n.enableZoom&&gt(),n.enablePan&&rt()})(),s=r.TOUCH_DOLLY_PAN;break;case 3:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function Tt(){n.enableZoom&&gt(),n.enableRotate&&mt()})(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&n.dispatchEvent(CD)}(bt):function tn(bt){let Nn;switch(bt.button){case 0:Nn=n.mouseButtons.LEFT;break;case 1:Nn=n.mouseButtons.MIDDLE;break;case 2:Nn=n.mouseButtons.RIGHT;break;default:Nn=-1}switch(Nn){case 1:if(!1===n.enableZoom)return;(function we(bt){N.set(bt.clientX,bt.clientY)})(bt),s=r.DOLLY;break;case 0:if(bt.ctrlKey||bt.metaKey||bt.shiftKey){if(!1===n.enablePan)return;me(bt),s=r.PAN}else{if(!1===n.enableRotate)return;pe(bt),s=r.ROTATE}break;case 2:if(bt.ctrlKey||bt.metaKey||bt.shiftKey){if(!1===n.enableRotate)return;pe(bt),s=r.ROTATE}else{if(!1===n.enablePan)return;me(bt),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&n.dispatchEvent(CD)}(bt))}function Le(bt){!1!==n.enabled&&("touch"===bt.pointerType?function Hn(bt){switch(jn(bt),s){case r.TOUCH_ROTATE:if(!1===n.enableRotate)return;Pt(bt),n.update();break;case r.TOUCH_PAN:if(!1===n.enablePan)return;qt(bt),n.update();break;case r.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;(function St(bt){n.enableZoom&&yt(bt),n.enablePan&&qt(bt)})(bt),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function Wt(bt){n.enableZoom&&yt(bt),n.enableRotate&&Pt(bt)})(bt),n.update();break;default:s=r.NONE}}(bt):function nn(bt){if(!1!==n.enabled)switch(s){case r.ROTATE:if(!1===n.enableRotate)return;!function He(bt){A.set(bt.clientX,bt.clientY),P.subVectors(A,C).multiplyScalar(n.rotateSpeed);const Nn=n.domElement;je(2*Math.PI*P.x/Nn.clientHeight),Me(2*Math.PI*P.y/Nn.clientHeight),C.copy(A),n.update()}(bt);break;case r.DOLLY:if(!1===n.enableZoom)return;!function Re(bt){q.set(bt.clientX,bt.clientY),Y.subVectors(q,N),Y.y>0?ue(ge()):Y.y<0&&Ce(ge()),N.copy(q),n.update()}(bt);break;case r.PAN:if(!1===n.enablePan)return;!function Qe(bt){H.set(bt.clientX,bt.clientY),F.subVectors(H,L).multiplyScalar(n.panSpeed),qe(F.x,F.y),L.copy(H),n.update()}(bt)}}(bt))}function Te(bt){!1!==n.enabled&&("touch"===bt.pointerType?function _t(bt){n.dispatchEvent(ED),s=r.NONE}():function vn(bt){n.dispatchEvent(ED),s=r.NONE}(),Un(bt),0===J.length&&(n.domElement.releasePointerCapture(bt.pointerId),n.domElement.removeEventListener("pointermove",Le),n.domElement.removeEventListener("pointerup",Te)))}function Rt(bt){Un(bt)}function ei(bt){!1===n.enabled||!1===n.enableZoom||s!==r.NONE||(bt.preventDefault(),n.dispatchEvent(CD),function Xe(bt){bt.deltaY<0?Ce(ge()):bt.deltaY>0&&ue(ge()),n.update()}(bt),n.dispatchEvent(ED))}function On(bt){!1===n.enabled||!1===n.enablePan||function Ze(bt){let Nn=!1;switch(bt.code){case n.keys.UP:qe(0,n.keyPanSpeed),Nn=!0;break;case n.keys.BOTTOM:qe(0,-n.keyPanSpeed),Nn=!0;break;case n.keys.LEFT:qe(n.keyPanSpeed,0),Nn=!0;break;case n.keys.RIGHT:qe(-n.keyPanSpeed,0),Nn=!0}Nn&&(bt.preventDefault(),n.update())}(bt)}function xn(bt){!1!==n.enabled&&bt.preventDefault()}function Un(bt){delete he[bt.pointerId];for(let Nn=0;Nn<J.length;Nn++)if(J[Nn].pointerId==bt.pointerId)return void J.splice(Nn,1)}function jn(bt){let Nn=he[bt.pointerId];void 0===Nn&&(Nn=new Yt,he[bt.pointerId]=Nn),Nn.set(bt.pageX,bt.pageY)}function Ri(bt){return he[(bt.pointerId===J[0].pointerId?J[1]:J[0]).pointerId]}n.domElement.addEventListener("contextmenu",xn),n.domElement.addEventListener("pointerdown",$t),n.domElement.addEventListener("pointercancel",Rt),n.domElement.addEventListener("wheel",ei,{passive:!1}),this.update()}}const H4=new Pn(15732752),G4=new Pn(1110032),Jpe=new Jg({color:2241535}),eme=new Ac(4,30,.3),z4=new Rc(3,2);class W4{constructor(e,t,n=0,r=0){this.x=e,this.y=t,this.z=n,this.pitch=r,this._alarmComm=!1,this._flagSystemOk=!0,this.childs=[],this.createMesh()}get Mesh(){return this.panelMesh}set rotation(e){this.panelMesh.rotation.y=e}get rotation(){return this.panelMesh.rotation.y}set alarmCom(e){if(e===this._alarmComm)return;let t;this._alarmComm=e,t=e?H4:G4,this.safePosMesh.material.color=t}set flagSystemOk(e){e!==this._flagSystemOk&&(this._flagSystemOk=e,this.NoComMesh.material.color=e?H4:G4)}createMesh(){const e=new wr(eme,Jpe);e.receiveShadow=!0,e.castShadow=!0,e.position.x=this.x,e.position.y=this.y,e.position.z=this.z+3,e.rotation.x=this.pitch,e.rotation.y=0;const t=new Es({color:1110032}),n=new wr(z4,t);n.position.set(0,0,.2),e.add(n),this.safePosMesh=n;const r=new Es({color:1110032}),s=new wr(z4,r);s.position.z=.2,s.position.set(0,3,.2),e.add(s),this.NoComMesh=s,this.panelMesh=e}Delete(e){for(;this.panelMesh.children.length;)this.panelMesh.remove(this.panelMesh.children[0]);e.remove(this.panelMesh)}}var $4=te(95);let DD=(()=>{class i{constructor(t){this.http=t,this.generateHeaders()}get Jwt(){return this.jwt}set Jwt(t){this.jwt=t,this.generateHeaders()}IsGood(){return!0}Login(t,n){return this.http.post(`${this.Host}/api/Account/login`,{userName:t,password:n}).pipe(z(l=>l.jwt)).pipe(ks(l=>{this.Jwt=l}))}ListPlants(){let t=this.getUrl("api/plants");return this.http.get(t,{headers:this.headers}).pipe(z(r=>r.result))}GetPlant(t){const r=this.getUrl(`api/plants/${t}?nesting=2&includeCleanningZones=false`);return this.http.get(r,{headers:this.headers}).pipe(z(o=>o.result[0]))}GetAlarms(t){const r=this.getUrl(`api/AlarmsView/plant/${t}/all`);return this.http.get(r,{headers:this.headers}).pipe(z(o=>o.result))}getUrl(t){return`${this.Host}/${t}`}generateHeaders(){this.headers=this.jwt?(new ol).set("Authorization","Bearer "+this.jwt):new ol}}return i.\u0275fac=function(t){return new(t||i)(vt(Zv))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function tme(i,e){if(1&i&&(ot(0,"mat-option",11),Fn(1),at()),2&i){const t=e.$implicit;un("value",t.Id),on(1),$c(" ",t.Name," ")}}let nme=(()=>{class i{constructor(t,n,r){this.dialogRef=t,this.data=n,this.restApi=r,this.Plants=[],this.hidePass=!0}ngOnInit(){this.data.srv||(this.data.srv=localStorage.getItem("host"),this.data.login=localStorage.getItem("login"),this.data.pass=localStorage.getItem("pass"))}onNoClick(){this.dialogRef.close()}close(){this.data.plantId=this.SelectedPlantId,this.dialogRef.close(this.data)}onConnectClick(){let t=this.restApi.IsGood();console.log(this.data.srv),console.log(t),this.restApi.Host=this.data.srv,this.restApi.Login(this.data.login,this.data.pass).subscribe(n=>{console.log(n),null!=n&&(this.data.jwt=n,localStorage.setItem("host",this.data.srv),localStorage.setItem("login",this.data.login),localStorage.setItem("pass",this.data.pass),this.getListPlants())})}getListPlants(){this.restApi.ListPlants().subscribe(t=>{t.forEach(n=>{n.status>1&&this.Plants.push({Id:n.id,Name:n.name})}),this.Plants.length>0&&(this.SelectedPlantId=this.Plants[0].Id)})}ChangeSelectedPlant(t){console.log(t)}}return i.\u0275fac=function(t){return new(t||i)(ae(b0),ae(jN),ae(DD))},i.\u0275cmp=xi({type:i,selectors:[["app-dlg-get-srv"]],decls:30,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","type","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],["mat-button","",3,"click"],["placeholder","Plants",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close","click"],[3,"value"]],template:function(t,n){1&t&&(ot(0,"h1",0),Fn(1,"Get data from"),at(),ot(2,"div",1),ot(3,"mat-form-field",2),ot(4,"mat-label"),Fn(5,"Server"),at(),ot(6,"input",3),Mn("ngModelChange",function(s){return n.data.srv=s}),at(),at(),ot(7,"mat-form-field",2),ot(8,"mat-label"),Fn(9,"Login"),at(),ot(10,"input",3),Mn("ngModelChange",function(s){return n.data.login=s}),at(),at(),ot(11,"mat-form-field",2),ot(12,"mat-label"),Fn(13,"Password"),at(),ot(14,"input",4),Mn("ngModelChange",function(s){return n.data.pass=s}),at(),ot(15,"button",5),Mn("click",function(){return n.hidePass=!n.hidePass}),ot(16,"mat-icon"),Fn(17),at(),at(),at(),ot(18,"button",6),Mn("click",function(){return n.onConnectClick()}),Fn(19,"Connect"),at(),ot(20,"mat-form-field",2),ot(21,"mat-label"),Fn(22,"Planta"),at(),ot(23,"mat-select",7),Mn("ngModelChange",function(s){return n.SelectedPlantId=s})("change",function(s){return n.ChangeSelectedPlant(s)}),Ni(24,tme,2,2,"mat-option",8),at(),at(),at(),ot(25,"div",9),ot(26,"button",6),Mn("click",function(){return n.onNoClick()}),Fn(27,"No Thanks"),at(),ot(28,"button",10),Mn("click",function(){return n.close()}),Fn(29,"Ok"),at(),at()),2&t&&(on(6),un("ngModel",n.data.srv),on(4),un("ngModel",n.data.login),on(4),un("ngModel",n.data.pass)("type",n.hidePass?"password":"text"),on(1),bi("aria-label","Hide password")("aria-pressed",n.hidePass),on(2),Ho(n.hidePass?"visibility_off":"visibility"),on(6),un("ngModel",n.SelectedPlantId),on(1),un("ngForOf",n.Plants),on(4),un("mat-dialog-close",n.data))},directives:[yre,_re,EC,_g,DC,Jh,iv,Bm,ru,GN,qS,Qoe,q_,vre,gre,JO],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}mat-form-field.mat-form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%] > div.mat-form-field-wrapper[_ngcontent-%COMP%] > div.mat-form-field-flex[_ngcontent-%COMP%] > div.mat-form-field-infix[_ngcontent-%COMP%]{padding:.4em 0}mat-form-field.mat-form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%] > div.mat-form-field-wrapper[_ngcontent-%COMP%] > div.mat-form-field-flex[_ngcontent-%COMP%] > div.mat-form-field-infix[_ngcontent-%COMP%] > span.mat-form-field-label-wrapper[_ngcontent-%COMP%]{top:-1.5em}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.1em) scale(.75);width:133.33333%}"]}),i})();class ime{constructor(){this.GeoPos={longitude:0,latitude:0},this.Tsms=new Map,this.TsmsTopic=new Map}AddTsm(e){this.Tsms.set(e.Id,e),this.TsmsTopic.set(e.Topic,e)}Center(){const t=this.Tsms.entries().next().value[1].TscId.entries().next().value[1];this.box={bottLow:{x:t.pos.x,y:t.pos.y,z:t.pos.z},topHight:{x:t.pos.x,y:t.pos.y,z:t.pos.z}},this.Tsms.forEach(o=>{o.TscId.forEach(a=>{a.pos.x<this.box.bottLow.x?this.box.bottLow.x=a.pos.x:a.pos.x>this.box.topHight.x&&(this.box.topHight.x=this.box.bottLow.x=a.pos.x),a.pos.y<this.box.bottLow.y?this.box.bottLow.y=a.pos.y:a.pos.y>this.box.topHight.y&&(this.box.topHight.y=this.box.bottLow.y=a.pos.y),a.pos.z<this.box.bottLow.z?this.box.bottLow.z=a.pos.z:a.pos.z>this.box.topHight.z&&(this.box.topHight.z=this.box.bottLow.z=a.pos.z)})});const n=(this.box.bottLow.x+this.box.topHight.x)/2,r=(this.box.bottLow.y+this.box.topHight.y)/2,s=this.box.bottLow.z;this.Tsms.forEach(o=>{o.pos.x-=n,o.pos.y-=r,o.pos.z-=s,o.TscId.forEach(a=>{a.pos.x-=n,a.pos.y-=r,a.pos.z-=s})})}}class rme{constructor(){this.TscId=new Map,this.TscTopic=new Map}Add(e){this.TscId.set(e.id,e),this.TscTopic.set(e.topic,e)}}class sme{setVariableValue(e,t){"Position_a1_rad"===e&&(this.Tracker.rotation=-t)}setAlarm(e,t){switch(e){case"CommLost":this.Tracker.alarmCom=t;case"FlagSystemOk":this.Tracker.flagSystemOk=!t}}}const Fs=134217729;function dy(i,e,t,n,r){let s,o,a,l,c=e[0],y=n[0],x=0,C=0;y>c==y>-c?(s=c,c=e[++x]):(s=y,y=n[++C]);let A=0;if(x<i&&C<t)for(y>c==y>-c?(o=c+s,a=s-(o-c),c=e[++x]):(o=y+s,a=s-(o-y),y=n[++C]),s=o,0!==a&&(r[A++]=a);x<i&&C<t;)y>c==y>-c?(o=s+c,l=o-s,a=s-(o-l)+(c-l),c=e[++x]):(o=s+y,l=o-s,a=s-(o-l)+(y-l),y=n[++C]),s=o,0!==a&&(r[A++]=a);for(;x<i;)o=s+c,l=o-s,a=s-(o-l)+(c-l),c=e[++x],s=o,0!==a&&(r[A++]=a);for(;C<t;)o=s+y,l=o-s,a=s-(o-l)+(y-l),y=n[++C],s=o,0!==a&&(r[A++]=a);return(0!==s||0===A)&&(r[A++]=s),A}function cn(i){return new Float64Array(i)}const wp=cn(4),q4=cn(8),Y4=cn(12),X4=cn(16),Lo=cn(4);function sx(i,e,t,n,r,s){const o=(e-s)*(t-r),a=(i-r)*(n-s),l=o-a;if(0===o||0===a||o>0!=a>0)return l;const c=Math.abs(o+a);return Math.abs(l)>=33306690738754716e-32*c?l:-function hme(i,e,t,n,r,s,o){let a,l,c,y,x,C,A,P,L,H,F,N,q,Y,J,he,ee,ge;const je=i-r,Me=t-r,Se=e-s,Je=n-s;Y=je*Je,C=Fs*je,A=C-(C-je),P=je-A,C=Fs*Je,L=C-(C-Je),H=Je-L,J=P*H-(Y-A*L-P*L-A*H),he=Se*Me,C=Fs*Se,A=C-(C-Se),P=Se-A,C=Fs*Me,L=C-(C-Me),H=Me-L,ee=P*H-(he-A*L-P*L-A*H),F=J-ee,x=J-F,wp[0]=J-(F+x)+(x-ee),N=Y+F,x=N-Y,q=Y-(N-x)+(F-x),F=q-he,x=q-F,wp[1]=q-(F+x)+(x-he),ge=N+F,x=ge-N,wp[2]=N-(ge-x)+(F-x),wp[3]=ge;let qe=function lme(i,e){let t=e[0];for(let n=1;n<i;n++)t+=e[n];return t}(4,wp),ue=22204460492503146e-32*o;if(qe>=ue||-qe>=ue||(x=i-je,a=i-(je+x)+(x-r),x=t-Me,c=t-(Me+x)+(x-r),x=e-Se,l=e-(Se+x)+(x-s),x=n-Je,y=n-(Je+x)+(x-s),0===a&&0===l&&0===c&&0===y)||(ue=11093356479670487e-47*o+33306690738754706e-32*Math.abs(qe),qe+=je*y+Je*a-(Se*c+Me*l),qe>=ue||-qe>=ue))return qe;Y=a*Je,C=Fs*a,A=C-(C-a),P=a-A,C=Fs*Je,L=C-(C-Je),H=Je-L,J=P*H-(Y-A*L-P*L-A*H),he=l*Me,C=Fs*l,A=C-(C-l),P=l-A,C=Fs*Me,L=C-(C-Me),H=Me-L,ee=P*H-(he-A*L-P*L-A*H),F=J-ee,x=J-F,Lo[0]=J-(F+x)+(x-ee),N=Y+F,x=N-Y,q=Y-(N-x)+(F-x),F=q-he,x=q-F,Lo[1]=q-(F+x)+(x-he),ge=N+F,x=ge-N,Lo[2]=N-(ge-x)+(F-x),Lo[3]=ge;const Ce=dy(4,wp,4,Lo,q4);Y=je*y,C=Fs*je,A=C-(C-je),P=je-A,C=Fs*y,L=C-(C-y),H=y-L,J=P*H-(Y-A*L-P*L-A*H),he=Se*c,C=Fs*Se,A=C-(C-Se),P=Se-A,C=Fs*c,L=C-(C-c),H=c-L,ee=P*H-(he-A*L-P*L-A*H),F=J-ee,x=J-F,Lo[0]=J-(F+x)+(x-ee),N=Y+F,x=N-Y,q=Y-(N-x)+(F-x),F=q-he,x=q-F,Lo[1]=q-(F+x)+(x-he),ge=N+F,x=ge-N,Lo[2]=N-(ge-x)+(F-x),Lo[3]=ge;const pe=dy(Ce,q4,4,Lo,Y4);Y=a*y,C=Fs*a,A=C-(C-a),P=a-A,C=Fs*y,L=C-(C-y),H=y-L,J=P*H-(Y-A*L-P*L-A*H),he=l*c,C=Fs*l,A=C-(C-l),P=l-A,C=Fs*c,L=C-(C-c),H=c-L,ee=P*H-(he-A*L-P*L-A*H),F=J-ee,x=J-F,Lo[0]=J-(F+x)+(x-ee),N=Y+F,x=N-Y,q=Y-(N-x)+(F-x),F=q-he,x=q-F,Lo[1]=q-(F+x)+(x-he),ge=N+F,x=ge-N,Lo[2]=N-(ge-x)+(F-x),Lo[3]=ge;const we=dy(pe,Y4,4,Lo,X4);return X4[we-1]}(i,e,t,n,r,s,c)}cn(4),cn(4),cn(4),cn(4),cn(4),cn(4),cn(4),cn(4),cn(4),cn(8),cn(8),cn(8),cn(4),cn(8),cn(8),cn(8),cn(12),cn(192),cn(192),cn(4),cn(4),cn(4),cn(4),cn(4),cn(4),cn(4),cn(4),cn(8),cn(8),cn(8),cn(8),cn(8),cn(8),cn(8),cn(8),cn(8),cn(4),cn(4),cn(4),cn(8),cn(16),cn(16),cn(16),cn(32),cn(32),cn(48),cn(64),cn(1152),cn(1152),cn(4),cn(4),cn(4),cn(4),cn(4),cn(4),cn(4),cn(4),cn(4),cn(4),cn(24),cn(24),cn(24),cn(24),cn(24),cn(24),cn(24),cn(24),cn(24),cn(24),cn(1152),cn(1152),cn(1152),cn(1152),cn(1152),cn(2304),cn(2304),cn(3456),cn(5760),cn(8),cn(8),cn(8),cn(16),cn(24),cn(48),cn(48),cn(96),cn(192),cn(384),cn(384),cn(384),cn(768),cn(96),cn(96),cn(96),cn(1152);const gV=Math.pow(2,-52),mx=new Uint32Array(512);class JD{static from(e,t=kme,n=Pme){const r=e.length,s=new Float64Array(2*r);for(let o=0;o<r;o++){const a=e[o];s[2*o]=t(a),s[2*o+1]=n(a)}return new JD(s)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:s}=this,o=e.length>>1;let a=1/0,l=1/0,c=-1/0,y=-1/0;for(let Me=0;Me<o;Me++){const Se=e[2*Me],Je=e[2*Me+1];Se<a&&(a=Se),Je<l&&(l=Je),Se>c&&(c=Se),Je>y&&(y=Je),this._ids[Me]=Me}const x=(a+c)/2,C=(l+y)/2;let P,L,H,A=1/0;for(let Me=0;Me<o;Me++){const Se=eA(x,C,e[2*Me],e[2*Me+1]);Se<A&&(P=Me,A=Se)}const F=e[2*P],N=e[2*P+1];A=1/0;for(let Me=0;Me<o;Me++){if(Me===P)continue;const Se=eA(F,N,e[2*Me],e[2*Me+1]);Se<A&&Se>0&&(L=Me,A=Se)}let q=e[2*L],Y=e[2*L+1],J=1/0;for(let Me=0;Me<o;Me++){if(Me===P||Me===L)continue;const Se=Rme(F,N,q,Y,e[2*Me],e[2*Me+1]);Se<J&&(H=Me,J=Se)}let he=e[2*H],ee=e[2*H+1];if(J===1/0){for(let Je=0;Je<o;Je++)this._dists[Je]=e[2*Je]-e[0]||e[2*Je+1]-e[1];Rp(this._ids,this._dists,0,o-1);const Me=new Uint32Array(o);let Se=0;for(let Je=0,qe=-1/0;Je<o;Je++){const ue=this._ids[Je];this._dists[ue]>qe&&(Me[Se++]=ue,qe=this._dists[ue])}return this.hull=Me.subarray(0,Se),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(sx(F,N,q,Y,he,ee)<0){const Me=L,Se=q,Je=Y;L=H,q=he,Y=ee,H=Me,he=Se,ee=Je}const ge=function Ime(i,e,t,n,r,s){const o=t-i,a=n-e,l=r-i,c=s-e,y=o*o+a*a,x=l*l+c*c,C=.5/(o*c-a*l);return{x:i+(c*y-a*x)*C,y:e+(o*x-l*y)*C}}(F,N,q,Y,he,ee);this._cx=ge.x,this._cy=ge.y;for(let Me=0;Me<o;Me++)this._dists[Me]=eA(e[2*Me],e[2*Me+1],ge.x,ge.y);Rp(this._ids,this._dists,0,o-1),this._hullStart=P;let je=3;n[P]=t[H]=L,n[L]=t[P]=H,n[H]=t[L]=P,r[P]=0,r[L]=1,r[H]=2,s.fill(-1),s[this._hashKey(F,N)]=P,s[this._hashKey(q,Y)]=L,s[this._hashKey(he,ee)]=H,this.trianglesLen=0,this._addTriangle(P,L,H,-1,-1,-1);for(let Se,Je,Me=0;Me<this._ids.length;Me++){const qe=this._ids[Me],ue=e[2*qe],Ce=e[2*qe+1];if(Me>0&&Math.abs(ue-Se)<=gV&&Math.abs(Ce-Je)<=gV||(Se=ue,Je=Ce,qe===P||qe===L||qe===H))continue;let pe=0;for(let Qe=0,ht=this._hashKey(ue,Ce);Qe<this._hashSize&&(pe=s[(ht+Qe)%this._hashSize],-1===pe||pe===n[pe]);Qe++);pe=t[pe];let me,we=pe;for(;me=n[we],sx(ue,Ce,e[2*we],e[2*we+1],e[2*me],e[2*me+1])>=0;)if(we=me,we===pe){we=-1;break}if(-1===we)continue;let He=this._addTriangle(we,qe,n[we],-1,-1,r[we]);r[qe]=this._legalize(He+2),r[we]=He,je++;let Re=n[we];for(;me=n[Re],sx(ue,Ce,e[2*Re],e[2*Re+1],e[2*me],e[2*me+1])<0;)He=this._addTriangle(Re,qe,me,r[qe],-1,r[Re]),r[qe]=this._legalize(He+2),n[Re]=Re,je--,Re=me;if(we===pe)for(;me=t[we],sx(ue,Ce,e[2*me],e[2*me+1],e[2*we],e[2*we+1])<0;)He=this._addTriangle(me,qe,we,-1,r[we],r[me]),this._legalize(He+2),r[me]=He,n[we]=we,je--,we=me;this._hullStart=t[qe]=we,n[we]=t[Re]=qe,n[qe]=Re,s[this._hashKey(ue,Ce)]=qe,s[this._hashKey(e[2*we],e[2*we+1])]=we}this.hull=new Uint32Array(je);for(let Me=0,Se=this._hullStart;Me<je;Me++)this.hull[Me]=Se,Se=n[Se];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function Ame(i,e){const t=i/(Math.abs(i)+Math.abs(e));return(e>0?3-t:1+t)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let s=0,o=0;for(;;){const a=n[e],l=e-e%3;if(o=l+(e+2)%3,-1===a){if(0===s)break;e=mx[--s];continue}const c=a-a%3,x=c+(a+2)%3,C=t[o],A=t[e],P=t[l+(e+1)%3],L=t[x];if(Tme(r[2*C],r[2*C+1],r[2*A],r[2*A+1],r[2*P],r[2*P+1],r[2*L],r[2*L+1])){t[e]=L,t[a]=C;const F=n[x];if(-1===F){let q=this._hullStart;do{if(this._hullTri[q]===x){this._hullTri[q]=e;break}q=this._hullPrev[q]}while(q!==this._hullStart)}this._link(e,F),this._link(a,n[o]),this._link(o,x);const N=c+(a+1)%3;s<mx.length&&(mx[s++]=N)}else{if(0===s)break;e=mx[--s]}}return o}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,s,o){const a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,s),this._link(a+2,o),this.trianglesLen+=3,a}}function eA(i,e,t,n){const r=i-t,s=e-n;return r*r+s*s}function Tme(i,e,t,n,r,s,o,a){const l=i-o,c=e-a,y=t-o,x=n-a,C=r-o,A=s-a,L=y*y+x*x,H=C*C+A*A;return l*(x*H-L*A)-c*(y*H-L*C)+(l*l+c*c)*(y*A-x*C)<0}function Rme(i,e,t,n,r,s){const o=t-i,a=n-e,l=r-i,c=s-e,y=o*o+a*a,x=l*l+c*c,C=.5/(o*c-a*l),A=(c*y-a*x)*C,P=(o*x-l*y)*C;return A*A+P*P}function Rp(i,e,t,n){if(n-t<=20)for(let r=t+1;r<=n;r++){const s=i[r],o=e[s];let a=r-1;for(;a>=t&&e[i[a]]>o;)i[a+1]=i[a--];i[a+1]=s}else{let s=t+1,o=n;my(i,t+n>>1,s),e[i[t]]>e[i[n]]&&my(i,t,n),e[i[s]]>e[i[n]]&&my(i,s,n),e[i[t]]>e[i[s]]&&my(i,t,s);const a=i[s],l=e[a];for(;;){do{s++}while(e[i[s]]<l);do{o--}while(e[i[o]]>l);if(o<s)break;my(i,s,o)}i[t+1]=i[o],i[o]=a,n-s+1>=o-t?(Rp(i,e,s,n),Rp(i,e,t,o-1)):(Rp(i,e,t,o-1),Rp(i,e,s,n))}}function my(i,e,t){const n=i[e];i[e]=i[t],i[t]=n}function kme(i){return i[0]}function Pme(i){return i[1]}const Lme=[0,2e3,1e4,3e4,null];class yV{constructor(e){this._retryDelays=void 0!==e?[...e,null]:Lme}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class Ip extends Error{constructor(e,t){const n=new.target.prototype;super(`${e}: Status code '${t}'`),this.statusCode=t,this.__proto__=n}}class tA extends Error{constructor(e="A timeout occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class gy extends Error{constructor(e="An abort occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class Ome extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=n}}class Fme extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=n}}class Nme extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=n}}class Bme extends Error{constructor(e){const t=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}}class jme extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.innerErrors=t,this.__proto__=n}}class _V{constructor(e,t,n){this.statusCode=e,this.statusText=t,this.content=n}}class nA{get(e,t){return this.send(My(Ds({},t),{method:"GET",url:e}))}post(e,t){return this.send(My(Ds({},t),{method:"POST",url:e}))}delete(e,t){return this.send(My(Ds({},t),{method:"DELETE",url:e}))}getCookieString(e){return""}}var Zt=(()=>{return(i=Zt||(Zt={}))[i.Trace=0]="Trace",i[i.Debug=1]="Debug",i[i.Information=2]="Information",i[i.Warning=3]="Warning",i[i.Error=4]="Error",i[i.Critical=5]="Critical",i[i.None=6]="None",Zt;var i})();class yy{constructor(){}log(e,t){}}yy.instance=new yy;class Xs{static isRequired(e,t){if(null==e)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,n){if(!(e in t))throw new Error(`Unknown ${n} value: ${e}.`)}}class co{static get isBrowser(){return"object"==typeof window}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isNode(){return!this.isBrowser&&!this.isWebWorker}}function _y(i,e){let t="";return iA(i)?(t=`Binary data of length ${i.byteLength}`,e&&(t+=`. Content: '${function Ume(i){const e=new Uint8Array(i);let t="";return e.forEach(n=>{t+=`0x${n<16?"0":""}${n.toString(16)} `}),t.substr(0,t.length-1)}(i)}'`)):"string"==typeof i&&(t=`String data of length ${i.length}`,e&&(t+=`. Content: '${i}'`)),t}function iA(i){return i&&"undefined"!=typeof ArrayBuffer&&(i instanceof ArrayBuffer||i.constructor&&"ArrayBuffer"===i.constructor.name)}function vV(i,e,t,n,r,s,o){return rA.apply(this,arguments)}function rA(){return(rA=ts(function*(i,e,t,n,r,s,o){let a={};if(r){const C=yield r();C&&(a={Authorization:`Bearer ${C}`})}const[l,c]=kp();a[l]=c,i.log(Zt.Trace,`(${e} transport) sending data. ${_y(s,o.logMessageContent)}.`);const y=iA(s)?"arraybuffer":"text",x=yield t.post(n,{content:s,headers:Ds(Ds({},a),o.headers),responseType:y,timeout:o.timeout,withCredentials:o.withCredentials});i.log(Zt.Trace,`(${e} transport) request complete. Response status: ${x.statusCode}.`)})).apply(this,arguments)}class Gme{constructor(e,t){this._subject=e,this._observer=t}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(t=>{})}}class gx{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){const n=`[${(new Date).toISOString()}] ${Zt[e]}: ${t}`;switch(e){case Zt.Critical:case Zt.Error:this.out.error(n);break;case Zt.Warning:this.out.warn(n);break;case Zt.Information:this.out.info(n);break;default:this.out.log(n)}}}}function kp(){let i="X-SignalR-User-Agent";return co.isNode&&(i="User-Agent"),[i,zme("6.0.1",Wme(),co.isNode?"NodeJS":"Browser",$me())]}function zme(i,e,t,n){let r="Microsoft SignalR/";const s=i.split(".");return r+=`${s[0]}.${s[1]}`,r+=` (${i}; `,r+=e&&""!==e?`${e}; `:"Unknown OS; ",r+=`${t}`,r+=n?`; ${n}`:"; Unknown Runtime Version",r+=")",r}function Wme(){if(!co.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function $me(){if(co.isNode)return process.versions.node}function bV(i){return i.stack?i.stack:i.message?i.message:`${i}`}class Xme extends nA{constructor(e){if(super(),this._logger=e,"undefined"==typeof fetch){const t=require;this._jar=new(t("tough-cookie").CookieJar),this._fetchType=t("node-fetch"),this._fetchType=t("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function Yme(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("could not find global")}());if("undefined"==typeof AbortController){const t=require;this._abortControllerType=t("abort-controller")}else this._abortControllerType=AbortController}send(e){var t=this;return ts(function*(){if(e.abortSignal&&e.abortSignal.aborted)throw new gy;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const n=new t._abortControllerType;let r;e.abortSignal&&(e.abortSignal.onabort=()=>{n.abort(),r=new gy});let o,s=null;e.timeout&&(s=setTimeout(()=>{n.abort(),t._logger.log(Zt.Warning,"Timeout from HTTP request."),r=new tA},e.timeout));try{o=yield t._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:Ds({"Content-Type":"text/plain;charset=UTF-8","X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(c){throw r||(t._logger.log(Zt.Warning,`Error from HTTP request. ${c}.`),c)}finally{s&&clearTimeout(s),e.abortSignal&&(e.abortSignal.onabort=null)}if(!o.ok){const c=yield xV(o,"text");throw new Ip(c||o.statusText,o.status)}const l=yield xV(o,e.responseType);return new _V(o.status,o.statusText,l)})()}getCookieString(e){let t="";return co.isNode&&this._jar&&this._jar.getCookies(e,(n,r)=>t=r.join("; ")),t}}function xV(i,e){let t;switch(e){case"arraybuffer":t=i.arrayBuffer();break;case"text":default:t=i.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`)}return t}class Zme extends nA{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new gy):e.method?e.url?new Promise((t,n)=>{const r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.withCredentials=void 0===e.withCredentials||e.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type","text/plain;charset=UTF-8");const s=e.headers;s&&Object.keys(s).forEach(o=>{r.setRequestHeader(o,s[o])}),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{r.abort(),n(new gy)}),e.timeout&&(r.timeout=e.timeout),r.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new _V(r.status,r.statusText,r.response||r.responseText)):n(new Ip(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(Zt.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),n(new Ip(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(Zt.Warning,"Timeout from HTTP request."),n(new tA)},r.send(e.content||"")}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Kme extends nA{constructor(e){if(super(),"undefined"!=typeof fetch||co.isNode)this._httpClient=new Xme(e);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");this._httpClient=new Zme(e)}}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new gy):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}let vy=(()=>{class i{}return i.Authorization="Authorization",i.Cookie="Cookie",i})();var Ns=(()=>{return(i=Ns||(Ns={}))[i.None=0]="None",i[i.WebSockets=1]="WebSockets",i[i.ServerSentEvents=2]="ServerSentEvents",i[i.LongPolling=4]="LongPolling",Ns;var i})(),uo=(()=>{return(i=uo||(uo={}))[i.Text=1]="Text",i[i.Binary=2]="Binary",uo;var i})();class Qme{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class wV{constructor(e,t,n,r){this._httpClient=e,this._accessTokenFactory=t,this._logger=n,this._pollAbort=new Qme,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(e,t){var n=this;return ts(function*(){if(Xs.isRequired(e,"url"),Xs.isRequired(t,"transferFormat"),Xs.isIn(t,uo,"transferFormat"),n._url=e,n._logger.log(Zt.Trace,"(LongPolling transport) Connecting."),t===uo.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,s]=kp(),o=Ds({[r]:s},n._options.headers),a={abortSignal:n._pollAbort.signal,headers:o,timeout:1e5,withCredentials:n._options.withCredentials};t===uo.Binary&&(a.responseType="arraybuffer");const l=yield n._getAccessToken();n._updateHeaderToken(a,l);const c=`${e}&_=${Date.now()}`;n._logger.log(Zt.Trace,`(LongPolling transport) polling: ${c}.`);const y=yield n._httpClient.get(c,a);200!==y.statusCode?(n._logger.log(Zt.Error,`(LongPolling transport) Unexpected response code: ${y.statusCode}.`),n._closeError=new Ip(y.statusText||"",y.statusCode),n._running=!1):n._running=!0,n._receiving=n._poll(n._url,a)})()}_getAccessToken(){var e=this;return ts(function*(){return e._accessTokenFactory?yield e._accessTokenFactory():null})()}_updateHeaderToken(e,t){e.headers||(e.headers={}),t?e.headers[vy.Authorization]=`Bearer ${t}`:e.headers[vy.Authorization]&&delete e.headers[vy.Authorization]}_poll(e,t){var n=this;return ts(function*(){try{for(;n._running;){const r=yield n._getAccessToken();n._updateHeaderToken(t,r);try{const s=`${e}&_=${Date.now()}`;n._logger.log(Zt.Trace,`(LongPolling transport) polling: ${s}.`);const o=yield n._httpClient.get(s,t);204===o.statusCode?(n._logger.log(Zt.Information,"(LongPolling transport) Poll terminated by server."),n._running=!1):200!==o.statusCode?(n._logger.log(Zt.Error,`(LongPolling transport) Unexpected response code: ${o.statusCode}.`),n._closeError=new Ip(o.statusText||"",o.statusCode),n._running=!1):o.content?(n._logger.log(Zt.Trace,`(LongPolling transport) data received. ${_y(o.content,n._options.logMessageContent)}.`),n.onreceive&&n.onreceive(o.content)):n._logger.log(Zt.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(s){n._running?s instanceof tA?n._logger.log(Zt.Trace,"(LongPolling transport) Poll timed out, reissuing."):(n._closeError=s,n._running=!1):n._logger.log(Zt.Trace,`(LongPolling transport) Poll errored after shutdown: ${s.message}`)}}}finally{n._logger.log(Zt.Trace,"(LongPolling transport) Polling complete."),n.pollAborted||n._raiseOnClose()}})()}send(e){var t=this;return ts(function*(){return t._running?vV(t._logger,"LongPolling",t._httpClient,t._url,t._accessTokenFactory,e,t._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var e=this;return ts(function*(){e._logger.log(Zt.Trace,"(LongPolling transport) Stopping polling."),e._running=!1,e._pollAbort.abort();try{yield e._receiving,e._logger.log(Zt.Trace,`(LongPolling transport) sending DELETE request to ${e._url}.`);const t={},[n,r]=kp();t[n]=r;const s={headers:Ds(Ds({},t),e._options.headers),timeout:e._options.timeout,withCredentials:e._options.withCredentials},o=yield e._getAccessToken();e._updateHeaderToken(s,o),yield e._httpClient.delete(e._url,s),e._logger.log(Zt.Trace,"(LongPolling transport) DELETE request sent.")}finally{e._logger.log(Zt.Trace,"(LongPolling transport) Stop finished."),e._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(Zt.Trace,e),this.onclose(this._closeError)}}}class Jme{constructor(e,t,n,r){this._httpClient=e,this._accessTokenFactory=t,this._logger=n,this._options=r,this.onreceive=null,this.onclose=null}connect(e,t){var n=this;return ts(function*(){if(Xs.isRequired(e,"url"),Xs.isRequired(t,"transferFormat"),Xs.isIn(t,uo,"transferFormat"),n._logger.log(Zt.Trace,"(SSE transport) Connecting."),n._url=e,n._accessTokenFactory){const r=yield n._accessTokenFactory();r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`)}return new Promise((r,s)=>{let a,o=!1;if(t===uo.Text){if(co.isBrowser||co.isWebWorker)a=new n._options.EventSource(e,{withCredentials:n._options.withCredentials});else{const l=n._httpClient.getCookieString(e),c={};c.Cookie=l;const[y,x]=kp();c[y]=x,a=new n._options.EventSource(e,{withCredentials:n._options.withCredentials,headers:Ds(Ds({},c),n._options.headers)})}try{a.onmessage=l=>{if(n.onreceive)try{n._logger.log(Zt.Trace,`(SSE transport) data received. ${_y(l.data,n._options.logMessageContent)}.`),n.onreceive(l.data)}catch(c){return void n._close(c)}},a.onerror=l=>{o?n._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},a.onopen=()=>{n._logger.log(Zt.Information,`SSE connected to ${n._url}`),n._eventSource=a,o=!0,r()}}catch(l){return void s(l)}}else s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(e){var t=this;return ts(function*(){return t._eventSource?vV(t._logger,"SSE",t._httpClient,t._url,t._accessTokenFactory,e,t._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class ege{constructor(e,t,n,r,s,o){this._logger=n,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=s,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=o}connect(e,t){var n=this;return ts(function*(){if(Xs.isRequired(e,"url"),Xs.isRequired(t,"transferFormat"),Xs.isIn(t,uo,"transferFormat"),n._logger.log(Zt.Trace,"(WebSockets transport) Connecting."),n._accessTokenFactory){const r=yield n._accessTokenFactory();r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`)}return new Promise((r,s)=>{let o;e=e.replace(/^http/,"ws");const a=n._httpClient.getCookieString(e);let l=!1;if(co.isNode){const c={},[y,x]=kp();c[y]=x,a&&(c[vy.Cookie]=`${a}`),o=new n._webSocketConstructor(e,void 0,{headers:Ds(Ds({},c),n._headers)})}o||(o=new n._webSocketConstructor(e)),t===uo.Binary&&(o.binaryType="arraybuffer"),o.onopen=c=>{n._logger.log(Zt.Information,`WebSocket connected to ${e}.`),n._webSocket=o,l=!0,r()},o.onerror=c=>{let y=null;y="undefined"!=typeof ErrorEvent&&c instanceof ErrorEvent?c.error:"There was an error with the transport",n._logger.log(Zt.Information,`(WebSockets transport) ${y}.`)},o.onmessage=c=>{if(n._logger.log(Zt.Trace,`(WebSockets transport) data received. ${_y(c.data,n._logMessageContent)}.`),n.onreceive)try{n.onreceive(c.data)}catch(y){return void n._close(y)}},o.onclose=c=>{if(l)n._close(c);else{let y=null;y="undefined"!=typeof ErrorEvent&&c instanceof ErrorEvent?c.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",s(new Error(y))}}})})()}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(Zt.Trace,`(WebSockets transport) sending data. ${_y(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(Zt.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(e)||!1!==e.wasClean&&1e3===e.code?e instanceof Error?this.onclose(e):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)))}_isCloseEvent(e){return e&&"boolean"==typeof e.wasClean&&"number"==typeof e.code}}class tge{constructor(e,t={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Xs.isRequired(e,"url"),this._logger=function Hme(i){return void 0===i?new gx(Zt.Information):null===i?yy.instance:void 0!==i.log?i:new gx(i)}(t.logger),this.baseUrl=this._resolveUrl(e),(t=t||{}).logMessageContent=void 0!==t.logMessageContent&&t.logMessageContent,"boolean"!=typeof t.withCredentials&&void 0!==t.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.withCredentials=void 0===t.withCredentials||t.withCredentials,t.timeout=void 0===t.timeout?1e5:t.timeout;let n=null,r=null;if(co.isNode){const s=require;n=s("ws"),r=s("eventsource")}co.isNode||"undefined"==typeof WebSocket||t.WebSocket?co.isNode&&!t.WebSocket&&n&&(t.WebSocket=n):t.WebSocket=WebSocket,co.isNode||"undefined"==typeof EventSource||t.EventSource?co.isNode&&!t.EventSource&&void 0!==r&&(t.EventSource=r):t.EventSource=EventSource,this._httpClient=t.httpClient||new Kme(this._logger),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}start(e){var t=this;return ts(function*(){if(Xs.isIn(e=e||uo.Binary,uo,"transferFormat"),t._logger.log(Zt.Debug,`Starting connection with transfer format '${uo[e]}'.`),"Disconnected"!==t._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(t._connectionState="Connecting",t._startInternalPromise=t._startInternal(e),yield t._startInternalPromise,"Disconnecting"===t._connectionState){const n="Failed to start the HttpConnection before stop() was called.";return t._logger.log(Zt.Error,n),yield t._stopPromise,Promise.reject(new Error(n))}if("Connected"!==t._connectionState){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return t._logger.log(Zt.Error,n),Promise.reject(new Error(n))}t._connectionStarted=!0})()}send(e){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new sA(this.transport)),this._sendQueue.send(e))}stop(e){var t=this;return ts(function*(){return"Disconnected"===t._connectionState?(t._logger.log(Zt.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===t._connectionState?(t._logger.log(Zt.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),t._stopPromise):(t._connectionState="Disconnecting",t._stopPromise=new Promise(n=>{t._stopPromiseResolver=n}),yield t._stopInternal(e),void(yield t._stopPromise))})()}_stopInternal(e){var t=this;return ts(function*(){t._stopError=e;try{yield t._startInternalPromise}catch(n){}if(t.transport){try{yield t.transport.stop()}catch(n){t._logger.log(Zt.Error,`HttpConnection.transport.stop() threw error '${n}'.`),t._stopConnection()}t.transport=void 0}else t._logger.log(Zt.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(e){var t=this;return ts(function*(){let n=t.baseUrl;t._accessTokenFactory=t._options.accessTokenFactory;try{if(t._options.skipNegotiation){if(t._options.transport!==Ns.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");t.transport=t._constructTransport(Ns.WebSockets),yield t._startTransport(n,e)}else{let r=null,s=0;do{if(r=yield t._getNegotiationResponse(n),"Disconnecting"===t._connectionState||"Disconnected"===t._connectionState)throw new Error("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const o=r.accessToken;t._accessTokenFactory=()=>o}s++}while(r.url&&s<100);if(100===s&&r.url)throw new Error("Negotiate redirection limit exceeded.");yield t._createTransport(n,t._options.transport,r,e)}t.transport instanceof wV&&(t.features.inherentKeepAlive=!0),"Connecting"===t._connectionState&&(t._logger.log(Zt.Debug,"The HttpConnection connected successfully."),t._connectionState="Connected")}catch(r){return t._logger.log(Zt.Error,"Failed to start the connection: "+r),t._connectionState="Disconnected",t.transport=void 0,t._stopPromiseResolver(),Promise.reject(r)}})()}_getNegotiationResponse(e){var t=this;return ts(function*(){const n={};if(t._accessTokenFactory){const a=yield t._accessTokenFactory();a&&(n[vy.Authorization]=`Bearer ${a}`)}const[r,s]=kp();n[r]=s;const o=t._resolveNegotiateUrl(e);t._logger.log(Zt.Debug,`Sending negotiation request: ${o}.`);try{const a=yield t._httpClient.post(o,{content:"",headers:Ds(Ds({},n),t._options.headers),timeout:t._options.timeout,withCredentials:t._options.withCredentials});if(200!==a.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${a.statusCode}'`));const l=JSON.parse(a.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l}catch(a){let l="Failed to complete negotiation with the server: "+a;return a instanceof Ip&&404===a.statusCode&&(l+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),t._logger.log(Zt.Error,l),Promise.reject(new Bme(l))}})()}_createConnectUrl(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+`id=${t}`:e}_createTransport(e,t,n,r){var s=this;return ts(function*(){let o=s._createConnectUrl(e,n.connectionToken);if(s._isITransport(t))return s._logger.log(Zt.Debug,"Connection was provided an instance of ITransport, using that directly."),s.transport=t,yield s._startTransport(o,r),void(s.connectionId=n.connectionId);const a=[],l=n.availableTransports||[];let c=n;for(const y of l){const x=s._resolveTransportOrError(y,t,r);if(x instanceof Error)a.push(`${y.transport} failed:`),a.push(x);else if(s._isITransport(x)){if(s.transport=x,!c){try{c=yield s._getNegotiationResponse(e)}catch(C){return Promise.reject(C)}o=s._createConnectUrl(e,c.connectionToken)}try{return yield s._startTransport(o,r),void(s.connectionId=c.connectionId)}catch(C){if(s._logger.log(Zt.Error,`Failed to start the transport '${y.transport}': ${C}`),c=void 0,a.push(new Nme(`${y.transport} failed: ${C}`,Ns[y.transport])),"Connecting"!==s._connectionState){const A="Failed to select transport before stop() was called.";return s._logger.log(Zt.Debug,A),Promise.reject(new Error(A))}}}}return Promise.reject(a.length>0?new jme(`Unable to connect to the server with any of the available transports. ${a.join(" ")}`,a):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(e){switch(e){case Ns.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new ege(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Ns.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Jme(this._httpClient,this._accessTokenFactory,this._logger,this._options);case Ns.LongPolling:return new wV(this._httpClient,this._accessTokenFactory,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,t){return this.transport.onreceive=this.onreceive,this.transport.onclose=n=>this._stopConnection(n),this.transport.connect(e,t)}_resolveTransportOrError(e,t,n){const r=Ns[e.transport];if(null==r)return this._logger.log(Zt.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(!function nge(i,e){return!i||0!=(e&i)}(t,r))return this._logger.log(Zt.Debug,`Skipping transport '${Ns[r]}' because it was disabled by the client.`),new Fme(`'${Ns[r]}' is disabled by the client.`,r);if(!(e.transferFormats.map(o=>uo[o]).indexOf(n)>=0))return this._logger.log(Zt.Debug,`Skipping transport '${Ns[r]}' because it does not support the requested transfer format '${uo[n]}'.`),new Error(`'${Ns[r]}' does not support ${uo[n]}.`);if(r===Ns.WebSockets&&!this._options.WebSocket||r===Ns.ServerSentEvents&&!this._options.EventSource)return this._logger.log(Zt.Debug,`Skipping transport '${Ns[r]}' because it is not supported in your environment.'`),new Ome(`'${Ns[r]}' is not supported in your environment.`,r);this._logger.log(Zt.Debug,`Selecting transport '${Ns[r]}'.`);try{return this._constructTransport(r)}catch(o){return o}}_isITransport(e){return e&&"object"==typeof e&&"connect"in e}_stopConnection(e){if(this._logger.log(Zt.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(Zt.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),e?this._logger.log(Zt.Error,`Connection disconnected with error '${e}'.`):this._logger.log(Zt.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(t=>{this._logger.log(Zt.Error,`TransportSendQueue.stop() threw error '${t}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this._logger.log(Zt.Error,`HttpConnection.onclose(${e}) threw error '${t}'.`)}}}else this._logger.log(Zt.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if(!co.isBrowser||!window.document)throw new Error(`Cannot resolve '${e}'.`);const t=window.document.createElement("a");return t.href=e,this._logger.log(Zt.Information,`Normalizing '${e}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(e){const t=e.indexOf("?");let n=e.substring(0,-1===t?e.length:t);return"/"!==n[n.length-1]&&(n+="/"),n+="negotiate",n+=-1===t?"":e.substring(t),-1===n.indexOf("negotiateVersion")&&(n+=-1===t?"?":"&",n+="negotiateVersion="+this._negotiateVersion),n}}class sA{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new yx,this._transportResult=new yx,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new yx),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}_sendLoop(){var e=this;return ts(function*(){for(;;){if(yield e._sendBufferedData.promise,!e._executing){e._transportResult&&e._transportResult.reject("Connection stopped.");break}e._sendBufferedData=new yx;const t=e._transportResult;e._transportResult=void 0;const n="string"==typeof e._buffer[0]?e._buffer.join(""):sA._concatBuffers(e._buffer);e._buffer.length=0;try{yield e._transport.send(n),t.resolve()}catch(r){t.reject(r)}}})()}static _concatBuffers(e){const t=e.map(s=>s.byteLength).reduce((s,o)=>s+o),n=new Uint8Array(t);let r=0;for(const s of e)n.set(new Uint8Array(s),r),r+=s.byteLength;return n.buffer}}class yx{constructor(){this.promise=new Promise((e,t)=>[this._resolver,this._rejecter]=[e,t])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}class va{static write(e){return`${e}${va.RecordSeparator}`}static parse(e){if(e[e.length-1]!==va.RecordSeparator)throw new Error("Message is incomplete.");const t=e.split(va.RecordSeparator);return t.pop(),t}}va.RecordSeparatorCode=30,va.RecordSeparator=String.fromCharCode(va.RecordSeparatorCode);class ige{writeHandshakeRequest(e){return va.write(JSON.stringify(e))}parseHandshakeResponse(e){let t,n;if(iA(e)){const a=new Uint8Array(e),l=a.indexOf(va.RecordSeparatorCode);if(-1===l)throw new Error("Message is incomplete.");const c=l+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,c))),n=a.byteLength>c?a.slice(c).buffer:null}else{const a=e,l=a.indexOf(va.RecordSeparator);if(-1===l)throw new Error("Message is incomplete.");const c=l+1;t=a.substring(0,c),n=a.length>c?a.substring(c):null}const r=va.parse(t),s=JSON.parse(r[0]);if(s.type)throw new Error("Expected a handshake response from the server.");return[n,s]}}var Fr=(()=>{return(i=Fr||(Fr={}))[i.Invocation=1]="Invocation",i[i.StreamItem=2]="StreamItem",i[i.Completion=3]="Completion",i[i.StreamInvocation=4]="StreamInvocation",i[i.CancelInvocation=5]="CancelInvocation",i[i.Ping=6]="Ping",i[i.Close=7]="Close",Fr;var i})();class rge{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}error(e){for(const t of this.observers)t.error&&t.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new Gme(this,e)}}var Zr=(()=>{return(i=Zr||(Zr={})).Disconnected="Disconnected",i.Connecting="Connecting",i.Connected="Connected",i.Disconnecting="Disconnecting",i.Reconnecting="Reconnecting",Zr;var i})();class oA{constructor(e,t,n,r){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(Zt.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Xs.isRequired(e,"connection"),Xs.isRequired(t,"logger"),Xs.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=t,this._protocol=n,this.connection=e,this._reconnectPolicy=r,this._handshakeProtocol=new ige,this.connection.onreceive=s=>this._processIncomingData(s),this.connection.onclose=s=>this._connectionClosed(s),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Zr.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Fr.Ping})}static create(e,t,n,r){return new oA(e,t,n,r)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Zr.Disconnected&&this._connectionState!==Zr.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var e=this;return ts(function*(){if(e._connectionState!==Zr.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));e._connectionState=Zr.Connecting,e._logger.log(Zt.Debug,"Starting HubConnection.");try{yield e._startInternal(),co.isBrowser&&document&&document.addEventListener("freeze",e._freezeEventListener),e._connectionState=Zr.Connected,e._connectionStarted=!0,e._logger.log(Zt.Debug,"HubConnection connected successfully.")}catch(t){return e._connectionState=Zr.Disconnected,e._logger.log(Zt.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}})()}_startInternal(){var e=this;return ts(function*(){e._stopDuringStartError=void 0,e._receivedHandshakeResponse=!1;const t=new Promise((n,r)=>{e._handshakeResolver=n,e._handshakeRejecter=r});yield e.connection.start(e._protocol.transferFormat);try{const n={protocol:e._protocol.name,version:e._protocol.version};if(e._logger.log(Zt.Debug,"Sending handshake request."),yield e._sendMessage(e._handshakeProtocol.writeHandshakeRequest(n)),e._logger.log(Zt.Information,`Using HubProtocol '${e._protocol.name}'.`),e._cleanupTimeout(),e._resetTimeoutPeriod(),e._resetKeepAliveInterval(),yield t,e._stopDuringStartError)throw e._stopDuringStartError}catch(n){throw e._logger.log(Zt.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),e._cleanupTimeout(),e._cleanupPingTimer(),yield e.connection.stop(n),n}})()}stop(){var e=this;return ts(function*(){const t=e._startPromise;e._stopPromise=e._stopInternal(),yield e._stopPromise;try{yield t}catch(n){}})()}_stopInternal(e){return this._connectionState===Zr.Disconnected?(this._logger.log(Zt.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Zr.Disconnecting?(this._logger.log(Zt.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Zr.Disconnecting,this._logger.log(Zt.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(Zt.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(e)))}stream(e,...t){const[n,r]=this._replaceStreamingParams(t),s=this._createStreamInvocation(e,t,r);let o;const a=new rge;return a.cancelCallback=()=>{const l=this._createCancelInvocation(s.invocationId);return delete this._callbacks[s.invocationId],o.then(()=>this._sendWithProtocol(l))},this._callbacks[s.invocationId]=(l,c)=>{c?a.error(c):l&&(l.type===Fr.Completion?l.error?a.error(new Error(l.error)):a.complete():a.next(l.item))},o=this._sendWithProtocol(s).catch(l=>{a.error(l),delete this._callbacks[s.invocationId]}),this._launchStreams(n,o),a}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._sendMessage(this._protocol.writeMessage(e))}send(e,...t){const[n,r]=this._replaceStreamingParams(t),s=this._sendWithProtocol(this._createInvocation(e,t,!0,r));return this._launchStreams(n,s),s}invoke(e,...t){const[n,r]=this._replaceStreamingParams(t),s=this._createInvocation(e,t,!1,r);return new Promise((a,l)=>{this._callbacks[s.invocationId]=(y,x)=>{x?l(x):y&&(y.type===Fr.Completion?y.error?l(new Error(y.error)):a(y.result):l(new Error(`Unexpected message type: ${y.type}`)))};const c=this._sendWithProtocol(s).catch(y=>{l(y),delete this._callbacks[s.invocationId]});this._launchStreams(n,c)})}on(e,t){!e||!t||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),-1===this._methods[e].indexOf(t)&&this._methods[e].push(t))}off(e,t){if(!e)return;e=e.toLowerCase();const n=this._methods[e];if(n)if(t){const r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const t=this._protocol.parseMessages(e,this._logger);for(const n of t)switch(n.type){case Fr.Invocation:this._invokeClientMethod(n);break;case Fr.StreamItem:case Fr.Completion:{const r=this._callbacks[n.invocationId];if(r){n.type===Fr.Completion&&delete this._callbacks[n.invocationId];try{r(n)}catch(s){this._logger.log(Zt.Error,`Stream callback threw error: ${bV(s)}`)}}break}case Fr.Ping:break;case Fr.Close:{this._logger.log(Zt.Information,"Close message received from server.");const r=n.error?new Error("Server returned an error on close: "+n.error):void 0;!0===n.allowReconnect?this.connection.stop(r):this._stopPromise=this._stopInternal(r);break}default:this._logger.log(Zt.Warning,`Invalid message type: ${n.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let t,n;try{[n,t]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(r){const s="Error parsing handshake response: "+r;this._logger.log(Zt.Error,s);const o=new Error(s);throw this._handshakeRejecter(o),o}if(t.error){const r="Server returned handshake error: "+t.error;this._logger.log(Zt.Error,r);const s=new Error(r);throw this._handshakeRejecter(s),s}return this._logger.log(Zt.Debug,"Server handshake complete."),this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var e=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let t=this._nextKeepAlive-(new Date).getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(ts(function*(){if(e._connectionState===Zr.Connected)try{yield e._sendMessage(e._cachedPingMessage)}catch(n){e._cleanupPingTimer()}}),t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(e){const t=this._methods[e.target.toLowerCase()];if(t){try{t.forEach(n=>n.apply(this,e.arguments))}catch(n){this._logger.log(Zt.Error,`A callback for the method ${e.target.toLowerCase()} threw error '${n}'.`)}if(e.invocationId){const n="Server requested a response, which is not supported in this version of the client.";this._logger.log(Zt.Error,n),this._stopPromise=this._stopInternal(new Error(n))}}else this._logger.log(Zt.Warning,`No client method with the name '${e.target}' found.`)}_connectionClosed(e){this._logger.log(Zt.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new Error("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Zr.Disconnecting?this._completeClose(e):this._connectionState===Zr.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Zr.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Zr.Disconnected,this._connectionStarted=!1,co.isBrowser&&document&&document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(t=>t.apply(this,[e]))}catch(t){this._logger.log(Zt.Error,`An onclose callback called with error '${e}' threw error '${t}'.`)}}}_reconnect(e){var t=this;return ts(function*(){const n=Date.now();let r=0,s=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),o=t._getNextRetryDelay(r++,0,s);if(null===o)return t._logger.log(Zt.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void t._completeClose(e);if(t._connectionState=Zr.Reconnecting,t._logger.log(Zt.Information,e?`Connection reconnecting because of error '${e}'.`:"Connection reconnecting."),0!==t._reconnectingCallbacks.length){try{t._reconnectingCallbacks.forEach(a=>a.apply(t,[e]))}catch(a){t._logger.log(Zt.Error,`An onreconnecting callback called with error '${e}' threw error '${a}'.`)}if(t._connectionState!==Zr.Reconnecting)return void t._logger.log(Zt.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==o;){if(t._logger.log(Zt.Information,`Reconnect attempt number ${r} will start in ${o} ms.`),yield new Promise(a=>{t._reconnectDelayHandle=setTimeout(a,o)}),t._reconnectDelayHandle=void 0,t._connectionState!==Zr.Reconnecting)return void t._logger.log(Zt.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield t._startInternal(),t._connectionState=Zr.Connected,t._logger.log(Zt.Information,"HubConnection reconnected successfully."),0!==t._reconnectedCallbacks.length)try{t._reconnectedCallbacks.forEach(a=>a.apply(t,[t.connection.connectionId]))}catch(a){t._logger.log(Zt.Error,`An onreconnected callback called with connectionId '${t.connection.connectionId}; threw error '${a}'.`)}return}catch(a){if(t._logger.log(Zt.Information,`Reconnect attempt failed because of error '${a}'.`),t._connectionState!==Zr.Reconnecting)return t._logger.log(Zt.Debug,`Connection moved to the '${t._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(t._connectionState===Zr.Disconnecting&&t._completeClose());s=a instanceof Error?a:new Error(a.toString()),o=t._getNextRetryDelay(r++,Date.now()-n,s)}}t._logger.log(Zt.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),t._completeClose()})()}_getNextRetryDelay(e,t,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:n})}catch(r){return this._logger.log(Zt.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${t}) threw error '${r}'.`),null}}_cancelCallbacksWithError(e){const t=this._callbacks;this._callbacks={},Object.keys(t).forEach(n=>{const r=t[n];try{r(null,e)}catch(s){this._logger.log(Zt.Error,`Stream 'error' callback called with '${e}' threw error: ${bV(s)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,t,n,r){if(n)return 0!==r.length?{arguments:t,streamIds:r,target:e,type:Fr.Invocation}:{arguments:t,target:e,type:Fr.Invocation};{const s=this._invocationId;return this._invocationId++,0!==r.length?{arguments:t,invocationId:s.toString(),streamIds:r,target:e,type:Fr.Invocation}:{arguments:t,invocationId:s.toString(),target:e,type:Fr.Invocation}}}_launchStreams(e,t){if(0!==e.length){t||(t=Promise.resolve());for(const n in e)e[n].subscribe({complete:()=>{t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(n)))},error:r=>{let s;s=r instanceof Error?r.message:r&&r.toString?r.toString():"Unknown error",t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(n,s)))},next:r=>{t=t.then(()=>this._sendWithProtocol(this._createStreamItemMessage(n,r)))}})}}_replaceStreamingParams(e){const t=[],n=[];for(let r=0;r<e.length;r++){const s=e[r];if(this._isObservable(s)){const o=this._invocationId;this._invocationId++,t[o]=s,n.push(o.toString()),e.splice(r,1)}}return[t,n]}_isObservable(e){return e&&e.subscribe&&"function"==typeof e.subscribe}_createStreamInvocation(e,t,n){const r=this._invocationId;return this._invocationId++,0!==n.length?{arguments:t,invocationId:r.toString(),streamIds:n,target:e,type:Fr.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:e,type:Fr.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:Fr.CancelInvocation}}_createStreamItemMessage(e,t){return{invocationId:e,item:t,type:Fr.StreamItem}}_createCompletionMessage(e,t,n){return t?{error:t,invocationId:e,type:Fr.Completion}:{invocationId:e,result:n,type:Fr.Completion}}}class lge{constructor(){this.name="json",this.version=1,this.transferFormat=uo.Text}parseMessages(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=yy.instance);const n=va.parse(e),r=[];for(const s of n){const o=JSON.parse(s);if("number"!=typeof o.type)throw new Error("Invalid payload.");switch(o.type){case Fr.Invocation:this._isInvocationMessage(o);break;case Fr.StreamItem:this._isStreamItemMessage(o);break;case Fr.Completion:this._isCompletionMessage(o);break;case Fr.Ping:case Fr.Close:break;default:t.log(Zt.Information,"Unknown message type '"+o.type+"' ignored.");continue}r.push(o)}return r}writeMessage(e){return va.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(e,t){if("string"!=typeof e||""===e)throw new Error(t)}}const cge={trace:Zt.Trace,debug:Zt.Debug,info:Zt.Information,information:Zt.Information,warn:Zt.Warning,warning:Zt.Warning,error:Zt.Error,critical:Zt.Critical,none:Zt.None};class SV{configureLogging(e){if(Xs.isRequired(e,"logging"),function dge(i){return void 0!==i.log}(e))this.logger=e;else if("string"==typeof e){const t=function uge(i){const e=cge[i.toLowerCase()];if(void 0!==e)return e;throw new Error(`Unknown log level: ${i}`)}(e);this.logger=new gx(t)}else this.logger=new gx(e);return this}withUrl(e,t){return Xs.isRequired(e,"url"),Xs.isNotEmpty(e,"url"),this.url=e,this.httpConnectionOptions="object"==typeof t?Ds(Ds({},this.httpConnectionOptions),t):My(Ds({},this.httpConnectionOptions),{transport:t}),this}withHubProtocol(e){return Xs.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=e?Array.isArray(e)?new yV(e):e:new yV,this}build(){const e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const t=new tge(this.url,e);return oA.create(t,this.logger||yy.instance,this.protocol||new lge,this.reconnectPolicy)}}let CV=(()=>{class i{constructor(){this.path="/samplesEmiterHub",this.messageReceived=new Dn}get Jwt(){return this.jwt}set Jwt(t){this.jwt=t}ngOnInit(){}Connect(){const t=this.Host+this.path;null!=this.connection&&(this.connection.stop(),this.connection=null),this.connection=(new SV).configureLogging(Zt.Information).withUrl(t,{accessTokenFactory:()=>this.jwt}).withAutomaticReconnect().build(),this.connection.onclose(n=>{console.log("SignalR hub connection closed."),this.stopHubAndunSubscribeToServerEvents()}),this.connection.start().then(()=>{console.log("SignalR Hub connection started"),this.subscribeToServerEvents()})}SubscribeToPlant(t){const n=this.Host+this.path;null!=this.connection&&(this.connection.stop(),this.connection=null),this.connection=(new SV).withUrl(n).build();const r=new De;return this.connection.on("DataChanged",(...s)=>{r.next(s[0])}),this.connection.onclose(s=>{s?r.error(s):r.complete()}),this.connection.start().then(()=>{this.connection.send("ConnectToPlant",t)}),r}GetLastData(t,n){null!=this.connection&&this.connection.send("GetAllVariableLastValues",t,n)}subscribeToServerEvents(){this.connection.on("MessageNotification",t=>{this.messageReceived.emit("MessageNotification:"+t)}),this.connection.on("PublishMessageAck",t=>{this.messageReceived.emit("MessageNotification - Ack :"+t)})}stopHubAndunSubscribeToServerEvents(){this.connection.off("MessageNotification"),this.connection.off("PublishMessageAck"),this.connection.stop().then(()=>console.log("Hub connection stopped"))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),EV=(()=>{class i{constructor(t,n,r){this.dialog=t,this.restApi=n,this.gstSignal=r,this.solarHour=12,this.objects=[],this.panels=[],this.trackers=[],this.geoPos={longitude:-5.6629861,latitude:43.5481303},this.eulerX=0,this.eulerZ=0,this.selectedAllTrackers=!0,this.selectedIdTracker=245,this.alarms={noCom:!1,safePosition:!1,battery:!1,motor:!1},this.startDate=new Date(2021,6,6)}ngOnInit(){const t=document.querySelector("#c");this.renderer=new yr({canvas:t,antialias:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=3,this.createScene(),setTimeout(()=>{console.log("hola"),this.startWebGl()},0);const n=new Date;n.setUTCHours(0),this.selectedDate=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDay(),0,0,0,0)),console.log(this.selectedDate),this.changeSunPos()}startWebGl(){requestAnimationFrame(this.render.bind(this))}openRemote(){this.dialog.open(nme,{width:"350px",data:{srv:"",plantId:"",tsm:"",login:"",pass:""}}).afterClosed().subscribe(n=>tt(this,void 0,void 0,function*(){console.log("The dialog was closed"),this.gstSignal.Jwt=this.restApi.Jwt,this.gstSignal.Host=n.srv,n.plantId&&(yield this.loadPlant(n.plantId),this.conectSignalR(),this.loadAlarms())}))}onAngleChanged(t){const n=t.value*Math.PI/180;this.getSelectedTrackers().forEach(s=>{s.rotation=n})}onHourChanged(t){this.solarHour=t.value,this.changeSunPos()}formatSolarHour(t){const n=Math.floor(t);return`${n}:${Math.round(60*(t-n))}`}changedDate(t){console.log(t.value),console.log(this.selectedDate),this.changeSunPos()}changedGeoPos(t){this.changeSunPos()}onAlarmsChanged(t){this.getSelectedTrackers().forEach(r=>{r.alarmCom=this.alarms.noCom,r.flagSystemOk=this.alarms.safePosition})}createScene(){this.camera=new Ls(40,2,.1,4e3),this.camera.position.set(0,-120,100),this.camera.up.set(0,1,0),this.camera.lookAt(0,0,0),this.camControl=new Qpe(this.camera,this.renderer.domElement),this.camControl.enableDamping=!0,this.camControl.dampingFactor=.05,this.camControl.screenSpacePanning=!1,this.camControl.minDistance=10,this.camControl.maxDistance=2e3,this.scene=new Ug,this.sunLight=new aD(16777215,1),this.sunLight.position.set(0,300,0),this.sunLight.position.applyEuler(new yu(Math.PI/4,0,0,"XYZ")),this.sunLight.castShadow=!0,this.sunLight.shadow.mapSize.width=4096,this.sunLight.shadow.mapSize.height=4096,this.sunLight.shadow.bias=-5e-4;const o=250;this.sunLight.shadow.camera=new Ng(-o,o,o,-o,10,2e3),this.sunLight.name="sunLight",this.scene.add(this.sunLight);const a=new iD(16777147,526368,.5);this.scene.add(a);const x=new jd(1,6,6),C=new ir;this.scene.add(C),this.objects.push(C);const A=new Dpe(new ke(2,2,0).normalize(),new ke(0,0,35),5,1113856,.8,.6);this.scene.add(A);const P=new Ub({color:1113856});this.earthMesh=new wr(x,P),this.earthMesh.receiveShadow=!0,this.earthMesh.castShadow=!0,this.earthMesh.position.set(0,0,35),C.add(this.earthMesh),this.objects.push(this.earthMesh),this.createFloor3D(),this.createPanels()}buildDatGui(){this.gui=new V4;const t=this.gui.addFolder("Camera");t.add(this.camera.position,"y",-20,20).listen(),t.add(this.camera.position,"x",-20,20).listen(),this.gui.addFolder("Light").add(this.sunLight.position,"y",-100,100);const r=this.gui.addFolder("floor"),s={modelcolor:"#ff0000",emissiveIntensity:1},o=this.floor;r.addColor(s,"modelcolor").name("Model Color").onChange(function(){o.material.color.set(s.modelcolor)}),r.add(s,"emissiveIntensity",0,1).name("intensity").onChange(function(){o.material.emissiveIntensity=s.emissiveIntensity}),this.gui.addFolder("tsm").add(this.earthMesh.position,"x",-20,20)}resizeRendererToDisplaySize(t){const n=t.domElement,r=n.clientWidth,s=n.clientHeight,o=n.width!==r||n.height!==s;return o&&t.setSize(r,s,!1),o}render(t){if(this.resizeRendererToDisplaySize(this.renderer)){const n=this.renderer.domElement;this.camera.aspect=n.clientWidth/n.clientHeight,this.camera.updateProjectionMatrix()}this.camControl.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render.bind(this))}changeSunPos(){console.log(`changeSunPos: ${this.solarHour}`);const t=new ke(0,-400,0);let n=Math.floor(60*this.solarHour-4*this.geoPos.longitude);const r=Math.floor(n/60);n-=60*r,console.log({hours:r,minutes:n}),this.utcDate=new Date(Date.UTC(this.selectedDate.getFullYear(),this.selectedDate.getMonth()+1,this.selectedDate.getDate(),r,n)),console.log(this.utcDate);const s=$4.getPosition(this.utcDate,this.geoPos.latitude,this.geoPos.longitude),o=$4.getTimes(this.utcDate,this.geoPos.latitude,this.geoPos.longitude);console.debug(o);const a=-s.azimuth,l=-s.altitude;this.sunLight.intensity=this.utcDate>o.dusk||this.utcDate<o.dawn?0:1,t.applyEuler(new yu(l,0,a,"ZXY")),console.log(t),this.sunLight.position.set(t.x,t.y,t.z)}createPanels(){let n=i.offset.x,r=i.offset.y,s=-500;console.log({x:n,y:r});for(let a=1;a<500;a++){s=Math.max(n,s);const l=this.calculateHeight(n,r),c=this.calculatePitch(n,r,30),y=new W4(n,r,l,c);this.trackers.push(y),this.scene.add(y.Mesh),a>0&&a%10==0&&(n+=10),n+=5,n>220&&(r+=35,n=-200)}this.panel1=this.panels[0],console.log({mx:s,y:r})}createFloor3D(){const r=new Rc(500,300,40,40),c=new Vd({color:13092807}),y=new wr(r,c);y.receiveShadow=!0,y.castShadow=!0,y.position.z=0,y.position.x=0,y.position.y=0;const x=r.attributes.position;console.log(x.count);for(let C=0;C<x.count;C++){const A=250+x.getX(C)+-250,P=150+x.getY(C)+-150,L=this.calculateHeight(A,P);x.setZ(C,L)}r.computeVertexNormals(),this.scene.add(y),this.terrainMesh=y}CreateFloor3DFromPlant(t){if(t.box.topHight.z>0){let s=[];t.Tsms.forEach(x=>{x.TscId.forEach(C=>{s.push(new ke(C.pos.x,C.pos.y,C.pos.z))})});let a=(new ci).setFromPoints(s),l=JD.from(s.map(x=>[x.y,x.x]));var r=[];for(let x=0;x<l.triangles.length;x++)r.push(l.triangles[x]);a.setIndex(r),a.computeVertexNormals();const c=new Vd({color:13092807}),y=new wr(a,c);y.receiveShadow=!0,y.castShadow=!0,y.position.z=0,this.scene.add(y),this.terrainMesh=y}else{const s=t.box.topHight.x-t.box.bottLow.x,o=t.box.topHight.y-t.box.bottLow.y,x=new Rc(s,o,40,40),C=new Vd({color:13092807}),A=new wr(x,C);A.receiveShadow=!0,A.castShadow=!0,A.position.z=0;const P=x.attributes.position;for(let L=0;L<P.count;L++)P.getX(L),P.getY(L),P.setZ(L,0);x.computeVertexNormals(),this.scene.add(A),this.terrainMesh=A}}calculateHeight(t,n){const r=t-150,s=n-300;let o=Math.sqrt(r*r+s*s);return o=o*(Math.PI/2)/200,20*Math.pow(Math.sin(o),2)+20}calculatePitch(t,n,r){const s=this.calculateHeight(t,n+r/2),o=this.calculateHeight(t,n-r/2);return Math.atan2(s-o,r)}createPanelsOld(){let t=-200,n=-100;const s=new Ac(4,30,.3),o=new Rc(3,1),l=(new Jg({color:2241535}),new Es({color:15732752}));for(let c=1;c<500;c++){const y=new Jg({color:2241535}),x=new wr(s,y),C=new wr(o,l);C.position.z=.2,x.receiveShadow=!0,x.castShadow=!0,x.position.x=t,x.position.y=n,x.position.z=2,x.rotation.y=0,x.add(C),this.scene.add(x),this.objects.push(x),this.panels.push(x),c>0&&c%10==0&&(t+=10),t+=5,t>220&&(n+=35,t=-200)}this.panel1=this.panels[0]}getSelectedTrackers(){return this.selectedAllTrackers?this.trackers:[this.trackers[this.selectedIdTracker]]}loadPlant(t){return tt(this,void 0,void 0,function*(){const n=yield function ome(i,e){const t="object"==typeof e;return new Promise((n,r)=>{const s=new Q({next:o=>{n(o),s.unsubscribe()},error:r,complete:()=>{t?n(e.defaultValue):r(new rg)}});i.subscribe(s)})}(this.restApi.GetPlant(t)),r=this.createPlantStructure(n);r.Center(),this.setNewPlant(r)})}loadAlarms(){this.restApi.GetAlarms(this.plant.Id).subscribe(t=>{if(null==t)return;let n=null,r=null;for(let s of t)(!n||n.Id!=s.tsmId)&&(n=this.plant.Tsms.get(s.tsmId),r=null),n&&((!r||r.id!=s.tscId)&&(r=n.TscId.get(s.tscId)),r&&r.setAlarm(s.name,s.alarm))})}createPlantStructure(t){const n=new ime;for(var r of(n.Id=t.id,n.GeoPos.latitude=t.geoLocation.y,n.GeoPos.longitude=t.geoLocation.x,t.trackerGroups)){const o=new rme;for(var s of(o.Id=r.id,o.name=r.name,o.Topic=r.mqttTopic,o.pos={x:r.utmLocation.x,y:r.utmLocation.y,z:0},r.tsCs)){const a=new sme;a.id=s.id,a.topic=s.mqttTopic,a.pos={x:s.utmLocation.x,y:s.utmLocation.y,z:s.zCoordinate},null==a.pos.z&&(a.pos.z=0),o.Add(a)}n.AddTsm(o)}return n}setNewPlant(t){this.disposeCurrentMeshes(),this.createTrackersFromPlant(t),this.CreateFloor3DFromPlant(t),this.plant=t,this.geoPos.latitude=t.GeoPos.latitude,this.geoPos.longitude=t.GeoPos.longitude;var n=new Date;this.selectedDate=n,console.log(n);let r=n.getUTCHours();r+=n.getMinutes()/60,r+=4*this.geoPos.longitude/60,console.log({horaDec:r}),this.solarHour=r,this.changeSunPos()}eot(t){const n=360*(t-81)/365;return 9.87*Math.sin(2*n)-7.53*Math.cos(n)-1.5*Math.sin(n)}createTrackersFromPlant(t){t.Tsms.forEach(s=>{s.TscId.forEach(o=>{const x=new W4(o.pos.x,o.pos.y,o.pos.z+3,0);this.trackers.push(x),this.scene.add(x.Mesh),o.Tracker=x})})}disposeCurrentMeshes(){for(var t of this.trackers)t.Delete(this.scene);this.trackers.length=0,this.scene.remove(this.terrainMesh),this.terrainMesh.geometry.dispose(),this.terrainMesh=null}conectSignalR(){this.gstSignal.SubscribeToPlant(this.plant.Id).subscribe(t=>{this.processData(t)}),setTimeout(()=>{this.plant.Tsms.forEach(t=>{this.gstSignal.GetLastData(this.plant.Id,t.Id)})},1e3)}processData(t){let n=t.value.v;if(null==n)return;let r=null,s=null;n.forEach(o=>{let a=o.info.tsmId;if((null===r||r.Topic!=a)&&(r=this.plant.TsmsTopic.get(a),s=null),!r)return;let l=o.info.tscId;!l||((null===s||s.topic!=l)&&(s=r.TscTopic.get(l)),null!==s&&s.setVariableValue(o.info.variableId,o.value.v))})}}return i.offset={x:-200,y:-100},i.\u0275fac=function(t){return new(t||i)(ae(x0),ae(DD),ae(CV))},i.\u0275cmp=xi({type:i,selectors:[["app-three-test"]],decls:83,vars:18,consts:[["fxFlexFill",""],["mode","side","opened",""],["mat-card-avatar",""],["mat-raised-button","",3,"click"],["appearance","fill","id","dateTimeId"],["matInput","",3,"matDatepicker","ngModel","maxlength","ngModelChange","dateChange"],["matSuffix","",3,"for"],["picker",""],["thumbLabel","","tickInterval","2","min","4","matTooltip","Hora solar media local","max","22","step","0.25","value","12",3,"displayWith","input"],["matTooltip","Fecha UTC",1,"fs-10"],[1,"latlon"],["matInput","","placeholder","lat","type","number","min","-85","max","85",3,"ngModel","ngModelChange"],["matInput","","placeholder","long","type","number","min","-180","max","180",3,"ngModel","ngModelChange"],["floatLabel","always","appearance","none"],["matTooltip","Los cambios afectan a todos o al seleccionado","matTooltip","Seleccionar todos o solo uno",3,"ngModel","ngModelChange"],["matInput","","hidden",""],["matInput","","placeholder","Tracker number","type","number","matTooltip","Id del tracker seleccionado","id","myNumber",3,"disabled","ngModel","ngModelChange"],["thumbLabel","","tickInterval","30","min","-80","max","80","step","5","value","0","matTooltip","Inclinacion de los tracker seleccinoados",3,"input"],["matTooltip","Alarma No coms",3,"ngModel","ngModelChange","change"],["matTooltip","Posicion seguridad activada",3,"ngModel","ngModelChange","change"],["matTooltip","Alarma de bateria",3,"ngModel","disabled","ngModelChange","change"],[2,"background-color","lightblue"],["fxFlexFill","",1,"example-events",2,"background-color","lightseagreen"],["id","c","fxFlexFill",""]],template:function(t,n){if(1&t&&(ot(0,"mat-sidenav-container",0),ot(1,"mat-sidenav",1),ot(2,"mat-card"),ot(3,"mat-card-header"),ot(4,"mat-icon",2),Fn(5,"settings_remote"),at(),ot(6,"mat-card-title"),Fn(7,"From server"),at(),at(),ot(8,"mat-card-content"),ot(9,"button",3),Mn("click",function(){return n.openRemote()}),Fn(10,"Pick one"),at(),at(),at(),ot(11,"mat-card"),ot(12,"mat-card-header"),ot(13,"mat-icon",2),Fn(14,"preview"),at(),ot(15,"mat-card-title"),Fn(16,"Date-time"),at(),at(),ot(17,"mat-card-content"),ot(18,"mat-form-field",4),ot(19,"mat-label"),Fn(20,"Fecha"),at(),ot(21,"input",5),Mn("ngModelChange",function(s){return n.selectedDate=s})("dateChange",function(s){return n.changedDate(s)}),at(),Ai(22,"mat-datepicker-toggle",6),Ai(23,"mat-datepicker",null,7),at(),ot(25,"mat-slider",8),Mn("input",function(s){return n.onHourChanged(s)}),at(),at(),ot(26,"mat-card-footer"),ot(27,"span",9),Fn(28),v1(29,"date"),at(),at(),at(),ot(30,"mat-card"),ot(31,"mat-card-header"),ot(32,"mat-icon",2),Fn(33,"my_location"),at(),ot(34,"mat-card-title"),Fn(35,"Location"),at(),at(),ot(36,"mat-card-content"),ot(37,"mat-form-field",10),ot(38,"mat-label"),Fn(39,"Latitude"),at(),ot(40,"input",11),Mn("ngModelChange",function(s){return n.geoPos.latitude=s}),at(),at(),ot(41,"mat-form-field",10),ot(42,"mat-label"),Fn(43,"Longitude"),at(),ot(44,"input",12),Mn("ngModelChange",function(s){return n.geoPos.longitude=s}),at(),at(),at(),at(),ot(45,"mat-card"),ot(46,"mat-card-header"),ot(47,"mat-icon",2),Fn(48,"select_all"),at(),ot(49,"mat-card-title"),Fn(50,"Tracker selection"),at(),at(),ot(51,"mat-card-content"),ot(52,"mat-form-field",13),ot(53,"mat-slide-toggle",14),Mn("ngModelChange",function(s){return n.selectedAllTrackers=s}),Fn(54," All selected "),at(),Ai(55,"textarea",15),at(),ot(56,"mat-form-field"),ot(57,"mat-label"),Fn(58,"Only selected"),at(),ot(59,"input",16),Mn("ngModelChange",function(s){return n.selectedIdTracker=s}),at(),at(),at(),at(),ot(60,"mat-card"),ot(61,"mat-card-header"),ot(62,"mat-icon",2),Fn(63,"exposure"),at(),ot(64,"mat-card-title"),Fn(65,"Tracker"),at(),at(),ot(66,"mat-card-content"),ot(67,"mat-card-subtitle"),Fn(68,"Movimiento"),at(),ot(69,"mat-label"),Fn(70,"angulo:"),at(),ot(71,"mat-slider",17),Mn("input",function(s){return n.onAngleChanged(s)}),at(),ot(72,"mat-card-subtitle"),Fn(73,"Indicadores"),at(),ot(74,"mat-slide-toggle",18),Mn("ngModelChange",function(s){return n.alarms.noCom=s})("change",function(s){return n.onAlarmsChanged(s)}),Fn(75," No COM "),at(),ot(76,"mat-slide-toggle",19),Mn("ngModelChange",function(s){return n.alarms.safePosition=s})("change",function(s){return n.onAlarmsChanged(s)}),Fn(77," Safe Position "),at(),ot(78,"mat-slide-toggle",20),Mn("ngModelChange",function(s){return n.alarms.battery=s})("change",function(s){return n.onAlarmsChanged(s)}),Fn(79," bateria "),at(),at(),at(),at(),ot(80,"mat-sidenav-content",21),ot(81,"div",22),Ai(82,"canvas",23),at(),at(),at()),2&t){const r=jh(24);on(21),un("matDatepicker",r)("ngModel",n.selectedDate)("maxlength",10),on(1),un("for",r),on(3),un("displayWith",n.formatSolarHour),on(3),Ho(function UI(i,e,t,n){const r=i+20,s=sn(),o=uh(s,r);return Sm(s,r)?FI(s,Eo(),e,o.transform,t,n,o):o.transform(t,n)}(29,15,n.utcDate,"medium")),on(12),un("ngModel",n.geoPos.latitude),on(4),un("ngModel",n.geoPos.longitude),on(9),un("ngModel",n.selectedAllTrackers),on(6),un("disabled",n.selectedAllTrackers)("ngModel",n.selectedIdTracker),on(15),un("ngModel",n.alarms.noCom),on(2),un("ngModel",n.alarms.safePosition),on(2),un("ngModel",n.alarms.battery)("disabled",!0)}},directives:[tB,TN,eB,nre,ire,qS,tre,Qie,Kie,ru,EC,_g,DC,UC,Jh,iv,Bm,LM,goe,GN,uoe,AC,yB,ere,IM,RM,dv,kC,Jie,IC],pipes:[iP],styles:[".exampless-events[_ngcontent-%COMP%]{width:300px;height:500px;overflow:auto;border:1px solid #555}.mat-sidenav[_ngcontent-%COMP%]{width:300px;padding:0;font-size:80%}.latlon[_ngcontent-%COMP%]{width:100px}"]}),i})();const hge=[{path:"home",component:EV},{path:"p5Test",component:iae},{path:"threeTest",component:EV},{path:"threeBasicTest",component:(()=>{class i{constructor(){this.objects=[]}ngOnInit(){const t=document.querySelector("#c");this.renderer=new yr({canvas:t}),this.createScene()}startWebGl(){requestAnimationFrame(this.render.bind(this))}createScene(){this.camera=new Ls(40,2,.1,1e3),this.camera.position.set(0,50,0),this.camera.up.set(0,0,1),this.camera.lookAt(0,0,0),this.scene=new Ug;{const F=new oD(16777215,3);this.scene.add(F)}const c=new jd(1,6,6),y=new ir;this.scene.add(y),this.objects.push(y);const x=new Vd({emissive:16776960}),C=new wr(c,x);C.scale.set(5,5,5),y.add(C),this.objects.push(C);const A=new Vd({color:2241535,emissive:1122884}),P=new wr(c,A);P.position.x=10,y.add(P),this.objects.push(P),this.objects.forEach(L=>{const H=new x4;H.material.depthTest=!1,H.renderOrder=1,L.add(H)})}resizeRendererToDisplaySize(t){const n=t.domElement,r=n.clientWidth,s=n.clientHeight,o=n.width!==r||n.height!==s;return o&&t.setSize(r,s,!1),o}render(t){if(t*=.001,this.resizeRendererToDisplaySize(this.renderer)){const n=this.renderer.domElement;this.camera.aspect=n.clientWidth/n.clientHeight,this.camera.updateProjectionMatrix()}this.objects.forEach(n=>{n.rotation.y=t}),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render.bind(this))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=xi({type:i,selectors:[["app-three-basic-test"]],decls:7,vars:0,consts:[["flex","","fxLayout","column",1,"container"],["id","c"],[2,"background-color","lightsalmon"],["mat-button","",3,"click"]],template:function(t,n){1&t&&(ot(0,"div",0),ot(1,"p"),Fn(2,"three-basic-test works!"),at(),Ai(3,"canvas",1),ot(4,"div",2),ot(5,"button",3),Mn("click",function(){return n.startWebGl()}),Fn(6,"start"),at(),at(),at())},directives:[MC,ru],styles:[""]}),i})()},{path:"",redirectTo:"/home",pathMatch:"full"}];let fge=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i}),i.\u0275inj=Xn({imports:[[tl,nN.forRoot(hge,{enableTracing:!1})],nN]}),i})(),pge=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=bn({type:i,bootstrap:[Fee]}),i.\u0275inj=Xn({providers:[DD,CV],imports:[[eQ,Vq,_P,cZ,Wie,$ie,rre,bre,NZ,jK,sse,nF,dQ,lse,DQ,Joe,bse,Pse,S0,Xre,yoe,xZ,Poe,fge]]}),i})();(function l9(){Ck=!1})(),S$().bootstrapModule(pge).catch(i=>console.error(i))},505:Ks=>{Ks.exports=function h(te,j,k){function g(M,b){if(!j[M]){if(!te[M]){if(w)return w(M,!0);var u=new Error("Cannot find module '"+M+"'");throw u.code="MODULE_NOT_FOUND",u}var d=j[M]={exports:{}};te[M][0].call(d.exports,function(p){return g(te[M][1][p]||p)},d,d.exports,h,te,j,k)}return j[M].exports}for(var w=void 0,S=0;S<k.length;S++)g(k[S]);return g}({1:[function(h,te,j){"use strict";j.byteLength=function(d){var p=f(d),v=p[1];return 3*(p[0]+v)/4-v},j.toByteArray=function(d){var p,m,K,v=f(d),D=v[0],I=v[1],R=new w(3*(D+(K=I))/4-K),B=0,V=0<I?D-4:D;for(m=0;m<V;m+=4)p=g[d.charCodeAt(m)]<<18|g[d.charCodeAt(m+1)]<<12|g[d.charCodeAt(m+2)]<<6|g[d.charCodeAt(m+3)],R[B++]=p>>16&255,R[B++]=p>>8&255,R[B++]=255&p;return 2===I&&(p=g[d.charCodeAt(m)]<<2|g[d.charCodeAt(m+1)]>>4,R[B++]=255&p),1===I&&(p=g[d.charCodeAt(m)]<<10|g[d.charCodeAt(m+1)]<<4|g[d.charCodeAt(m+2)]>>2,R[B++]=p>>8&255,R[B++]=255&p),R},j.fromByteArray=function(d){for(var p,m=d.length,v=m%3,D=[],I=0,R=m-v;I<R;I+=16383)D.push(u(d,I,R<I+16383?R:I+16383));return 1==v?D.push(k[(p=d[m-1])>>2]+k[p<<4&63]+"=="):2==v&&D.push(k[(p=(d[m-2]<<8)+d[m-1])>>10]+k[p>>4&63]+k[p<<2&63]+"="),D.join("")};for(var k=[],g=[],w="undefined"!=typeof Uint8Array?Uint8Array:Array,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=0,b=S.length;M<b;++M)k[M]=S[M],g[S.charCodeAt(M)]=M;function f(d){var p=d.length;if(0<p%4)throw new Error("Invalid string. Length must be a multiple of 4");var m=d.indexOf("=");return-1===m&&(m=p),[m,m===p?0:4-m%4]}function u(d,p,m){for(var D,I=[],R=p;R<m;R+=3)I.push(k[(D=(d[R]<<16&16711680)+(d[R+1]<<8&65280)+(255&d[R+2]))>>18&63]+k[D>>12&63]+k[D>>6&63]+k[63&D]);return I.join("")}g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63},{}],2:[function(h,te,j){},{}],3:[function(h,te,j){arguments[4][2][0].apply(j,arguments)},{dup:2}],4:[function(h,te,j){(function(f){"use strict";var g=h("base64-js"),w=h("ieee754"),S="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=f,j.SlowBuffer=function(z){return+z!=z&&(z=0),f.alloc(+z)},j.INSPECT_MAX_BYTES=50;var M=2147483647;function b(z){if(M<z)throw new RangeError('The value "'+z+'" is invalid for option "size"');var ie=new Uint8Array(z);return Object.setPrototypeOf(ie,f.prototype),ie}function f(z,ie,fe){if("number"!=typeof z)return u(z,ie,fe);if("string"==typeof ie)throw new TypeError('The "string" argument must be of type string. Received type number');return p(z)}function u(z,ie,fe){if("string"==typeof z)return function(Ae,ft){if("string"==typeof ft&&""!==ft||(ft="utf8"),!f.isEncoding(ft))throw new TypeError("Unknown encoding: "+ft);var Pe=0|D(Ae,ft),tt=b(Pe),st=tt.write(Ae,ft);return st!==Pe&&(tt=tt.slice(0,st)),tt}(z,ie);if(ArrayBuffer.isView(z))return m(z);if(null==z)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(Ke(z,ArrayBuffer)||z&&Ke(z.buffer,ArrayBuffer))return function(Ae,ft,Pe){if(ft<0||Ae.byteLength<ft)throw new RangeError('"offset" is outside of buffer bounds');if(Ae.byteLength<ft+(Pe||0))throw new RangeError('"length" is outside of buffer bounds');var tt;return tt=void 0===ft&&void 0===Pe?new Uint8Array(Ae):void 0===Pe?new Uint8Array(Ae,ft):new Uint8Array(Ae,ft,Pe),Object.setPrototypeOf(tt,f.prototype),tt}(z,ie,fe);if("number"==typeof z)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=z.valueOf&&z.valueOf();if(null!=Ee&&Ee!==z)return f.from(Ee,ie,fe);var Ne=function(Ae){if(f.isBuffer(Ae)){var ft=0|v(Ae.length),Pe=b(ft);return 0===Pe.length||Ae.copy(Pe,0,0,ft),Pe}return void 0!==Ae.length?"number"!=typeof Ae.length||ct(Ae.length)?b(0):m(Ae):"Buffer"===Ae.type&&Array.isArray(Ae.data)?m(Ae.data):void 0}(z);if(Ne)return Ne;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof z[Symbol.toPrimitive])return f.from(z[Symbol.toPrimitive]("string"),ie,fe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}function d(z){if("number"!=typeof z)throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function p(z){return d(z),b(z<0?0:0|v(z))}function m(z){for(var ie=z.length<0?0:0|v(z.length),fe=b(ie),Ee=0;Ee<ie;Ee+=1)fe[Ee]=255&z[Ee];return fe}function v(z){if(M<=z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+M.toString(16)+" bytes");return 0|z}function D(z,ie){if(f.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||Ke(z,ArrayBuffer))return z.byteLength;if("string"!=typeof z)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var fe=z.length,Ee=2<arguments.length&&!0===arguments[2];if(!Ee&&0===fe)return 0;for(var Ne=!1;;)switch(ie){case"ascii":case"latin1":case"binary":return fe;case"utf8":case"utf-8":return Ge(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*fe;case"hex":return fe>>>1;case"base64":return De(z).length;default:if(Ne)return Ee?-1:Ge(z).length;ie=(""+ie).toLowerCase(),Ne=!0}}function I(z,ie,fe){var Ee=z[ie];z[ie]=z[fe],z[fe]=Ee}function R(z,ie,fe,Ee,Ne){if(0===z.length)return-1;if("string"==typeof fe?(Ee=fe,fe=0):2147483647<fe?fe=2147483647:fe<-2147483648&&(fe=-2147483648),ct(fe=+fe)&&(fe=Ne?0:z.length-1),fe<0&&(fe=z.length+fe),fe>=z.length){if(Ne)return-1;fe=z.length-1}else if(fe<0){if(!Ne)return-1;fe=0}if("string"==typeof ie&&(ie=f.from(ie,Ee)),f.isBuffer(ie))return 0===ie.length?-1:B(z,ie,fe,Ee,Ne);if("number"==typeof ie)return ie&=255,"function"==typeof Uint8Array.prototype.indexOf?Ne?Uint8Array.prototype.indexOf.call(z,ie,fe):Uint8Array.prototype.lastIndexOf.call(z,ie,fe):B(z,[ie],fe,Ee,Ne);throw new TypeError("val must be string, number or Buffer")}function B(z,ie,fe,Ee,Ne){var Ae,ft=1,Pe=z.length,tt=ie.length;if(void 0!==Ee&&("ucs2"===(Ee=String(Ee).toLowerCase())||"ucs-2"===Ee||"utf16le"===Ee||"utf-16le"===Ee)){if(z.length<2||ie.length<2)return-1;Pe/=ft=2,tt/=2,fe/=2}function st(xt,ln){return 1===ft?xt[ln]:xt.readUInt16BE(ln*ft)}if(Ne){var Ye=-1;for(Ae=fe;Ae<Pe;Ae++)if(st(z,Ae)===st(ie,-1===Ye?0:Ae-Ye)){if(-1===Ye&&(Ye=Ae),Ae-Ye+1===tt)return Ye*ft}else-1!==Ye&&(Ae-=Ae-Ye),Ye=-1}else for(Pe<fe+tt&&(fe=Pe-tt),Ae=fe;0<=Ae;Ae--){for(var Mt=!0,Et=0;Et<tt;Et++)if(st(z,Ae+Et)!==st(ie,Et)){Mt=!1;break}if(Mt)return Ae}return-1}function V(z,ie,fe,Ee){fe=Number(fe)||0;var Ne=z.length-fe;Ee?Ne<(Ee=Number(Ee))&&(Ee=Ne):Ee=Ne;var Ae=ie.length;Ae/2<Ee&&(Ee=Ae/2);for(var ft=0;ft<Ee;++ft){var Pe=parseInt(ie.substr(2*ft,2),16);if(ct(Pe))return ft;z[fe+ft]=Pe}return ft}function G(z,ie,fe,Ee){return lt(function(Ne){for(var Ae=[],ft=0;ft<Ne.length;++ft)Ae.push(255&Ne.charCodeAt(ft));return Ae}(ie),z,fe,Ee)}function K(z,ie,fe,Ee){return lt(function(Ne,Ae){for(var ft,Pe,st=[],Ye=0;Ye<Ne.length&&!((Ae-=2)<0);++Ye)Pe=(ft=Ne.charCodeAt(Ye))>>8,st.push(ft%256),st.push(Pe);return st}(ie,z.length-fe),z,fe,Ee)}function Q(z,ie,fe){return g.fromByteArray(0===ie&&fe===z.length?z:z.slice(ie,fe))}function W(z,ie,fe){fe=Math.min(z.length,fe);for(var Ee=[],Ne=ie;Ne<fe;){var Ae,ft,Pe,tt,st=z[Ne],Ye=null,Mt=239<st?4:223<st?3:191<st?2:1;if(Ne+Mt<=fe)switch(Mt){case 1:st<128&&(Ye=st);break;case 2:128==(192&(Ae=z[Ne+1]))&&127<(tt=(31&st)<<6|63&Ae)&&(Ye=tt);break;case 3:ft=z[Ne+2],128==(192&(Ae=z[Ne+1]))&&128==(192&ft)&&2047<(tt=(15&st)<<12|(63&Ae)<<6|63&ft)&&(tt<55296||57343<tt)&&(Ye=tt);break;case 4:ft=z[Ne+2],Pe=z[Ne+3],128==(192&(Ae=z[Ne+1]))&&128==(192&ft)&&128==(192&Pe)&&65535<(tt=(15&st)<<18|(63&Ae)<<12|(63&ft)<<6|63&Pe)&&tt<1114112&&(Ye=tt)}null===Ye?(Ye=65533,Mt=1):65535<Ye&&(Ee.push((Ye-=65536)>>>10&1023|55296),Ye=56320|1023&Ye),Ee.push(Ye),Ne+=Mt}return function(Et){var xt=Et.length;if(xt<=Z)return String.fromCharCode.apply(String,Et);for(var ln="",An=0;An<xt;)ln+=String.fromCharCode.apply(String,Et.slice(An,An+=Z));return ln}(Ee)}j.kMaxLength=M,(f.TYPED_ARRAY_SUPPORT=function(){try{var z=new Uint8Array(1),ie={foo:function(){return 42}};return Object.setPrototypeOf(ie,Uint8Array.prototype),Object.setPrototypeOf(z,ie),42===z.foo()}catch(fe){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=function(z,ie,fe){return u(z,ie,fe)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(z,ie,fe){return Ne=ie,Ae=fe,d(Ee=z),Ee<=0?b(Ee):void 0!==Ne?"string"==typeof Ae?b(Ee).fill(Ne,Ae):b(Ee).fill(Ne):b(Ee);var Ee,Ne,Ae},f.allocUnsafe=function(z){return p(z)},f.allocUnsafeSlow=function(z){return p(z)},f.isBuffer=function(z){return null!=z&&!0===z._isBuffer&&z!==f.prototype},f.compare=function(z,ie){if(Ke(z,Uint8Array)&&(z=f.from(z,z.offset,z.byteLength)),Ke(ie,Uint8Array)&&(ie=f.from(ie,ie.offset,ie.byteLength)),!f.isBuffer(z)||!f.isBuffer(ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===ie)return 0;for(var fe=z.length,Ee=ie.length,Ne=0,Ae=Math.min(fe,Ee);Ne<Ae;++Ne)if(z[Ne]!==ie[Ne]){fe=z[Ne],Ee=ie[Ne];break}return fe<Ee?-1:Ee<fe?1:0},f.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(z,ie){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(0===z.length)return f.alloc(0);var fe;if(void 0===ie)for(fe=ie=0;fe<z.length;++fe)ie+=z[fe].length;var Ee=f.allocUnsafe(ie),Ne=0;for(fe=0;fe<z.length;++fe){var Ae=z[fe];if(Ke(Ae,Uint8Array)&&(Ae=f.from(Ae)),!f.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(Ee,Ne),Ne+=Ae.length}return Ee},f.byteLength=D,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ie=0;ie<z;ie+=2)I(this,ie,ie+1);return this},f.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ie=0;ie<z;ie+=4)I(this,ie,ie+3),I(this,ie+1,ie+2);return this},f.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ie=0;ie<z;ie+=8)I(this,ie,ie+7),I(this,ie+1,ie+6),I(this,ie+2,ie+5),I(this,ie+3,ie+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var z=this.length;return 0===z?"":0===arguments.length?W(this,0,z):function(ie,fe,Ee){var Ne=!1;if((void 0===fe||fe<0)&&(fe=0),fe>this.length||((void 0===Ee||Ee>this.length)&&(Ee=this.length),Ee<=0)||(Ee>>>=0)<=(fe>>>=0))return"";for(ie=ie||"utf8";;)switch(ie){case"hex":return se(this,fe,Ee);case"utf8":case"utf-8":return W(this,fe,Ee);case"ascii":return ne(this,fe,Ee);case"latin1":case"binary":return X(this,fe,Ee);case"base64":return Q(this,fe,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,fe,Ee);default:if(Ne)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),Ne=!0}}.apply(this,arguments)},f.prototype.equals=function(z){if(!f.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||0===f.compare(this,z)},f.prototype.inspect=function(){var z="",ie=j.INSPECT_MAX_BYTES;return z=this.toString("hex",0,ie).replace(/(.{2})/g,"$1 ").trim(),this.length>ie&&(z+=" ... "),"<Buffer "+z+">"},S&&(f.prototype[S]=f.prototype.inspect),f.prototype.compare=function(z,ie,fe,Ee,Ne){if(Ke(z,Uint8Array)&&(z=f.from(z,z.offset,z.byteLength)),!f.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(void 0===ie&&(ie=0),void 0===fe&&(fe=z?z.length:0),void 0===Ee&&(Ee=0),void 0===Ne&&(Ne=this.length),ie<0||fe>z.length||Ee<0||Ne>this.length)throw new RangeError("out of range index");if(Ne<=Ee&&fe<=ie)return 0;if(Ne<=Ee)return-1;if(fe<=ie)return 1;if(this===z)return 0;for(var Ae=(Ne>>>=0)-(Ee>>>=0),ft=(fe>>>=0)-(ie>>>=0),Pe=Math.min(Ae,ft),tt=this.slice(Ee,Ne),st=z.slice(ie,fe),Ye=0;Ye<Pe;++Ye)if(tt[Ye]!==st[Ye]){Ae=tt[Ye],ft=st[Ye];break}return Ae<ft?-1:ft<Ae?1:0},f.prototype.includes=function(z,ie,fe){return-1!==this.indexOf(z,ie,fe)},f.prototype.indexOf=function(z,ie,fe){return R(this,z,ie,fe,!0)},f.prototype.lastIndexOf=function(z,ie,fe){return R(this,z,ie,fe,!1)},f.prototype.write=function(z,ie,fe,Ee){if(void 0===ie)Ee="utf8",fe=this.length,ie=0;else if(void 0===fe&&"string"==typeof ie)Ee=ie,fe=this.length,ie=0;else{if(!isFinite(ie))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ie>>>=0,isFinite(fe)?(fe>>>=0,void 0===Ee&&(Ee="utf8")):(Ee=fe,fe=void 0)}var Ne=this.length-ie;if((void 0===fe||Ne<fe)&&(fe=Ne),0<z.length&&(fe<0||ie<0)||ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee=Ee||"utf8";for(var ft,Pe,st,Ye,Mt=!1;;)switch(Ee){case"hex":return V(this,z,ie,fe);case"utf8":case"utf-8":return Ye=fe,lt(Ge(z,this.length-(st=ie)),this,st,Ye);case"ascii":case"latin1":case"binary":return G(this,z,ie,fe);case"base64":return this,ft=ie,Pe=fe,lt(De(z),this,ft,Pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,z,ie,fe);default:if(Mt)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),Mt=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;function ne(z,ie,fe){var Ee="";fe=Math.min(z.length,fe);for(var Ne=ie;Ne<fe;++Ne)Ee+=String.fromCharCode(127&z[Ne]);return Ee}function X(z,ie,fe){var Ee="";fe=Math.min(z.length,fe);for(var Ne=ie;Ne<fe;++Ne)Ee+=String.fromCharCode(z[Ne]);return Ee}function se(z,ie,fe){var Ee=z.length;(!ie||ie<0)&&(ie=0),(!fe||fe<0||Ee<fe)&&(fe=Ee);for(var Ne="",Ae=ie;Ae<fe;++Ae)Ne+=ut[z[Ae]];return Ne}function oe(z,ie,fe){for(var Ee=z.slice(ie,fe),Ne="",Ae=0;Ae<Ee.length;Ae+=2)Ne+=String.fromCharCode(Ee[Ae]+256*Ee[Ae+1]);return Ne}function Fe(z,ie,fe){if(z%1!=0||z<0)throw new RangeError("offset is not uint");if(fe<z+ie)throw new RangeError("Trying to access beyond buffer length")}function Be(z,ie,fe,Ee,Ne,Ae){if(!f.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ne<ie||ie<Ae)throw new RangeError('"value" argument is out of bounds');if(fe+Ee>z.length)throw new RangeError("Index out of range")}function xe(z,ie,fe,Ee){if(fe+Ee>z.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("Index out of range")}function Ue(z,ie,fe,Ee,Ne){return ie=+ie,fe>>>=0,Ne||xe(z,0,fe,4),w.write(z,ie,fe,Ee,23,4),fe+4}function Ve(z,ie,fe,Ee,Ne){return ie=+ie,fe>>>=0,Ne||xe(z,0,fe,8),w.write(z,ie,fe,Ee,52,8),fe+8}f.prototype.slice=function(z,ie){var fe=this.length;(z=~~z)<0?(z+=fe)<0&&(z=0):fe<z&&(z=fe),(ie=void 0===ie?fe:~~ie)<0?(ie+=fe)<0&&(ie=0):fe<ie&&(ie=fe),ie<z&&(ie=z);var Ee=this.subarray(z,ie);return Object.setPrototypeOf(Ee,f.prototype),Ee},f.prototype.readUIntLE=function(z,ie,fe){z>>>=0,ie>>>=0,fe||Fe(z,ie,this.length);for(var Ee=this[z],Ne=1,Ae=0;++Ae<ie&&(Ne*=256);)Ee+=this[z+Ae]*Ne;return Ee},f.prototype.readUIntBE=function(z,ie,fe){z>>>=0,ie>>>=0,fe||Fe(z,ie,this.length);for(var Ee=this[z+--ie],Ne=1;0<ie&&(Ne*=256);)Ee+=this[z+--ie]*Ne;return Ee},f.prototype.readUInt8=function(z,ie){return z>>>=0,ie||Fe(z,1,this.length),this[z]},f.prototype.readUInt16LE=function(z,ie){return z>>>=0,ie||Fe(z,2,this.length),this[z]|this[z+1]<<8},f.prototype.readUInt16BE=function(z,ie){return z>>>=0,ie||Fe(z,2,this.length),this[z]<<8|this[z+1]},f.prototype.readUInt32LE=function(z,ie){return z>>>=0,ie||Fe(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},f.prototype.readUInt32BE=function(z,ie){return z>>>=0,ie||Fe(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},f.prototype.readIntLE=function(z,ie,fe){z>>>=0,ie>>>=0,fe||Fe(z,ie,this.length);for(var Ee=this[z],Ne=1,Ae=0;++Ae<ie&&(Ne*=256);)Ee+=this[z+Ae]*Ne;return(Ne*=128)<=Ee&&(Ee-=Math.pow(2,8*ie)),Ee},f.prototype.readIntBE=function(z,ie,fe){z>>>=0,ie>>>=0,fe||Fe(z,ie,this.length);for(var Ee=ie,Ne=1,Ae=this[z+--Ee];0<Ee&&(Ne*=256);)Ae+=this[z+--Ee]*Ne;return(Ne*=128)<=Ae&&(Ae-=Math.pow(2,8*ie)),Ae},f.prototype.readInt8=function(z,ie){return z>>>=0,ie||Fe(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},f.prototype.readInt16LE=function(z,ie){z>>>=0,ie||Fe(z,2,this.length);var fe=this[z]|this[z+1]<<8;return 32768&fe?4294901760|fe:fe},f.prototype.readInt16BE=function(z,ie){z>>>=0,ie||Fe(z,2,this.length);var fe=this[z+1]|this[z]<<8;return 32768&fe?4294901760|fe:fe},f.prototype.readInt32LE=function(z,ie){return z>>>=0,ie||Fe(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},f.prototype.readInt32BE=function(z,ie){return z>>>=0,ie||Fe(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},f.prototype.readFloatLE=function(z,ie){return z>>>=0,ie||Fe(z,4,this.length),w.read(this,z,!0,23,4)},f.prototype.readFloatBE=function(z,ie){return z>>>=0,ie||Fe(z,4,this.length),w.read(this,z,!1,23,4)},f.prototype.readDoubleLE=function(z,ie){return z>>>=0,ie||Fe(z,8,this.length),w.read(this,z,!0,52,8)},f.prototype.readDoubleBE=function(z,ie){return z>>>=0,ie||Fe(z,8,this.length),w.read(this,z,!1,52,8)},f.prototype.writeUIntLE=function(z,ie,fe,Ee){z=+z,ie>>>=0,fe>>>=0,Ee||Be(this,z,ie,fe,Math.pow(2,8*fe)-1,0);var Ne=1,Ae=0;for(this[ie]=255&z;++Ae<fe&&(Ne*=256);)this[ie+Ae]=z/Ne&255;return ie+fe},f.prototype.writeUIntBE=function(z,ie,fe,Ee){z=+z,ie>>>=0,fe>>>=0,Ee||Be(this,z,ie,fe,Math.pow(2,8*fe)-1,0);var Ne=fe-1,Ae=1;for(this[ie+Ne]=255&z;0<=--Ne&&(Ae*=256);)this[ie+Ne]=z/Ae&255;return ie+fe},f.prototype.writeUInt8=function(z,ie,fe){return z=+z,ie>>>=0,fe||Be(this,z,ie,1,255,0),this[ie]=255&z,ie+1},f.prototype.writeUInt16LE=function(z,ie,fe){return z=+z,ie>>>=0,fe||Be(this,z,ie,2,65535,0),this[ie]=255&z,this[ie+1]=z>>>8,ie+2},f.prototype.writeUInt16BE=function(z,ie,fe){return z=+z,ie>>>=0,fe||Be(this,z,ie,2,65535,0),this[ie]=z>>>8,this[ie+1]=255&z,ie+2},f.prototype.writeUInt32LE=function(z,ie,fe){return z=+z,ie>>>=0,fe||Be(this,z,ie,4,4294967295,0),this[ie+3]=z>>>24,this[ie+2]=z>>>16,this[ie+1]=z>>>8,this[ie]=255&z,ie+4},f.prototype.writeUInt32BE=function(z,ie,fe){return z=+z,ie>>>=0,fe||Be(this,z,ie,4,4294967295,0),this[ie]=z>>>24,this[ie+1]=z>>>16,this[ie+2]=z>>>8,this[ie+3]=255&z,ie+4},f.prototype.writeIntLE=function(z,ie,fe,Ee){if(z=+z,ie>>>=0,!Ee){var Ne=Math.pow(2,8*fe-1);Be(this,z,ie,fe,Ne-1,-Ne)}var Ae=0,ft=1,Pe=0;for(this[ie]=255&z;++Ae<fe&&(ft*=256);)z<0&&0===Pe&&0!==this[ie+Ae-1]&&(Pe=1),this[ie+Ae]=(z/ft>>0)-Pe&255;return ie+fe},f.prototype.writeIntBE=function(z,ie,fe,Ee){if(z=+z,ie>>>=0,!Ee){var Ne=Math.pow(2,8*fe-1);Be(this,z,ie,fe,Ne-1,-Ne)}var Ae=fe-1,ft=1,Pe=0;for(this[ie+Ae]=255&z;0<=--Ae&&(ft*=256);)z<0&&0===Pe&&0!==this[ie+Ae+1]&&(Pe=1),this[ie+Ae]=(z/ft>>0)-Pe&255;return ie+fe},f.prototype.writeInt8=function(z,ie,fe){return z=+z,ie>>>=0,fe||Be(this,z,ie,1,127,-128),z<0&&(z=255+z+1),this[ie]=255&z,ie+1},f.prototype.writeInt16LE=function(z,ie,fe){return z=+z,ie>>>=0,fe||Be(this,z,ie,2,32767,-32768),this[ie]=255&z,this[ie+1]=z>>>8,ie+2},f.prototype.writeInt16BE=function(z,ie,fe){return z=+z,ie>>>=0,fe||Be(this,z,ie,2,32767,-32768),this[ie]=z>>>8,this[ie+1]=255&z,ie+2},f.prototype.writeInt32LE=function(z,ie,fe){return z=+z,ie>>>=0,fe||Be(this,z,ie,4,2147483647,-2147483648),this[ie]=255&z,this[ie+1]=z>>>8,this[ie+2]=z>>>16,this[ie+3]=z>>>24,ie+4},f.prototype.writeInt32BE=function(z,ie,fe){return z=+z,ie>>>=0,fe||Be(this,z,ie,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[ie]=z>>>24,this[ie+1]=z>>>16,this[ie+2]=z>>>8,this[ie+3]=255&z,ie+4},f.prototype.writeFloatLE=function(z,ie,fe){return Ue(this,z,ie,!0,fe)},f.prototype.writeFloatBE=function(z,ie,fe){return Ue(this,z,ie,!1,fe)},f.prototype.writeDoubleLE=function(z,ie,fe){return Ve(this,z,ie,!0,fe)},f.prototype.writeDoubleBE=function(z,ie,fe){return Ve(this,z,ie,!1,fe)},f.prototype.copy=function(z,ie,fe,Ee){if(!f.isBuffer(z))throw new TypeError("argument should be a Buffer");if(fe=fe||0,Ee||0===Ee||(Ee=this.length),ie>=z.length&&(ie=z.length),0<Ee&&Ee<fe&&(Ee=fe),Ee===fe||0===z.length||0===this.length)return 0;if((ie=ie||0)<0)throw new RangeError("targetStart out of bounds");if(fe<0||fe>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),z.length-ie<Ee-fe&&(Ee=z.length-ie+fe);var Ne=Ee-fe;if(this===z&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(ie,fe,Ee);else if(this===z&&fe<ie&&ie<Ee)for(var Ae=Ne-1;0<=Ae;--Ae)z[Ae+ie]=this[Ae+fe];else Uint8Array.prototype.set.call(z,this.subarray(fe,Ee),ie);return Ne},f.prototype.fill=function(z,ie,fe,Ee){if("string"==typeof z){if("string"==typeof ie?(Ee=ie,ie=0,fe=this.length):"string"==typeof fe&&(Ee=fe,fe=this.length),void 0!==Ee&&"string"!=typeof Ee)throw new TypeError("encoding must be a string");if("string"==typeof Ee&&!f.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(1===z.length){var Ne=z.charCodeAt(0);("utf8"===Ee&&Ne<128||"latin1"===Ee)&&(z=Ne)}}else"number"==typeof z?z&=255:"boolean"==typeof z&&(z=Number(z));if(ie<0||this.length<ie||this.length<fe)throw new RangeError("Out of range index");if(fe<=ie)return this;var Ae;if(ie>>>=0,fe=void 0===fe?this.length:fe>>>0,"number"==typeof(z=z||0))for(Ae=ie;Ae<fe;++Ae)this[Ae]=z;else{var ft=f.isBuffer(z)?z:f.from(z,Ee),Pe=ft.length;if(0===Pe)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(Ae=0;Ae<fe-ie;++Ae)this[Ae+ie]=ft[Ae%Pe]}return this};var Oe=/[^+/0-9A-Za-z-_]/g;function Ge(z,ie){var fe;ie=ie||1/0;for(var Ee=z.length,Ne=null,Ae=[],ft=0;ft<Ee;++ft){if(55295<(fe=z.charCodeAt(ft))&&fe<57344){if(!Ne){if(56319<fe){-1<(ie-=3)&&Ae.push(239,191,189);continue}if(ft+1===Ee){-1<(ie-=3)&&Ae.push(239,191,189);continue}Ne=fe;continue}if(fe<56320){-1<(ie-=3)&&Ae.push(239,191,189),Ne=fe;continue}fe=65536+(Ne-55296<<10|fe-56320)}else Ne&&-1<(ie-=3)&&Ae.push(239,191,189);if(Ne=null,fe<128){if(--ie<0)break;Ae.push(fe)}else if(fe<2048){if((ie-=2)<0)break;Ae.push(fe>>6|192,63&fe|128)}else if(fe<65536){if((ie-=3)<0)break;Ae.push(fe>>12|224,fe>>6&63|128,63&fe|128)}else{if(!(fe<1114112))throw new Error("Invalid code point");if((ie-=4)<0)break;Ae.push(fe>>18|240,fe>>12&63|128,fe>>6&63|128,63&fe|128)}}return Ae}function De(z){return g.toByteArray(function(ie){if((ie=(ie=ie.split("=")[0]).trim().replace(Oe,"")).length<2)return"";for(;ie.length%4!=0;)ie+="=";return ie}(z))}function lt(z,ie,fe,Ee){for(var Ne=0;Ne<Ee&&!(Ne+fe>=ie.length||Ne>=z.length);++Ne)ie[Ne+fe]=z[Ne];return Ne}function Ke(z,ie){return z instanceof ie||null!=z&&null!=z.constructor&&null!=z.constructor.name&&z.constructor.name===ie.name}function ct(z){return z!=z}var ut=function(){for(var z="0123456789abcdef",ie=new Array(256),fe=0;fe<16;++fe)for(var Ee=16*fe,Ne=0;Ne<16;++Ne)ie[Ee+Ne]=z[fe]+z[Ne];return ie}()}).call(this,h("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:233}],5:[function(h,te,j){te.exports=function(k){if("function"!=typeof k)throw TypeError(String(k)+" is not a function");return k}},{}],6:[function(h,te,j){var k=h("../internals/is-object");te.exports=function(g){if(!k(g)&&null!==g)throw TypeError("Can't set "+String(g)+" as a prototype");return g}},{"../internals/is-object":73}],7:[function(h,te,j){var k=h("../internals/well-known-symbol"),g=h("../internals/object-create"),w=h("../internals/object-define-property"),S=k("unscopables"),M=Array.prototype;null==M[S]&&w.f(M,S,{configurable:!0,value:g(null)}),te.exports=function(b){M[S][b]=!0}},{"../internals/object-create":89,"../internals/object-define-property":91,"../internals/well-known-symbol":145}],8:[function(h,te,j){"use strict";var k=h("../internals/string-multibyte").charAt;te.exports=function(g,w,S){return w+(S?k(g,w).length:1)}},{"../internals/string-multibyte":122}],9:[function(h,te,j){te.exports=function(k,g,w){if(!(k instanceof g))throw TypeError("Incorrect "+(w?w+" ":"")+"invocation");return k}},{}],10:[function(h,te,j){var k=h("../internals/is-object");te.exports=function(g){if(!k(g))throw TypeError(String(g)+" is not an object");return g}},{"../internals/is-object":73}],11:[function(h,te,j){te.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],12:[function(h,te,j){"use strict";function k(xe){return b(xe)&&f(Be,u(xe))}var g,w=h("../internals/array-buffer-native"),S=h("../internals/descriptors"),M=h("../internals/global"),b=h("../internals/is-object"),f=h("../internals/has"),u=h("../internals/classof"),d=h("../internals/create-non-enumerable-property"),p=h("../internals/redefine"),m=h("../internals/object-define-property").f,v=h("../internals/object-get-prototype-of"),D=h("../internals/object-set-prototype-of"),I=h("../internals/well-known-symbol"),R=h("../internals/uid"),B=M.Int8Array,V=B&&B.prototype,G=M.Uint8ClampedArray,K=G&&G.prototype,Q=B&&v(B),W=V&&v(V),Z=Object.prototype,ne=Z.isPrototypeOf,X=I("toStringTag"),se=R("TYPED_ARRAY_TAG"),oe=w&&!!D&&"Opera"!==u(M.opera),Fe=!1,Be={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(g in Be)M[g]||(oe=!1);if((!oe||"function"!=typeof Q||Q===Function.prototype)&&(Q=function(){throw TypeError("Incorrect invocation")},oe))for(g in Be)M[g]&&D(M[g],Q);if((!oe||!W||W===Z)&&(W=Q.prototype,oe))for(g in Be)M[g]&&D(M[g].prototype,W);if(oe&&v(K)!==W&&D(K,W),S&&!f(W,X))for(g in Fe=!0,m(W,X,{get:function(){return b(this)?this[se]:void 0}}),Be)M[g]&&d(M[g],se,g);te.exports={NATIVE_ARRAY_BUFFER_VIEWS:oe,TYPED_ARRAY_TAG:Fe&&se,aTypedArray:function(xe){if(k(xe))return xe;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(xe){if(D){if(ne.call(Q,xe))return xe}else for(var Ue in Be)if(f(Be,g)){var Ve=M[Ue];if(Ve&&(xe===Ve||ne.call(Ve,xe)))return xe}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(xe,Ue,Ve){if(S){if(Ve)for(var Oe in Be){var Ge=M[Oe];Ge&&f(Ge.prototype,xe)&&delete Ge.prototype[xe]}W[xe]&&!Ve||p(W,xe,Ve?Ue:oe&&V[xe]||Ue)}},exportTypedArrayStaticMethod:function(xe,Ue,Ve){var Oe,Ge;if(S){if(D){if(Ve)for(Oe in Be)(Ge=M[Oe])&&f(Ge,xe)&&delete Ge[xe];if(Q[xe]&&!Ve)return;try{return p(Q,xe,Ve?Ue:oe&&B[xe]||Ue)}catch(De){}}for(Oe in Be)!(Ge=M[Oe])||Ge[xe]&&!Ve||p(Ge,xe,Ue)}},isView:function(xe){var Ue=u(xe);return"DataView"===Ue||f(Be,Ue)},isTypedArray:k,TypedArray:Q,TypedArrayPrototype:W}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/global":58,"../internals/has":59,"../internals/is-object":73,"../internals/object-define-property":91,"../internals/object-get-prototype-of":96,"../internals/object-set-prototype-of":100,"../internals/redefine":107,"../internals/uid":142,"../internals/well-known-symbol":145}],13:[function(h,te,j){"use strict";function k(st){return[255&st]}function g(st){return[255&st,st>>8&255]}function w(st){return[255&st,st>>8&255,st>>16&255,st>>24&255]}function S(st){return st[3]<<24|st[2]<<16|st[1]<<8|st[0]}function M(st){return ie(st,23,4)}function b(st){return ie(st,52,8)}function f(st,Ye){X(st[Oe],Ye,{get:function(){return Be(this)[Ye]}})}function u(st,Ye,Mt,Et){var xt=K(Mt),ln=Be(st);if(xt+Ye>ln.byteLength)throw z(Ge);var An=Be(ln.buffer).bytes,Ut=xt+ln.byteOffset,Yn=An.slice(Ut,Ut+Ye);return Et?Yn:Yn.reverse()}function d(st,Ye,Mt,Et,xt,ln){var An=K(Mt),Ut=Be(st);if(An+Ye>Ut.byteLength)throw z(Ge);for(var Yn=Be(Ut.buffer).bytes,Kn=An+Ut.byteOffset,Vt=Et(+xt),Nt=0;Nt<Ye;Nt++)Yn[Kn+Nt]=Vt[ln?Nt:Ye-Nt-1]}var p=h("../internals/global"),m=h("../internals/descriptors"),v=h("../internals/array-buffer-native"),D=h("../internals/create-non-enumerable-property"),I=h("../internals/redefine-all"),R=h("../internals/fails"),B=h("../internals/an-instance"),V=h("../internals/to-integer"),G=h("../internals/to-length"),K=h("../internals/to-index"),Q=h("../internals/ieee754"),W=h("../internals/object-get-prototype-of"),Z=h("../internals/object-set-prototype-of"),ne=h("../internals/object-get-own-property-names").f,X=h("../internals/object-define-property").f,se=h("../internals/array-fill"),oe=h("../internals/set-to-string-tag"),Fe=h("../internals/internal-state"),Be=Fe.get,xe=Fe.set,Ue="ArrayBuffer",Ve="DataView",Oe="prototype",Ge="Wrong index",De=p[Ue],lt=De,Ke=p[Ve],ct=Ke&&Ke[Oe],ut=Object.prototype,z=p.RangeError,ie=Q.pack,fe=Q.unpack;if(v){if(!R(function(){De(1)})||!R(function(){new De(-1)})||R(function(){return new De,new De(1.5),new De(NaN),De.name!=Ue})){for(var Ee,Ne=(lt=function(st){return B(this,lt),new De(K(st))})[Oe]=De[Oe],Ae=ne(De),ft=0;Ae.length>ft;)(Ee=Ae[ft++])in lt||D(lt,Ee,De[Ee]);Ne.constructor=lt}Z&&W(ct)!==ut&&Z(ct,ut);var Pe=new Ke(new lt(2)),tt=ct.setInt8;Pe.setInt8(0,2147483648),Pe.setInt8(1,2147483649),!Pe.getInt8(0)&&Pe.getInt8(1)||I(ct,{setInt8:function(st,Ye){tt.call(this,st,Ye<<24>>24)},setUint8:function(st,Ye){tt.call(this,st,Ye<<24>>24)}},{unsafe:!0})}else lt=function(st){B(this,lt,Ue);var Ye=K(st);xe(this,{bytes:se.call(new Array(Ye),0),byteLength:Ye}),m||(this.byteLength=Ye)},Ke=function(st,Ye,Mt){B(this,Ke,Ve),B(st,lt,Ve);var Et=Be(st).byteLength,xt=V(Ye);if(xt<0||Et<xt)throw z("Wrong offset");if(Et<xt+(Mt=void 0===Mt?Et-xt:G(Mt)))throw z("Wrong length");xe(this,{buffer:st,byteLength:Mt,byteOffset:xt}),m||(this.buffer=st,this.byteLength=Mt,this.byteOffset=xt)},m&&(f(lt,"byteLength"),f(Ke,"buffer"),f(Ke,"byteLength"),f(Ke,"byteOffset")),I(Ke[Oe],{getInt8:function(st){return u(this,1,st)[0]<<24>>24},getUint8:function(st){return u(this,1,st)[0]},getInt16:function(st,Ye){var Mt=u(this,2,st,1<arguments.length?Ye:void 0);return(Mt[1]<<8|Mt[0])<<16>>16},getUint16:function(st,Ye){var Mt=u(this,2,st,1<arguments.length?Ye:void 0);return Mt[1]<<8|Mt[0]},getInt32:function(st,Ye){return S(u(this,4,st,1<arguments.length?Ye:void 0))},getUint32:function(st,Ye){return S(u(this,4,st,1<arguments.length?Ye:void 0))>>>0},getFloat32:function(st,Ye){return fe(u(this,4,st,1<arguments.length?Ye:void 0),23)},getFloat64:function(st,Ye){return fe(u(this,8,st,1<arguments.length?Ye:void 0),52)},setInt8:function(st,Ye){d(this,1,st,k,Ye)},setUint8:function(st,Ye){d(this,1,st,k,Ye)},setInt16:function(st,Ye,Mt){d(this,2,st,g,Ye,2<arguments.length?Mt:void 0)},setUint16:function(st,Ye,Mt){d(this,2,st,g,Ye,2<arguments.length?Mt:void 0)},setInt32:function(st,Ye,Mt){d(this,4,st,w,Ye,2<arguments.length?Mt:void 0)},setUint32:function(st,Ye,Mt){d(this,4,st,w,Ye,2<arguments.length?Mt:void 0)},setFloat32:function(st,Ye,Mt){d(this,4,st,M,Ye,2<arguments.length?Mt:void 0)},setFloat64:function(st,Ye,Mt){d(this,8,st,b,Ye,2<arguments.length?Mt:void 0)}});oe(lt,Ue),oe(Ke,Ve),te.exports={ArrayBuffer:lt,DataView:Ke}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":58,"../internals/ieee754":64,"../internals/internal-state":69,"../internals/object-define-property":91,"../internals/object-get-own-property-names":94,"../internals/object-get-prototype-of":96,"../internals/object-set-prototype-of":100,"../internals/redefine-all":106,"../internals/set-to-string-tag":116,"../internals/to-index":130,"../internals/to-integer":132,"../internals/to-length":133}],14:[function(h,te,j){"use strict";var k=h("../internals/to-object"),g=h("../internals/to-absolute-index"),w=h("../internals/to-length"),S=Math.min;te.exports=[].copyWithin||function(M,b,f){var u=k(this),d=w(u.length),p=g(M,d),m=g(b,d),v=2<arguments.length?f:void 0,D=S((void 0===v?d:g(v,d))-m,d-p),I=1;for(m<p&&p<m+D&&(I=-1,m+=D-1,p+=D-1);0<D--;)m in u?u[p]=u[m]:delete u[p],p+=I,m+=I;return u}},{"../internals/to-absolute-index":129,"../internals/to-length":133,"../internals/to-object":134}],15:[function(h,te,j){"use strict";var k=h("../internals/to-object"),g=h("../internals/to-absolute-index"),w=h("../internals/to-length");te.exports=function(S,M,b){for(var f=k(this),u=w(f.length),d=arguments.length,p=g(1<d?M:void 0,u),m=2<d?b:void 0,v=void 0===m?u:g(m,u);p<v;)f[p++]=S;return f}},{"../internals/to-absolute-index":129,"../internals/to-length":133,"../internals/to-object":134}],16:[function(h,te,j){"use strict";var k=h("../internals/array-iteration").forEach,g=h("../internals/array-method-is-strict"),w=h("../internals/array-method-uses-to-length"),S=g("forEach"),M=w("forEach");te.exports=S&&M?[].forEach:function(b,f){return k(this,b,1<arguments.length?f:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(h,te,j){"use strict";var k=h("../internals/function-bind-context"),g=h("../internals/to-object"),w=h("../internals/call-with-safe-iteration-closing"),S=h("../internals/is-array-iterator-method"),M=h("../internals/to-length"),b=h("../internals/create-property"),f=h("../internals/get-iterator-method");te.exports=function(u,d,p){var m,v,D,I,R,B,V=g(u),G="function"==typeof this?this:Array,K=arguments.length,Q=1<K?d:void 0,W=void 0!==Q,Z=f(V),ne=0;if(W&&(Q=k(Q,2<K?p:void 0,2)),null==Z||G==Array&&S(Z))for(v=new G(m=M(V.length));ne<m;ne++)B=W?Q(V[ne],ne):V[ne],b(v,ne,B);else for(R=(I=Z.call(V)).next,v=new G;!(D=R.call(I)).done;ne++)B=W?w(I,Q,[D.value,ne],!0):D.value,b(v,ne,B);return v.length=ne,v}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":39,"../internals/function-bind-context":53,"../internals/get-iterator-method":56,"../internals/is-array-iterator-method":70,"../internals/to-length":133,"../internals/to-object":134}],18:[function(h,te,j){function k(M){return function(b,f,u){var d,p=g(b),m=w(p.length),v=S(u,m);if(M&&f!=f){for(;v<m;)if((d=p[v++])!=d)return!0}else for(;v<m;v++)if((M||v in p)&&p[v]===f)return M||v||0;return!M&&-1}}var g=h("../internals/to-indexed-object"),w=h("../internals/to-length"),S=h("../internals/to-absolute-index");te.exports={includes:k(!0),indexOf:k(!1)}},{"../internals/to-absolute-index":129,"../internals/to-indexed-object":131,"../internals/to-length":133}],19:[function(h,te,j){function k(u){var d=1==u,p=2==u,m=3==u,v=4==u,D=6==u,I=5==u||D;return function(R,B,V,G){for(var K,Q,W=S(R),Z=w(W),ne=g(B,V,3),X=M(Z.length),se=0,oe=G||b,Fe=d?oe(R,X):p?oe(R,0):void 0;se<X;se++)if((I||se in Z)&&(Q=ne(K=Z[se],se,W),u))if(d)Fe[se]=Q;else if(Q)switch(u){case 3:return!0;case 5:return K;case 6:return se;case 2:f.call(Fe,K)}else if(v)return!1;return D?-1:m||v?v:Fe}}var g=h("../internals/function-bind-context"),w=h("../internals/indexed-object"),S=h("../internals/to-object"),M=h("../internals/to-length"),b=h("../internals/array-species-create"),f=[].push;te.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":53,"../internals/indexed-object":65,"../internals/to-length":133,"../internals/to-object":134}],20:[function(h,te,j){"use strict";var k=h("../internals/to-indexed-object"),g=h("../internals/to-integer"),w=h("../internals/to-length"),S=h("../internals/array-method-is-strict"),M=h("../internals/array-method-uses-to-length"),b=Math.min,f=[].lastIndexOf,u=!!f&&1/[1].lastIndexOf(1,-0)<0,d=S("lastIndexOf"),p=M("indexOf",{ACCESSORS:!0,1:0});te.exports=!u&&d&&p?f:function(v,D){if(u)return f.apply(this,arguments)||0;var I=k(this),R=w(I.length),B=R-1;for(1<arguments.length&&(B=b(B,g(D))),B<0&&(B=R+B);0<=B;B--)if(B in I&&I[B]===v)return B||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":131,"../internals/to-integer":132,"../internals/to-length":133}],21:[function(h,te,j){var k=h("../internals/fails"),g=h("../internals/well-known-symbol"),w=h("../internals/engine-v8-version"),S=g("species");te.exports=function(M){return 51<=w||!k(function(){var b=[];return(b.constructor={})[S]=function(){return{foo:1}},1!==b[M](Boolean).foo})}},{"../internals/engine-v8-version":47,"../internals/fails":50,"../internals/well-known-symbol":145}],22:[function(h,te,j){"use strict";var k=h("../internals/fails");te.exports=function(g,w){var S=[][g];return!!S&&k(function(){S.call(null,w||function(){throw 1},1)})}},{"../internals/fails":50}],23:[function(h,te,j){function k(f){throw f}var g=h("../internals/descriptors"),w=h("../internals/fails"),S=h("../internals/has"),M=Object.defineProperty,b={};te.exports=function(f,u){if(S(b,f))return b[f];var d=[][f],p=!!S(u=u||{},"ACCESSORS")&&u.ACCESSORS,m=S(u,0)?u[0]:k,v=S(u,1)?u[1]:void 0;return b[f]=!!d&&!w(function(){if(p&&!g)return!0;var D={length:-1};p?M(D,1,{enumerable:!0,get:k}):D[1]=1,d.call(D,m,v)})}},{"../internals/descriptors":42,"../internals/fails":50,"../internals/has":59}],24:[function(h,te,j){function k(b){return function(f,u,d,p){g(u);var m=w(f),v=S(m),D=M(m.length),I=b?D-1:0,R=b?-1:1;if(d<2)for(;;){if(I in v){p=v[I],I+=R;break}if(I+=R,b?I<0:D<=I)throw TypeError("Reduce of empty array with no initial value")}for(;b?0<=I:I<D;I+=R)I in v&&(p=u(p,v[I],I,m));return p}}var g=h("../internals/a-function"),w=h("../internals/to-object"),S=h("../internals/indexed-object"),M=h("../internals/to-length");te.exports={left:k(!1),right:k(!0)}},{"../internals/a-function":5,"../internals/indexed-object":65,"../internals/to-length":133,"../internals/to-object":134}],25:[function(h,te,j){var k=h("../internals/is-object"),g=h("../internals/is-array"),w=h("../internals/well-known-symbol")("species");te.exports=function(S,M){var b;return g(S)&&("function"!=typeof(b=S.constructor)||b!==Array&&!g(b.prototype)?k(b)&&null===(b=b[w])&&(b=void 0):b=void 0),new(void 0===b?Array:b)(0===M?0:M)}},{"../internals/is-array":71,"../internals/is-object":73,"../internals/well-known-symbol":145}],26:[function(h,te,j){var k=h("../internals/an-object");te.exports=function(g,w,S,M){try{return M?w(k(S)[0],S[1]):w(S)}catch(f){var b=g.return;throw void 0!==b&&k(b.call(g)),f}}},{"../internals/an-object":10}],27:[function(h,te,j){var k=h("../internals/well-known-symbol")("iterator"),g=!1;try{var w=0,S={next:function(){return{done:!!w++}},return:function(){g=!0}};S[k]=function(){return this},Array.from(S,function(){throw 2})}catch(M){}te.exports=function(M,b){if(!b&&!g)return!1;var f=!1;try{var u={};u[k]=function(){return{next:function(){return{done:f=!0}}}},M(u)}catch(d){}return f}},{"../internals/well-known-symbol":145}],28:[function(h,te,j){var k={}.toString;te.exports=function(g){return k.call(g).slice(8,-1)}},{}],29:[function(h,te,j){var k=h("../internals/to-string-tag-support"),g=h("../internals/classof-raw"),w=h("../internals/well-known-symbol")("toStringTag"),S="Arguments"==g(function(){return arguments}());te.exports=k?g:function(M){var b,f,u;return void 0===M?"Undefined":null===M?"Null":"string"==typeof(f=function(d,p){try{return d[p]}catch(m){}}(b=Object(M),w))?f:S?g(b):"Object"==(u=g(b))&&"function"==typeof b.callee?"Arguments":u}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":138,"../internals/well-known-symbol":145}],30:[function(h,te,j){"use strict";var k=h("../internals/object-define-property").f,g=h("../internals/object-create"),w=h("../internals/redefine-all"),S=h("../internals/function-bind-context"),M=h("../internals/an-instance"),b=h("../internals/iterate"),f=h("../internals/define-iterator"),u=h("../internals/set-species"),d=h("../internals/descriptors"),p=h("../internals/internal-metadata").fastKey,m=h("../internals/internal-state"),v=m.set,D=m.getterFor;te.exports={getConstructor:function(I,R,B,V){function G(Z,ne,X){var se,oe,Fe=Q(Z),Be=W(Z,ne);return Be?Be.value=X:(Fe.last=Be={index:oe=p(ne,!0),key:ne,value:X,previous:se=Fe.last,next:void 0,removed:!1},Fe.first||(Fe.first=Be),se&&(se.next=Be),d?Fe.size++:Z.size++,"F"!==oe&&(Fe.index[oe]=Be)),Z}var K=I(function(Z,ne){M(Z,K,R),v(Z,{type:R,index:g(null),first:void 0,last:void 0,size:0}),d||(Z.size=0),null!=ne&&b(ne,Z[V],Z,B)}),Q=D(R),W=function(Z,ne){var X,se=Q(Z),oe=p(ne);if("F"!==oe)return se.index[oe];for(X=se.first;X;X=X.next)if(X.key==ne)return X};return w(K.prototype,{clear:function(){for(var Z=Q(this),ne=Z.index,X=Z.first;X;)X.removed=!0,X.previous&&(X.previous=X.previous.next=void 0),delete ne[X.index],X=X.next;Z.first=Z.last=void 0,d?Z.size=0:this.size=0},delete:function(Z){var ne=Q(this),X=W(this,Z);if(X){var se=X.next,oe=X.previous;delete ne.index[X.index],X.removed=!0,oe&&(oe.next=se),se&&(se.previous=oe),ne.first==X&&(ne.first=se),ne.last==X&&(ne.last=oe),d?ne.size--:this.size--}return!!X},forEach:function(Z,ne){for(var X,se=Q(this),oe=S(Z,1<arguments.length?ne:void 0,3);X=X?X.next:se.first;)for(oe(X.value,X.key,this);X&&X.removed;)X=X.previous},has:function(Z){return!!W(this,Z)}}),w(K.prototype,B?{get:function(Z){var ne=W(this,Z);return ne&&ne.value},set:function(Z,ne){return G(this,0===Z?0:Z,ne)}}:{add:function(Z){return G(this,Z=0===Z?0:Z,Z)}}),d&&k(K.prototype,"size",{get:function(){return Q(this).size}}),K},setStrong:function(I,R,B){var V=R+" Iterator",G=D(R),K=D(V);f(I,R,function(Q,W){v(this,{type:V,target:Q,state:G(Q),kind:W,last:void 0})},function(){for(var Q=K(this),W=Q.kind,Z=Q.last;Z&&Z.removed;)Z=Z.previous;return Q.target&&(Q.last=Z=Z?Z.next:Q.state.first)?"keys"==W?{value:Z.key,done:!1}:"values"==W?{value:Z.value,done:!1}:{value:[Z.key,Z.value],done:!1}:{value:Q.target=void 0,done:!0}},B?"entries":"values",!B,!0),u(R)}}},{"../internals/an-instance":9,"../internals/define-iterator":40,"../internals/descriptors":42,"../internals/function-bind-context":53,"../internals/internal-metadata":68,"../internals/internal-state":69,"../internals/iterate":76,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/redefine-all":106,"../internals/set-species":115}],31:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/global"),w=h("../internals/is-forced"),S=h("../internals/redefine"),M=h("../internals/internal-metadata"),b=h("../internals/iterate"),f=h("../internals/an-instance"),u=h("../internals/is-object"),d=h("../internals/fails"),p=h("../internals/check-correctness-of-iteration"),m=h("../internals/set-to-string-tag"),v=h("../internals/inherit-if-required");te.exports=function(D,I,R){function B(xe){var Ue=W[xe];S(W,xe,"add"==xe?function(Ve){return Ue.call(this,0===Ve?0:Ve),this}:"delete"==xe?function(Ve){return!(G&&!u(Ve))&&Ue.call(this,0===Ve?0:Ve)}:"get"==xe?function(Ve){return G&&!u(Ve)?void 0:Ue.call(this,0===Ve?0:Ve)}:"has"==xe?function(Ve){return!(G&&!u(Ve))&&Ue.call(this,0===Ve?0:Ve)}:function(Ve,Oe){return Ue.call(this,0===Ve?0:Ve,Oe),this})}var V=-1!==D.indexOf("Map"),G=-1!==D.indexOf("Weak"),K=V?"set":"add",Q=g[D],W=Q&&Q.prototype,Z=Q,ne={};if(w(D,"function"!=typeof Q||!(G||W.forEach&&!d(function(){(new Q).entries().next()}))))Z=R.getConstructor(I,D,V,K),M.REQUIRED=!0;else if(w(D,!0)){var X=new Z,se=X[K](G?{}:-0,1)!=X,oe=d(function(){X.has(1)}),Fe=p(function(xe){new Q(xe)}),Be=!G&&d(function(){for(var xe=new Q,Ue=5;Ue--;)xe[K](Ue,Ue);return!xe.has(-0)});Fe||(((Z=I(function(xe,Ue){f(xe,Z,D);var Ve=v(new Q,xe,Z);return null!=Ue&&b(Ue,Ve[K],Ve,V),Ve})).prototype=W).constructor=Z),(oe||Be)&&(B("delete"),B("has"),V&&B("get")),(Be||se)&&B(K),G&&W.clear&&delete W.clear}return ne[D]=Z,k({global:!0,forced:Z!=Q},ne),m(Z,D),G||R.setStrong(Z,D,V),Z}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":49,"../internals/fails":50,"../internals/global":58,"../internals/inherit-if-required":66,"../internals/internal-metadata":68,"../internals/is-forced":72,"../internals/is-object":73,"../internals/iterate":76,"../internals/redefine":107,"../internals/set-to-string-tag":116}],32:[function(h,te,j){var k=h("../internals/has"),g=h("../internals/own-keys"),w=h("../internals/object-get-own-property-descriptor"),S=h("../internals/object-define-property");te.exports=function(M,b){for(var f=g(b),u=S.f,d=w.f,p=0;p<f.length;p++){var m=f[p];k(M,m)||u(M,m,d(b,m))}}},{"../internals/has":59,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/own-keys":102}],33:[function(h,te,j){var k=h("../internals/well-known-symbol")("match");te.exports=function(g){var w=/./;try{"/./"[g](w)}catch(S){try{return w[k]=!1,"/./"[g](w)}catch(M){}}return!1}},{"../internals/well-known-symbol":145}],34:[function(h,te,j){var k=h("../internals/fails");te.exports=!k(function(){function g(){}return g.prototype.constructor=null,Object.getPrototypeOf(new g)!==g.prototype})},{"../internals/fails":50}],35:[function(h,te,j){var k=h("../internals/require-object-coercible"),g=/"/g;te.exports=function(w,S,M,b){var f=String(k(w)),u="<"+S;return""!==M&&(u+=" "+M+'="'+String(b).replace(g,"&quot;")+'"'),u+">"+f+"</"+S+">"}},{"../internals/require-object-coercible":112}],36:[function(h,te,j){"use strict";function k(){return this}var g=h("../internals/iterators-core").IteratorPrototype,w=h("../internals/object-create"),S=h("../internals/create-property-descriptor"),M=h("../internals/set-to-string-tag"),b=h("../internals/iterators");te.exports=function(f,u,d){var p=u+" Iterator";return f.prototype=w(g,{next:S(1,d)}),M(f,p,!1,!0),b[p]=k,f}},{"../internals/create-property-descriptor":38,"../internals/iterators":78,"../internals/iterators-core":77,"../internals/object-create":89,"../internals/set-to-string-tag":116}],37:[function(h,te,j){var k=h("../internals/descriptors"),g=h("../internals/object-define-property"),w=h("../internals/create-property-descriptor");te.exports=k?function(S,M,b){return g.f(S,M,w(1,b))}:function(S,M,b){return S[M]=b,S}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/object-define-property":91}],38:[function(h,te,j){te.exports=function(k,g){return{enumerable:!(1&k),configurable:!(2&k),writable:!(4&k),value:g}}},{}],39:[function(h,te,j){"use strict";var k=h("../internals/to-primitive"),g=h("../internals/object-define-property"),w=h("../internals/create-property-descriptor");te.exports=function(S,M,b){var f=k(M);f in S?g.f(S,f,w(0,b)):S[f]=b}},{"../internals/create-property-descriptor":38,"../internals/object-define-property":91,"../internals/to-primitive":137}],40:[function(h,te,j){"use strict";function k(){return this}var g=h("../internals/export"),w=h("../internals/create-iterator-constructor"),S=h("../internals/object-get-prototype-of"),M=h("../internals/object-set-prototype-of"),b=h("../internals/set-to-string-tag"),f=h("../internals/create-non-enumerable-property"),u=h("../internals/redefine"),d=h("../internals/well-known-symbol"),p=h("../internals/is-pure"),m=h("../internals/iterators"),v=h("../internals/iterators-core"),D=v.IteratorPrototype,I=v.BUGGY_SAFARI_ITERATORS,R=d("iterator"),B="values",V="entries";te.exports=function(G,K,Q,W,Z,ne,X){function se(lt){if(lt===Z&&Ge)return Ge;if(!I&&lt in Ve)return Ve[lt];switch(lt){case"keys":case B:case V:return function(){return new Q(this,lt)}}return function(){return new Q(this)}}w(Q,K,W);var oe,Fe,Be,xe=K+" Iterator",Ue=!1,Ve=G.prototype,Oe=Ve[R]||Ve["@@iterator"]||Z&&Ve[Z],Ge=!I&&Oe||se(Z),De="Array"==K&&Ve.entries||Oe;if(De&&(oe=S(De.call(new G)),D!==Object.prototype&&oe.next&&(p||S(oe)===D||(M?M(oe,D):"function"!=typeof oe[R]&&f(oe,R,k)),b(oe,xe,!0,!0),p&&(m[xe]=k))),Z==B&&Oe&&Oe.name!==B&&(Ue=!0,Ge=function(){return Oe.call(this)}),p&&!X||Ve[R]===Ge||f(Ve,R,Ge),m[K]=Ge,Z)if(Fe={values:se(B),keys:ne?Ge:se("keys"),entries:se(V)},X)for(Be in Fe)!I&&!Ue&&Be in Ve||u(Ve,Be,Fe[Be]);else g({target:K,proto:!0,forced:I||Ue},Fe);return Fe}},{"../internals/create-iterator-constructor":36,"../internals/create-non-enumerable-property":37,"../internals/export":49,"../internals/is-pure":74,"../internals/iterators":78,"../internals/iterators-core":77,"../internals/object-get-prototype-of":96,"../internals/object-set-prototype-of":100,"../internals/redefine":107,"../internals/set-to-string-tag":116,"../internals/well-known-symbol":145}],41:[function(h,te,j){var k=h("../internals/path"),g=h("../internals/has"),w=h("../internals/well-known-symbol-wrapped"),S=h("../internals/object-define-property").f;te.exports=function(M){var b=k.Symbol||(k.Symbol={});g(b,M)||S(b,M,{value:w.f(M)})}},{"../internals/has":59,"../internals/object-define-property":91,"../internals/path":103,"../internals/well-known-symbol-wrapped":144}],42:[function(h,te,j){var k=h("../internals/fails");te.exports=!k(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":50}],43:[function(h,te,j){var k=h("../internals/global"),g=h("../internals/is-object"),w=k.document,S=g(w)&&g(w.createElement);te.exports=function(M){return S?w.createElement(M):{}}},{"../internals/global":58,"../internals/is-object":73}],44:[function(h,te,j){te.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],45:[function(h,te,j){var k=h("../internals/engine-user-agent");te.exports=/(iphone|ipod|ipad).*applewebkit/i.test(k)},{"../internals/engine-user-agent":46}],46:[function(h,te,j){var k=h("../internals/get-built-in");te.exports=k("navigator","userAgent")||""},{"../internals/get-built-in":55}],47:[function(h,te,j){var k,g,w=h("../internals/global"),S=h("../internals/engine-user-agent"),M=w.process,b=M&&M.versions,f=b&&b.v8;f?g=(k=f.split("."))[0]+k[1]:S&&(!(k=S.match(/Edge\/(\d+)/))||74<=k[1])&&(k=S.match(/Chrome\/(\d+)/))&&(g=k[1]),te.exports=g&&+g},{"../internals/engine-user-agent":46,"../internals/global":58}],48:[function(h,te,j){te.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],49:[function(h,te,j){var k=h("../internals/global"),g=h("../internals/object-get-own-property-descriptor").f,w=h("../internals/create-non-enumerable-property"),S=h("../internals/redefine"),M=h("../internals/set-global"),b=h("../internals/copy-constructor-properties"),f=h("../internals/is-forced");te.exports=function(u,d){var p,m,v,D,I,R=u.target,B=u.global,V=u.stat;if(p=B?k:V?k[R]||M(R,{}):(k[R]||{}).prototype)for(m in d){if(D=d[m],v=u.noTargetGet?(I=g(p,m))&&I.value:p[m],!f(B?m:R+(V?".":"#")+m,u.forced)&&void 0!==v){if(typeof D==typeof v)continue;b(D,v)}(u.sham||v&&v.sham)&&w(D,"sham",!0),S(p,m,D,u)}}},{"../internals/copy-constructor-properties":32,"../internals/create-non-enumerable-property":37,"../internals/global":58,"../internals/is-forced":72,"../internals/object-get-own-property-descriptor":92,"../internals/redefine":107,"../internals/set-global":114}],50:[function(h,te,j){te.exports=function(k){try{return!!k()}catch(g){return!0}}},{}],51:[function(h,te,j){"use strict";h("../modules/es.regexp.exec");var k=h("../internals/redefine"),g=h("../internals/fails"),w=h("../internals/well-known-symbol"),S=h("../internals/regexp-exec"),M=h("../internals/create-non-enumerable-property"),b=w("species"),f=!g(function(){var v=/./;return v.exec=function(){var D=[];return D.groups={a:"7"},D},"7"!=="".replace(v,"$<a>")}),u="$0"==="a".replace(/./,"$0"),d=w("replace"),p=!!/./[d]&&""===/./[d]("a","$0"),m=!g(function(){var v=/(?:)/,D=v.exec;v.exec=function(){return D.apply(this,arguments)};var I="ab".split(v);return 2!==I.length||"a"!==I[0]||"b"!==I[1]});te.exports=function(v,D,I,R){var B=w(v),V=!g(function(){var ne={};return ne[B]=function(){return 7},7!=""[v](ne)}),G=V&&!g(function(){var ne=!1,X=/a/;return"split"===v&&((X={constructor:{}}).constructor[b]=function(){return X},X.flags="",X[B]=/./[B]),X.exec=function(){return ne=!0,null},X[B](""),!ne});if(!V||!G||"replace"===v&&(!f||!u||p)||"split"===v&&!m){var K=/./[B],Q=I(B,""[v],function(ne,X,se,oe,Fe){return X.exec===S?V&&!Fe?{done:!0,value:K.call(X,se,oe)}:{done:!0,value:ne.call(se,X,oe)}:{done:!1}},{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),Z=Q[1];k(String.prototype,v,Q[0]),k(RegExp.prototype,B,2==D?function(ne,X){return Z.call(ne,this,X)}:function(ne){return Z.call(ne,this)})}R&&M(RegExp.prototype[B],"sham",!0)}},{"../internals/create-non-enumerable-property":37,"../internals/fails":50,"../internals/redefine":107,"../internals/regexp-exec":109,"../internals/well-known-symbol":145,"../modules/es.regexp.exec":178}],52:[function(h,te,j){var k=h("../internals/fails");te.exports=!k(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":50}],53:[function(h,te,j){var k=h("../internals/a-function");te.exports=function(g,w,S){if(k(g),void 0===w)return g;switch(S){case 0:return function(){return g.call(w)};case 1:return function(M){return g.call(w,M)};case 2:return function(M,b){return g.call(w,M,b)};case 3:return function(M,b,f){return g.call(w,M,b,f)}}return function(){return g.apply(w,arguments)}}},{"../internals/a-function":5}],54:[function(h,te,j){"use strict";var k=h("../internals/a-function"),g=h("../internals/is-object"),w=[].slice,S={};te.exports=Function.bind||function(M){var b=k(this),f=w.call(arguments,1),u=function(){var d=f.concat(w.call(arguments));return this instanceof u?function(p,m,v){if(!(m in S)){for(var D=[],I=0;I<m;I++)D[I]="a["+I+"]";S[m]=Function("C,a","return new C("+D.join(",")+")")}return S[m](p,v)}(b,d.length,d):b.apply(M,d)};return g(b.prototype)&&(u.prototype=b.prototype),u}},{"../internals/a-function":5,"../internals/is-object":73}],55:[function(h,te,j){function k(S){return"function"==typeof S?S:void 0}var g=h("../internals/path"),w=h("../internals/global");te.exports=function(S,M){return arguments.length<2?k(g[S])||k(w[S]):g[S]&&g[S][M]||w[S]&&w[S][M]}},{"../internals/global":58,"../internals/path":103}],56:[function(h,te,j){var k=h("../internals/classof"),g=h("../internals/iterators"),w=h("../internals/well-known-symbol")("iterator");te.exports=function(S){if(null!=S)return S[w]||S["@@iterator"]||g[k(S)]}},{"../internals/classof":29,"../internals/iterators":78,"../internals/well-known-symbol":145}],57:[function(h,te,j){var k=h("../internals/an-object"),g=h("../internals/get-iterator-method");te.exports=function(w){var S=g(w);if("function"!=typeof S)throw TypeError(String(w)+" is not iterable");return k(S.call(w))}},{"../internals/an-object":10,"../internals/get-iterator-method":56}],58:[function(h,te,j){(function(k){function g(w){return w&&w.Math==Math&&w}te.exports=g("object"==typeof globalThis&&globalThis)||g("object"==typeof window&&window)||g("object"==typeof self&&self)||g("object"==typeof k&&k)||Function("return this")()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(h,te,j){var k={}.hasOwnProperty;te.exports=function(g,w){return k.call(g,w)}},{}],60:[function(h,te,j){te.exports={}},{}],61:[function(h,te,j){var k=h("../internals/global");te.exports=function(g,w){var S=k.console;S&&S.error&&(1===arguments.length?S.error(g):S.error(g,w))}},{"../internals/global":58}],62:[function(h,te,j){var k=h("../internals/get-built-in");te.exports=k("document","documentElement")},{"../internals/get-built-in":55}],63:[function(h,te,j){var k=h("../internals/descriptors"),g=h("../internals/fails"),w=h("../internals/document-create-element");te.exports=!k&&!g(function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":42,"../internals/document-create-element":43,"../internals/fails":50}],64:[function(h,te,j){var k=Math.abs,g=Math.pow,w=Math.floor,S=Math.log,M=Math.LN2;te.exports={pack:function(b,f,u){var d,p,m,v=new Array(u),D=8*u-f-1,I=(1<<D)-1,R=I>>1,B=23===f?g(2,-24)-g(2,-77):0,V=b<0||0===b&&1/b<0?1:0,G=0;for((b=k(b))!=b||b===1/0?(p=b!=b?1:0,d=I):(d=w(S(b)/M),b*(m=g(2,-d))<1&&(d--,m*=2),2<=(b+=1<=d+R?B/m:B*g(2,1-R))*m&&(d++,m/=2),I<=d+R?(p=0,d=I):1<=d+R?(p=(b*m-1)*g(2,f),d+=R):(p=b*g(2,R-1)*g(2,f),d=0));8<=f;v[G++]=255&p,p/=256,f-=8);for(d=d<<f|p,D+=f;0<D;v[G++]=255&d,d/=256,D-=8);return v[--G]|=128*V,v},unpack:function(b,f){var u,d=b.length,p=8*d-f-1,m=(1<<p)-1,v=m>>1,D=p-7,I=d-1,R=b[I--],B=127&R;for(R>>=7;0<D;B=256*B+b[I],I--,D-=8);for(u=B&(1<<-D)-1,B>>=-D,D+=f;0<D;u=256*u+b[I],I--,D-=8);if(0===B)B=1-v;else{if(B===m)return u?NaN:R?-1/0:1/0;u+=g(2,f),B-=v}return(R?-1:1)*u*g(2,B-f)}}},{}],65:[function(h,te,j){var k=h("../internals/fails"),g=h("../internals/classof-raw"),w="".split;te.exports=k(function(){return!Object("z").propertyIsEnumerable(0)})?function(S){return"String"==g(S)?w.call(S,""):Object(S)}:Object},{"../internals/classof-raw":28,"../internals/fails":50}],66:[function(h,te,j){var k=h("../internals/is-object"),g=h("../internals/object-set-prototype-of");te.exports=function(w,S,M){var b,f;return g&&"function"==typeof(b=S.constructor)&&b!==M&&k(f=b.prototype)&&f!==M.prototype&&g(w,f),w}},{"../internals/is-object":73,"../internals/object-set-prototype-of":100}],67:[function(h,te,j){var k=h("../internals/shared-store"),g=Function.toString;"function"!=typeof k.inspectSource&&(k.inspectSource=function(w){return g.call(w)}),te.exports=k.inspectSource},{"../internals/shared-store":118}],68:[function(h,te,j){function k(v){M(v,u,{value:{objectID:"O"+ ++d,weakData:{}}})}var g=h("../internals/hidden-keys"),w=h("../internals/is-object"),S=h("../internals/has"),M=h("../internals/object-define-property").f,b=h("../internals/uid"),f=h("../internals/freezing"),u=b("meta"),d=0,p=Object.isExtensible||function(){return!0},m=te.exports={REQUIRED:!1,fastKey:function(v,D){if(!w(v))return"symbol"==typeof v?v:("string"==typeof v?"S":"P")+v;if(!S(v,u)){if(!p(v))return"F";if(!D)return"E";k(v)}return v[u].objectID},getWeakData:function(v,D){if(!S(v,u)){if(!p(v))return!0;if(!D)return!1;k(v)}return v[u].weakData},onFreeze:function(v){return f&&m.REQUIRED&&p(v)&&!S(v,u)&&k(v),v}};g[u]=!0},{"../internals/freezing":52,"../internals/has":59,"../internals/hidden-keys":60,"../internals/is-object":73,"../internals/object-define-property":91,"../internals/uid":142}],69:[function(h,te,j){var k,g,w,S=h("../internals/native-weak-map"),M=h("../internals/global"),b=h("../internals/is-object"),f=h("../internals/create-non-enumerable-property"),u=h("../internals/has"),d=h("../internals/shared-key"),p=h("../internals/hidden-keys");if(S){var v=new(0,M.WeakMap),D=v.get,I=v.has,R=v.set;k=function(V,G){return R.call(v,V,G),G},g=function(V){return D.call(v,V)||{}},w=function(V){return I.call(v,V)}}else{var B=d("state");p[B]=!0,k=function(V,G){return f(V,B,G),G},g=function(V){return u(V,B)?V[B]:{}},w=function(V){return u(V,B)}}te.exports={set:k,get:g,has:w,enforce:function(V){return w(V)?g(V):k(V,{})},getterFor:function(V){return function(G){var K;if(!b(G)||(K=g(G)).type!==V)throw TypeError("Incompatible receiver, "+V+" required");return K}}}},{"../internals/create-non-enumerable-property":37,"../internals/global":58,"../internals/has":59,"../internals/hidden-keys":60,"../internals/is-object":73,"../internals/native-weak-map":84,"../internals/shared-key":117}],70:[function(h,te,j){var k=h("../internals/well-known-symbol"),g=h("../internals/iterators"),w=k("iterator"),S=Array.prototype;te.exports=function(M){return void 0!==M&&(g.Array===M||S[w]===M)}},{"../internals/iterators":78,"../internals/well-known-symbol":145}],71:[function(h,te,j){var k=h("../internals/classof-raw");te.exports=Array.isArray||function(g){return"Array"==k(g)}},{"../internals/classof-raw":28}],72:[function(h,te,j){function k(u,d){var p=M[S(u)];return p==f||p!=b&&("function"==typeof d?g(d):!!d)}var g=h("../internals/fails"),w=/#|\.prototype\./,S=k.normalize=function(u){return String(u).replace(w,".").toLowerCase()},M=k.data={},b=k.NATIVE="N",f=k.POLYFILL="P";te.exports=k},{"../internals/fails":50}],73:[function(h,te,j){te.exports=function(k){return"object"==typeof k?null!==k:"function"==typeof k}},{}],74:[function(h,te,j){te.exports=!1},{}],75:[function(h,te,j){var k=h("../internals/is-object"),g=h("../internals/classof-raw"),w=h("../internals/well-known-symbol")("match");te.exports=function(S){var M;return k(S)&&(void 0!==(M=S[w])?!!M:"RegExp"==g(S))}},{"../internals/classof-raw":28,"../internals/is-object":73,"../internals/well-known-symbol":145}],76:[function(h,te,j){function k(u,d){this.stopped=u,this.result=d}var g=h("../internals/an-object"),w=h("../internals/is-array-iterator-method"),S=h("../internals/to-length"),M=h("../internals/function-bind-context"),b=h("../internals/get-iterator-method"),f=h("../internals/call-with-safe-iteration-closing");(te.exports=function(u,d,p,m,v){var D,I,R,B,V,G,K,Q=M(d,p,m?2:1);if(v)D=u;else{if("function"!=typeof(I=b(u)))throw TypeError("Target is not iterable");if(w(I)){for(R=0,B=S(u.length);R<B;R++)if((V=m?Q(g(K=u[R])[0],K[1]):Q(u[R]))&&V instanceof k)return V;return new k(!1)}D=I.call(u)}for(G=D.next;!(K=G.call(D)).done;)if("object"==typeof(V=f(D,Q,K.value,m))&&V&&V instanceof k)return V;return new k(!1)}).stop=function(u){return new k(!0,u)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":53,"../internals/get-iterator-method":56,"../internals/is-array-iterator-method":70,"../internals/to-length":133}],77:[function(h,te,j){"use strict";var k,g,w,S=h("../internals/object-get-prototype-of"),M=h("../internals/create-non-enumerable-property"),b=h("../internals/has"),f=h("../internals/well-known-symbol"),u=h("../internals/is-pure"),d=f("iterator"),p=!1;[].keys&&("next"in(w=[].keys())?(g=S(S(w)))!==Object.prototype&&(k=g):p=!0),null==k&&(k={}),u||b(k,d)||M(k,d,function(){return this}),te.exports={IteratorPrototype:k,BUGGY_SAFARI_ITERATORS:p}},{"../internals/create-non-enumerable-property":37,"../internals/has":59,"../internals/is-pure":74,"../internals/object-get-prototype-of":96,"../internals/well-known-symbol":145}],78:[function(h,te,j){arguments[4][60][0].apply(j,arguments)},{dup:60}],79:[function(h,te,j){te.exports=Math.sign||function(k){return 0==(k=+k)||k!=k?k:k<0?-1:1}},{}],80:[function(h,te,j){var k,g,w,S,M,b,f,u,d=h("../internals/global"),p=h("../internals/object-get-own-property-descriptor").f,m=h("../internals/classof-raw"),v=h("../internals/task").set,D=h("../internals/engine-is-ios"),I=d.MutationObserver||d.WebKitMutationObserver,R=d.process,B=d.Promise,V="process"==m(R),G=p(d,"queueMicrotask"),K=G&&G.value;K||(k=function(){var Q,W;for(V&&(Q=R.domain)&&Q.exit();g;){W=g.fn,g=g.next;try{W()}catch(Z){throw g?S():w=void 0,Z}}w=void 0,Q&&Q.enter()},S=V?function(){R.nextTick(k)}:I&&!D?(M=!0,b=document.createTextNode(""),new I(k).observe(b,{characterData:!0}),function(){b.data=M=!M}):B&&B.resolve?(f=B.resolve(void 0),u=f.then,function(){u.call(f,k)}):function(){v.call(d,k)}),te.exports=K||function(Q){var W={fn:Q,next:void 0};w&&(w.next=W),g||(g=W,S()),w=W}},{"../internals/classof-raw":28,"../internals/engine-is-ios":45,"../internals/global":58,"../internals/object-get-own-property-descriptor":92,"../internals/task":127}],81:[function(h,te,j){var k=h("../internals/global");te.exports=k.Promise},{"../internals/global":58}],82:[function(h,te,j){var k=h("../internals/fails");te.exports=!!Object.getOwnPropertySymbols&&!k(function(){return!String(Symbol())})},{"../internals/fails":50}],83:[function(h,te,j){var k=h("../internals/fails"),g=h("../internals/well-known-symbol"),w=h("../internals/is-pure"),S=g("iterator");te.exports=!k(function(){var M=new URL("b?a=1&b=2&c=3","http://a"),b=M.searchParams,f="";return M.pathname="c%20d",b.forEach(function(u,d){b.delete("b"),f+=d+u}),w&&!M.toJSON||!b.sort||"http://a/c%20d?a=1&c=3"!==M.href||"3"!==b.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!b[S]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==f||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":50,"../internals/is-pure":74,"../internals/well-known-symbol":145}],84:[function(h,te,j){var k=h("../internals/global"),g=h("../internals/inspect-source"),w=k.WeakMap;te.exports="function"==typeof w&&/native code/.test(g(w))},{"../internals/global":58,"../internals/inspect-source":67}],85:[function(h,te,j){"use strict";function k(w){var S,M;this.promise=new w(function(b,f){if(void 0!==S||void 0!==M)throw TypeError("Bad Promise constructor");S=b,M=f}),this.resolve=g(S),this.reject=g(M)}var g=h("../internals/a-function");te.exports.f=function(w){return new k(w)}},{"../internals/a-function":5}],86:[function(h,te,j){var k=h("../internals/is-regexp");te.exports=function(g){if(k(g))throw TypeError("The method doesn't accept regular expressions");return g}},{"../internals/is-regexp":75}],87:[function(h,te,j){var k=h("../internals/global").isFinite;te.exports=Number.isFinite||function(g){return"number"==typeof g&&k(g)}},{"../internals/global":58}],88:[function(h,te,j){"use strict";var k=h("../internals/descriptors"),g=h("../internals/fails"),w=h("../internals/object-keys"),S=h("../internals/object-get-own-property-symbols"),M=h("../internals/object-property-is-enumerable"),b=h("../internals/to-object"),f=h("../internals/indexed-object"),u=Object.assign,d=Object.defineProperty;te.exports=!u||g(function(){if(k&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var p={},m={},v=Symbol(),D="abcdefghijklmnopqrst";return p[v]=7,D.split("").forEach(function(I){m[I]=I}),7!=u({},p)[v]||w(u({},m)).join("")!=D})?function(p,m){for(var v=b(p),D=arguments.length,I=1,R=S.f,B=M.f;I<D;)for(var V,G=f(arguments[I++]),K=R?w(G).concat(R(G)):w(G),Q=K.length,W=0;W<Q;)V=K[W++],k&&!B.call(G,V)||(v[V]=G[V]);return v}:u},{"../internals/descriptors":42,"../internals/fails":50,"../internals/indexed-object":65,"../internals/object-get-own-property-symbols":95,"../internals/object-keys":98,"../internals/object-property-is-enumerable":99,"../internals/to-object":134}],89:[function(h,te,j){function k(){}function g(R){return"<script>"+R+"</"+v+">"}var w,S=h("../internals/an-object"),M=h("../internals/object-define-properties"),b=h("../internals/enum-bug-keys"),f=h("../internals/hidden-keys"),u=h("../internals/html"),d=h("../internals/document-create-element"),p=h("../internals/shared-key"),m="prototype",v="script",D=p("IE_PROTO"),I=function(){try{w=document.domain&&new ActiveXObject("htmlfile")}catch(G){}var R,B;I=w?function(G){G.write(g("")),G.close();var K=G.parentWindow.Object;return G=null,K}(w):((B=d("iframe")).style.display="none",u.appendChild(B),B.src=String("javascript:"),(R=B.contentWindow.document).open(),R.write(g("document.F=Object")),R.close(),R.F);for(var V=b.length;V--;)delete I[m][b[V]];return I()};f[D]=!0,te.exports=Object.create||function(R,B){var V;return null!==R?(k[m]=S(R),V=new k,k[m]=null,V[D]=R):V=I(),void 0===B?V:M(V,B)}},{"../internals/an-object":10,"../internals/document-create-element":43,"../internals/enum-bug-keys":48,"../internals/hidden-keys":60,"../internals/html":62,"../internals/object-define-properties":90,"../internals/shared-key":117}],90:[function(h,te,j){var k=h("../internals/descriptors"),g=h("../internals/object-define-property"),w=h("../internals/an-object"),S=h("../internals/object-keys");te.exports=k?Object.defineProperties:function(M,b){w(M);for(var f,u=S(b),d=u.length,p=0;p<d;)g.f(M,f=u[p++],b[f]);return M}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/object-define-property":91,"../internals/object-keys":98}],91:[function(h,te,j){var k=h("../internals/descriptors"),g=h("../internals/ie8-dom-define"),w=h("../internals/an-object"),S=h("../internals/to-primitive"),M=Object.defineProperty;j.f=k?M:function(b,f,u){if(w(b),f=S(f,!0),w(u),g)try{return M(b,f,u)}catch(d){}if("get"in u||"set"in u)throw TypeError("Accessors not supported");return"value"in u&&(b[f]=u.value),b}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/ie8-dom-define":63,"../internals/to-primitive":137}],92:[function(h,te,j){var k=h("../internals/descriptors"),g=h("../internals/object-property-is-enumerable"),w=h("../internals/create-property-descriptor"),S=h("../internals/to-indexed-object"),M=h("../internals/to-primitive"),b=h("../internals/has"),f=h("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;j.f=k?u:function(d,p){if(d=S(d),p=M(p,!0),f)try{return u(d,p)}catch(m){}if(b(d,p))return w(!g.f.call(d,p),d[p])}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/has":59,"../internals/ie8-dom-define":63,"../internals/object-property-is-enumerable":99,"../internals/to-indexed-object":131,"../internals/to-primitive":137}],93:[function(h,te,j){var k=h("../internals/to-indexed-object"),g=h("../internals/object-get-own-property-names").f,w={}.toString,S="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];te.exports.f=function(M){return S&&"[object Window]"==w.call(M)?function(b){try{return g(b)}catch(f){return S.slice()}}(M):g(k(M))}},{"../internals/object-get-own-property-names":94,"../internals/to-indexed-object":131}],94:[function(h,te,j){var k=h("../internals/object-keys-internal"),g=h("../internals/enum-bug-keys").concat("length","prototype");j.f=Object.getOwnPropertyNames||function(w){return k(w,g)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":97}],95:[function(h,te,j){j.f=Object.getOwnPropertySymbols},{}],96:[function(h,te,j){var k=h("../internals/has"),g=h("../internals/to-object"),w=h("../internals/shared-key"),S=h("../internals/correct-prototype-getter"),M=w("IE_PROTO"),b=Object.prototype;te.exports=S?Object.getPrototypeOf:function(f){return f=g(f),k(f,M)?f[M]:"function"==typeof f.constructor&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?b:null}},{"../internals/correct-prototype-getter":34,"../internals/has":59,"../internals/shared-key":117,"../internals/to-object":134}],97:[function(h,te,j){var k=h("../internals/has"),g=h("../internals/to-indexed-object"),w=h("../internals/array-includes").indexOf,S=h("../internals/hidden-keys");te.exports=function(M,b){var f,u=g(M),d=0,p=[];for(f in u)!k(S,f)&&k(u,f)&&p.push(f);for(;b.length>d;)k(u,f=b[d++])&&(~w(p,f)||p.push(f));return p}},{"../internals/array-includes":18,"../internals/has":59,"../internals/hidden-keys":60,"../internals/to-indexed-object":131}],98:[function(h,te,j){var k=h("../internals/object-keys-internal"),g=h("../internals/enum-bug-keys");te.exports=Object.keys||function(w){return k(w,g)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":97}],99:[function(h,te,j){"use strict";var k={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,w=g&&!k.call({1:2},1);j.f=w?function(S){var M=g(this,S);return!!M&&M.enumerable}:k},{}],100:[function(h,te,j){var k=h("../internals/an-object"),g=h("../internals/a-possible-prototype");te.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var w,S=!1,M={};try{(w=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(M,[]),S=M instanceof Array}catch(b){}return function(b,f){return k(b),g(f),S?w.call(b,f):b.__proto__=f,b}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],101:[function(h,te,j){"use strict";var k=h("../internals/to-string-tag-support"),g=h("../internals/classof");te.exports=k?{}.toString:function(){return"[object "+g(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":138}],102:[function(h,te,j){var k=h("../internals/get-built-in"),g=h("../internals/object-get-own-property-names"),w=h("../internals/object-get-own-property-symbols"),S=h("../internals/an-object");te.exports=k("Reflect","ownKeys")||function(M){var b=g.f(S(M)),f=w.f;return f?b.concat(f(M)):b}},{"../internals/an-object":10,"../internals/get-built-in":55,"../internals/object-get-own-property-names":94,"../internals/object-get-own-property-symbols":95}],103:[function(h,te,j){var k=h("../internals/global");te.exports=k},{"../internals/global":58}],104:[function(h,te,j){te.exports=function(k){try{return{error:!1,value:k()}}catch(g){return{error:!0,value:g}}}},{}],105:[function(h,te,j){var k=h("../internals/an-object"),g=h("../internals/is-object"),w=h("../internals/new-promise-capability");te.exports=function(S,M){if(k(S),g(M)&&M.constructor===S)return M;var b=w.f(S);return(0,b.resolve)(M),b.promise}},{"../internals/an-object":10,"../internals/is-object":73,"../internals/new-promise-capability":85}],106:[function(h,te,j){var k=h("../internals/redefine");te.exports=function(g,w,S){for(var M in w)k(g,M,w[M],S);return g}},{"../internals/redefine":107}],107:[function(h,te,j){var k=h("../internals/global"),g=h("../internals/create-non-enumerable-property"),w=h("../internals/has"),S=h("../internals/set-global"),M=h("../internals/inspect-source"),b=h("../internals/internal-state"),f=b.get,u=b.enforce,d=String(String).split("String");(te.exports=function(p,m,v,D){var I=!!D&&!!D.unsafe,R=!!D&&!!D.enumerable,B=!!D&&!!D.noTargetGet;"function"==typeof v&&("string"!=typeof m||w(v,"name")||g(v,"name",m),u(v).source=d.join("string"==typeof m?m:"")),p!==k?(I?!B&&p[m]&&(R=!0):delete p[m],R?p[m]=v:g(p,m,v)):R?p[m]=v:S(m,v)})(Function.prototype,"toString",function(){return"function"==typeof this&&f(this).source||M(this)})},{"../internals/create-non-enumerable-property":37,"../internals/global":58,"../internals/has":59,"../internals/inspect-source":67,"../internals/internal-state":69,"../internals/set-global":114}],108:[function(h,te,j){var k=h("./classof-raw"),g=h("./regexp-exec");te.exports=function(w,S){var M=w.exec;if("function"==typeof M){var b=M.call(w,S);if("object"!=typeof b)throw TypeError("RegExp exec method returned something other than an Object or null");return b}if("RegExp"!==k(w))throw TypeError("RegExp#exec called on incompatible receiver");return g.call(w,S)}},{"./classof-raw":28,"./regexp-exec":109}],109:[function(h,te,j){"use strict";var k,g,w=h("./regexp-flags"),S=h("./regexp-sticky-helpers"),M=RegExp.prototype.exec,b=String.prototype.replace,f=M,u=(g=/b*/g,M.call(k=/a/,"a"),M.call(g,"a"),0!==k.lastIndex||0!==g.lastIndex),d=S.UNSUPPORTED_Y||S.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(u||p||d)&&(f=function(m){var v,D,I,R,B=this,V=d&&B.sticky,G=w.call(B),K=B.source,Q=0,W=m;return V&&(-1===(G=G.replace("y","")).indexOf("g")&&(G+="g"),W=String(m).slice(B.lastIndex),0<B.lastIndex&&(!B.multiline||B.multiline&&"\n"!==m[B.lastIndex-1])&&(K="(?: "+K+")",W=" "+W,Q++),D=new RegExp("^(?:"+K+")",G)),p&&(D=new RegExp("^"+K+"$(?!\\s)",G)),u&&(v=B.lastIndex),I=M.call(V?D:B,W),V?I?(I.input=I.input.slice(Q),I[0]=I[0].slice(Q),I.index=B.lastIndex,B.lastIndex+=I[0].length):B.lastIndex=0:u&&I&&(B.lastIndex=B.global?I.index+I[0].length:v),p&&I&&1<I.length&&b.call(I[0],D,function(){for(R=1;R<arguments.length-2;R++)void 0===arguments[R]&&(I[R]=void 0)}),I}),te.exports=f},{"./regexp-flags":110,"./regexp-sticky-helpers":111}],110:[function(h,te,j){"use strict";var k=h("../internals/an-object");te.exports=function(){var g=k(this),w="";return g.global&&(w+="g"),g.ignoreCase&&(w+="i"),g.multiline&&(w+="m"),g.dotAll&&(w+="s"),g.unicode&&(w+="u"),g.sticky&&(w+="y"),w}},{"../internals/an-object":10}],111:[function(h,te,j){"use strict";var k=h("./fails");function g(w,S){return RegExp(w,S)}j.UNSUPPORTED_Y=k(function(){var w=g("a","y");return w.lastIndex=2,null!=w.exec("abcd")}),j.BROKEN_CARET=k(function(){var w=g("^r","gy");return w.lastIndex=2,null!=w.exec("str")})},{"./fails":50}],112:[function(h,te,j){te.exports=function(k){if(null==k)throw TypeError("Can't call method on "+k);return k}},{}],113:[function(h,te,j){te.exports=Object.is||function(k,g){return k===g?0!==k||1/k==1/g:k!=k&&g!=g}},{}],114:[function(h,te,j){var k=h("../internals/global"),g=h("../internals/create-non-enumerable-property");te.exports=function(w,S){try{g(k,w,S)}catch(M){k[w]=S}return S}},{"../internals/create-non-enumerable-property":37,"../internals/global":58}],115:[function(h,te,j){"use strict";var k=h("../internals/get-built-in"),g=h("../internals/object-define-property"),w=h("../internals/well-known-symbol"),S=h("../internals/descriptors"),M=w("species");te.exports=function(b){var f=k(b);S&&f&&!f[M]&&(0,g.f)(f,M,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":42,"../internals/get-built-in":55,"../internals/object-define-property":91,"../internals/well-known-symbol":145}],116:[function(h,te,j){var k=h("../internals/object-define-property").f,g=h("../internals/has"),w=h("../internals/well-known-symbol")("toStringTag");te.exports=function(S,M,b){S&&!g(S=b?S:S.prototype,w)&&k(S,w,{configurable:!0,value:M})}},{"../internals/has":59,"../internals/object-define-property":91,"../internals/well-known-symbol":145}],117:[function(h,te,j){var k=h("../internals/shared"),g=h("../internals/uid"),w=k("keys");te.exports=function(S){return w[S]||(w[S]=g(S))}},{"../internals/shared":119,"../internals/uid":142}],118:[function(h,te,j){var k=h("../internals/global"),g=h("../internals/set-global"),w="__core-js_shared__",S=k[w]||g(w,{});te.exports=S},{"../internals/global":58,"../internals/set-global":114}],119:[function(h,te,j){var k=h("../internals/is-pure"),g=h("../internals/shared-store");(te.exports=function(w,S){return g[w]||(g[w]=void 0!==S?S:{})})("versions",[]).push({version:"3.6.5",mode:k?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":74,"../internals/shared-store":118}],120:[function(h,te,j){var k=h("../internals/an-object"),g=h("../internals/a-function"),w=h("../internals/well-known-symbol")("species");te.exports=function(S,M){var b,f=k(S).constructor;return void 0===f||null==(b=k(f)[w])?M:g(b)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":145}],121:[function(h,te,j){var k=h("../internals/fails");te.exports=function(g){return k(function(){var w=""[g]('"');return w!==w.toLowerCase()||3<w.split('"').length})}},{"../internals/fails":50}],122:[function(h,te,j){function k(S){return function(M,b){var f,u,d=String(w(M)),p=g(b),m=d.length;return p<0||m<=p?S?"":void 0:(f=d.charCodeAt(p))<55296||56319<f||p+1===m||(u=d.charCodeAt(p+1))<56320||57343<u?S?d.charAt(p):f:S?d.slice(p,p+2):u-56320+(f-55296<<10)+65536}}var g=h("../internals/to-integer"),w=h("../internals/require-object-coercible");te.exports={codeAt:k(!1),charAt:k(!0)}},{"../internals/require-object-coercible":112,"../internals/to-integer":132}],123:[function(h,te,j){"use strict";function k(p){return p+22+75*(p<26)}function g(p,m,v){var D=0;for(p=v?u(p/700):p>>1,p+=u(p/m);455<p;D+=36)p=u(p/35);return u(D+36*p/(p+38))}function w(p){var m,v,D=[],I=(p=function(Fe){for(var Be=[],xe=0,Ue=Fe.length;xe<Ue;){var Ve=Fe.charCodeAt(xe++);if(55296<=Ve&&Ve<=56319&&xe<Ue){var Oe=Fe.charCodeAt(xe++);56320==(64512&Oe)?Be.push(((1023&Ve)<<10)+(1023&Oe)+65536):(Be.push(Ve),xe--)}else Be.push(Ve)}return Be}(p)).length,R=128,B=0,V=72;for(m=0;m<p.length;m++)(v=p[m])<128&&D.push(d(v));var G=D.length,K=G;for(G&&D.push("-");K<I;){var Q=S;for(m=0;m<p.length;m++)R<=(v=p[m])&&v<Q&&(Q=v);var W=K+1;if(Q-R>u((S-B)/W))throw RangeError(f);for(B+=(Q-R)*W,R=Q,m=0;m<p.length;m++){if((v=p[m])<R&&++B>S)throw RangeError(f);if(v==R){for(var Z=B,ne=36;;ne+=36){var X=ne<=V?1:V+26<=ne?26:ne-V;if(Z<X)break;var se=Z-X,oe=36-X;D.push(d(k(X+se%oe))),Z=u(se/oe)}D.push(d(k(Z))),V=g(B,W,K==G),B=0,++K}}++B,++R}return D.join("")}var S=2147483647,M=/[^\0-\u007E]/,b=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",u=Math.floor,d=String.fromCharCode;te.exports=function(p){var m,v,D=[],I=p.toLowerCase().replace(b,".").split(".");for(m=0;m<I.length;m++)D.push(M.test(v=I[m])?"xn--"+w(v):v);return D.join(".")}},{}],124:[function(h,te,j){"use strict";var k=h("../internals/to-integer"),g=h("../internals/require-object-coercible");te.exports="".repeat||function(w){var S=String(g(this)),M="",b=k(w);if(b<0||b==1/0)throw RangeError("Wrong number of repetitions");for(;0<b;(b>>>=1)&&(S+=S))1&b&&(M+=S);return M}},{"../internals/require-object-coercible":112,"../internals/to-integer":132}],125:[function(h,te,j){var k=h("../internals/fails"),g=h("../internals/whitespaces");te.exports=function(w){return k(function(){return!!g[w]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[w]()||g[w].name!==w})}},{"../internals/fails":50,"../internals/whitespaces":146}],126:[function(h,te,j){function k(b){return function(f){var u=String(g(f));return 1&b&&(u=u.replace(S,"")),2&b&&(u=u.replace(M,"")),u}}var g=h("../internals/require-object-coercible"),w="["+h("../internals/whitespaces")+"]",S=RegExp("^"+w+w+"*"),M=RegExp(w+w+"*$");te.exports={start:k(1),end:k(2),trim:k(3)}},{"../internals/require-object-coercible":112,"../internals/whitespaces":146}],127:[function(h,te,j){function k(X){if(Z.hasOwnProperty(X)){var se=Z[X];delete Z[X],se()}}function g(X){return function(){k(X)}}function w(X){k(X.data)}function S(X){u.postMessage(X+"",R.protocol+"//"+R.host)}var M,b,f,u=h("../internals/global"),d=h("../internals/fails"),p=h("../internals/classof-raw"),m=h("../internals/function-bind-context"),v=h("../internals/html"),D=h("../internals/document-create-element"),I=h("../internals/engine-is-ios"),R=u.location,B=u.setImmediate,V=u.clearImmediate,G=u.process,K=u.MessageChannel,Q=u.Dispatch,W=0,Z={},ne="onreadystatechange";B&&V||(B=function(X){for(var se=[],oe=1;oe<arguments.length;)se.push(arguments[oe++]);return Z[++W]=function(){("function"==typeof X?X:Function(X)).apply(void 0,se)},M(W),W},V=function(X){delete Z[X]},"process"==p(G)?M=function(X){G.nextTick(g(X))}:Q&&Q.now?M=function(X){Q.now(g(X))}:K&&!I?(f=(b=new K).port2,b.port1.onmessage=w,M=m(f.postMessage,f,1)):!u.addEventListener||"function"!=typeof postMessage||u.importScripts||d(S)||"file:"===R.protocol?M=ne in D("script")?function(X){v.appendChild(D("script"))[ne]=function(){v.removeChild(this),k(X)}}:function(X){setTimeout(g(X),0)}:(M=S,u.addEventListener("message",w,!1))),te.exports={set:B,clear:V}},{"../internals/classof-raw":28,"../internals/document-create-element":43,"../internals/engine-is-ios":45,"../internals/fails":50,"../internals/function-bind-context":53,"../internals/global":58,"../internals/html":62}],128:[function(h,te,j){var k=h("../internals/classof-raw");te.exports=function(g){if("number"!=typeof g&&"Number"!=k(g))throw TypeError("Incorrect invocation");return+g}},{"../internals/classof-raw":28}],129:[function(h,te,j){var k=h("../internals/to-integer"),g=Math.max,w=Math.min;te.exports=function(S,M){var b=k(S);return b<0?g(b+M,0):w(b,M)}},{"../internals/to-integer":132}],130:[function(h,te,j){var k=h("../internals/to-integer"),g=h("../internals/to-length");te.exports=function(w){if(void 0===w)return 0;var S=k(w),M=g(S);if(S!==M)throw RangeError("Wrong length or index");return M}},{"../internals/to-integer":132,"../internals/to-length":133}],131:[function(h,te,j){var k=h("../internals/indexed-object"),g=h("../internals/require-object-coercible");te.exports=function(w){return k(g(w))}},{"../internals/indexed-object":65,"../internals/require-object-coercible":112}],132:[function(h,te,j){var k=Math.ceil,g=Math.floor;te.exports=function(w){return isNaN(w=+w)?0:(0<w?g:k)(w)}},{}],133:[function(h,te,j){var k=h("../internals/to-integer"),g=Math.min;te.exports=function(w){return 0<w?g(k(w),9007199254740991):0}},{"../internals/to-integer":132}],134:[function(h,te,j){var k=h("../internals/require-object-coercible");te.exports=function(g){return Object(k(g))}},{"../internals/require-object-coercible":112}],135:[function(h,te,j){var k=h("../internals/to-positive-integer");te.exports=function(g,w){var S=k(g);if(S%w)throw RangeError("Wrong offset");return S}},{"../internals/to-positive-integer":136}],136:[function(h,te,j){var k=h("../internals/to-integer");te.exports=function(g){var w=k(g);if(w<0)throw RangeError("The argument can't be less than 0");return w}},{"../internals/to-integer":132}],137:[function(h,te,j){var k=h("../internals/is-object");te.exports=function(g,w){if(!k(g))return g;var S,M;if(w&&"function"==typeof(S=g.toString)&&!k(M=S.call(g))||"function"==typeof(S=g.valueOf)&&!k(M=S.call(g))||!w&&"function"==typeof(S=g.toString)&&!k(M=S.call(g)))return M;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":73}],138:[function(h,te,j){var k={};k[h("../internals/well-known-symbol")("toStringTag")]="z",te.exports="[object z]"===String(k)},{"../internals/well-known-symbol":145}],139:[function(h,te,j){"use strict";function k(Ye,Mt){for(var Et=0,xt=Mt.length,ln=new(ft(Ye))(xt);Et<xt;)ln[Et]=Mt[Et++];return ln}function g(Ye,Mt){lt(Ye,Mt,{get:function(){return Ge(this)[Mt]}})}function w(Ye){var Mt;return Ye instanceof z||"ArrayBuffer"==(Mt=W(Ye))||"SharedArrayBuffer"==Mt}function S(Ye,Mt){return Pe(Ye)&&"symbol"!=typeof Mt&&Mt in Ye&&String(+Mt)==String(Mt)}function M(Ye,Mt){return S(Ye,Mt=K(Mt,!0))?I(2,Ye[Mt]):Ke(Ye,Mt)}function b(Ye,Mt,Et){return!(S(Ye,Mt=K(Mt,!0))&&Z(Et)&&Q(Et,"value"))||Q(Et,"get")||Q(Et,"set")||Et.configurable||Q(Et,"writable")&&!Et.writable||Q(Et,"enumerable")&&!Et.enumerable?lt(Ye,Mt,Et):(Ye[Mt]=Et.value,Ye)}var f=h("../internals/export"),u=h("../internals/global"),d=h("../internals/descriptors"),p=h("../internals/typed-array-constructors-require-wrappers"),m=h("../internals/array-buffer-view-core"),v=h("../internals/array-buffer"),D=h("../internals/an-instance"),I=h("../internals/create-property-descriptor"),R=h("../internals/create-non-enumerable-property"),B=h("../internals/to-length"),V=h("../internals/to-index"),G=h("../internals/to-offset"),K=h("../internals/to-primitive"),Q=h("../internals/has"),W=h("../internals/classof"),Z=h("../internals/is-object"),ne=h("../internals/object-create"),X=h("../internals/object-set-prototype-of"),se=h("../internals/object-get-own-property-names").f,oe=h("../internals/typed-array-from"),Fe=h("../internals/array-iteration").forEach,Be=h("../internals/set-species"),xe=h("../internals/object-define-property"),Ue=h("../internals/object-get-own-property-descriptor"),Ve=h("../internals/internal-state"),Oe=h("../internals/inherit-if-required"),Ge=Ve.get,De=Ve.set,lt=xe.f,Ke=Ue.f,ct=Math.round,ut=u.RangeError,z=v.ArrayBuffer,ie=v.DataView,fe=m.NATIVE_ARRAY_BUFFER_VIEWS,Ee=m.TYPED_ARRAY_TAG,Ne=m.TypedArray,Ae=m.TypedArrayPrototype,ft=m.aTypedArrayConstructor,Pe=m.isTypedArray,tt="BYTES_PER_ELEMENT",st="Wrong length";d?(fe||(Ue.f=M,xe.f=b,g(Ae,"buffer"),g(Ae,"byteOffset"),g(Ae,"byteLength"),g(Ae,"length")),f({target:"Object",stat:!0,forced:!fe},{getOwnPropertyDescriptor:M,defineProperty:b}),te.exports=function(Ye,Mt,Et){function xt(it,yn){lt(it,yn,{get:function(){return Ht=yn,(de=Ge(this)).view[Ut](Ht*ln+de.byteOffset,!0);var Ht,de},set:function(Ht){return de=yn,_e=Ht,le=Ge(this),Et&&(_e=(_e=ct(_e))<0?0:255<_e?255:255&_e),void le.view[Yn](de*ln+le.byteOffset,_e,!0);var de,_e,le},enumerable:!0})}var ln=Ye.match(/\d+$/)[0]/8,An=Ye+(Et?"Clamped":"")+"Array",Ut="get"+Ye,Yn="set"+Ye,Kn=u[An],Vt=Kn,Nt=Vt&&Vt.prototype,gn={};fe?p&&(Vt=Mt(function(it,yn,Ht,de){return D(it,Vt,An),Oe(Z(yn)?w(yn)?void 0!==de?new Kn(yn,G(Ht,ln),de):void 0!==Ht?new Kn(yn,G(Ht,ln)):new Kn(yn):Pe(yn)?k(Vt,yn):oe.call(Vt,yn):new Kn(V(yn)),it,Vt)}),X&&X(Vt,Ne),Fe(se(Kn),function(it){it in Vt||R(Vt,it,Kn[it])}),Vt.prototype=Nt):(Vt=Mt(function(it,yn,Ht,de){D(it,Vt,An);var _e,le,ve,ze=0,pt=0;if(Z(yn)){if(!w(yn))return Pe(yn)?k(Vt,yn):oe.call(Vt,yn);_e=yn,pt=G(Ht,ln);var Dt=yn.byteLength;if(void 0===de){if(Dt%ln||(le=Dt-pt)<0)throw ut(st)}else if(Dt<(le=B(de)*ln)+pt)throw ut(st);ve=le/ln}else ve=V(yn),_e=new z(le=ve*ln);for(De(it,{buffer:_e,byteOffset:pt,byteLength:le,length:ve,view:new ie(_e)});ze<ve;)xt(it,ze++)}),X&&X(Vt,Ne),Nt=Vt.prototype=ne(Ae)),Nt.constructor!==Vt&&R(Nt,"constructor",Vt),Ee&&R(Nt,Ee,An),gn[An]=Vt,f({global:!0,forced:Vt!=Kn,sham:!fe},gn),tt in Vt||R(Vt,tt,ln),tt in Nt||R(Nt,tt,ln),Be(An)}):te.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/export":49,"../internals/global":58,"../internals/has":59,"../internals/inherit-if-required":66,"../internals/internal-state":69,"../internals/is-object":73,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/object-get-own-property-names":94,"../internals/object-set-prototype-of":100,"../internals/set-species":115,"../internals/to-index":130,"../internals/to-length":133,"../internals/to-offset":135,"../internals/to-primitive":137,"../internals/typed-array-constructors-require-wrappers":140,"../internals/typed-array-from":141}],140:[function(h,te,j){var k=h("../internals/global"),g=h("../internals/fails"),w=h("../internals/check-correctness-of-iteration"),S=h("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,M=k.ArrayBuffer,b=k.Int8Array;te.exports=!S||!g(function(){b(1)})||!g(function(){new b(-1)})||!w(function(f){new b,new b(null),new b(1.5),new b(f)},!0)||g(function(){return 1!==new b(new M(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":50,"../internals/global":58}],141:[function(h,te,j){var k=h("../internals/to-object"),g=h("../internals/to-length"),w=h("../internals/get-iterator-method"),S=h("../internals/is-array-iterator-method"),M=h("../internals/function-bind-context"),b=h("../internals/array-buffer-view-core").aTypedArrayConstructor;te.exports=function(f,u,d){var p,m,v,D,I,R,B=k(f),V=arguments.length,G=1<V?u:void 0,K=void 0!==G,Q=w(B);if(null!=Q&&!S(Q))for(R=(I=Q.call(B)).next,B=[];!(D=R.call(I)).done;)B.push(D.value);for(K&&2<V&&(G=M(G,d,2)),m=g(B.length),v=new(b(this))(m),p=0;p<m;p++)v[p]=K?G(B[p],p):B[p];return v}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":53,"../internals/get-iterator-method":56,"../internals/is-array-iterator-method":70,"../internals/to-length":133,"../internals/to-object":134}],142:[function(h,te,j){var k=0,g=Math.random();te.exports=function(w){return"Symbol("+String(void 0===w?"":w)+")_"+(++k+g).toString(36)}},{}],143:[function(h,te,j){var k=h("../internals/native-symbol");te.exports=k&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":82}],144:[function(h,te,j){var k=h("../internals/well-known-symbol");j.f=k},{"../internals/well-known-symbol":145}],145:[function(h,te,j){var k=h("../internals/global"),g=h("../internals/shared"),w=h("../internals/has"),S=h("../internals/uid"),M=h("../internals/native-symbol"),b=h("../internals/use-symbol-as-uid"),f=g("wks"),u=k.Symbol,d=b?u:u&&u.withoutSetter||S;te.exports=function(p){return w(f,p)||(f[p]=M&&w(u,p)?u[p]:d("Symbol."+p)),f[p]}},{"../internals/global":58,"../internals/has":59,"../internals/native-symbol":82,"../internals/shared":119,"../internals/uid":142,"../internals/use-symbol-as-uid":143}],146:[function(h,te,j){te.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],147:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/global"),w=h("../internals/array-buffer"),S=h("../internals/set-species"),M="ArrayBuffer",b=w[M];k({global:!0,forced:g[M]!==b},{ArrayBuffer:b}),S(M)},{"../internals/array-buffer":13,"../internals/export":49,"../internals/global":58,"../internals/set-species":115}],148:[function(h,te,j){"use strict";function k(G){if(!M(G))return!1;var K=G[D];return void 0!==K?!!K:S(G)}var g=h("../internals/export"),w=h("../internals/fails"),S=h("../internals/is-array"),M=h("../internals/is-object"),b=h("../internals/to-object"),f=h("../internals/to-length"),u=h("../internals/create-property"),d=h("../internals/array-species-create"),p=h("../internals/array-method-has-species-support"),m=h("../internals/well-known-symbol"),v=h("../internals/engine-v8-version"),D=m("isConcatSpreadable"),I=9007199254740991,R="Maximum allowed index exceeded",B=51<=v||!w(function(){var G=[];return G[D]=!1,G.concat()[0]!==G}),V=p("concat");g({target:"Array",proto:!0,forced:!B||!V},{concat:function(G){var K,Q,W,Z,ne,X=b(this),se=d(X,0),oe=0;for(K=-1,W=arguments.length;K<W;K++)if(k(ne=-1===K?X:arguments[K])){if(Z=f(ne.length),I<oe+Z)throw TypeError(R);for(Q=0;Q<Z;Q++,oe++)Q in ne&&u(se,oe,ne[Q])}else{if(I<=oe)throw TypeError(R);u(se,oe++,ne)}return se.length=oe,se}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/fails":50,"../internals/is-array":71,"../internals/is-object":73,"../internals/to-length":133,"../internals/to-object":134,"../internals/well-known-symbol":145}],149:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/array-iteration").every,w=h("../internals/array-method-is-strict"),S=h("../internals/array-method-uses-to-length"),M=w("every"),b=S("every");k({target:"Array",proto:!0,forced:!M||!b},{every:function(f,u){return g(this,f,1<arguments.length?u:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],150:[function(h,te,j){var k=h("../internals/export"),g=h("../internals/array-fill"),w=h("../internals/add-to-unscopables");k({target:"Array",proto:!0},{fill:g}),w("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":49}],151:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/array-iteration").filter,w=h("../internals/array-method-has-species-support"),S=h("../internals/array-method-uses-to-length"),M=w("filter"),b=S("filter");k({target:"Array",proto:!0,forced:!M||!b},{filter:function(f,u){return g(this,f,1<arguments.length?u:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],152:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/array-for-each");k({target:"Array",proto:!0,forced:[].forEach!=g},{forEach:g})},{"../internals/array-for-each":16,"../internals/export":49}],153:[function(h,te,j){var k=h("../internals/export"),g=h("../internals/array-from");k({target:"Array",stat:!0,forced:!h("../internals/check-correctness-of-iteration")(function(w){Array.from(w)})},{from:g})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":49}],154:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/array-includes").includes,w=h("../internals/add-to-unscopables");k({target:"Array",proto:!0,forced:!h("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(S,M){return g(this,S,1<arguments.length?M:void 0)}}),w("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":49}],155:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/array-includes").indexOf,w=h("../internals/array-method-is-strict"),S=h("../internals/array-method-uses-to-length"),M=[].indexOf,b=!!M&&1/[1].indexOf(1,-0)<0,f=w("indexOf"),u=S("indexOf",{ACCESSORS:!0,1:0});k({target:"Array",proto:!0,forced:b||!f||!u},{indexOf:function(d,p){return b?M.apply(this,arguments)||0:g(this,d,1<arguments.length?p:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],156:[function(h,te,j){"use strict";var k=h("../internals/to-indexed-object"),g=h("../internals/add-to-unscopables"),w=h("../internals/iterators"),S=h("../internals/internal-state"),M=h("../internals/define-iterator"),b="Array Iterator",f=S.set,u=S.getterFor(b);te.exports=M(Array,"Array",function(d,p){f(this,{type:b,target:k(d),index:0,kind:p})},function(){var d=u(this),p=d.target,m=d.kind,v=d.index++;return!p||v>=p.length?{value:d.target=void 0,done:!0}:"keys"==m?{value:v,done:!1}:"values"==m?{value:p[v],done:!1}:{value:[v,p[v]],done:!1}},"values"),w.Arguments=w.Array,g("keys"),g("values"),g("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":40,"../internals/internal-state":69,"../internals/iterators":78,"../internals/to-indexed-object":131}],157:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/indexed-object"),w=h("../internals/to-indexed-object"),S=h("../internals/array-method-is-strict"),M=[].join,b=g!=Object,f=S("join",",");k({target:"Array",proto:!0,forced:b||!f},{join:function(u){return M.call(w(this),void 0===u?",":u)}})},{"../internals/array-method-is-strict":22,"../internals/export":49,"../internals/indexed-object":65,"../internals/to-indexed-object":131}],158:[function(h,te,j){var k=h("../internals/export"),g=h("../internals/array-last-index-of");k({target:"Array",proto:!0,forced:g!==[].lastIndexOf},{lastIndexOf:g})},{"../internals/array-last-index-of":20,"../internals/export":49}],159:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/array-iteration").map,w=h("../internals/array-method-has-species-support"),S=h("../internals/array-method-uses-to-length"),M=w("map"),b=S("map");k({target:"Array",proto:!0,forced:!M||!b},{map:function(f,u){return g(this,f,1<arguments.length?u:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],160:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/is-object"),w=h("../internals/is-array"),S=h("../internals/to-absolute-index"),M=h("../internals/to-length"),b=h("../internals/to-indexed-object"),f=h("../internals/create-property"),u=h("../internals/well-known-symbol"),d=h("../internals/array-method-has-species-support"),p=h("../internals/array-method-uses-to-length"),m=d("slice"),v=p("slice",{ACCESSORS:!0,0:0,1:2}),D=u("species"),I=[].slice,R=Math.max;k({target:"Array",proto:!0,forced:!m||!v},{slice:function(B,V){var G,K,Q,W=b(this),Z=M(W.length),ne=S(B,Z),X=S(void 0===V?Z:V,Z);if(w(W)&&("function"!=typeof(G=W.constructor)||G!==Array&&!w(G.prototype)?g(G)&&null===(G=G[D])&&(G=void 0):G=void 0,G===Array||void 0===G))return I.call(W,ne,X);for(K=new(void 0===G?Array:G)(R(X-ne,0)),Q=0;ne<X;ne++,Q++)ne in W&&f(K,Q,W[ne]);return K.length=Q,K}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":39,"../internals/export":49,"../internals/is-array":71,"../internals/is-object":73,"../internals/to-absolute-index":129,"../internals/to-indexed-object":131,"../internals/to-length":133,"../internals/well-known-symbol":145}],161:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/array-iteration").some,w=h("../internals/array-method-is-strict"),S=h("../internals/array-method-uses-to-length"),M=w("some"),b=S("some");k({target:"Array",proto:!0,forced:!M||!b},{some:function(f,u){return g(this,f,1<arguments.length?u:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],162:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/to-absolute-index"),w=h("../internals/to-integer"),S=h("../internals/to-length"),M=h("../internals/to-object"),b=h("../internals/array-species-create"),f=h("../internals/create-property"),u=h("../internals/array-method-has-species-support"),d=h("../internals/array-method-uses-to-length"),p=u("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,D=Math.min;k({target:"Array",proto:!0,forced:!p||!m},{splice:function(I,R){var B,V,G,K,Q,W,Z=M(this),ne=S(Z.length),X=g(I,ne),se=arguments.length;if(0===se?B=V=0:V=1===se?(B=0,ne-X):(B=se-2,D(v(w(R),0),ne-X)),9007199254740991<ne+B-V)throw TypeError("Maximum allowed length exceeded");for(G=b(Z,V),K=0;K<V;K++)(Q=X+K)in Z&&f(G,K,Z[Q]);if(B<(G.length=V)){for(K=X;K<ne-V;K++)W=K+B,(Q=K+V)in Z?Z[W]=Z[Q]:delete Z[W];for(K=ne;ne-V+B<K;K--)delete Z[K-1]}else if(V<B)for(K=ne-V;X<K;K--)W=K+B-1,(Q=K+V-1)in Z?Z[W]=Z[Q]:delete Z[W];for(K=0;K<B;K++)Z[K+X]=arguments[K+2];return Z.length=ne-V+B,G}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/export":49,"../internals/to-absolute-index":129,"../internals/to-integer":132,"../internals/to-length":133,"../internals/to-object":134}],163:[function(h,te,j){var k=h("../internals/descriptors"),g=h("../internals/object-define-property").f,w=Function.prototype,S=w.toString,M=/^\s*function ([^ (]*)/;!k||"name"in w||g(w,"name",{configurable:!0,get:function(){try{return S.call(this).match(M)[1]}catch(b){return""}}})},{"../internals/descriptors":42,"../internals/object-define-property":91}],164:[function(h,te,j){"use strict";var k=h("../internals/collection"),g=h("../internals/collection-strong");te.exports=k("Map",function(w){return function(S){return w(this,arguments.length?S:void 0)}},g)},{"../internals/collection":31,"../internals/collection-strong":30}],165:[function(h,te,j){var k=h("../internals/export"),g=Math.hypot,w=Math.abs,S=Math.sqrt;k({target:"Math",stat:!0,forced:!!g&&g(1/0,NaN)!==1/0},{hypot:function(M,b){for(var f,u,d=0,p=0,m=arguments.length,v=0;p<m;)v<(f=w(arguments[p++]))?(d=d*(u=v/f)*u+1,v=f):d+=0<f?(u=f/v)*u:f;return v===1/0?1/0:v*S(d)}})},{"../internals/export":49}],166:[function(h,te,j){h("../internals/export")({target:"Math",stat:!0},{sign:h("../internals/math-sign")})},{"../internals/export":49,"../internals/math-sign":79}],167:[function(h,te,j){"use strict";function k(X){var se,oe,Fe,Be,xe,Ue,Ve,Oe,Ge=d(X,!1);if("string"==typeof Ge&&2<Ge.length)if(43===(se=(Ge=R(Ge)).charCodeAt(0))||45===se){if(88===(oe=Ge.charCodeAt(2))||120===oe)return NaN}else if(48===se){switch(Ge.charCodeAt(1)){case 66:case 98:Fe=2,Be=49;break;case 79:case 111:Fe=8,Be=55;break;default:return+Ge}for(Ue=(xe=Ge.slice(2)).length,Ve=0;Ve<Ue;Ve++)if((Oe=xe.charCodeAt(Ve))<48||Be<Oe)return NaN;return parseInt(xe,Fe)}return+Ge}var g=h("../internals/descriptors"),w=h("../internals/global"),S=h("../internals/is-forced"),M=h("../internals/redefine"),b=h("../internals/has"),f=h("../internals/classof-raw"),u=h("../internals/inherit-if-required"),d=h("../internals/to-primitive"),p=h("../internals/fails"),m=h("../internals/object-create"),v=h("../internals/object-get-own-property-names").f,D=h("../internals/object-get-own-property-descriptor").f,I=h("../internals/object-define-property").f,R=h("../internals/string-trim").trim,B="Number",V=w[B],G=V.prototype,K=f(m(G))==B;if(S(B,!V(" 0o1")||!V("0b1")||V("+0x1"))){for(var Q,W=function(X){var se=arguments.length<1?0:X,oe=this;return oe instanceof W&&(K?p(function(){G.valueOf.call(oe)}):f(oe)!=B)?u(new V(k(se)),oe,W):k(se)},Z=g?v(V):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),ne=0;Z.length>ne;ne++)b(V,Q=Z[ne])&&!b(W,Q)&&I(W,Q,D(V,Q));(W.prototype=G).constructor=W,M(w,B,W)}},{"../internals/classof-raw":28,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":58,"../internals/has":59,"../internals/inherit-if-required":66,"../internals/is-forced":72,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/object-get-own-property-names":94,"../internals/redefine":107,"../internals/string-trim":126,"../internals/to-primitive":137}],168:[function(h,te,j){h("../internals/export")({target:"Number",stat:!0},{isFinite:h("../internals/number-is-finite")})},{"../internals/export":49,"../internals/number-is-finite":87}],169:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/to-integer"),w=h("../internals/this-number-value"),S=h("../internals/string-repeat"),M=h("../internals/fails"),b=1..toFixed,f=Math.floor,u=function(d,p,m){return 0===p?m:p%2==1?u(d,p-1,m*d):u(d*d,p/2,m)};k({target:"Number",proto:!0,forced:b&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!M(function(){b.call({})})},{toFixed:function(d){function p(Z,ne){for(var X=-1,se=ne;++X<6;)K[X]=(se+=Z*K[X])%1e7,se=f(se/1e7)}function m(Z){for(var ne=6,X=0;0<=--ne;)K[ne]=f((X+=K[ne])/Z),X=X%Z*1e7}function v(){for(var Z=6,ne="";0<=--Z;)if(""!==ne||0===Z||0!==K[Z]){var X=String(K[Z]);ne=""===ne?X:ne+S.call("0",7-X.length)+X}return ne}var D,I,R,B,V=w(this),G=g(d),K=[0,0,0,0,0,0],Q="",W="0";if(G<0||20<G)throw RangeError("Incorrect fraction digits");if(V!=V)return"NaN";if(V<=-1e21||1e21<=V)return String(V);if(V<0&&(Q="-",V=-V),1e-21<V)if(I=(D=function(Z){for(var ne=0,X=Z;4096<=X;)ne+=12,X/=4096;for(;2<=X;)ne+=1,X/=2;return ne}(V*u(2,69,1))-69)<0?V*u(2,-D,1):V/u(2,D,1),I*=4503599627370496,0<(D=52-D)){for(p(0,I),R=G;7<=R;)p(1e7,0),R-=7;for(p(u(10,R,1),0),R=D-1;23<=R;)m(1<<23),R-=23;m(1<<R),p(1,1),m(2),W=v()}else p(0,I),p(1<<-D,0),W=v()+S.call("0",G);return 0<G?Q+((B=W.length)<=G?"0."+S.call("0",G-B)+W:W.slice(0,B-G)+"."+W.slice(B-G)):Q+W}})},{"../internals/export":49,"../internals/fails":50,"../internals/string-repeat":124,"../internals/this-number-value":128,"../internals/to-integer":132}],170:[function(h,te,j){var k=h("../internals/export"),g=h("../internals/object-assign");k({target:"Object",stat:!0,forced:Object.assign!==g},{assign:g})},{"../internals/export":49,"../internals/object-assign":88}],171:[function(h,te,j){var k=h("../internals/export"),g=h("../internals/fails"),w=h("../internals/object-get-own-property-names-external").f;k({target:"Object",stat:!0,forced:g(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:w})},{"../internals/export":49,"../internals/fails":50,"../internals/object-get-own-property-names-external":93}],172:[function(h,te,j){var k=h("../internals/export"),g=h("../internals/fails"),w=h("../internals/to-object"),S=h("../internals/object-get-prototype-of"),M=h("../internals/correct-prototype-getter");k({target:"Object",stat:!0,forced:g(function(){S(1)}),sham:!M},{getPrototypeOf:function(b){return S(w(b))}})},{"../internals/correct-prototype-getter":34,"../internals/export":49,"../internals/fails":50,"../internals/object-get-prototype-of":96,"../internals/to-object":134}],173:[function(h,te,j){var k=h("../internals/export"),g=h("../internals/to-object"),w=h("../internals/object-keys");k({target:"Object",stat:!0,forced:h("../internals/fails")(function(){w(1)})},{keys:function(S){return w(g(S))}})},{"../internals/export":49,"../internals/fails":50,"../internals/object-keys":98,"../internals/to-object":134}],174:[function(h,te,j){var k=h("../internals/to-string-tag-support"),g=h("../internals/redefine"),w=h("../internals/object-to-string");k||g(Object.prototype,"toString",w,{unsafe:!0})},{"../internals/object-to-string":101,"../internals/redefine":107,"../internals/to-string-tag-support":138}],175:[function(h,te,j){"use strict";function k(Vt){var Nt;return!(!K(Vt)||"function"!=typeof(Nt=Vt.then))&&Nt}function g(Vt,Nt,gn){if(!Nt.notified){Nt.notified=!0;var it=Nt.reactions;Be(function(){for(var yn=Nt.value,Ht=1==Nt.state,de=0;it.length>de;){var _e,le,ve,ze=it[de++],pt=Ht?ze.ok:ze.fail,Dt=ze.resolve,Gt=ze.reject,nt=ze.domain;try{pt?(Ht||(2===Nt.rejection&&Yn(Vt,Nt),Nt.rejection=1),!0===pt?_e=yn:(nt&&nt.enter(),_e=pt(yn),nt&&(nt.exit(),ve=!0)),_e===ze.promise?Gt(Ne("Promise-chain cycle")):(le=k(_e))?le.call(_e,Dt,Gt):Dt(_e)):Gt(yn)}catch(dn){nt&&!ve&&nt.exit(),Gt(dn)}}Nt.reactions=[],Nt.notified=!1,gn&&!Nt.rejection&&An(Vt,Nt)})}}function w(Vt,Nt,gn){var it,yn;Mt?((it=Ae.createEvent("Event")).promise=Nt,it.reason=gn,it.initEvent(Vt,!1,!0),v.dispatchEvent(it)):it={promise:Nt,reason:gn},(yn=v["on"+Vt])?yn(it):Vt===Et&&Ue("Unhandled promise rejection",gn)}function S(Vt,Nt,gn,it){return function(yn){Vt(Nt,gn,yn,it)}}function M(Vt,Nt,gn,it){Nt.done||(Nt.done=!0,it&&(Nt=it),Nt.value=gn,Nt.state=2,g(Vt,Nt,!0))}var b,f,u,d,p=h("../internals/export"),m=h("../internals/is-pure"),v=h("../internals/global"),D=h("../internals/get-built-in"),I=h("../internals/native-promise-constructor"),R=h("../internals/redefine"),B=h("../internals/redefine-all"),V=h("../internals/set-to-string-tag"),G=h("../internals/set-species"),K=h("../internals/is-object"),Q=h("../internals/a-function"),W=h("../internals/an-instance"),Z=h("../internals/classof-raw"),ne=h("../internals/inspect-source"),X=h("../internals/iterate"),se=h("../internals/check-correctness-of-iteration"),oe=h("../internals/species-constructor"),Fe=h("../internals/task").set,Be=h("../internals/microtask"),xe=h("../internals/promise-resolve"),Ue=h("../internals/host-report-errors"),Ve=h("../internals/new-promise-capability"),Oe=h("../internals/perform"),Ge=h("../internals/internal-state"),De=h("../internals/is-forced"),lt=h("../internals/well-known-symbol"),Ke=h("../internals/engine-v8-version"),ct=lt("species"),ut="Promise",z=Ge.get,ie=Ge.set,fe=Ge.getterFor(ut),Ee=I,Ne=v.TypeError,Ae=v.document,ft=v.process,Pe=D("fetch"),tt=Ve.f,st=tt,Ye="process"==Z(ft),Mt=!!(Ae&&Ae.createEvent&&v.dispatchEvent),Et="unhandledrejection",xt=De(ut,function(){if(ne(Ee)===String(Ee)&&(66===Ke||!Ye&&"function"!=typeof PromiseRejectionEvent)||m&&!Ee.prototype.finally)return!0;if(51<=Ke&&/native code/.test(Ee))return!1;function Vt(gn){gn(function(){},function(){})}var Nt=Ee.resolve(1);return(Nt.constructor={})[ct]=Vt,!(Nt.then(function(){})instanceof Vt)}),ln=xt||!se(function(Vt){Ee.all(Vt).catch(function(){})}),An=function(Vt,Nt){Fe.call(v,function(){var gn,it=Nt.value;if(Ut(Nt)&&(gn=Oe(function(){Ye?ft.emit("unhandledRejection",it,Vt):w(Et,Vt,it)}),Nt.rejection=Ye||Ut(Nt)?2:1,gn.error))throw gn.value})},Ut=function(Vt){return 1!==Vt.rejection&&!Vt.parent},Yn=function(Vt,Nt){Fe.call(v,function(){Ye?ft.emit("rejectionHandled",Vt):w("rejectionhandled",Vt,Nt.value)})},Kn=function(Vt,Nt,gn,it){if(!Nt.done){Nt.done=!0,it&&(Nt=it);try{if(Vt===gn)throw Ne("Promise can't be resolved itself");var yn=k(gn);yn?Be(function(){var Ht={done:!1};try{yn.call(gn,S(Kn,Vt,Ht,Nt),S(M,Vt,Ht,Nt))}catch(de){M(Vt,Ht,de,Nt)}}):(Nt.value=gn,Nt.state=1,g(Vt,Nt,!1))}catch(Ht){M(Vt,{done:!1},Ht,Nt)}}};xt&&(Ee=function(Vt){W(this,Ee,ut),Q(Vt),b.call(this);var Nt=z(this);try{Vt(S(Kn,this,Nt),S(M,this,Nt))}catch(gn){M(this,Nt,gn)}},(b=function(){ie(this,{type:ut,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=B(Ee.prototype,{then:function(Vt,Nt){var gn=fe(this),it=tt(oe(this,Ee));return it.ok="function"!=typeof Vt||Vt,it.fail="function"==typeof Nt&&Nt,it.domain=Ye?ft.domain:void 0,gn.parent=!0,gn.reactions.push(it),0!=gn.state&&g(this,gn,!1),it.promise},catch:function(Vt){return this.then(void 0,Vt)}}),f=function(){var Vt=new b,Nt=z(Vt);this.promise=Vt,this.resolve=S(Kn,Vt,Nt),this.reject=S(M,Vt,Nt)},Ve.f=tt=function(Vt){return Vt===Ee||Vt===u?new f(Vt):st(Vt)},m||"function"!=typeof I||(d=I.prototype.then,R(I.prototype,"then",function(Vt,Nt){var gn=this;return new Ee(function(it,yn){d.call(gn,it,yn)}).then(Vt,Nt)},{unsafe:!0}),"function"==typeof Pe&&p({global:!0,enumerable:!0,forced:!0},{fetch:function(Vt){return xe(Ee,Pe.apply(v,arguments))}}))),p({global:!0,wrap:!0,forced:xt},{Promise:Ee}),V(Ee,ut,!1,!0),G(ut),u=D(ut),p({target:ut,stat:!0,forced:xt},{reject:function(Vt){var Nt=tt(this);return Nt.reject.call(void 0,Vt),Nt.promise}}),p({target:ut,stat:!0,forced:m||xt},{resolve:function(Vt){return xe(m&&this===u?Ee:this,Vt)}}),p({target:ut,stat:!0,forced:ln},{all:function(Vt){var Nt=this,gn=tt(Nt),it=gn.resolve,yn=gn.reject,Ht=Oe(function(){var de=Q(Nt.resolve),_e=[],le=0,ve=1;X(Vt,function(ze){var pt=le++,Dt=!1;_e.push(void 0),ve++,de.call(Nt,ze).then(function(Gt){Dt||(Dt=!0,_e[pt]=Gt,--ve||it(_e))},yn)}),--ve||it(_e)});return Ht.error&&yn(Ht.value),gn.promise},race:function(Vt){var Nt=this,gn=tt(Nt),it=gn.reject,yn=Oe(function(){var Ht=Q(Nt.resolve);X(Vt,function(de){Ht.call(Nt,de).then(gn.resolve,it)})});return yn.error&&it(yn.value),gn.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/get-built-in":55,"../internals/global":58,"../internals/host-report-errors":61,"../internals/inspect-source":67,"../internals/internal-state":69,"../internals/is-forced":72,"../internals/is-object":73,"../internals/is-pure":74,"../internals/iterate":76,"../internals/microtask":80,"../internals/native-promise-constructor":81,"../internals/new-promise-capability":85,"../internals/perform":104,"../internals/promise-resolve":105,"../internals/redefine":107,"../internals/redefine-all":106,"../internals/set-species":115,"../internals/set-to-string-tag":116,"../internals/species-constructor":120,"../internals/task":127,"../internals/well-known-symbol":145}],176:[function(h,te,j){var k=h("../internals/export"),g=h("../internals/get-built-in"),w=h("../internals/a-function"),S=h("../internals/an-object"),M=h("../internals/is-object"),b=h("../internals/object-create"),f=h("../internals/function-bind"),u=h("../internals/fails"),d=g("Reflect","construct"),p=u(function(){function D(){}return!(d(function(){},[],D)instanceof D)}),m=!u(function(){d(function(){})}),v=p||m;k({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(D,I,R){w(D),S(I);var B=arguments.length<3?D:w(R);if(m&&!p)return d(D,I,B);if(D==B){switch(I.length){case 0:return new D;case 1:return new D(I[0]);case 2:return new D(I[0],I[1]);case 3:return new D(I[0],I[1],I[2]);case 4:return new D(I[0],I[1],I[2],I[3])}var V=[null];return V.push.apply(V,I),new(f.apply(D,V))}var G=B.prototype,K=b(M(G)?G:Object.prototype),Q=Function.apply.call(D,K,I);return M(Q)?Q:K}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":49,"../internals/fails":50,"../internals/function-bind":54,"../internals/get-built-in":55,"../internals/is-object":73,"../internals/object-create":89}],177:[function(h,te,j){var k=h("../internals/descriptors"),g=h("../internals/global"),w=h("../internals/is-forced"),S=h("../internals/inherit-if-required"),M=h("../internals/object-define-property").f,b=h("../internals/object-get-own-property-names").f,f=h("../internals/is-regexp"),u=h("../internals/regexp-flags"),d=h("../internals/regexp-sticky-helpers"),p=h("../internals/redefine"),m=h("../internals/fails"),v=h("../internals/internal-state").set,D=h("../internals/set-species"),I=h("../internals/well-known-symbol")("match"),R=g.RegExp,B=R.prototype,V=/a/g,G=/a/g,K=new R(V)!==V,Q=d.UNSUPPORTED_Y;if(k&&w("RegExp",!K||Q||m(function(){return G[I]=!1,R(V)!=V||R(G)==G||"/a/i"!=R(V,"i")}))){let se=function(oe){oe in W||M(W,oe,{configurable:!0,get:function(){return R[oe]},set:function(Fe){R[oe]=Fe}})};for(var W=function(oe,Fe){var Be,xe=this instanceof W,Ue=f(oe),Ve=void 0===Fe;if(!xe&&Ue&&oe.constructor===W&&Ve)return oe;K?Ue&&!Ve&&(oe=oe.source):oe instanceof W&&(Ve&&(Fe=u.call(oe)),oe=oe.source),Q&&(Be=!!Fe&&-1<Fe.indexOf("y"))&&(Fe=Fe.replace(/y/g,""));var Oe=S(K?new R(oe,Fe):R(oe,Fe),xe?this:B,W);return Q&&Be&&v(Oe,{sticky:Be}),Oe},Z=b(R),ne=0;Z.length>ne;)se(Z[ne++]);(B.constructor=W).prototype=B,p(g,"RegExp",W)}D("RegExp")},{"../internals/descriptors":42,"../internals/fails":50,"../internals/global":58,"../internals/inherit-if-required":66,"../internals/internal-state":69,"../internals/is-forced":72,"../internals/is-regexp":75,"../internals/object-define-property":91,"../internals/object-get-own-property-names":94,"../internals/redefine":107,"../internals/regexp-flags":110,"../internals/regexp-sticky-helpers":111,"../internals/set-species":115,"../internals/well-known-symbol":145}],178:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/regexp-exec");k({target:"RegExp",proto:!0,forced:/./.exec!==g},{exec:g})},{"../internals/export":49,"../internals/regexp-exec":109}],179:[function(h,te,j){"use strict";var k=h("../internals/redefine"),g=h("../internals/an-object"),w=h("../internals/fails"),S=h("../internals/regexp-flags"),M="toString",b=RegExp.prototype,f=b[M];(w(function(){return"/a/b"!=f.call({source:"a",flags:"b"})})||f.name!=M)&&k(RegExp.prototype,M,function(){var p=g(this),m=String(p.source),v=p.flags;return"/"+m+"/"+String(void 0===v&&p instanceof RegExp&&!("flags"in b)?S.call(p):v)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":50,"../internals/redefine":107,"../internals/regexp-flags":110}],180:[function(h,te,j){"use strict";var k=h("../internals/collection"),g=h("../internals/collection-strong");te.exports=k("Set",function(w){return function(S){return w(this,arguments.length?S:void 0)}},g)},{"../internals/collection":31,"../internals/collection-strong":30}],181:[function(h,te,j){"use strict";var k,g=h("../internals/export"),w=h("../internals/object-get-own-property-descriptor").f,S=h("../internals/to-length"),M=h("../internals/not-a-regexp"),b=h("../internals/require-object-coercible"),f=h("../internals/correct-is-regexp-logic"),u=h("../internals/is-pure"),d="".endsWith,p=Math.min,m=f("endsWith");g({target:"String",proto:!0,forced:!(!u&&!m&&(k=w(String.prototype,"endsWith"))&&!k.writable||m)},{endsWith:function(v,D){var I=String(b(this));M(v);var R=1<arguments.length?D:void 0,B=S(I.length),V=void 0===R?B:p(S(R),B),G=String(v);return d?d.call(I,G,V):I.slice(V-G.length,V)===G}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/is-pure":74,"../internals/not-a-regexp":86,"../internals/object-get-own-property-descriptor":92,"../internals/require-object-coercible":112,"../internals/to-length":133}],182:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/not-a-regexp"),w=h("../internals/require-object-coercible");k({target:"String",proto:!0,forced:!h("../internals/correct-is-regexp-logic")("includes")},{includes:function(S,M){return!!~String(w(this)).indexOf(g(S),1<arguments.length?M:void 0)}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/not-a-regexp":86,"../internals/require-object-coercible":112}],183:[function(h,te,j){"use strict";var k=h("../internals/string-multibyte").charAt,g=h("../internals/internal-state"),w=h("../internals/define-iterator"),S="String Iterator",M=g.set,b=g.getterFor(S);w(String,"String",function(f){M(this,{type:S,string:String(f),index:0})},function(){var f,u=b(this),d=u.string,p=u.index;return p>=d.length?{value:void 0,done:!0}:(f=k(d,p),u.index+=f.length,{value:f,done:!1})})},{"../internals/define-iterator":40,"../internals/internal-state":69,"../internals/string-multibyte":122}],184:[function(h,te,j){"use strict";var k=h("../internals/fix-regexp-well-known-symbol-logic"),g=h("../internals/an-object"),w=h("../internals/to-length"),S=h("../internals/require-object-coercible"),M=h("../internals/advance-string-index"),b=h("../internals/regexp-exec-abstract");k("match",1,function(f,u,d){return[function(p){var m=S(this),v=null==p?void 0:p[f];return void 0!==v?v.call(p,m):new RegExp(p)[f](String(m))},function(p){var m=d(u,p,this);if(m.done)return m.value;var v=g(p),D=String(this);if(!v.global)return b(v,D);for(var I,R=v.unicode,B=[],V=v.lastIndex=0;null!==(I=b(v,D));){var G=String(I[0]);""===(B[V]=G)&&(v.lastIndex=M(D,w(v.lastIndex),R)),V++}return 0===V?null:B}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/to-length":133}],185:[function(h,te,j){h("../internals/export")({target:"String",proto:!0},{repeat:h("../internals/string-repeat")})},{"../internals/export":49,"../internals/string-repeat":124}],186:[function(h,te,j){"use strict";var k=h("../internals/fix-regexp-well-known-symbol-logic"),g=h("../internals/an-object"),w=h("../internals/to-object"),S=h("../internals/to-length"),M=h("../internals/to-integer"),b=h("../internals/require-object-coercible"),f=h("../internals/advance-string-index"),u=h("../internals/regexp-exec-abstract"),d=Math.max,p=Math.min,m=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,D=/\$([$&'`]|\d\d?)/g;k("replace",2,function(I,R,B,V){var G=V.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,K=V.REPLACE_KEEPS_$0,Q=G?"$":"$0";return[function(Z,ne){var X=b(this),se=null==Z?void 0:Z[I];return void 0!==se?se.call(Z,X,ne):R.call(String(X),Z,ne)},function(Z,ne){if(!G&&K||"string"==typeof ne&&-1===ne.indexOf(Q)){var X=B(R,Z,this,ne);if(X.done)return X.value}var se=g(Z),oe=String(this),Fe="function"==typeof ne;Fe||(ne=String(ne));var Be=se.global;if(Be){var xe=se.unicode;se.lastIndex=0}for(var Ue=[];;){var Ve=u(se,oe);if(null===Ve||(Ue.push(Ve),!Be))break;""===String(Ve[0])&&(se.lastIndex=f(oe,S(se.lastIndex),xe))}for(var Oe,Ge="",De=0,lt=0;lt<Ue.length;lt++){Ve=Ue[lt];for(var Ke=String(Ve[0]),ct=d(p(M(Ve.index),oe.length),0),ut=[],z=1;z<Ve.length;z++)ut.push(void 0===(Oe=Ve[z])?Oe:String(Oe));var ie=Ve.groups;if(Fe){var fe=[Ke].concat(ut,ct,oe);void 0!==ie&&fe.push(ie);var Ee=String(ne.apply(void 0,fe))}else Ee=W(Ke,oe,ct,ut,ie,ne);De<=ct&&(Ge+=oe.slice(De,ct)+Ee,De=ct+Ke.length)}return Ge+oe.slice(De)}];function W(Z,ne,X,se,oe,Fe){var Be=X+Z.length,xe=se.length,Ue=D;return void 0!==oe&&(oe=w(oe),Ue=v),R.call(Fe,Ue,function(Ve,Oe){var Ge;switch(Oe.charAt(0)){case"$":return"$";case"&":return Z;case"`":return ne.slice(0,X);case"'":return ne.slice(Be);case"<":Ge=oe[Oe.slice(1,-1)];break;default:var De=+Oe;if(0==De)return Ve;if(xe<De){var lt=m(De/10);return 0===lt?Ve:lt<=xe?void 0===se[lt-1]?Oe.charAt(1):se[lt-1]+Oe.charAt(1):Ve}Ge=se[De-1]}return void 0===Ge?"":Ge})}})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/to-integer":132,"../internals/to-length":133,"../internals/to-object":134}],187:[function(h,te,j){"use strict";var k=h("../internals/fix-regexp-well-known-symbol-logic"),g=h("../internals/an-object"),w=h("../internals/require-object-coercible"),S=h("../internals/same-value"),M=h("../internals/regexp-exec-abstract");k("search",1,function(b,f,u){return[function(d){var p=w(this),m=null==d?void 0:d[b];return void 0!==m?m.call(d,p):new RegExp(d)[b](String(p))},function(d){var p=u(f,d,this);if(p.done)return p.value;var m=g(d),v=String(this),D=m.lastIndex;S(D,0)||(m.lastIndex=0);var I=M(m,v);return S(m.lastIndex,D)||(m.lastIndex=D),null===I?-1:I.index}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/same-value":113}],188:[function(h,te,j){"use strict";var k=h("../internals/fix-regexp-well-known-symbol-logic"),g=h("../internals/is-regexp"),w=h("../internals/an-object"),S=h("../internals/require-object-coercible"),M=h("../internals/species-constructor"),b=h("../internals/advance-string-index"),f=h("../internals/to-length"),u=h("../internals/regexp-exec-abstract"),d=h("../internals/regexp-exec"),p=h("../internals/fails"),m=[].push,v=Math.min,D=4294967295,I=!p(function(){return!RegExp(D,"y")});k("split",2,function(R,B,V){var G;return G="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(K,Q){var W=String(S(this)),Z=void 0===Q?D:Q>>>0;if(0==Z)return[];if(void 0===K)return[W];if(!g(K))return B.call(W,K,Z);for(var ne,X,se,oe=[],Be=0,xe=new RegExp(K.source,(K.ignoreCase?"i":"")+(K.multiline?"m":"")+(K.unicode?"u":"")+(K.sticky?"y":"")+"g");(ne=d.call(xe,W))&&!(Be<(X=xe.lastIndex)&&(oe.push(W.slice(Be,ne.index)),1<ne.length&&ne.index<W.length&&m.apply(oe,ne.slice(1)),se=ne[0].length,Be=X,oe.length>=Z));)xe.lastIndex===ne.index&&xe.lastIndex++;return Be===W.length?!se&&xe.test("")||oe.push(""):oe.push(W.slice(Be)),oe.length>Z?oe.slice(0,Z):oe}:"0".split(void 0,0).length?function(K,Q){return void 0===K&&0===Q?[]:B.call(this,K,Q)}:B,[function(K,Q){var W=S(this),Z=null==K?void 0:K[R];return void 0!==Z?Z.call(K,W,Q):G.call(String(W),K,Q)},function(K,Q){var W=V(G,K,this,Q,G!==B);if(W.done)return W.value;var Z=w(K),ne=String(this),X=M(Z,RegExp),se=Z.unicode,Fe=new X(I?Z:"^(?:"+Z.source+")",(Z.ignoreCase?"i":"")+(Z.multiline?"m":"")+(Z.unicode?"u":"")+(I?"y":"g")),Be=void 0===Q?D:Q>>>0;if(0==Be)return[];if(0===ne.length)return null===u(Fe,ne)?[ne]:[];for(var xe=0,Ue=0,Ve=[];Ue<ne.length;){Fe.lastIndex=I?Ue:0;var Oe,Ge=u(Fe,I?ne:ne.slice(Ue));if(null===Ge||(Oe=v(f(Fe.lastIndex+(I?0:Ue)),ne.length))===xe)Ue=b(ne,Ue,se);else{if(Ve.push(ne.slice(xe,Ue)),Ve.length===Be)return Ve;for(var De=1;De<=Ge.length-1;De++)if(Ve.push(Ge[De]),Ve.length===Be)return Ve;Ue=xe=Oe}}return Ve.push(ne.slice(xe)),Ve}]},!I)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":50,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/is-regexp":75,"../internals/regexp-exec":109,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/species-constructor":120,"../internals/to-length":133}],189:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/create-html");k({target:"String",proto:!0,forced:h("../internals/string-html-forced")("sub")},{sub:function(){return g(this,"sub","","")}})},{"../internals/create-html":35,"../internals/export":49,"../internals/string-html-forced":121}],190:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/string-trim").trim;k({target:"String",proto:!0,forced:h("../internals/string-trim-forced")("trim")},{trim:function(){return g(this)}})},{"../internals/export":49,"../internals/string-trim":126,"../internals/string-trim-forced":125}],191:[function(h,te,j){"use strict";var k=h("../internals/export"),g=h("../internals/descriptors"),w=h("../internals/global"),S=h("../internals/has"),M=h("../internals/is-object"),b=h("../internals/object-define-property").f,f=h("../internals/copy-constructor-properties"),u=w.Symbol;if(g&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(R){var B=arguments.length<1||void 0===R?void 0:String(R),V=this instanceof p?new u(B):void 0===B?u():u(B);return""===B&&(d[V]=!0),V};f(p,u);var m=p.prototype=u.prototype;m.constructor=p;var v=m.toString,D="Symbol(test)"==String(u("test")),I=/^Symbol\((.*)\)[^)]+$/;b(m,"description",{configurable:!0,get:function(){var R=M(this)?this.valueOf():this,B=v.call(R);if(S(d,R))return"";var V=D?B.slice(7,-1):B.replace(I,"$1");return""===V?void 0:V}}),k({global:!0,forced:!0},{Symbol:p})}},{"../internals/copy-constructor-properties":32,"../internals/descriptors":42,"../internals/export":49,"../internals/global":58,"../internals/has":59,"../internals/is-object":73,"../internals/object-define-property":91}],192:[function(h,te,j){h("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":41}],193:[function(h,te,j){"use strict";function k(le,ve){var ze=An[le]=W(st[Ne]);return ft(ze,{type:Ee,tag:le,description:ve}),d||(ze.description=ve),ze}function g(le,ve){B(le);var ze=G(ve),pt=Z(ze).concat(_e(ze));return ie(pt,function(Dt){d&&!de.call(ze,Dt)||Ht(le,Dt,ze[Dt])}),le}function w(le,ve){var ze=G(le),pt=K(ve,!0);if(ze!==tt||!D(An,pt)||D(Ut,pt)){var Dt=Mt(ze,pt);return!Dt||!D(An,pt)||D(ze,fe)&&ze[fe][pt]||(Dt.enumerable=!0),Dt}}function S(le){var ve=xt(G(le)),ze=[];return ie(ve,function(pt){D(An,pt)||D(Ge,pt)||ze.push(pt)}),ze}var M=h("../internals/export"),b=h("../internals/global"),f=h("../internals/get-built-in"),u=h("../internals/is-pure"),d=h("../internals/descriptors"),p=h("../internals/native-symbol"),m=h("../internals/use-symbol-as-uid"),v=h("../internals/fails"),D=h("../internals/has"),I=h("../internals/is-array"),R=h("../internals/is-object"),B=h("../internals/an-object"),V=h("../internals/to-object"),G=h("../internals/to-indexed-object"),K=h("../internals/to-primitive"),Q=h("../internals/create-property-descriptor"),W=h("../internals/object-create"),Z=h("../internals/object-keys"),ne=h("../internals/object-get-own-property-names"),X=h("../internals/object-get-own-property-names-external"),se=h("../internals/object-get-own-property-symbols"),oe=h("../internals/object-get-own-property-descriptor"),Fe=h("../internals/object-define-property"),Be=h("../internals/object-property-is-enumerable"),xe=h("../internals/create-non-enumerable-property"),Ue=h("../internals/redefine"),Ve=h("../internals/shared"),Oe=h("../internals/shared-key"),Ge=h("../internals/hidden-keys"),De=h("../internals/uid"),lt=h("../internals/well-known-symbol"),Ke=h("../internals/well-known-symbol-wrapped"),ct=h("../internals/define-well-known-symbol"),ut=h("../internals/set-to-string-tag"),z=h("../internals/internal-state"),ie=h("../internals/array-iteration").forEach,fe=Oe("hidden"),Ee="Symbol",Ne="prototype",Ae=lt("toPrimitive"),ft=z.set,Pe=z.getterFor(Ee),tt=Object[Ne],st=b.Symbol,Ye=f("JSON","stringify"),Mt=oe.f,Et=Fe.f,xt=X.f,ln=Be.f,An=Ve("symbols"),Ut=Ve("op-symbols"),Yn=Ve("string-to-symbol-registry"),Kn=Ve("symbol-to-string-registry"),Vt=Ve("wks"),Nt=b.QObject,gn=!Nt||!Nt[Ne]||!Nt[Ne].findChild,it=d&&v(function(){return 7!=W(Et({},"a",{get:function(){return Et(this,"a",{value:7}).a}})).a})?function(le,ve,ze){var pt=Mt(tt,ve);pt&&delete tt[ve],Et(le,ve,ze),pt&&le!==tt&&Et(tt,ve,pt)}:Et,yn=m?function(le){return"symbol"==typeof le}:function(le){return Object(le)instanceof st},Ht=function(le,ve,ze){le===tt&&Ht(Ut,ve,ze),B(le);var pt=K(ve,!0);return B(ze),D(An,pt)?(ze.enumerable?(D(le,fe)&&le[fe][pt]&&(le[fe][pt]=!1),ze=W(ze,{enumerable:Q(0,!1)})):(D(le,fe)||Et(le,fe,Q(1,{})),le[fe][pt]=!0),it(le,pt,ze)):Et(le,pt,ze)},de=function(le){var ve=K(le,!0),ze=ln.call(this,ve);return!(this===tt&&D(An,ve)&&!D(Ut,ve))&&(!(ze||!D(this,ve)||!D(An,ve)||D(this,fe)&&this[fe][ve])||ze)},_e=function(le){var ve=le===tt,ze=xt(ve?Ut:G(le)),pt=[];return ie(ze,function(Dt){!D(An,Dt)||ve&&!D(tt,Dt)||pt.push(An[Dt])}),pt};p||(Ue((st=function(le){if(this instanceof st)throw TypeError("Symbol is not a constructor");var ve=arguments.length&&void 0!==le?String(le):void 0,ze=De(ve),pt=function(Dt){this===tt&&pt.call(Ut,Dt),D(this,fe)&&D(this[fe],ze)&&(this[fe][ze]=!1),it(this,ze,Q(1,Dt))};return d&&gn&&it(tt,ze,{configurable:!0,set:pt}),k(ze,ve)})[Ne],"toString",function(){return Pe(this).tag}),Ue(st,"withoutSetter",function(le){return k(De(le),le)}),Be.f=de,Fe.f=Ht,oe.f=w,ne.f=X.f=S,se.f=_e,Ke.f=function(le){return k(lt(le),le)},d&&(Et(st[Ne],"description",{configurable:!0,get:function(){return Pe(this).description}}),u||Ue(tt,"propertyIsEnumerable",de,{unsafe:!0}))),M({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:st}),ie(Z(Vt),function(le){ct(le)}),M({target:Ee,stat:!0,forced:!p},{for:function(le){var ve=String(le);if(D(Yn,ve))return Yn[ve];var ze=st(ve);return Yn[ve]=ze,Kn[ze]=ve,ze},keyFor:function(le){if(!yn(le))throw TypeError(le+" is not a symbol");if(D(Kn,le))return Kn[le]},useSetter:function(){gn=!0},useSimple:function(){gn=!1}}),M({target:"Object",stat:!0,forced:!p,sham:!d},{create:function(le,ve){return void 0===ve?W(le):g(W(le),ve)},defineProperty:Ht,defineProperties:g,getOwnPropertyDescriptor:w}),M({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:S,getOwnPropertySymbols:_e}),M({target:"Object",stat:!0,forced:v(function(){se.f(1)})},{getOwnPropertySymbols:function(le){return se.f(V(le))}}),Ye&&M({target:"JSON",stat:!0,forced:!p||v(function(){var le=st();return"[null]"!=Ye([le])||"{}"!=Ye({a:le})||"{}"!=Ye(Object(le))})},{stringify:function(le,ve,ze){for(var pt,Dt=[le],Gt=1;Gt<arguments.length;)Dt.push(arguments[Gt++]);if((R(pt=ve)||void 0!==le)&&!yn(le))return I(ve)||(ve=function(nt,dn){if("function"==typeof pt&&(dn=pt.call(this,nt,dn)),!yn(dn))return dn}),Dt[1]=ve,Ye.apply(null,Dt)}}),st[Ne][Ae]||xe(st[Ne],Ae,st[Ne].valueOf),ut(st,Ee),Ge[fe]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/define-well-known-symbol":41,"../internals/descriptors":42,"../internals/export":49,"../internals/fails":50,"../internals/get-built-in":55,"../internals/global":58,"../internals/has":59,"../internals/hidden-keys":60,"../internals/internal-state":69,"../internals/is-array":71,"../internals/is-object":73,"../internals/is-pure":74,"../internals/native-symbol":82,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/object-get-own-property-names":94,"../internals/object-get-own-property-names-external":93,"../internals/object-get-own-property-symbols":95,"../internals/object-keys":98,"../internals/object-property-is-enumerable":99,"../internals/redefine":107,"../internals/set-to-string-tag":116,"../internals/shared":119,"../internals/shared-key":117,"../internals/to-indexed-object":131,"../internals/to-object":134,"../internals/to-primitive":137,"../internals/uid":142,"../internals/use-symbol-as-uid":143,"../internals/well-known-symbol":145,"../internals/well-known-symbol-wrapped":144}],194:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-copy-within"),w=k.aTypedArray;(0,k.exportTypedArrayMethod)("copyWithin",function(S,M,b){return g.call(w(this),S,M,2<arguments.length?b:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],195:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-iteration").every,w=k.aTypedArray;(0,k.exportTypedArrayMethod)("every",function(S,M){return g(w(this),S,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],196:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-fill"),w=k.aTypedArray;(0,k.exportTypedArrayMethod)("fill",function(S){return g.apply(w(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],197:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-iteration").filter,w=h("../internals/species-constructor"),S=k.aTypedArray,M=k.aTypedArrayConstructor;(0,k.exportTypedArrayMethod)("filter",function(b,f){for(var u=g(S(this),b,1<arguments.length?f:void 0),d=w(this,this.constructor),p=0,m=u.length,v=new(M(d))(m);p<m;)v[p]=u[p++];return v})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":120}],198:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-iteration").findIndex,w=k.aTypedArray;(0,k.exportTypedArrayMethod)("findIndex",function(S,M){return g(w(this),S,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-iteration").find,w=k.aTypedArray;(0,k.exportTypedArrayMethod)("find",function(S,M){return g(w(this),S,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],200:[function(h,te,j){h("../internals/typed-array-constructor")("Float32",function(k){return function(g,w,S){return k(this,g,w,S)}})},{"../internals/typed-array-constructor":139}],201:[function(h,te,j){h("../internals/typed-array-constructor")("Float64",function(k){return function(g,w,S){return k(this,g,w,S)}})},{"../internals/typed-array-constructor":139}],202:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-iteration").forEach,w=k.aTypedArray;(0,k.exportTypedArrayMethod)("forEach",function(S,M){g(w(this),S,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-includes").includes,w=k.aTypedArray;(0,k.exportTypedArrayMethod)("includes",function(S,M){return g(w(this),S,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],204:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-includes").indexOf,w=k.aTypedArray;(0,k.exportTypedArrayMethod)("indexOf",function(S,M){return g(w(this),S,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],205:[function(h,te,j){h("../internals/typed-array-constructor")("Int16",function(k){return function(g,w,S){return k(this,g,w,S)}})},{"../internals/typed-array-constructor":139}],206:[function(h,te,j){h("../internals/typed-array-constructor")("Int32",function(k){return function(g,w,S){return k(this,g,w,S)}})},{"../internals/typed-array-constructor":139}],207:[function(h,te,j){"use strict";function k(){return f.call(p(this))}var g=h("../internals/global"),w=h("../internals/array-buffer-view-core"),S=h("../modules/es.array.iterator"),M=h("../internals/well-known-symbol")("iterator"),b=g.Uint8Array,f=S.values,u=S.keys,d=S.entries,p=w.aTypedArray,m=w.exportTypedArrayMethod,v=b&&b.prototype[M],D=!!v&&("values"==v.name||null==v.name);m("entries",function(){return d.call(p(this))}),m("keys",function(){return u.call(p(this))}),m("values",k,!D),m(M,k,!D)},{"../internals/array-buffer-view-core":12,"../internals/global":58,"../internals/well-known-symbol":145,"../modules/es.array.iterator":156}],208:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=k.aTypedArray,S=[].join;(0,k.exportTypedArrayMethod)("join",function(M){return S.apply(g(this),arguments)})},{"../internals/array-buffer-view-core":12}],209:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-last-index-of"),w=k.aTypedArray;(0,k.exportTypedArrayMethod)("lastIndexOf",function(S){return g.apply(w(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],210:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-iteration").map,w=h("../internals/species-constructor"),S=k.aTypedArray,M=k.aTypedArrayConstructor;(0,k.exportTypedArrayMethod)("map",function(b,f){return g(S(this),b,1<arguments.length?f:void 0,function(u,d){return new(M(w(u,u.constructor)))(d)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":120}],211:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-reduce").right,w=k.aTypedArray;(0,k.exportTypedArrayMethod)("reduceRight",function(S,M){return g(w(this),S,arguments.length,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],212:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-reduce").left,w=k.aTypedArray;(0,k.exportTypedArrayMethod)("reduce",function(S,M){return g(w(this),S,arguments.length,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],213:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=k.aTypedArray,S=Math.floor;(0,k.exportTypedArrayMethod)("reverse",function(){for(var M,b=g(this).length,f=S(b/2),u=0;u<f;)M=this[u],this[u++]=this[--b],this[b]=M;return this})},{"../internals/array-buffer-view-core":12}],214:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/to-length"),w=h("../internals/to-offset"),S=h("../internals/to-object"),M=h("../internals/fails"),b=k.aTypedArray;(0,k.exportTypedArrayMethod)("set",function(f,u){b(this);var d=w(1<arguments.length?u:void 0,1),p=this.length,m=S(f),v=g(m.length),D=0;if(p<v+d)throw RangeError("Wrong length");for(;D<v;)this[d+D]=m[D++]},M(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/to-length":133,"../internals/to-object":134,"../internals/to-offset":135}],215:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/species-constructor"),w=h("../internals/fails"),S=k.aTypedArray,M=k.aTypedArrayConstructor,f=[].slice;(0,k.exportTypedArrayMethod)("slice",function(u,d){for(var p=f.call(S(this),u,d),m=g(this,this.constructor),v=0,D=p.length,I=new(M(m))(D);v<D;)I[v]=p[v++];return I},w(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/species-constructor":120}],216:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/array-iteration").some,w=k.aTypedArray;(0,k.exportTypedArrayMethod)("some",function(S,M){return g(w(this),S,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],217:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=k.aTypedArray,S=[].sort;(0,k.exportTypedArrayMethod)("sort",function(M){return S.call(g(this),M)})},{"../internals/array-buffer-view-core":12}],218:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core"),g=h("../internals/to-length"),w=h("../internals/to-absolute-index"),S=h("../internals/species-constructor"),M=k.aTypedArray;(0,k.exportTypedArrayMethod)("subarray",function(b,f){var u=M(this),d=u.length,p=w(b,d);return new(S(u,u.constructor))(u.buffer,u.byteOffset+p*u.BYTES_PER_ELEMENT,g((void 0===f?d:w(f,d))-p))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":120,"../internals/to-absolute-index":129,"../internals/to-length":133}],219:[function(h,te,j){"use strict";var k=h("../internals/global"),g=h("../internals/array-buffer-view-core"),w=h("../internals/fails"),S=k.Int8Array,M=g.aTypedArray,b=g.exportTypedArrayMethod,f=[].toLocaleString,u=[].slice,d=!!S&&w(function(){f.call(new S(1))});b("toLocaleString",function(){return f.apply(d?u.call(M(this)):M(this),arguments)},w(function(){return[1,2].toLocaleString()!=new S([1,2]).toLocaleString()})||!w(function(){S.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":58}],220:[function(h,te,j){"use strict";var k=h("../internals/array-buffer-view-core").exportTypedArrayMethod,g=h("../internals/fails"),w=h("../internals/global").Uint8Array,S=w&&w.prototype||{},M=[].toString,b=[].join;g(function(){M.call({})})&&(M=function(){return b.call(this)}),k("toString",M,S.toString!=M)},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":58}],221:[function(h,te,j){h("../internals/typed-array-constructor")("Uint16",function(k){return function(g,w,S){return k(this,g,w,S)}})},{"../internals/typed-array-constructor":139}],222:[function(h,te,j){h("../internals/typed-array-constructor")("Uint32",function(k){return function(g,w,S){return k(this,g,w,S)}})},{"../internals/typed-array-constructor":139}],223:[function(h,te,j){h("../internals/typed-array-constructor")("Uint8",function(k){return function(g,w,S){return k(this,g,w,S)}})},{"../internals/typed-array-constructor":139}],224:[function(h,te,j){h("../internals/typed-array-constructor")("Uint8",function(k){return function(g,w,S){return k(this,g,w,S)}},!0)},{"../internals/typed-array-constructor":139}],225:[function(h,te,j){var k=h("../internals/global"),g=h("../internals/dom-iterables"),w=h("../internals/array-for-each"),S=h("../internals/create-non-enumerable-property");for(var M in g){var b=k[M],f=b&&b.prototype;if(f&&f.forEach!==w)try{S(f,"forEach",w)}catch(u){f.forEach=w}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":58}],226:[function(h,te,j){var k=h("../internals/global"),g=h("../internals/dom-iterables"),w=h("../modules/es.array.iterator"),S=h("../internals/create-non-enumerable-property"),M=h("../internals/well-known-symbol"),b=M("iterator"),f=M("toStringTag"),u=w.values;for(var d in g){var p=k[d],m=p&&p.prototype;if(m){if(m[b]!==u)try{S(m,b,u)}catch(D){m[b]=u}if(m[f]||S(m,f,d),g[d])for(var v in w)if(m[v]!==w[v])try{S(m,v,w[v])}catch(D){m[v]=w[v]}}}},{"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":58,"../internals/well-known-symbol":145,"../modules/es.array.iterator":156}],227:[function(h,te,j){"use strict";function k(Ee){try{return decodeURIComponent(Ee)}catch(Ne){return Ee}}function g(Ee){var Ne,Ae=Ee.replace(lt," "),ft=4;try{return decodeURIComponent(Ae)}catch(Pe){for(;ft;)Ae=Ae.replace((Ne=ft--,Ke[Ne-1]||(Ke[Ne-1]=RegExp("((?:%[\\da-f]{2}){"+Ne+"})","gi"))),k);return Ae}}function w(Ee){return ut[Ee]}function S(Ee){return encodeURIComponent(Ee).replace(ct,w)}function M(Ee,Ne){if(Ne)for(var Ae,ft,Pe=Ne.split("&"),tt=0;tt<Pe.length;)(Ae=Pe[tt++]).length&&(ft=Ae.split("="),Ee.push({key:g(ft.shift()),value:g(ft.join("="))}))}function b(Ee){this.entries.length=0,M(this.entries,Ee)}function f(Ee,Ne){if(Ee<Ne)throw TypeError("Not enough arguments")}h("../modules/es.array.iterator");var u=h("../internals/export"),d=h("../internals/get-built-in"),p=h("../internals/native-url"),m=h("../internals/redefine"),v=h("../internals/redefine-all"),D=h("../internals/set-to-string-tag"),I=h("../internals/create-iterator-constructor"),R=h("../internals/internal-state"),B=h("../internals/an-instance"),V=h("../internals/has"),G=h("../internals/function-bind-context"),K=h("../internals/classof"),Q=h("../internals/an-object"),W=h("../internals/is-object"),Z=h("../internals/object-create"),ne=h("../internals/create-property-descriptor"),X=h("../internals/get-iterator"),se=h("../internals/get-iterator-method"),oe=h("../internals/well-known-symbol"),Fe=d("fetch"),Be=d("Headers"),xe=oe("iterator"),Ue="URLSearchParams",Ve=Ue+"Iterator",Oe=R.set,Ge=R.getterFor(Ue),De=R.getterFor(Ve),lt=/\+/g,Ke=Array(4),ct=/[!'()~]|%20/g,ut={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},z=I(function(Ee,Ne){Oe(this,{type:Ve,iterator:X(Ge(Ee).entries),kind:Ne})},"Iterator",function(){var Ee=De(this),Ne=Ee.kind,Ae=Ee.iterator.next(),ft=Ae.value;return Ae.done||(Ae.value="keys"===Ne?ft.key:"values"===Ne?ft.value:[ft.key,ft.value]),Ae}),ie=function(Ee){B(this,ie,Ue);var Ne,Ae,ft,Pe,tt,st,Ye,Mt,Et,xt=0<arguments.length?Ee:void 0,ln=[];if(Oe(this,{type:Ue,entries:ln,updateURL:function(){},updateSearchParams:b}),void 0!==xt)if(W(xt))if("function"==typeof(Ne=se(xt)))for(ft=(Ae=Ne.call(xt)).next;!(Pe=ft.call(Ae)).done;){if((Ye=(st=(tt=X(Q(Pe.value))).next).call(tt)).done||(Mt=st.call(tt)).done||!st.call(tt).done)throw TypeError("Expected sequence with length 2");ln.push({key:Ye.value+"",value:Mt.value+""})}else for(Et in xt)V(xt,Et)&&ln.push({key:Et,value:xt[Et]+""});else M(ln,"string"==typeof xt?"?"===xt.charAt(0)?xt.slice(1):xt:xt+"")},fe=ie.prototype;v(fe,{append:function(Ee,Ne){f(arguments.length,2);var Ae=Ge(this);Ae.entries.push({key:Ee+"",value:Ne+""}),Ae.updateURL()},delete:function(Ee){f(arguments.length,1);for(var Ne=Ge(this),Ae=Ne.entries,ft=Ee+"",Pe=0;Pe<Ae.length;)Ae[Pe].key===ft?Ae.splice(Pe,1):Pe++;Ne.updateURL()},get:function(Ee){f(arguments.length,1);for(var Ne=Ge(this).entries,Ae=Ee+"",ft=0;ft<Ne.length;ft++)if(Ne[ft].key===Ae)return Ne[ft].value;return null},getAll:function(Ee){f(arguments.length,1);for(var Ne=Ge(this).entries,Ae=Ee+"",ft=[],Pe=0;Pe<Ne.length;Pe++)Ne[Pe].key===Ae&&ft.push(Ne[Pe].value);return ft},has:function(Ee){f(arguments.length,1);for(var Ne=Ge(this).entries,Ae=Ee+"",ft=0;ft<Ne.length;)if(Ne[ft++].key===Ae)return!0;return!1},set:function(Ee,Ne){f(arguments.length,1);for(var Ae,ft=Ge(this),Pe=ft.entries,tt=!1,st=Ee+"",Ye=Ne+"",Mt=0;Mt<Pe.length;Mt++)(Ae=Pe[Mt]).key===st&&(tt?Pe.splice(Mt--,1):(tt=!0,Ae.value=Ye));tt||Pe.push({key:st,value:Ye}),ft.updateURL()},sort:function(){var Ee,Ne,Ae,ft=Ge(this),Pe=ft.entries,tt=Pe.slice();for(Ae=Pe.length=0;Ae<tt.length;Ae++){for(Ee=tt[Ae],Ne=0;Ne<Ae;Ne++)if(Pe[Ne].key>Ee.key){Pe.splice(Ne,0,Ee);break}Ne===Ae&&Pe.push(Ee)}ft.updateURL()},forEach:function(Ee,Ne){for(var Ae,ft=Ge(this).entries,Pe=G(Ee,1<arguments.length?Ne:void 0,3),tt=0;tt<ft.length;)Pe((Ae=ft[tt++]).value,Ae.key,this)},keys:function(){return new z(this,"keys")},values:function(){return new z(this,"values")},entries:function(){return new z(this,"entries")}},{enumerable:!0}),m(fe,xe,fe.entries),m(fe,"toString",function(){for(var Ee,Ne=Ge(this).entries,Ae=[],ft=0;ft<Ne.length;)Ee=Ne[ft++],Ae.push(S(Ee.key)+"="+S(Ee.value));return Ae.join("&")},{enumerable:!0}),D(ie,Ue),u({global:!0,forced:!p},{URLSearchParams:ie}),p||"function"!=typeof Fe||"function"!=typeof Be||u({global:!0,enumerable:!0,forced:!0},{fetch:function(Ee,Ne){var Ae,ft,Pe,tt=[Ee];return 1<arguments.length&&(W(Ae=Ne)&&K(ft=Ae.body)===Ue&&((Pe=Ae.headers?new Be(Ae.headers):new Be).has("content-type")||Pe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Ae=Z(Ae,{body:ne(0,String(ft)),headers:ne(0,Pe)})),tt.push(Ae)),Fe.apply(this,tt)}}),te.exports={URLSearchParams:ie,getState:Ge}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":36,"../internals/create-property-descriptor":38,"../internals/export":49,"../internals/function-bind-context":53,"../internals/get-built-in":55,"../internals/get-iterator":57,"../internals/get-iterator-method":56,"../internals/has":59,"../internals/internal-state":69,"../internals/is-object":73,"../internals/native-url":83,"../internals/object-create":89,"../internals/redefine":107,"../internals/redefine-all":106,"../internals/set-to-string-tag":116,"../internals/well-known-symbol":145,"../modules/es.array.iterator":156}],228:[function(h,te,j){"use strict";function k(We,Bt){var fn,Jt,In;if("["==Bt.charAt(0)){if("]"!=Bt.charAt(Bt.length-1)||!(fn=st(Bt.slice(1,-1))))return De;We.host=fn}else if(Ut(We)){if(Bt=Z(Bt),Ne.test(Bt)||null===(fn=tt(Bt)))return De;We.host=fn}else{if(Ae.test(Bt))return De;for(fn="",Jt=Q(Bt),In=0;In<Jt.length;In++)fn+=ln(Jt[In],Ye);We.host=fn}}function g(We){var Bt,fn,Jt,In;if("number"==typeof We){for(Bt=[],fn=0;fn<4;fn++)Bt.unshift(We%256),We=Ve(We/256);return Bt.join(".")}if("object"!=typeof We)return We;for(Bt="",Jt=function(jt){for(var Vi=null,Zi=1,rr=null,Di=0,wn=0;wn<8;wn++)0!==jt[wn]?(Zi<Di&&(Vi=rr,Zi=Di),rr=null,Di=0):(null===rr&&(rr=wn),++Di);return Zi<Di&&(Vi=rr,Zi=Di),Vi}(We),fn=0;fn<8;fn++)In&&0===We[fn]||(In=In&&!1,Jt===fn?(Bt+=fn?":":"::",In=!0):(Bt+=We[fn].toString(16),fn<7&&(Bt+=":")));return"["+Bt+"]"}function w(We){return""!=We.username||""!=We.password}function S(We){return!We.host||We.cannotBeABaseURL||"file"==We.scheme}function M(We,Bt){var fn;return 2==We.length&&Ke.test(We.charAt(0))&&(":"==(fn=We.charAt(1))||!Bt&&"|"==fn)}function b(We){var Bt;return 1<We.length&&M(We.slice(0,2))&&(2==We.length||"/"===(Bt=We.charAt(2))||"\\"===Bt||"?"===Bt||"#"===Bt)}function f(We){var Bt=We.path,fn=Bt.length;!fn||"file"==We.scheme&&1==fn&&M(Bt[0],!0)||Bt.pop()}function u(We,Bt,fn,Jt){var In,jt,Vi,Zi,rr,Di,wn=fn||Yn,Cr=0,Tn="",Kr=!1,sr=!1,Fc=!1;for(fn||(We.scheme="",We.username="",We.password="",We.host=null,We.port=null,We.path=[],We.query=null,We.fragment=null,We.cannotBeABaseURL=!1,Bt=Bt.replace(ft,"")),Bt=Bt.replace(Pe,""),In=Q(Bt);Cr<=In.length;){switch(jt=In[Cr],wn){case Yn:if(!jt||!Ke.test(jt)){if(fn)return Ge;wn=Vt;continue}Tn+=jt.toLowerCase(),wn=Kn;break;case Kn:if(jt&&(ct.test(jt)||"+"==jt||"-"==jt||"."==jt))Tn+=jt.toLowerCase();else{if(":"!=jt){if(fn)return Ge;Tn="",wn=Vt,Cr=0;continue}if(fn&&(Ut(We)!=G(An,Tn)||"file"==Tn&&(w(We)||null!==We.port)||"file"==We.scheme&&!We.host))return;if(We.scheme=Tn,fn)return void(Ut(We)&&An[We.scheme]==We.port&&(We.port=null));Tn="","file"==We.scheme?wn=pt:Ut(We)&&Jt&&Jt.scheme==We.scheme?wn=Nt:Ut(We)?wn=Ht:"/"==In[Cr+1]?(wn=gn,Cr++):(We.cannotBeABaseURL=!0,We.path.push(""),wn=Ln)}break;case Vt:if(!Jt||Jt.cannotBeABaseURL&&"#"!=jt)return Ge;if(Jt.cannotBeABaseURL&&"#"==jt){We.scheme=Jt.scheme,We.path=Jt.path.slice(),We.query=Jt.query,We.fragment="",We.cannotBeABaseURL=!0,wn=zn;break}wn="file"==Jt.scheme?pt:it;continue;case Nt:if("/"!=jt||"/"!=In[Cr+1]){wn=it;continue}wn=de,Cr++;break;case gn:if("/"==jt){wn=_e;break}wn=dn;continue;case it:if(We.scheme=Jt.scheme,jt==p)We.username=Jt.username,We.password=Jt.password,We.host=Jt.host,We.port=Jt.port,We.path=Jt.path.slice(),We.query=Jt.query;else if("/"==jt||"\\"==jt&&Ut(We))wn=yn;else if("?"==jt)We.username=Jt.username,We.password=Jt.password,We.host=Jt.host,We.port=Jt.port,We.path=Jt.path.slice(),We.query="",wn=mi;else{if("#"!=jt){We.username=Jt.username,We.password=Jt.password,We.host=Jt.host,We.port=Jt.port,We.path=Jt.path.slice(),We.path.pop(),wn=dn;continue}We.username=Jt.username,We.password=Jt.password,We.host=Jt.host,We.port=Jt.port,We.path=Jt.path.slice(),We.query=Jt.query,We.fragment="",wn=zn}break;case yn:if(!Ut(We)||"/"!=jt&&"\\"!=jt){if("/"!=jt){We.username=Jt.username,We.password=Jt.password,We.host=Jt.host,We.port=Jt.port,wn=dn;continue}wn=_e}else wn=de;break;case Ht:if(wn=de,"/"!=jt||"/"!=Tn.charAt(Cr+1))continue;Cr++;break;case de:if("/"==jt||"\\"==jt)break;wn=_e;continue;case _e:if("@"==jt){Kr&&(Tn="%40"+Tn),Kr=!0,Vi=Q(Tn);for(var gl=0;gl<Vi.length;gl++){var er=Vi[gl];if(":"!=er||Fc){var Jl=ln(er,xt);Fc?We.password+=Jl:We.username+=Jl}else Fc=!0}Tn=""}else if(jt==p||"/"==jt||"?"==jt||"#"==jt||"\\"==jt&&Ut(We)){if(Kr&&""==Tn)return"Invalid authority";Cr-=Q(Tn).length+1,Tn="",wn=le}else Tn+=jt;break;case le:case ve:if(fn&&"file"==We.scheme){wn=Gt;continue}if(":"!=jt||sr){if(jt==p||"/"==jt||"?"==jt||"#"==jt||"\\"==jt&&Ut(We)){if(Ut(We)&&""==Tn)return De;if(fn&&""==Tn&&(w(We)||null!==We.port))return;if(Zi=k(We,Tn))return Zi;if(Tn="",wn=nt,fn)return;continue}"["==jt?sr=!0:"]"==jt&&(sr=!1),Tn+=jt}else{if(""==Tn)return De;if(Zi=k(We,Tn))return Zi;if(Tn="",wn=ze,fn==ve)return}break;case ze:if(!ut.test(jt)){if(jt==p||"/"==jt||"?"==jt||"#"==jt||"\\"==jt&&Ut(We)||fn){if(""!=Tn){var Ii=parseInt(Tn,10);if(65535<Ii)return lt;We.port=Ut(We)&&Ii===An[We.scheme]?null:Ii,Tn=""}if(fn)return;wn=nt;continue}return lt}Tn+=jt;break;case pt:if(We.scheme="file","/"==jt||"\\"==jt)wn=Dt;else{if(!Jt||"file"!=Jt.scheme){wn=dn;continue}if(jt==p)We.host=Jt.host,We.path=Jt.path.slice(),We.query=Jt.query;else if("?"==jt)We.host=Jt.host,We.path=Jt.path.slice(),We.query="",wn=mi;else{if("#"!=jt){b(In.slice(Cr).join(""))||(We.host=Jt.host,We.path=Jt.path.slice(),f(We)),wn=dn;continue}We.host=Jt.host,We.path=Jt.path.slice(),We.query=Jt.query,We.fragment="",wn=zn}}break;case Dt:if("/"==jt||"\\"==jt){wn=Gt;break}Jt&&"file"==Jt.scheme&&!b(In.slice(Cr).join(""))&&(M(Jt.path[0],!0)?We.path.push(Jt.path[0]):We.host=Jt.host),wn=dn;continue;case Gt:if(jt==p||"/"==jt||"\\"==jt||"?"==jt||"#"==jt){if(!fn&&M(Tn))wn=dn;else if(""==Tn){if(We.host="",fn)return;wn=nt}else{if(Zi=k(We,Tn))return Zi;if("localhost"==We.host&&(We.host=""),fn)return;Tn="",wn=nt}continue}Tn+=jt;break;case nt:if(Ut(We)){if(wn=dn,"/"!=jt&&"\\"!=jt)continue}else if(fn||"?"!=jt)if(fn||"#"!=jt){if(jt!=p&&(wn=dn,"/"!=jt))continue}else We.fragment="",wn=zn;else We.query="",wn=mi;break;case dn:if(jt==p||"/"==jt||"\\"==jt&&Ut(We)||!fn&&("?"==jt||"#"==jt)){if(".."===(Di=(Di=Tn).toLowerCase())||"%2e."===Di||".%2e"===Di||"%2e%2e"===Di?(f(We),"/"==jt||"\\"==jt&&Ut(We)||We.path.push("")):"."===(rr=Tn)||"%2e"===rr.toLowerCase()?"/"==jt||"\\"==jt&&Ut(We)||We.path.push(""):("file"==We.scheme&&!We.path.length&&M(Tn)&&(We.host&&(We.host=""),Tn=Tn.charAt(0)+":"),We.path.push(Tn)),Tn="","file"==We.scheme&&(jt==p||"?"==jt||"#"==jt))for(;1<We.path.length&&""===We.path[0];)We.path.shift();"?"==jt?(We.query="",wn=mi):"#"==jt&&(We.fragment="",wn=zn)}else Tn+=ln(jt,Et);break;case Ln:"?"==jt?(We.query="",wn=mi):"#"==jt?(We.fragment="",wn=zn):jt!=p&&(We.path[0]+=ln(jt,Ye));break;case mi:fn||"#"!=jt?jt!=p&&("'"==jt&&Ut(We)?We.query+="%27":We.query+="#"==jt?"%23":ln(jt,Ye)):(We.fragment="",wn=zn);break;case zn:jt!=p&&(We.fragment+=ln(jt,Mt))}Cr++}}function d(We,Bt){return{get:We,set:Bt,configurable:!0,enumerable:!0}}h("../modules/es.string.iterator");var p,m=h("../internals/export"),v=h("../internals/descriptors"),D=h("../internals/native-url"),I=h("../internals/global"),R=h("../internals/object-define-properties"),B=h("../internals/redefine"),V=h("../internals/an-instance"),G=h("../internals/has"),K=h("../internals/object-assign"),Q=h("../internals/array-from"),W=h("../internals/string-multibyte").codeAt,Z=h("../internals/string-punycode-to-ascii"),ne=h("../internals/set-to-string-tag"),X=h("../modules/web.url-search-params"),se=h("../internals/internal-state"),oe=I.URL,Fe=X.URLSearchParams,Be=X.getState,xe=se.set,Ue=se.getterFor("URL"),Ve=Math.floor,Oe=Math.pow,Ge="Invalid scheme",De="Invalid host",lt="Invalid port",Ke=/[A-Za-z]/,ct=/[\d+-.A-Za-z]/,ut=/\d/,z=/^(0x|0X)/,ie=/^[0-7]+$/,fe=/^\d+$/,Ee=/^[\dA-Fa-f]+$/,Ne=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Ae=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ft=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Pe=/[\u0009\u000A\u000D]/g,tt=function(We){var Bt,fn,Jt,In,jt,Vi,Zi,rr=We.split(".");if(rr.length&&""==rr[rr.length-1]&&rr.pop(),4<(Bt=rr.length))return We;for(fn=[],Jt=0;Jt<Bt;Jt++){if(""==(In=rr[Jt]))return We;if(jt=10,1<In.length&&"0"==In.charAt(0)&&(jt=z.test(In)?16:8,In=In.slice(8==jt?1:2)),""===In)Vi=0;else{if(!(10==jt?fe:8==jt?ie:Ee).test(In))return We;Vi=parseInt(In,jt)}fn.push(Vi)}for(Jt=0;Jt<Bt;Jt++)if(Vi=fn[Jt],Jt==Bt-1){if(Vi>=Oe(256,5-Bt))return null}else if(255<Vi)return null;for(Zi=fn.pop(),Jt=0;Jt<fn.length;Jt++)Zi+=fn[Jt]*Oe(256,3-Jt);return Zi},st=function(We){function Bt(){return We.charAt(Tn)}var fn,Jt,In,jt,Vi,Zi,rr,Di=[0,0,0,0,0,0,0,0],wn=0,Cr=null,Tn=0;if(":"==Bt()){if(":"!=We.charAt(1))return;Tn+=2,Cr=++wn}for(;Bt();){if(8==wn)return;if(":"!=Bt()){for(fn=Jt=0;Jt<4&&Ee.test(Bt());)fn=16*fn+parseInt(Bt(),16),Tn++,Jt++;if("."==Bt()){if(0==Jt||(Tn-=Jt,6<wn))return;for(In=0;Bt();){if(jt=null,0<In){if(!("."==Bt()&&In<4))return;Tn++}if(!ut.test(Bt()))return;for(;ut.test(Bt());){if(Vi=parseInt(Bt(),10),null===jt)jt=Vi;else{if(0==jt)return;jt=10*jt+Vi}if(255<jt)return;Tn++}Di[wn]=256*Di[wn]+jt,2!=++In&&4!=In||wn++}if(4!=In)return;break}if(":"==Bt()){if(Tn++,!Bt())return}else if(Bt())return;Di[wn++]=fn}else{if(null!==Cr)return;Tn++,Cr=++wn}}if(null!==Cr)for(Zi=wn-Cr,wn=7;0!=wn&&0<Zi;)rr=Di[wn],Di[wn--]=Di[Cr+Zi-1],Di[Cr+--Zi]=rr;else if(8!=wn)return;return Di},Ye={},Mt=K({},Ye,{" ":1,'"':1,"<":1,">":1,"`":1}),Et=K({},Mt,{"#":1,"?":1,"{":1,"}":1}),xt=K({},Et,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ln=function(We,Bt){var fn=W(We,0);return 32<fn&&fn<127&&!G(Bt,We)?We:encodeURIComponent(We)},An={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ut=function(We){return G(An,We.scheme)},Yn={},Kn={},Vt={},Nt={},gn={},it={},yn={},Ht={},de={},_e={},le={},ve={},ze={},pt={},Dt={},Gt={},nt={},dn={},Ln={},mi={},zn={},$n=function(We,Bt){var fn,Jt,In=V(this,$n,"URL"),jt=1<arguments.length?Bt:void 0,Vi=String(We),Zi=xe(In,{type:"URL"});if(void 0!==jt)if(jt instanceof $n)fn=Ue(jt);else if(Jt=u(fn={},String(jt)))throw TypeError(Jt);if(Jt=u(Zi,Vi,null,fn))throw TypeError(Jt);var rr=Zi.searchParams=new Fe,Di=Be(rr);Di.updateSearchParams(Zi.query),Di.updateURL=function(){Zi.query=String(rr)||null},v||(In.href=Gi.call(In),In.origin=Qs.call(In),In.protocol=ja.call(In),In.username=ml.call(In),In.password=No.call(In),In.host=Js.call(In),In.hostname=Kl.call(In),In.port=Sr.call(In),In.pathname=Xo.call(In),In.search=Bs.call(In),In.searchParams=Hu.call(In),In.hash=Ql.call(In))},ui=$n.prototype,Gi=function(){var We=Ue(this),Bt=We.scheme,fn=We.username,Jt=We.password,In=We.host,jt=We.port,Vi=We.path,Zi=We.query,rr=We.fragment,Di=Bt+":";return null!==In?(Di+="//",w(We)&&(Di+=fn+(Jt?":"+Jt:"")+"@"),Di+=g(In),null!==jt&&(Di+=":"+jt)):"file"==Bt&&(Di+="//"),Di+=We.cannotBeABaseURL?Vi[0]:Vi.length?"/"+Vi.join("/"):"",null!==Zi&&(Di+="?"+Zi),null!==rr&&(Di+="#"+rr),Di},Qs=function(){var We=Ue(this),Bt=We.scheme,fn=We.port;if("blob"==Bt)try{return new URL(Bt.path[0]).origin}catch(Jt){return"null"}return"file"!=Bt&&Ut(We)?Bt+"://"+g(We.host)+(null!==fn?":"+fn:""):"null"},ja=function(){return Ue(this).scheme+":"},ml=function(){return Ue(this).username},No=function(){return Ue(this).password},Js=function(){var We=Ue(this),Bt=We.host,fn=We.port;return null===Bt?"":null===fn?g(Bt):g(Bt)+":"+fn},Kl=function(){var We=Ue(this).host;return null===We?"":g(We)},Sr=function(){var We=Ue(this).port;return null===We?"":String(We)},Xo=function(){var We=Ue(this),Bt=We.path;return We.cannotBeABaseURL?Bt[0]:Bt.length?"/"+Bt.join("/"):""},Bs=function(){var We=Ue(this).query;return We?"?"+We:""},Hu=function(){return Ue(this).searchParams},Ql=function(){var We=Ue(this).fragment;return We?"#"+We:""};if(v&&R(ui,{href:d(Gi,function(We){var Bt=Ue(this),Jt=u(Bt,String(We));if(Jt)throw TypeError(Jt);Be(Bt.searchParams).updateSearchParams(Bt.query)}),origin:d(Qs),protocol:d(ja,function(We){u(Ue(this),String(We)+":",Yn)}),username:d(ml,function(We){var Bt=Ue(this),fn=Q(String(We));if(!S(Bt)){Bt.username="";for(var Jt=0;Jt<fn.length;Jt++)Bt.username+=ln(fn[Jt],xt)}}),password:d(No,function(We){var Bt=Ue(this),fn=Q(String(We));if(!S(Bt)){Bt.password="";for(var Jt=0;Jt<fn.length;Jt++)Bt.password+=ln(fn[Jt],xt)}}),host:d(Js,function(We){var Bt=Ue(this);Bt.cannotBeABaseURL||u(Bt,String(We),le)}),hostname:d(Kl,function(We){var Bt=Ue(this);Bt.cannotBeABaseURL||u(Bt,String(We),ve)}),port:d(Sr,function(We){var Bt=Ue(this);S(Bt)||(""==(We=String(We))?Bt.port=null:u(Bt,We,ze))}),pathname:d(Xo,function(We){var Bt=Ue(this);Bt.cannotBeABaseURL||(Bt.path=[],u(Bt,We+"",nt))}),search:d(Bs,function(We){var Bt=Ue(this);""==(We=String(We))?Bt.query=null:("?"==We.charAt(0)&&(We=We.slice(1)),Bt.query="",u(Bt,We,mi)),Be(Bt.searchParams).updateSearchParams(Bt.query)}),searchParams:d(Hu),hash:d(Ql,function(We){var Bt=Ue(this);""!=(We=String(We))?("#"==We.charAt(0)&&(We=We.slice(1)),Bt.fragment="",u(Bt,We,zn)):Bt.fragment=null})}),B(ui,"toJSON",function(){return Gi.call(this)},{enumerable:!0}),B(ui,"toString",function(){return Gi.call(this)},{enumerable:!0}),oe){var Va=oe.createObjectURL,ba=oe.revokeObjectURL;Va&&B($n,"createObjectURL",function(We){return Va.apply(oe,arguments)}),ba&&B($n,"revokeObjectURL",function(We){return ba.apply(oe,arguments)})}ne($n,"URL"),m({global:!0,forced:!D,sham:!v},{URL:$n})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":42,"../internals/export":49,"../internals/global":58,"../internals/has":59,"../internals/internal-state":69,"../internals/native-url":83,"../internals/object-assign":88,"../internals/object-define-properties":90,"../internals/redefine":107,"../internals/set-to-string-tag":116,"../internals/string-multibyte":122,"../internals/string-punycode-to-ascii":123,"../modules/es.string.iterator":183,"../modules/web.url-search-params":227}],229:[function(h,te,j){"use strict";te.exports=h("./").polyfill()},{"./":230}],230:[function(h,te,j){(function(k,g){var S;S=function(){"use strict";function M(Pe){return"function"==typeof Pe}var b=Array.isArray?Array.isArray:function(Pe){return"[object Array]"===Object.prototype.toString.call(Pe)},f=0,u=void 0,d=void 0,p=function(Pe,tt){V[f]=Pe,V[f+1]=tt,2===(f+=2)&&(d?d(G):ne())},m="undefined"!=typeof window?window:void 0,v=m||{},D=v.MutationObserver||v.WebKitMutationObserver,I="undefined"==typeof self&&void 0!==k&&"[object process]"==={}.toString.call(k),R="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function B(){var Pe=setTimeout;return function(){return Pe(G,1)}}var V=new Array(1e3);function G(){for(var Pe=0;Pe<f;Pe+=2)(0,V[Pe])(V[Pe+1]),V[Pe]=void 0,V[Pe+1]=void 0;f=0}var K,Q,W,Z,ne=void 0;function X(Pe,tt){var st=this,Ye=new this.constructor(Fe);void 0===Ye[oe]&&fe(Ye);var Mt=st._state;if(Mt){var Et=arguments[Mt-1];p(function(){return z(Mt,Ye,Et,st._result)})}else ct(st,Ye,Pe,tt);return Ye}function se(Pe){if(Pe&&"object"==typeof Pe&&Pe.constructor===this)return Pe;var tt=new this(Fe);return Ge(tt,Pe),tt}ne=I?function(){return k.nextTick(G)}:D?(Q=0,W=new D(G),Z=document.createTextNode(""),W.observe(Z,{characterData:!0}),function(){Z.data=Q=++Q%2}):R?((K=new MessageChannel).port1.onmessage=G,function(){return K.port2.postMessage(0)}):void 0===m&&"function"==typeof h?function(){try{var Pe=Function("return this")().require("vertx");return void 0!==(u=Pe.runOnLoop||Pe.runOnContext)?function(){u(G)}:B()}catch(tt){return B()}}():B();var oe=Math.random().toString(36).substring(2);function Fe(){}var Be=void 0;function Ve(Pe,tt,st){p(function(Ye){var Mt=!1,Et=function(xt,ln,An,Ut){try{xt.call(ln,function(xt){Mt||(Mt=!0,tt!==xt?Ge(Ye,xt):lt(Ye,xt))},function(xt){Mt||(Mt=!0,Ke(Ye,xt))})}catch(Yn){return Yn}}(st,tt);!Mt&&Et&&(Mt=!0,Ke(Ye,Et))},Pe)}function Oe(Pe,tt,st){var Ye,Mt;tt.constructor===Pe.constructor&&st===X&&tt.constructor.resolve===se?(Ye=Pe,1===(Mt=tt)._state?lt(Ye,Mt._result):2===Mt._state?Ke(Ye,Mt._result):ct(Mt,void 0,function(Et){return Ge(Ye,Et)},function(Et){return Ke(Ye,Et)})):void 0===st?lt(Pe,tt):M(st)?Ve(Pe,tt,st):lt(Pe,tt)}function Ge(Pe,tt){if(Pe===tt)Ke(Pe,new TypeError("You cannot resolve a promise with itself"));else if(Mt=typeof(Ye=tt),null===Ye||"object"!=Mt&&"function"!=Mt)lt(Pe,tt);else{var st=void 0;try{st=tt.then}catch(Et){return void Ke(Pe,Et)}Oe(Pe,tt,st)}var Ye,Mt}function De(Pe){Pe._onerror&&Pe._onerror(Pe._result),ut(Pe)}function lt(Pe,tt){Pe._state===Be&&(Pe._result=tt,Pe._state=1,0!==Pe._subscribers.length&&p(ut,Pe))}function Ke(Pe,tt){Pe._state===Be&&(Pe._state=2,Pe._result=tt,p(De,Pe))}function ct(Pe,tt,st,Ye){var Mt=Pe._subscribers,Et=Mt.length;Pe._onerror=null,Mt[Et]=tt,Mt[Et+1]=st,Mt[Et+2]=Ye,0===Et&&Pe._state&&p(ut,Pe)}function ut(Pe){var tt=Pe._subscribers,st=Pe._state;if(0!==tt.length){for(var Ye=void 0,Mt=void 0,Et=Pe._result,xt=0;xt<tt.length;xt+=3)Mt=tt[xt+st],(Ye=tt[xt])?z(st,Ye,Mt,Et):Mt(Et);Pe._subscribers.length=0}}function z(Pe,tt,st,Ye){var Mt=M(st),Et=void 0,xt=void 0,ln=!0;if(Mt){try{Et=st(Ye)}catch(An){ln=!1,xt=An}if(tt===Et)return void Ke(tt,new TypeError("A promises callback cannot return that same promise."))}else Et=Ye;tt._state!==Be||(Mt&&ln?Ge(tt,Et):!1===ln?Ke(tt,xt):1===Pe?lt(tt,Et):2===Pe&&Ke(tt,Et))}var ie=0;function fe(Pe){Pe[oe]=ie++,Pe._state=void 0,Pe._result=void 0,Pe._subscribers=[]}var Ee=(Ne.prototype._enumerate=function(Pe){for(var tt=0;this._state===Be&&tt<Pe.length;tt++)this._eachEntry(Pe[tt],tt)},Ne.prototype._eachEntry=function(Pe,tt){var st=this._instanceConstructor,Ye=st.resolve;if(Ye===se){var Mt=void 0,Et=void 0,xt=!1;try{Mt=Pe.then}catch(An){xt=!0,Et=An}if(Mt===X&&Pe._state!==Be)this._settledAt(Pe._state,tt,Pe._result);else if("function"!=typeof Mt)this._remaining--,this._result[tt]=Pe;else if(st===Ae){var ln=new st(Fe);xt?Ke(ln,Et):Oe(ln,Pe,Mt),this._willSettleAt(ln,tt)}else this._willSettleAt(new st(function(An){return An(Pe)}),tt)}else this._willSettleAt(Ye(Pe),tt)},Ne.prototype._settledAt=function(Pe,tt,st){var Ye=this.promise;Ye._state===Be&&(this._remaining--,2===Pe?Ke(Ye,st):this._result[tt]=st),0===this._remaining&&lt(Ye,this._result)},Ne.prototype._willSettleAt=function(Pe,tt){var st=this;ct(Pe,void 0,function(Ye){return st._settledAt(1,tt,Ye)},function(Ye){return st._settledAt(2,tt,Ye)})},Ne);function Ne(Pe,tt){this._instanceConstructor=Pe,this.promise=new Pe(Fe),this.promise[oe]||fe(this.promise),b(tt)?(this.length=tt.length,this._remaining=tt.length,this._result=new Array(this.length),0===this.length?lt(this.promise,this._result):(this.length=this.length||0,this._enumerate(tt),0===this._remaining&&lt(this.promise,this._result))):Ke(this.promise,new Error("Array Methods must be provided an Array"))}var Ae=(ft.prototype.catch=function(Pe){return this.then(null,Pe)},ft.prototype.finally=function(Pe){var tt=this.constructor;return M(Pe)?this.then(function(st){return tt.resolve(Pe()).then(function(){return st})},function(st){return tt.resolve(Pe()).then(function(){throw st})}):this.then(Pe,Pe)},ft);function ft(Pe){this[oe]=ie++,this._result=this._state=void 0,this._subscribers=[],Fe!==Pe&&("function"!=typeof Pe&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ft?function(tt,st){try{st(function(Ye){Ge(tt,Ye)},function(Ye){Ke(tt,Ye)})}catch(Ye){Ke(tt,Ye)}}(this,Pe):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Ae.prototype.then=X,Ae.all=function(Pe){return new Ee(this,Pe).promise},Ae.race=function(Pe){var tt=this;return b(Pe)?new tt(function(st,Ye){for(var Mt=Pe.length,Et=0;Et<Mt;Et++)tt.resolve(Pe[Et]).then(st,Ye)}):new tt(function(st,Ye){return Ye(new TypeError("You must pass an array to race."))})},Ae.resolve=se,Ae.reject=function(Pe){var tt=new this(Fe);return Ke(tt,Pe),tt},Ae._setScheduler=function(Pe){d=Pe},Ae._setAsap=function(Pe){p=Pe},Ae._asap=p,Ae.polyfill=function(){var Pe=void 0;if(void 0!==g)Pe=g;else if("undefined"!=typeof self)Pe=self;else try{Pe=Function("return this")()}catch(Ye){throw new Error("polyfill failed because global object is unavailable in this environment")}var tt=Pe.Promise;if(tt){var st=null;try{st=Object.prototype.toString.call(tt.resolve())}catch(Ye){}if("[object Promise]"===st&&!tt.cast)return}Pe.Promise=Ae},Ae.Promise=Ae},"object"==typeof j&&void 0!==te?te.exports=S():this.ES6Promise=S()}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:238}],231:[function(h,te,j){!function(k,g){if(void 0!==j&&void 0!==te)g(0,te);else{var w={exports:{}};g(0,w),k.fetchJsonp=w.exports}}(this,function(k,g){"use strict";var S="callback";function M(f){try{delete window[f]}catch(u){window[f]=void 0}}function b(f){var u=document.getElementById(f);u&&document.getElementsByTagName("head")[0].removeChild(u)}g.exports=function(f){var u=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=f,p=u.timeout||5e3,m=u.jsonpCallback||S,v=void 0;return new Promise(function(D,I){var R=u.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),B=m+"_"+R;window[R]=function(G){D({ok:!0,json:function(){return Promise.resolve(G)}}),v&&clearTimeout(v),b(B),M(R)},d+=-1===d.indexOf("?")?"?":"&";var V=document.createElement("script");V.setAttribute("src",""+d+m+"="+R),u.charset&&V.setAttribute("charset",u.charset),V.id=B,document.getElementsByTagName("head")[0].appendChild(V),v=setTimeout(function(){I(new Error("JSONP request to "+f+" timed out")),M(R),b(B),window[R]=function(){M(R)}},p),V.onerror=function(){I(new Error("JSONP request to "+f+" failed")),M(R),b(B),v&&clearTimeout(v)}})}})},{}],232:[function(h,te,j){var k=k||function(g){"use strict";if(!(void 0===g||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var S=function(){return g.URL||g.webkitURL||g},M=g.document.createElementNS("http://www.w3.org/1999/xhtml","a"),b="download"in M,f=/constructor/i.test(g.HTMLElement)||g.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent),d=function(I){(g.setImmediate||g.setTimeout)(function(){throw I},0)},p=function(I){setTimeout(function(){"string"==typeof I?S().revokeObjectURL(I):I.remove()},4e4)},m=function(I){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(I.type)?new Blob([String.fromCharCode(65279),I],{type:I.type}):I},v=function(I,R,B){function V(){!function(W,Z,ne){for(var X=(Z=[].concat(Z)).length;X--;){var se=W["on"+Z[X]];if("function"==typeof se)try{se.call(W,W)}catch(oe){d(oe)}}}(K,"writestart progress write writeend".split(" "))}B||(I=m(I));var G,K=this,Q="application/octet-stream"===I.type;if(K.readyState=K.INIT,b)return G=S().createObjectURL(I),void setTimeout(function(){var W,Z;M.href=G,M.download=R,W=M,Z=new MouseEvent("click"),W.dispatchEvent(Z),V(),p(G),K.readyState=K.DONE});!function(){if((u||Q&&f)&&g.FileReader){var W=new FileReader;return W.onloadend=function(){var Z=u?W.result:W.result.replace(/^data:[^;]*;/,"data:attachment/file;");g.open(Z,"_blank")||(g.location.href=Z),Z=void 0,K.readyState=K.DONE,V()},W.readAsDataURL(I),K.readyState=K.INIT}G=G||S().createObjectURL(I),Q?g.location.href=G:g.open(G,"_blank")||(g.location.href=G),K.readyState=K.DONE,V(),p(G)}()},D=v.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(I,R,B){return R=R||I.name||"download",B||(I=m(I)),navigator.msSaveOrOpenBlob(I,R)}:(D.abort=function(){},D.readyState=D.INIT=0,D.WRITING=1,D.DONE=2,D.error=D.onwritestart=D.onprogress=D.onwrite=D.onabort=D.onerror=D.onwriteend=null,function(I,R,B){return new v(I,R||I.name||"download",B)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==te&&te.exports&&(te.exports.saveAs=k)},{}],233:[function(h,te,j){j.read=function(k,g,w,S,M){var b,f,u=8*M-S-1,d=(1<<u)-1,p=d>>1,m=-7,v=w?M-1:0,D=w?-1:1,I=k[g+v];for(v+=D,b=I&(1<<-m)-1,I>>=-m,m+=u;0<m;b=256*b+k[g+v],v+=D,m-=8);for(f=b&(1<<-m)-1,b>>=-m,m+=S;0<m;f=256*f+k[g+v],v+=D,m-=8);if(0===b)b=1-p;else{if(b===d)return f?NaN:1/0*(I?-1:1);f+=Math.pow(2,S),b-=p}return(I?-1:1)*f*Math.pow(2,b-S)},j.write=function(k,g,w,S,M,b){var f,u,d,p=8*b-M-1,m=(1<<p)-1,v=m>>1,D=23===M?Math.pow(2,-24)-Math.pow(2,-77):0,I=S?0:b-1,R=S?1:-1,B=g<0||0===g&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(u=isNaN(g)?1:0,f=m):(f=Math.floor(Math.log(g)/Math.LN2),g*(d=Math.pow(2,-f))<1&&(f--,d*=2),2<=(g+=1<=f+v?D/d:D*Math.pow(2,1-v))*d&&(f++,d/=2),m<=f+v?(u=0,f=m):1<=f+v?(u=(g*d-1)*Math.pow(2,M),f+=v):(u=g*Math.pow(2,v-1)*Math.pow(2,M),f=0));8<=M;k[w+I]=255&u,I+=R,u/=256,M-=8);for(f=f<<M|u,p+=M;0<p;k[w+I]=255&f,I+=R,f/=256,p-=8);k[w+I-R]|=128*B}},{}],234:[function(h,te,j){"use strict";var k;function g(de,_e){return de.b===_e.b&&de.a===_e.a}function w(de,_e){return de.b<_e.b||de.b===_e.b&&de.a<=_e.a}function S(de,_e,le){var ve=_e.b-de.b,ze=le.b-_e.b;return 0<ve+ze?ve<ze?_e.a-de.a+ve/(ve+ze)*(de.a-le.a):_e.a-le.a+ze/(ve+ze)*(le.a-de.a):0}function M(de,_e,le){var ve=_e.b-de.b,ze=le.b-_e.b;return 0<ve+ze?(_e.a-le.a)*ve+(_e.a-de.a)*ze:0}function b(de,_e){return de.a<_e.a||de.a===_e.a&&de.b<=_e.b}function f(de,_e,le){var ve=_e.a-de.a,ze=le.a-_e.a;return 0<ve+ze?ve<ze?_e.b-de.b+ve/(ve+ze)*(de.b-le.b):_e.b-le.b+ze/(ve+ze)*(le.b-de.b):0}function u(de,_e,le){var ve=_e.a-de.a,ze=le.a-_e.a;return 0<ve+ze?(_e.b-le.b)*ve+(_e.b-de.b)*ze:0}function d(de,_e,le,ve){return(de=de<0?0:de)<=(le=le<0?0:le)?0===le?(_e+ve)/2:_e+de/(de+le)*(ve-_e):ve+le/(de+le)*(_e-ve)}function p(de){var _e=R(de.b);return V(_e,de.c),V(_e.b,de.c),G(_e,de.a),_e}function m(de,_e){var le=!1,ve=!1;de!==_e&&(_e.a!==de.a&&(ve=!0,Q(_e.a,de.a)),_e.d!==de.d&&(le=!0,W(_e.d,de.d)),B(_e,de),ve||(V(_e,de.a),de.a.c=de),le||(G(_e,de.d),de.d.a=de))}function v(de){var _e=de.b,le=!1;de.d!==de.b.d&&(le=!0,W(de.d,de.b.d)),de.c===de?Q(de.a,null):(de.b.d.a=Ye(de),de.a.c=de.c,B(de,Ye(de)),le||G(de,de.d)),_e.c===_e?(Q(_e.a,null),W(_e.d,null)):(de.d.a=Ye(_e),_e.a.c=_e.c,B(_e,Ye(_e))),K(de)}function D(de){var _e=R(de),le=_e.b;return B(_e,de.e),_e.a=de.b.a,V(le,_e.a),_e.d=le.d=de.d,_e=_e.b,B(de.b,Ye(de.b)),B(de.b,_e),de.b.a=_e.a,_e.b.a.c=_e.b,_e.b.d=de.b.d,_e.f=de.f,_e.b.f=de.b.f,_e}function I(de,_e){var le=!1,ve=R(de),ze=ve.b;return _e.d!==de.d&&(le=!0,W(_e.d,de.d)),B(ve,de.e),B(ze,_e),ve.a=de.b.a,ze.a=_e.a,ve.d=ze.d=de.d,de.d.a=ze,le||G(ve,de.d),ve}function R(de){var _e=new st,le=new st;return(((le.h=de.b.h).b.h=_e).h=de).b.h=le,_e.b=le,((_e.c=_e).e=le).b=_e,(le.c=le).e=_e}function B(de,_e){var le=de.c,ve=_e.c;le.b.e=_e,(ve.b.e=de).c=ve,_e.c=le}function V(de,_e){var le=_e.f,ve=new Et(_e,le);for(le.e=ve,le=(_e.f=ve).c=de;le.a=ve,(le=le.c)!==de;);}function G(de,_e){var le=_e.d,ve=new tt(_e,le);for(le.b=ve,(_e.d=ve).a=de,ve.c=_e.c,le=de;le.d=ve,(le=le.e)!==de;);}function K(de){var _e=de.h;(_e.b.h=de=de.b.h).b.h=_e}function Q(de,_e){for(var le=de.c,ve=le;ve.a=_e,(ve=ve.c)!==le;);((ve=de.e).f=le=de.f).e=ve}function W(de,_e){for(var le=de.a,ve=le;ve.d=_e,(ve=ve.e)!==le;);((ve=de.b).d=le=de.d).b=ve}function Z(de){var _e=0;return Math.abs(de[1])>Math.abs(de[0])&&(_e=1),Math.abs(de[2])>Math.abs(de[_e])&&(_e=2),_e}function ne(de,_e){de.f+=_e.f,de.b.f+=_e.b.f}function X(de,_e,le){return le=le.a,(_e=_e.a).b.a===(de=de.a)?le.b.a===de?w(_e.a,le.a)?M(le.b.a,_e.a,le.a)<=0:0<=M(_e.b.a,le.a,_e.a):M(le.b.a,de,le.a)<=0:le.b.a===de?0<=M(_e.b.a,de,_e.a):(_e=S(_e.b.a,de,_e.a),(de=S(le.b.a,de,le.a))<=_e)}function se(de){de.a.i=null;var _e=de.e;_e.a.c=_e.c,_e.c.a=_e.a,de.e=null}function oe(de,_e){v(de.a),de.c=!1,(de.a=_e).i=de}function Fe(de){for(var _e=de.a.a;(de=Ht(de)).a.a===_e;);return de.c&&(oe(de,_e=I(yn(de).a.b,de.a.e)),de=Ht(de)),de}function Be(de,_e,le){var ve=new it;return ve.a=le,ve.e=Ee(de.f,_e.e,ve),le.i=ve}function xe(de,_e){switch(de.s){case 100130:return 0!=(1&_e);case 100131:return 0!==_e;case 100132:return 0<_e;case 100133:return _e<0;case 100134:return 2<=_e||_e<=-2}return!1}function Ue(de){var _e=de.a,le=_e.d;le.c=de.d,le.a=_e,se(de)}function Ve(de,_e,le){for(_e=(de=_e).a;de!==le;){de.c=!1;var ve=yn(de),ze=ve.a;if(ze.a!==_e.a){if(!ve.c){Ue(de);break}oe(ve,ze=I(_e.c.b,ze.b))}_e.c!==ze&&(m(Ye(ze),ze),m(_e,ze)),Ue(de),_e=ve.a,de=ve}return _e}function Oe(de,_e,le,ve,ze,pt){for(var Dt=!0;Be(de,_e,le.b),(le=le.c)!==ve;);for(null===ze&&(ze=yn(_e).a.b.c);(le=(ve=yn(_e)).a.b).a===ze.a;)le.c!==ze&&(m(Ye(le),le),m(Ye(ze),le)),ve.f=_e.f-le.f,ve.d=xe(de,ve.f),_e.b=!0,!Dt&&Ke(de,_e)&&(ne(le,ze),se(_e),v(ze)),Dt=!1,_e=ve,ze=le;_e.b=!0,pt&&ut(de,_e)}function Ge(de,_e,le,ve,ze){var pt=[_e.g[0],_e.g[1],_e.g[2]];_e.d=null,_e.d=de.o&&de.o(pt,le,ve,de.c)||null,null===_e.d&&(ze?de.n||(Pe(de,100156),de.n=!0):_e.d=le[0])}function De(de,_e,le){var ve=[null,null,null,null];ve[0]=_e.a.d,ve[1]=le.a.d,Ge(de,_e.a,ve,[.5,.5,0,0],!1),m(_e,le)}function lt(de,_e,le,ve,ze){var pt=Math.abs(_e.b-de.b)+Math.abs(_e.a-de.a),Dt=Math.abs(le.b-de.b)+Math.abs(le.a-de.a),Gt=ze+1;ve[ze]=.5*Dt/(pt+Dt),ve[Gt]=.5*pt/(pt+Dt),de.g[0]+=ve[ze]*_e.g[0]+ve[Gt]*le.g[0],de.g[1]+=ve[ze]*_e.g[1]+ve[Gt]*le.g[1],de.g[2]+=ve[ze]*_e.g[2]+ve[Gt]*le.g[2]}function Ke(de,_e){var le=yn(_e),ve=_e.a,ze=le.a;if(w(ve.a,ze.a)){if(0<M(ze.b.a,ve.a,ze.a))return!1;if(g(ve.a,ze.a)){if(ve.a!==ze.a){le=de.e;var pt=ve.a.h;if(0<=pt){var Dt=(le=le.b).d,Gt=le.e,nt=le.c,dn=nt[pt];Dt[dn]=Dt[le.a],(nt[Dt[dn]]=dn)<=--le.a&&(dn<=1||w(Gt[Dt[dn>>1]],Gt[Dt[dn]])?Nt(le,dn):gn(le,dn)),Gt[pt]=null,nt[pt]=le.b,le.b=pt}else for(le.c[-(pt+1)]=null;0<le.a&&null===le.c[le.d[le.a-1]];)--le.a;De(de,Ye(ze),ve)}}else D(ze.b),m(ve,Ye(ze)),_e.b=le.b=!0}else{if(M(ve.b.a,ze.a,ve.a)<0)return!1;Ht(_e).b=_e.b=!0,D(ve.b),m(Ye(ze),ve)}return!0}function ct(de,_e){var le=yn(_e),ve=_e.a,ze=le.a,pt=ve.a,Dt=ze.a,Gt=ve.b.a,nt=ze.b.a,dn=new Et;if(M(Gt,de.a,pt),M(nt,de.a,Dt),pt===Dt||Math.min(pt.a,Gt.a)>Math.max(Dt.a,nt.a))return!1;if(w(pt,Dt)){if(0<M(nt,pt,Dt))return!1}else if(M(Gt,Dt,pt)<0)return!1;var Ln,mi,zn=Gt,$n=pt,ui=nt,Gi=Dt;if(w(zn,$n)||(Ln=zn,zn=$n,$n=Ln),w(ui,Gi)||(Ln=ui,ui=Gi,Gi=Ln),w(zn,ui)||(Ln=zn,zn=ui,ui=Ln,Ln=$n,$n=Gi,Gi=Ln),w(ui,$n)?w($n,Gi)?((Ln=S(zn,ui,$n))+(mi=S(ui,$n,Gi))<0&&(Ln=-Ln,mi=-mi),dn.b=d(Ln,ui.b,mi,$n.b)):((Ln=M(zn,ui,$n))+(mi=-M(zn,Gi,$n))<0&&(Ln=-Ln,mi=-mi),dn.b=d(Ln,ui.b,mi,Gi.b)):dn.b=(ui.b+$n.b)/2,b(zn,$n)||(Ln=zn,zn=$n,$n=Ln),b(ui,Gi)||(Ln=ui,ui=Gi,Gi=Ln),b(zn,ui)||(Ln=zn,zn=ui,ui=Ln,Ln=$n,$n=Gi,Gi=Ln),b(ui,$n)?b($n,Gi)?((Ln=f(zn,ui,$n))+(mi=f(ui,$n,Gi))<0&&(Ln=-Ln,mi=-mi),dn.a=d(Ln,ui.a,mi,$n.a)):((Ln=u(zn,ui,$n))+(mi=-u(zn,Gi,$n))<0&&(Ln=-Ln,mi=-mi),dn.a=d(Ln,ui.a,mi,Gi.a)):dn.a=(ui.a+$n.a)/2,w(dn,de.a)&&(dn.b=de.a.b,dn.a=de.a.a),zn=w(pt,Dt)?pt:Dt,w(zn,dn)&&(dn.b=zn.b,dn.a=zn.a),g(dn,pt)||g(dn,Dt))return Ke(de,_e),!1;if(!g(Gt,de.a)&&0<=M(Gt,de.a,dn)||!g(nt,de.a)&&M(nt,de.a,dn)<=0){if(nt===de.a)return D(ve.b),m(ze.b,ve),ve=yn(_e=Fe(_e)).a,Ve(de,yn(_e),le),Oe(de,_e,Ye(ve),ve,ve,!0),!0;if(Gt!==de.a)return 0<=M(Gt,de.a,dn)&&(Ht(_e).b=_e.b=!0,D(ve.b),ve.a.b=de.a.b,ve.a.a=de.a.a),M(nt,de.a,dn)<=0&&(_e.b=le.b=!0,D(ze.b),ze.a.b=de.a.b,ze.a.a=de.a.a),!1;for(D(ze.b),m(ve.e,Ye(ze)),Dt=(pt=le=_e).a.b.a;(pt=Ht(pt)).a.b.a===Dt;);return pt=yn(_e=pt).a.b.c,le.a=Ye(ze),Oe(de,_e,(ze=Ve(de,le,null)).c,ve.b.c,pt,!0),!0}return D(ve.b),D(ze.b),m(Ye(ze),ve),ve.a.b=dn.b,ve.a.a=dn.a,ve.a.h=ln(de.e,ve.a),ze=[0,0,0,0],dn=[pt.d,Gt.d,Dt.d,nt.d],(ve=ve.a).g[0]=ve.g[1]=ve.g[2]=0,lt(ve,pt,Gt,ze,0),lt(ve,Dt,nt,ze,2),Ge(de,ve,dn,ze,!0),Ht(_e).b=_e.b=le.b=!0,!1}function ut(de,_e){for(var le=yn(_e);;){for(;le.b;)le=yn(_e=le);if(!(_e.b||null!==(_e=Ht(le=_e))&&_e.b))break;_e.b=!1;var ve,ze=_e.a,pt=le.a;if(ve=ze.b.a!==pt.b.a)e:{var Dt=yn(ve=_e),Gt=ve.a,nt=Dt.a,dn=void 0;if(w(Gt.b.a,nt.b.a)){if(M(Gt.b.a,nt.b.a,Gt.a)<0){ve=!1;break e}Ht(ve).b=ve.b=!0,dn=D(Gt),m(nt.b,dn),dn.d.c=ve.d}else{if(0<M(nt.b.a,Gt.b.a,nt.a)){ve=!1;break e}ve.b=Dt.b=!0,dn=D(nt),m(Gt.e,nt.b),dn.b.d.c=ve.d}ve=!0}if(ve&&(le.c?(se(le),v(pt),pt=(le=yn(_e)).a):_e.c&&(se(_e),v(ze),ze=(_e=Ht(le)).a)),ze.a!==pt.a)if(ze.b.a===pt.b.a||_e.c||le.c||ze.b.a!==de.a&&pt.b.a!==de.a)Ke(de,_e);else if(ct(de,_e))break;ze.a===pt.a&&ze.b.a===pt.b.a&&(ne(pt,ze),se(_e),v(ze),_e=Ht(le))}}function z(de,_e){for(var le=(de.a=_e).c;null===le.i;)if((le=le.c)===_e.c){le=de;var ve=_e;(Dt=new it).a=ve.c.b;for(var ze=(nt=le.f).a;null!==(ze=ze.a).b&&!nt.c(nt.b,Dt,ze.b););var pt=yn(nt=ze.b),Dt=nt.a;if(ze=pt.a,0===M(Dt.b.a,ve,Dt.a))g((Dt=nt.a).a,ve)||g(Dt.b.a,ve)||(D(Dt.b),nt.c&&(v(Dt.c),nt.c=!1),m(ve.c,Dt),z(le,ve));else{var Gt=w(ze.b.a,Dt.b.a)?nt:pt;pt=void 0,nt.d||Gt.c?(pt=Gt===nt?I(ve.c.b,Dt.e):I(ze.b.c.b,ve.c).b,Gt.c?oe(Gt,pt):((nt=Be(Dt=le,nt,pt)).f=Ht(nt).f+nt.a.f,nt.d=xe(Dt,nt.f)),z(le,ve)):Oe(le,nt,ve.c,ve.c,null,!0)}return}if(nt=(Dt=yn(le=Fe(le.i))).a,(Dt=Ve(de,Dt,null)).c===nt){Dt=(nt=Dt).c,ze=yn(le);var nt,dn=!1;(pt=le.a).b.a!==(Gt=ze.a).b.a&&ct(de,le),g(pt.a,de.a)&&(m(Ye(Dt),pt),Dt=yn(le=Fe(le)).a,Ve(de,yn(le),ze),dn=!0),g(Gt.a,de.a)&&(m(nt,Ye(Gt)),nt=Ve(de,ze,null),dn=!0),dn?Oe(de,le,nt.c,Dt,Dt,!0):(ve=w(Gt.a,pt.a)?Ye(Gt):pt,Oe(de,le,ve=I(nt.c.b,ve),ve.c,ve.c,!1),ve.b.i.c=!0,ut(de,le))}else Oe(de,le,Dt.c,nt,nt,!0)}function ie(de,_e){var le=new it,ve=p(de.b);ve.a.b=4e150,ve.a.a=_e,ve.b.a.b=-4e150,ve.b.a.a=_e,de.a=ve.b.a,le.a=ve,le.f=0,le.d=!1,le.c=!1,le.h=!0,le.b=!1,ve=Ee(ve=de.f,ve.a,le),le.e=ve}function fe(de){this.a=new Ne,this.b=de,this.c=X}function Ee(de,_e,le){for(;null!==(_e=_e.c).b&&!de.c(de.b,_e.b,le););return de=new Ne(le,_e.a,_e),_e.a.c=de,_e.a=de}function Ne(de,_e,le){this.b=de||null,this.a=_e||this,this.c=le||this}function Ae(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ft(de,_e){if(de.d!==_e)for(;de.d!==_e;)if(de.d<_e)switch(de.d){case 0:Pe(de,100151),de.u(null);break;case 1:Pe(de,100152),de.t()}else switch(de.d){case 2:Pe(de,100154),de.v();break;case 1:Pe(de,100153),de.w()}}function Pe(de,_e){de.p&&de.p(_e,de.c)}function tt(de,_e){this.b=de||this,this.d=_e||this,this.a=null,this.c=!1}function st(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ye(de){return de.b.e}function Mt(){this.c=new Et,this.a=new tt,this.b=new st,this.d=new st,this.b.b=this.d,this.d.b=this.b}function Et(de,_e){this.e=de||this,this.f=_e||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function xt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ut}function ln(de,_e){if(de.e){var le,ve=de.b,ze=++ve.a;return 2*ze>ve.f&&(ve.f*=2,ve.c=Yn(ve.c,ve.f+1)),0===ve.b?le=ze:(le=ve.b,ve.b=ve.c[ve.b]),ve.e[le]=_e,ve.c[le]=ze,ve.d[ze]=le,ve.h&&gn(ve,ze),le}return ve=de.a++,de.c[ve]=_e,-(ve+1)}function An(de){if(0===de.a)return Vt(de.b);var _e=de.c[de.d[de.a-1]];if(0!==de.b.a&&w(Kn(de.b),_e))return Vt(de.b);for(;--de.a,0<de.a&&null===de.c[de.d[de.a-1]];);return _e}function Ut(){this.d=Yn([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Yn(de,_e){for(var le=Array(_e),ve=0;ve<de.length;ve++)le[ve]=de[ve];for(;ve<_e;ve++)le[ve]=0;return le}function Kn(de){return de.e[de.d[1]]}function Vt(de){var _e=de.d,le=de.e,ve=de.c,ze=_e[1],pt=le[ze];return 0<de.a&&(_e[1]=_e[de.a],ve[_e[1]]=1,le[ze]=null,ve[ze]=de.b,de.b=ze,0<--de.a&&Nt(de,1)),pt}function Nt(de,_e){for(var le=de.d,ve=de.e,ze=de.c,pt=_e,Dt=le[pt];;){var Gt=pt<<1;Gt<de.a&&w(ve[le[Gt+1]],ve[le[Gt]])&&(Gt+=1);var nt=le[Gt];if(Gt>de.a||w(ve[Dt],ve[nt])){ze[le[pt]=Dt]=pt;break}ze[le[pt]=nt]=pt,pt=Gt}}function gn(de,_e){for(var le=de.d,ve=de.e,ze=de.c,pt=_e,Dt=le[pt];;){var Gt=pt>>1,nt=le[Gt];if(0==Gt||w(ve[nt],ve[Dt])){ze[le[pt]=Dt]=pt;break}ze[le[pt]=nt]=pt,pt=Gt}}function it(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function yn(de){return de.e.c.b}function Ht(de){return de.e.a.b}(k=Ae.prototype).x=function(){ft(this,0)},k.B=function(de,_e){switch(de){case 100142:return;case 100140:switch(_e){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=_e)}break;case 100141:return void(this.m=!!_e);default:return void Pe(this,100900)}Pe(this,100901)},k.y=function(de){switch(de){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Pe(this,100900)}return!1},k.A=function(de,_e,le){this.j[0]=de,this.j[1]=_e,this.j[2]=le},k.z=function(de,_e){var le=_e||null;switch(de){case 100100:case 100106:this.h=le;break;case 100104:case 100110:this.l=le;break;case 100101:case 100107:this.k=le;break;case 100102:case 100108:this.i=le;break;case 100103:case 100109:this.p=le;break;case 100105:case 100111:this.o=le;break;case 100112:this.r=le;break;default:Pe(this,100900)}},k.C=function(de,_e){var le=!1,ve=[0,0,0];ft(this,2);for(var ze=0;ze<3;++ze){var pt=de[ze];pt<-1e150&&(pt=-1e150,le=!0),1e150<pt&&(pt=1e150,le=!0),ve[ze]=pt}le&&Pe(this,100155),null===(le=this.q)?m(le=p(this.b),le.b):(D(le),le=le.e),le.a.d=_e,le.a.g[0]=ve[0],le.a.g[1]=ve[1],le.a.g[2]=ve[2],le.f=1,le.b.f=-1,this.q=le},k.u=function(de){ft(this,0),this.d=1,this.b=new Mt,this.c=de},k.t=function(){ft(this,1),this.d=2,this.q=null},k.v=function(){ft(this,2),this.d=1},k.w=function(){ft(this,1),this.d=0;var de,_e,le=!1,ve=[nt=this.j[0],ze=this.j[1],Dt=this.j[2]];if(0===nt&&0===ze&&0===Dt){for(var ze=[-2e150,-2e150,-2e150],pt=[2e150,2e150,2e150],Dt=[],Gt=[],nt=(le=this.b.c).e;nt!==le;nt=nt.e)for(var dn=0;dn<3;++dn){var Ln=nt.g[dn];Ln<pt[dn]&&(pt[dn]=Ln,Gt[dn]=nt),Ln>ze[dn]&&(ze[dn]=Ln,Dt[dn]=nt)}if(nt=0,ze[1]-pt[1]>ze[0]-pt[0]&&(nt=1),ze[2]-pt[2]>ze[nt]-pt[nt]&&(nt=2),pt[nt]>=ze[nt])ve[0]=0,ve[1]=0,ve[2]=1;else{for(ze=0,pt=Gt[nt],Gt=[0,0,0],pt=[pt.g[0]-(Dt=Dt[nt]).g[0],pt.g[1]-Dt.g[1],pt.g[2]-Dt.g[2]],dn=[0,0,0],nt=le.e;nt!==le;nt=nt.e)dn[0]=nt.g[0]-Dt.g[0],dn[1]=nt.g[1]-Dt.g[1],dn[2]=nt.g[2]-Dt.g[2],Gt[0]=pt[1]*dn[2]-pt[2]*dn[1],Gt[1]=pt[2]*dn[0]-pt[0]*dn[2],Gt[2]=pt[0]*dn[1]-pt[1]*dn[0],ze<(Ln=Gt[0]*Gt[0]+Gt[1]*Gt[1]+Gt[2]*Gt[2])&&(ze=Ln,ve[0]=Gt[0],ve[1]=Gt[1],ve[2]=Gt[2]);ze<=0&&(ve[0]=ve[1]=ve[2]=0,ve[Z(pt)]=1)}le=!0}for(ze=((Gt=Z(ve))+1)%3,Dt=(Gt+2)%3,Gt=0<ve[Gt]?1:-1,ve=(nt=this.b.c).e;ve!==nt;ve=ve.e)ve.b=ve.g[ze],ve.a=Gt*ve.g[Dt];if(le){for(ve=0,nt=(le=this.b.a).b;nt!==le;nt=nt.b)if(!((ze=nt.a).f<=0))for(;ve+=(ze.a.b-ze.b.a.b)*(ze.a.a+ze.b.a.a),(ze=ze.e)!==nt.a;);if(ve<0)for(le=(ve=this.b.c).e;le!==ve;le=le.e)le.a=-le.a}for(this.n=!1,nt=(ve=this.b.b).h;nt!==ve;nt=le)le=nt.h,ze=nt.e,g(nt.a,nt.b.a)&&nt.e.e!==nt&&(De(this,ze,nt),v(nt),ze=(nt=ze).e),ze.e===nt&&(ze!==nt&&(ze!==le&&ze!==le.b||(le=le.h),v(ze)),nt!==le&&nt!==le.b||(le=le.h),v(nt));for(this.e=ve=new xt,nt=(le=this.b.c).e;nt!==le;nt=nt.e)nt.h=ln(ve,nt);for(function(mi){mi.d=[];for(var zn=0;zn<mi.a;zn++)mi.d[zn]=zn;var $n;mi.d.sort(($n=mi.c,function(ui,Gi){return w($n[ui],$n[Gi])?1:-1})),mi.e=!0,function($n){for(var ui=$n.a;1<=ui;--ui)Nt($n,ui);$n.h=!0}(mi.b)}(ve),this.f=new fe(this),ie(this,-4e150),ie(this,4e150);null!==(ve=An(this.e));){for(;;){e:if(nt=this.e,0===nt.a)le=Kn(nt.b);else if(le=nt.c[nt.d[nt.a-1]],0!==nt.b.a&&(nt=Kn(nt.b),w(nt,le))){le=nt;break e}if(null===le||!g(le,ve))break;le=An(this.e),De(this,ve.c,le.c)}z(this,ve)}for(this.a=this.f.a.a.b.a.a,ve=0;null!==(le=this.f.a.a.b);)le.h||++ve,se(le);for(this.f=null,(ve=this.e).b=null,ve.d=null,this.e=ve.c=null,nt=(ve=this.b).a.b;nt!==ve.a;nt=le)le=nt.b,(nt=nt.a).e.e===nt&&(ne(nt.c,nt),v(nt));if(!this.n){if(ve=this.b,this.m)for(nt=ve.b.h;nt!==ve.b;nt=le)le=nt.h,nt.b.d.c!==nt.d.c?nt.f=nt.d.c?1:-1:v(nt);else for(nt=ve.a.b;nt!==ve.a;nt=le)if(le=nt.b,nt.c){for(nt=nt.a;w(nt.b.a,nt.a);nt=nt.c.b);for(;w(nt.a,nt.b.a);nt=nt.e);for(ze=nt.c.b,Dt=void 0;nt.e!==ze;)if(w(nt.b.a,ze.a)){for(;ze.e!==nt&&(w((_e=ze.e).b.a,_e.a)||M(ze.a,ze.b.a,ze.e.b.a)<=0);)ze=(Dt=I(ze.e,ze)).b;ze=ze.c.b}else{for(;ze.e!==nt&&(w((de=nt.c.b).a,de.b.a)||0<=M(nt.b.a,nt.a,nt.c.b.a));)nt=(Dt=I(nt,nt.c.b)).b;nt=nt.e}for(;ze.e.e!==nt;)ze=(Dt=I(ze.e,ze)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(le=(ve=this.b).a.b;le!==ve.a;le=le.b)if(le.c){for(this.h&&this.h(2,this.c),nt=le.a;this.k&&this.k(nt.a.d,this.c),(nt=nt.e)!==le.a;);this.i&&this.i(this.c)}}else{for(le=!!this.l,nt=!1,ze=-1,Dt=(ve=this.b).a.d;Dt!==ve.a;Dt=Dt.d)if(Dt.c)for(nt||(this.h&&this.h(4,this.c),nt=!0),Gt=Dt.a;le&&ze!==(pt=Gt.b.d.c?0:1)&&(ze=pt,this.l&&this.l(!!ze,this.c)),this.k&&this.k(Gt.a.d,this.c),(Gt=Gt.e)!==Dt.a;);nt&&this.i&&this.i(this.c)}if(this.r){for(nt=(ve=this.b).a.b;nt!==ve.a;nt=le)if(le=nt.b,!nt.c){for(Dt=(ze=nt.a).e,Gt=void 0;Dt=(Gt=Dt).e,(Gt.d=null)===Gt.b.d&&(Gt.c===Gt?Q(Gt.a,null):(Gt.a.c=Gt.c,B(Gt,Ye(Gt))),(pt=Gt.b).c===pt?Q(pt.a,null):(pt.a.c=pt.c,B(pt,Ye(pt))),K(Gt)),Gt!==ze;);ze=nt.d,((nt=nt.b).d=ze).b=nt}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Ae,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Ae.prototype.gluDeleteTess=Ae.prototype.x,Ae.prototype.gluTessProperty=Ae.prototype.B,Ae.prototype.gluGetTessProperty=Ae.prototype.y,Ae.prototype.gluTessNormal=Ae.prototype.A,Ae.prototype.gluTessCallback=Ae.prototype.z,Ae.prototype.gluTessVertex=Ae.prototype.C,Ae.prototype.gluTessBeginPolygon=Ae.prototype.u,Ae.prototype.gluTessBeginContour=Ae.prototype.t,Ae.prototype.gluTessEndContour=Ae.prototype.v,Ae.prototype.gluTessEndPolygon=Ae.prototype.w,void 0!==te&&(te.exports=this.libtess)},{}],235:[function(h,te,j){"use strict";function k(g,w,S,M){for(var b=g[w++],f=1<<b,u=1+f,d=1+u,p=b+1,m=(1<<p)-1,v=0,D=0,I=0,R=g[w++],B=new Int32Array(4096),V=null;;){for(;v<16&&0!==R;)D|=g[w++]<<v,v+=8,1===R?R=g[w++]:--R;if(v<p)break;var G=D&m;if(D>>=p,v-=p,G!=f){if(G==u)break;for(var K=G<d?G:V,Q=0,W=K;f<W;)W=B[W]>>8,++Q;var Z=W;if(M<I+Q+(K!==G?1:0))return void console.log("Warning, gif stream longer than expected.");S[I++]=Z;var ne=I+=Q;for(K!==G&&(S[I++]=Z),W=K;Q--;)S[--ne]=255&(W=B[W]),W>>=8;null!==V&&d<4096&&(B[d++]=V<<8|Z,m+1<=d&&p<12&&(++p,m=m<<1|1)),V=G}else d=1+u,m=(1<<(p=b+1))-1,V=null}return I!==M&&console.log("Warning, gif stream shorter than expected."),S}try{j.GifWriter=function(g,w,S,M){var b=0,f=void 0===(M=void 0===M?{}:M).loop?null:M.loop,u=void 0===M.palette?null:M.palette;if(w<=0||S<=0||65535<w||65535<S)throw new Error("Width/Height invalid.");function d(V){var G=V.length;if(G<2||256<G||G&G-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return G}g[b++]=71,g[b++]=73,g[b++]=70,g[b++]=56,g[b++]=57,g[b++]=97;var p=0,m=0;if(null!==u){for(var v=d(u);v>>=1;)++p;if(v=1<<p,--p,void 0!==M.background){if(v<=(m=M.background))throw new Error("Background index out of range.");if(0===m)throw new Error("Background index explicitly passed as 0.")}}if(g[b++]=255&w,g[b++]=w>>8&255,g[b++]=255&S,g[b++]=S>>8&255,g[b++]=(null!==u?128:0)|p,g[b++]=m,g[b++]=0,null!==u)for(var D=0,I=u.length;D<I;++D){var R=u[D];g[b++]=R>>16&255,g[b++]=R>>8&255,g[b++]=255&R}if(null!==f){if(f<0||65535<f)throw new Error("Loop count invalid.");g[b++]=33,g[b++]=255,g[b++]=11,g[b++]=78,g[b++]=69,g[b++]=84,g[b++]=83,g[b++]=67,g[b++]=65,g[b++]=80,g[b++]=69,g[b++]=50,g[b++]=46,g[b++]=48,g[b++]=3,g[b++]=1,g[b++]=255&f,g[b++]=f>>8&255,g[b++]=0}var B=!1;this.addFrame=function(V,G,K,Q,W,Z){if(!0===B&&(--b,B=!1),Z=void 0===Z?{}:Z,V<0||G<0||65535<V||65535<G)throw new Error("x/y invalid.");if(K<=0||Q<=0||65535<K||65535<Q)throw new Error("Width/Height invalid.");if(W.length<K*Q)throw new Error("Not enough pixels for the frame size.");var ne=!0,X=Z.palette;if(null==X&&(ne=!1,X=u),null==X)throw new Error("Must supply either a local or global palette.");for(var se=d(X),oe=0;se>>=1;)++oe;se=1<<oe;var Fe=void 0===Z.delay?0:Z.delay,Be=void 0===Z.disposal?0:Z.disposal;if(Be<0||3<Be)throw new Error("Disposal out of range.");var xe=!1,Ue=0;if(null!=Z.transparent&&(xe=!0,(Ue=Z.transparent)<0||se<=Ue))throw new Error("Transparent color index.");if(0===Be&&!xe&&0===Fe||(g[b++]=33,g[b++]=249,g[b++]=4,g[b++]=Be<<2|(!0===xe?1:0),g[b++]=255&Fe,g[b++]=Fe>>8&255,g[b++]=Ue,g[b++]=0),g[b++]=44,g[b++]=255&V,g[b++]=V>>8&255,g[b++]=255&G,g[b++]=G>>8&255,g[b++]=255&K,g[b++]=K>>8&255,g[b++]=255&Q,g[b++]=Q>>8&255,g[b++]=!0===ne?128|oe-1:0,!0===ne)for(var Ve=0,Oe=X.length;Ve<Oe;++Ve){var Ge=X[Ve];g[b++]=Ge>>16&255,g[b++]=Ge>>8&255,g[b++]=255&Ge}return b=function(De,lt,Ke,ct){De[lt++]=Ke;var ut=lt++,z=1<<Ke,ie=z-1,fe=1+z,Ee=1+fe,Ne=Ke+1,Ae=0,ft=0;function Pe(Ut){for(;Ut<=Ae;)De[lt++]=255&ft,ft>>=8,Ae-=8,lt===ut+256&&(De[ut]=255,ut=lt++)}function tt(Ut){ft|=Ut<<Ae,Ae+=Ne,Pe(8)}var st=ct[0]&ie,Ye={};tt(z);for(var Mt=1,Et=ct.length;Mt<Et;++Mt){var xt=ct[Mt]&ie,ln=st<<8|xt,An=Ye[ln];if(void 0===An){for(ft|=st<<Ae,Ae+=Ne;8<=Ae;)De[lt++]=255&ft,ft>>=8,Ae-=8,lt===ut+256&&(De[ut]=255,ut=lt++);4096===Ee?(tt(z),Ee=1+fe,Ne=Ke+1,Ye={}):(1<<Ne<=Ee&&++Ne,Ye[ln]=Ee++),st=xt}else st=An}return tt(st),tt(fe),Pe(1),ut+1===lt?De[ut]=0:(De[ut]=lt-ut-1,De[lt++]=0),lt}(g,b,oe<2?2:oe,W)},this.end=function(){return!1===B&&(g[b++]=59,B=!0),b},this.getOutputBuffer=function(){return g},this.setOutputBuffer=function(V){g=V},this.getOutputBufferPosition=function(){return b},this.setOutputBufferPosition=function(V){b=V}},j.GifReader=function(g){var w=0;if(71!==g[w++]||73!==g[w++]||70!==g[w++]||56!==g[w++]||56!=(g[w++]+1&253)||97!==g[w++])throw new Error("Invalid GIF 87a/89a header.");var S=g[w++]|g[w++]<<8,M=g[w++]|g[w++]<<8,b=g[w++];w++,w++;var d=null,p=null;b>>7&&(d=w,w+=3*(p=1<<1+(7&b)));var m=!0,v=[],D=0,I=null,R=0,B=null;for(this.width=S,this.height=M;m&&w<g.length;)switch(g[w++]){case 33:switch(g[w++]){case 255:if(11!==g[w]||78==g[w+1]&&69==g[w+2]&&84==g[w+3]&&83==g[w+4]&&67==g[w+5]&&65==g[w+6]&&80==g[w+7]&&69==g[w+8]&&50==g[w+9]&&46==g[w+10]&&48==g[w+11]&&3==g[w+12]&&1==g[w+13]&&0==g[w+16])w+=14,B=g[w++]|g[w++]<<8,w++;else for(w+=12;;){if(!(0<=(xe=g[w++])))throw Error("Invalid block size");if(0===xe)break;w+=xe}break;case 249:if(4!==g[w++]||0!==g[w+4])throw new Error("Invalid graphics extension block.");var V=g[w++];D=g[w++]|g[w++]<<8,I=g[w++],0==(1&V)&&(I=null),R=V>>2&7,w++;break;case 254:for(;;){if(!(0<=(xe=g[w++])))throw Error("Invalid block size");if(0===xe)break;w+=xe}break;default:throw new Error("Unknown graphic control label: 0x"+g[w-1].toString(16))}break;case 44:var G=g[w++]|g[w++]<<8,K=g[w++]|g[w++]<<8,Q=g[w++]|g[w++]<<8,W=g[w++]|g[w++]<<8,Z=g[w++],ne=Z>>6&1,se=d,oe=p,Fe=!1;Z>>7&&(Fe=!0,se=w,w+=3*(oe=1<<1+(7&Z)));var Be=w;for(w++;;){var xe;if(!(0<=(xe=g[w++])))throw Error("Invalid block size");if(0===xe)break;w+=xe}v.push({x:G,y:K,width:Q,height:W,has_local_palette:Fe,palette_offset:se,palette_size:oe,data_offset:Be,data_length:w-Be,transparent_index:I,interlaced:!!ne,delay:D,disposal:R});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+g[w-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return B},this.frameInfo=function(Ue){if(Ue<0||Ue>=v.length)throw new Error("Frame index out of range.");return v[Ue]},this.decodeAndBlitFrameBGRA=function(Ue,Ve){var Oe=this.frameInfo(Ue),Ge=Oe.width*Oe.height,De=new Uint8Array(Ge);k(g,Oe.data_offset,De,Ge);var lt=Oe.palette_offset,Ke=Oe.transparent_index;null===Ke&&(Ke=256);var ct=Oe.width,ut=S-ct,z=ct,ie=4*(Oe.y*S+Oe.x),fe=4*((Oe.y+Oe.height)*S+Oe.x),Ee=ie,Ne=4*ut;!0===Oe.interlaced&&(Ne+=4*S*7);for(var Ae=8,ft=0,Pe=De.length;ft<Pe;++ft){var tt=De[ft];if(0===z&&(z=ct,fe<=(Ee+=Ne)&&(Ne=4*ut+4*S*(Ae-1),Ee=ie+(ct+ut)*(Ae<<1),Ae>>=1)),tt===Ke)Ee+=4;else{var st=g[lt+3*tt],Ye=g[lt+3*tt+1];Ve[Ee++]=g[lt+3*tt+2],Ve[Ee++]=Ye,Ve[Ee++]=st,Ve[Ee++]=255}--z}},this.decodeAndBlitFrameRGBA=function(Ue,Ve){var Oe=this.frameInfo(Ue),Ge=Oe.width*Oe.height,De=new Uint8Array(Ge);k(g,Oe.data_offset,De,Ge);var lt=Oe.palette_offset,Ke=Oe.transparent_index;null===Ke&&(Ke=256);var ct=Oe.width,ut=S-ct,z=ct,ie=4*(Oe.y*S+Oe.x),fe=4*((Oe.y+Oe.height)*S+Oe.x),Ee=ie,Ne=4*ut;!0===Oe.interlaced&&(Ne+=4*S*7);for(var Ae=8,ft=0,Pe=De.length;ft<Pe;++ft){var tt=De[ft];if(0===z&&(z=ct,fe<=(Ee+=Ne)&&(Ne=4*ut+4*S*(Ae-1),Ee=ie+(ct+ut)*(Ae<<1),Ae>>=1)),tt===Ke)Ee+=4;else{var Ye=g[lt+3*tt+1],Mt=g[lt+3*tt+2];Ve[Ee++]=g[lt+3*tt],Ve[Ee++]=Ye,Ve[Ee++]=Mt,Ve[Ee++]=255}--z}}}}catch(g){}},{}],236:[function(h,te,j){(function(k){!function(w){"use strict";function S(_){if(null==this)throw TypeError();var E=String(this),T=E.length,O=_?Number(_):0;if(O!=O&&(O=0),!(O<0||T<=O)){var U,$=E.charCodeAt(O);return 55296<=$&&$<=56319&&O+1<T&&56320<=(U=E.charCodeAt(O+1))&&U<=57343?1024*($-55296)+U-56320+65536:$}}var M;String.prototype.codePointAt||((M=function(){try{var _={},E=Object.defineProperty,T=E(_,_,_)&&E}catch(O){}return T}())?M(String.prototype,"codePointAt",{value:S,configurable:!0,writable:!0}):String.prototype.codePointAt=S);function u(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function d(_,E){this.source=_,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=E,this.destLen=0,this.ltree=new u,this.dtree=new u}var p=new u,m=new u,v=new Uint8Array(30),D=new Uint16Array(30),I=new Uint8Array(30),R=new Uint16Array(30),B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V=new u,G=new Uint8Array(320);function K(_,E,T,O){var U,$;for(U=0;U<T;++U)_[U]=0;for(U=0;U<30-T;++U)_[U+T]=U/T|0;for($=O,U=0;U<30;++U)E[U]=$,$+=1<<_[U]}var Q=new Uint16Array(16);function W(_,E,T,O){var U,$;for(U=0;U<16;++U)_.table[U]=0;for(U=0;U<O;++U)_.table[E[T+U]]++;for(U=$=_.table[0]=0;U<16;++U)Q[U]=$,$+=_.table[U];for(U=0;U<O;++U)E[T+U]&&(_.trans[Q[E[T+U]]++]=U)}function Z(_){_.bitcount--||(_.tag=_.source[_.sourceIndex++],_.bitcount=7);var E=1&_.tag;return _.tag>>>=1,E}function ne(_,E,T){if(!E)return T;for(;_.bitcount<24;)_.tag|=_.source[_.sourceIndex++]<<_.bitcount,_.bitcount+=8;var O=_.tag&65535>>>16-E;return _.tag>>>=E,_.bitcount-=E,O+T}function X(_,E){for(;_.bitcount<24;)_.tag|=_.source[_.sourceIndex++]<<_.bitcount,_.bitcount+=8;for(var T=0,O=0,U=0,$=_.tag;O=2*O+(1&$),$>>>=1,++U,T+=E.table[U],0<=(O-=E.table[U]););return _.tag=$,_.bitcount-=U,E.trans[T+O]}function se(_,E,T){var O,U,$,re,ce,ye;for(O=ne(_,5,257),U=ne(_,5,1),$=ne(_,4,4),re=0;re<19;++re)G[re]=0;for(re=0;re<$;++re){var Ie=ne(_,3,0);G[B[re]]=Ie}for(W(V,G,0,19),ce=0;ce<O+U;){var et=X(_,V);switch(et){case 16:var dt=G[ce-1];for(ye=ne(_,2,3);ye;--ye)G[ce++]=dt;break;case 17:for(ye=ne(_,3,3);ye;--ye)G[ce++]=0;break;case 18:for(ye=ne(_,7,11);ye;--ye)G[ce++]=0;break;default:G[ce++]=et}}W(E,G,0,O),W(T,G,O,U)}function oe(_,E,T){for(;;){var O,U,$,re,ce=X(_,E);if(256===ce)return 0;if(ce<256)_.dest[_.destLen++]=ce;else for(O=ne(_,v[ce-=257],D[ce]),U=X(_,T),re=$=_.destLen-ne(_,I[U],R[U]);re<$+O;++re)_.dest[_.destLen++]=_.dest[re]}}function Fe(_){for(var E,T;8<_.bitcount;)_.sourceIndex--,_.bitcount-=8;if((E=256*(E=_.source[_.sourceIndex+1])+_.source[_.sourceIndex])!==(65535&~(256*_.source[_.sourceIndex+3]+_.source[_.sourceIndex+2])))return-3;for(_.sourceIndex+=4,T=E;T;--T)_.dest[_.destLen++]=_.source[_.sourceIndex++];return _.bitcount=0,0}(function(_,E){var T;for(T=0;T<7;++T)_.table[T]=0;for(_.table[7]=24,_.table[8]=152,_.table[9]=112,T=0;T<24;++T)_.trans[T]=256+T;for(T=0;T<144;++T)_.trans[24+T]=T;for(T=0;T<8;++T)_.trans[168+T]=280+T;for(T=0;T<112;++T)_.trans[176+T]=144+T;for(T=0;T<5;++T)E.table[T]=0;for(E.table[5]=32,T=0;T<32;++T)E.trans[T]=T})(p,m),K(v,D,4,3),K(I,R,2,1),v[28]=0,D[28]=258;function xe(_,E,T,O,U){return Math.pow(1-U,3)*_+3*Math.pow(1-U,2)*U*E+3*(1-U)*Math.pow(U,2)*T+Math.pow(U,3)*O}function Ue(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Ve(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Oe(_){throw new Error(_)}function Ge(_,E){_||Oe(E)}Ue.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Ue.prototype.addPoint=function(_,E){"number"==typeof _&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=_,this.x2=_),_<this.x1&&(this.x1=_),_>this.x2&&(this.x2=_)),"number"==typeof E&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=E,this.y2=E),E<this.y1&&(this.y1=E),E>this.y2&&(this.y2=E))},Ue.prototype.addX=function(_){this.addPoint(_,null)},Ue.prototype.addY=function(_){this.addPoint(null,_)},Ue.prototype.addBezier=function(_,E,T,O,U,$,re,ce){var ye=[_,E],Ie=[T,O],et=[U,$],dt=[re,ce];this.addPoint(_,E),this.addPoint(re,ce);for(var be=0;be<=1;be++){var hn=6*ye[be]-12*Ie[be]+6*et[be],Xt=-3*ye[be]+9*Ie[be]-9*et[be]+3*dt[be],Lt=3*Ie[be]-3*ye[be];if(0!=Xt){var wt=Math.pow(hn,2)-4*Lt*Xt;if(!(wt<0)){var Ct=(-hn+Math.sqrt(wt))/(2*Xt);0<Ct&&Ct<1&&(0===be&&this.addX(xe(ye[be],Ie[be],et[be],dt[be],Ct)),1===be&&this.addY(xe(ye[be],Ie[be],et[be],dt[be],Ct)));var Rn=(-hn-Math.sqrt(wt))/(2*Xt);0<Rn&&Rn<1&&(0===be&&this.addX(xe(ye[be],Ie[be],et[be],dt[be],Rn)),1===be&&this.addY(xe(ye[be],Ie[be],et[be],dt[be],Rn)))}}else{if(0==hn)continue;var Sn=-Lt/hn;0<Sn&&Sn<1&&(0===be&&this.addX(xe(ye[be],Ie[be],et[be],dt[be],Sn)),1===be&&this.addY(xe(ye[be],Ie[be],et[be],dt[be],Sn)))}}},Ue.prototype.addQuad=function(_,E,T,O,U,$){var re=_+2/3*(T-_),ce=E+2/3*(O-E);this.addBezier(_,E,re,ce,re+1/3*(U-_),ce+1/3*($-E),U,$)},Ve.prototype.moveTo=function(_,E){this.commands.push({type:"M",x:_,y:E})},Ve.prototype.lineTo=function(_,E){this.commands.push({type:"L",x:_,y:E})},Ve.prototype.curveTo=Ve.prototype.bezierCurveTo=function(_,E,T,O,U,$){this.commands.push({type:"C",x1:_,y1:E,x2:T,y2:O,x:U,y:$})},Ve.prototype.quadTo=Ve.prototype.quadraticCurveTo=function(_,E,T,O){this.commands.push({type:"Q",x1:_,y1:E,x:T,y:O})},Ve.prototype.close=Ve.prototype.closePath=function(){this.commands.push({type:"Z"})},Ve.prototype.extend=function(_){if(_.commands)_=_.commands;else if(_ instanceof Ue){var E=_;return this.moveTo(E.x1,E.y1),this.lineTo(E.x2,E.y1),this.lineTo(E.x2,E.y2),this.lineTo(E.x1,E.y2),void this.close()}Array.prototype.push.apply(this.commands,_)},Ve.prototype.getBoundingBox=function(){for(var _=new Ue,E=0,T=0,O=0,U=0,$=0;$<this.commands.length;$++){var re=this.commands[$];switch(re.type){case"M":_.addPoint(re.x,re.y),E=O=re.x,T=U=re.y;break;case"L":_.addPoint(re.x,re.y),O=re.x,U=re.y;break;case"Q":_.addQuad(O,U,re.x1,re.y1,re.x,re.y),O=re.x,U=re.y;break;case"C":_.addBezier(O,U,re.x1,re.y1,re.x2,re.y2,re.x,re.y),O=re.x,U=re.y;break;case"Z":O=E,U=T;break;default:throw new Error("Unexpected path command "+re.type)}}return _.isEmpty()&&_.addPoint(0,0),_},Ve.prototype.draw=function(_){_.beginPath();for(var E=0;E<this.commands.length;E+=1){var T=this.commands[E];"M"===T.type?_.moveTo(T.x,T.y):"L"===T.type?_.lineTo(T.x,T.y):"C"===T.type?_.bezierCurveTo(T.x1,T.y1,T.x2,T.y2,T.x,T.y):"Q"===T.type?_.quadraticCurveTo(T.x1,T.y1,T.x,T.y):"Z"===T.type&&_.closePath()}this.fill&&(_.fillStyle=this.fill,_.fill()),this.stroke&&(_.strokeStyle=this.stroke,_.lineWidth=this.strokeWidth,_.stroke())},Ve.prototype.toPathData=function(_){function E(){for(var $,re=arguments,ce="",ye=0;ye<arguments.length;ye+=1){var Ie=re[ye];0<=Ie&&0<ye&&(ce+=" "),ce+=($=Ie,Math.round($)===$?""+Math.round($):$.toFixed(_))}return ce}_=void 0!==_?_:2;for(var T="",O=0;O<this.commands.length;O+=1){var U=this.commands[O];"M"===U.type?T+="M"+E(U.x,U.y):"L"===U.type?T+="L"+E(U.x,U.y):"C"===U.type?T+="C"+E(U.x1,U.y1,U.x2,U.y2,U.x,U.y):"Q"===U.type?T+="Q"+E(U.x1,U.y1,U.x,U.y):"Z"===U.type&&(T+="Z")}return T},Ve.prototype.toSVG=function(_){var E='<path d="';return E+=this.toPathData(_),E+='"',this.fill&&"black"!==this.fill&&(E+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(E+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),E+"/>"},Ve.prototype.toDOMElement=function(_){var E=this.toPathData(_),T=document.createElementNS("http://www.w3.org/2000/svg","path");return T.setAttribute("d",E),T};var De={fail:Oe,argument:Ge,assert:Ge},lt={},Ke={},ct={};function ut(_){return function(){return _}}Ke.BYTE=function(_){return De.argument(0<=_&&_<=255,"Byte value should be between 0 and 255."),[_]},ct.BYTE=ut(1),Ke.CHAR=function(_){return[_.charCodeAt(0)]},ct.CHAR=ut(1),Ke.CHARARRAY=function(_){for(var E=[],T=0;T<_.length;T+=1)E[T]=_.charCodeAt(T);return E},ct.CHARARRAY=function(_){return _.length},Ke.USHORT=function(_){return[_>>8&255,255&_]},ct.USHORT=ut(2),Ke.SHORT=function(_){return 32768<=_&&(_=-(65536-_)),[_>>8&255,255&_]},ct.SHORT=ut(2),Ke.UINT24=function(_){return[_>>16&255,_>>8&255,255&_]},ct.UINT24=ut(3),Ke.ULONG=function(_){return[_>>24&255,_>>16&255,_>>8&255,255&_]},ct.ULONG=ut(4),Ke.LONG=function(_){return 2147483648<=_&&(_=-(4294967296-_)),[_>>24&255,_>>16&255,_>>8&255,255&_]},ct.LONG=ut(4),Ke.FIXED=Ke.ULONG,ct.FIXED=ct.ULONG,Ke.FWORD=Ke.SHORT,ct.FWORD=ct.SHORT,Ke.UFWORD=Ke.USHORT,ct.UFWORD=ct.USHORT,Ke.LONGDATETIME=function(_){return[0,0,0,0,_>>24&255,_>>16&255,_>>8&255,255&_]},ct.LONGDATETIME=ut(8),Ke.TAG=function(_){return De.argument(4===_.length,"Tag should be exactly 4 ASCII characters."),[_.charCodeAt(0),_.charCodeAt(1),_.charCodeAt(2),_.charCodeAt(3)]},ct.TAG=ut(4),Ke.Card8=Ke.BYTE,ct.Card8=ct.BYTE,Ke.Card16=Ke.USHORT,ct.Card16=ct.USHORT,Ke.OffSize=Ke.BYTE,ct.OffSize=ct.BYTE,Ke.SID=Ke.USHORT,ct.SID=ct.USHORT,Ke.NUMBER=function(_){return-107<=_&&_<=107?[_+139]:108<=_&&_<=1131?[247+((_-=108)>>8),255&_]:-1131<=_&&_<=-108?[251+((_=-_-108)>>8),255&_]:-32768<=_&&_<=32767?Ke.NUMBER16(_):Ke.NUMBER32(_)},ct.NUMBER=function(_){return Ke.NUMBER(_).length},Ke.NUMBER16=function(_){return[28,_>>8&255,255&_]},ct.NUMBER16=ut(3),Ke.NUMBER32=function(_){return[29,_>>24&255,_>>16&255,_>>8&255,255&_]},ct.NUMBER32=ut(5),Ke.REAL=function(_){var E=_.toString(),T=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(E);if(T){var O=parseFloat("1e"+((T[2]?+T[2]:0)+T[1].length));E=(Math.round(_*O)/O).toString()}for(var U="",$=0,re=E.length;$<re;$+=1){var ce=E[$];U+="e"===ce?"-"===E[++$]?"c":"b":"."===ce?"a":"-"===ce?"e":ce}for(var ye=[30],Ie=0,et=(U+=1&U.length?"f":"ff").length;Ie<et;Ie+=2)ye.push(parseInt(U.substr(Ie,2),16));return ye},ct.REAL=function(_){return Ke.REAL(_).length},Ke.NAME=Ke.CHARARRAY,ct.NAME=ct.CHARARRAY,Ke.STRING=Ke.CHARARRAY,ct.STRING=ct.CHARARRAY,lt.UTF8=function(_,E,T){for(var O=[],U=T,$=0;$<U;$++,E+=1)O[$]=_.getUint8(E);return String.fromCharCode.apply(null,O)},lt.UTF16=function(_,E,T){for(var O=[],U=T/2,$=0;$<U;$++,E+=2)O[$]=_.getUint16(E);return String.fromCharCode.apply(null,O)},Ke.UTF16=function(_){for(var E=[],T=0;T<_.length;T+=1){var O=_.charCodeAt(T);E[E.length]=O>>8&255,E[E.length]=255&O}return E},ct.UTF16=function(_){return 2*_.length};var z={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};lt.MACSTRING=function(_,E,T,O){var U=z[O];if(void 0!==U){for(var $="",re=0;re<T;re++){var ce=_.getUint8(E+re);$+=ce<=127?String.fromCharCode(ce):U[127&ce]}return $}};var ie,fe="function"==typeof WeakMap&&new WeakMap;function Ee(_){return-128<=_&&_<=127}function Ne(_,E,T){for(var O=0,U=_.length;E<U&&O<64&&0===_[E];)++E,++O;return T.push(128|O-1),E}function Ae(_,E,T){for(var O=0,U=_.length,$=E;$<U&&O<64;){var re=_[$];if(!Ee(re)||0===re&&$+1<U&&0===_[$+1])break;++$,++O}T.push(O-1);for(var ce=E;ce<$;++ce)T.push(_[ce]+256&255);return $}function ft(_,E,T){for(var O=0,U=_.length,$=E;$<U&&O<64;){var re=_[$];if(0===re||Ee(re)&&$+1<U&&Ee(_[$+1]))break;++$,++O}T.push(64|O-1);for(var ce=E;ce<$;++ce){var ye=_[ce];T.push(ye+65536>>8&255,ye+256&255)}return $}Ke.MACSTRING=function(_,E){var T=function(re){if(!ie)for(var ce in ie={},z)ie[ce]=new String(ce);var ye=ie[re];if(void 0!==ye){if(fe){var Ie=fe.get(ye);if(void 0!==Ie)return Ie}var et=z[re];if(void 0!==et){for(var dt={},be=0;be<et.length;be++)dt[et.charCodeAt(be)]=be+128;return fe&&fe.set(ye,dt),dt}}}(E);if(void 0!==T){for(var O=[],U=0;U<_.length;U++){var $=_.charCodeAt(U);if(128<=$&&void 0===($=T[$]))return;O[U]=$}return O}},ct.MACSTRING=function(_,E){var T=Ke.MACSTRING(_,E);return void 0!==T?T.length:0},Ke.VARDELTAS=function(_){for(var E=0,T=[];E<_.length;){var O=_[E];E=0===O?Ne(_,E,T):-128<=O&&O<=127?Ae(_,E,T):ft(_,E,T)}return T},Ke.INDEX=function(_){for(var E=1,T=[E],O=[],U=0;U<_.length;U+=1){var $=Ke.OBJECT(_[U]);Array.prototype.push.apply(O,$),T.push(E+=$.length)}if(0===O.length)return[0,0];for(var re=[],ce=1+Math.floor(Math.log(E)/Math.log(2))/8|0,ye=[void 0,Ke.BYTE,Ke.USHORT,Ke.UINT24,Ke.ULONG][ce],Ie=0;Ie<T.length;Ie+=1){var et=ye(T[Ie]);Array.prototype.push.apply(re,et)}return Array.prototype.concat(Ke.Card16(_.length),Ke.OffSize(ce),re,O)},ct.INDEX=function(_){return Ke.INDEX(_).length},Ke.DICT=function(_){for(var E=[],T=Object.keys(_),O=T.length,U=0;U<O;U+=1){var $=parseInt(T[U],0),re=_[$];E=(E=E.concat(Ke.OPERAND(re.value,re.type))).concat(Ke.OPERATOR($))}return E},ct.DICT=function(_){return Ke.DICT(_).length},Ke.OPERATOR=function(_){return _<1200?[_]:[12,_-1200]},Ke.OPERAND=function(_,E){var T=[];if(Array.isArray(E))for(var O=0;O<E.length;O+=1)De.argument(_.length===E.length,"Not enough arguments given for type"+E),T=T.concat(Ke.OPERAND(_[O],E[O]));else if("SID"===E)T=T.concat(Ke.NUMBER(_));else if("offset"===E)T=T.concat(Ke.NUMBER32(_));else if("number"===E)T=T.concat(Ke.NUMBER(_));else{if("real"!==E)throw new Error("Unknown operand type "+E);T=T.concat(Ke.REAL(_))}return T},Ke.OP=Ke.BYTE,ct.OP=ct.BYTE;var Pe="function"==typeof WeakMap&&new WeakMap;function tt(_,E,T){for(var O=0;O<E.length;O+=1){var U=E[O];this[U.name]=U.value}if(this.tableName=_,this.fields=E,T)for(var $=Object.keys(T),re=0;re<$.length;re+=1){var ce=$[re];void 0!==this[ce]&&(this[ce]=T[ce])}}function st(_,E,T){void 0===T&&(T=E.length);var O=new Array(E.length+1);O[0]={name:_+"Count",type:"USHORT",value:T};for(var U=0;U<E.length;U++)O[U+1]={name:_+U,type:"USHORT",value:E[U]};return O}function Ye(_,E,T){var O=E.length,U=new Array(O+1);U[0]={name:_+"Count",type:"USHORT",value:O};for(var $=0;$<O;$++)U[$+1]={name:_+$,type:"TABLE",value:T(E[$],$)};return U}function Mt(_,E,T){var O=E.length,U=[];U[0]={name:_+"Count",type:"USHORT",value:O};for(var $=0;$<O;$++)U=U.concat(T(E[$],$));return U}function Et(_){1===_.format?tt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(st("glyph",_.glyphs))):De.assert(!1,"Can't create coverage table format 2 yet.")}function xt(_){tt.call(this,"scriptListTable",Mt("scriptRecord",_,function(E,T){var O=E.script,U=O.defaultLangSys;return De.assert(!!U,"Unable to write GSUB: script "+E.tag+" has no default language system."),[{name:"scriptTag"+T,type:"TAG",value:E.tag},{name:"script"+T,type:"TABLE",value:new tt("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new tt("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:U.reqFeatureIndex}].concat(st("featureIndex",U.featureIndexes)))}].concat(Mt("langSys",O.langSysRecords,function($,re){var ce=$.langSys;return[{name:"langSysTag"+re,type:"TAG",value:$.tag},{name:"langSys"+re,type:"TABLE",value:new tt("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ce.reqFeatureIndex}].concat(st("featureIndex",ce.featureIndexes)))}]})))}]}))}function ln(_){tt.call(this,"featureListTable",Mt("featureRecord",_,function(E,T){var O=E.feature;return[{name:"featureTag"+T,type:"TAG",value:E.tag},{name:"feature"+T,type:"TABLE",value:new tt("featureTable",[{name:"featureParams",type:"USHORT",value:O.featureParams}].concat(st("lookupListIndex",O.lookupListIndexes)))}]}))}function An(_,E){tt.call(this,"lookupListTable",Ye("lookup",_,function(T){var O=E[T.lookupType];return De.assert(!!O,"Unable to write GSUB lookup type "+T.lookupType+" tables."),new tt("lookupTable",[{name:"lookupType",type:"USHORT",value:T.lookupType},{name:"lookupFlag",type:"USHORT",value:T.lookupFlag}].concat(Ye("subtable",T.subtables,O)))}))}Ke.CHARSTRING=function(_){if(Pe){var E=Pe.get(_);if(void 0!==E)return E}for(var T=[],O=_.length,U=0;U<O;U+=1){var $=_[U];T=T.concat(Ke[$.type]($.value))}return Pe&&Pe.set(_,T),T},ct.CHARSTRING=function(_){return Ke.CHARSTRING(_).length},Ke.OBJECT=function(_){var E=Ke[_.type];return De.argument(void 0!==E,"No encoding function for type "+_.type),E(_.value)},ct.OBJECT=function(_){var E=ct[_.type];return De.argument(void 0!==E,"No sizeOf function for type "+_.type),E(_.value)},Ke.TABLE=function(_){for(var E=[],T=_.fields.length,O=[],U=[],$=0;$<T;$+=1){var re=_.fields[$],ce=Ke[re.type];De.argument(void 0!==ce,"No encoding function for field type "+re.type+" ("+re.name+")");var ye=_[re.name];void 0===ye&&(ye=re.value);var Ie=ce(ye);"TABLE"===re.type?(U.push(E.length),E=E.concat([0,0]),O.push(Ie)):E=E.concat(Ie)}for(var et=0;et<O.length;et+=1){var dt=U[et],be=E.length;De.argument(be<65536,"Table "+_.tableName+" too big."),E[dt]=be>>8,E[dt+1]=255&be,E=E.concat(O[et])}return E},ct.TABLE=function(_){for(var E=0,T=_.fields.length,O=0;O<T;O+=1){var U=_.fields[O],$=ct[U.type];De.argument(void 0!==$,"No sizeOf function for field type "+U.type+" ("+U.name+")");var re=_[U.name];void 0===re&&(re=U.value),E+=$(re),"TABLE"===U.type&&(E+=2)}return E},Ke.RECORD=Ke.TABLE,ct.RECORD=ct.TABLE,Ke.LITERAL=function(_){return _},ct.LITERAL=function(_){return _.length},tt.prototype.encode=function(){return Ke.TABLE(this)},tt.prototype.sizeOf=function(){return ct.TABLE(this)};var Ut={Table:tt,Record:tt,Coverage:(Et.prototype=Object.create(tt.prototype)).constructor=Et,ScriptList:(xt.prototype=Object.create(tt.prototype)).constructor=xt,FeatureList:(ln.prototype=Object.create(tt.prototype)).constructor=ln,LookupList:(An.prototype=Object.create(tt.prototype)).constructor=An,ushortList:st,tableList:Ye,recordList:Mt};function Yn(_,E){return _.getUint8(E)}function Kn(_,E){return _.getUint16(E,!1)}function Vt(_,E){return _.getUint32(E,!1)}function Nt(_,E){return _.getInt16(E,!1)+_.getUint16(E+2,!1)/65535}var gn={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function it(_,E){this.data=_,this.offset=E,this.relativeOffset=0}it.prototype.parseByte=function(){var _=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,_},it.prototype.parseChar=function(){var _=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,_},it.prototype.parseCard8=it.prototype.parseByte,it.prototype.parseCard16=it.prototype.parseUShort=function(){var _=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,_},it.prototype.parseSID=it.prototype.parseUShort,it.prototype.parseOffset16=it.prototype.parseUShort,it.prototype.parseShort=function(){var _=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,_},it.prototype.parseF2Dot14=function(){var _=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,_},it.prototype.parseOffset32=it.prototype.parseULong=function(){var _=Vt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_},it.prototype.parseFixed=function(){var _=Nt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_},it.prototype.parseString=function(_){var E=this.data,T=this.offset+this.relativeOffset,O="";this.relativeOffset+=_;for(var U=0;U<_;U++)O+=String.fromCharCode(E.getUint8(T+U));return O},it.prototype.parseTag=function(){return this.parseString(4)},it.prototype.parseLongDateTime=function(){var _=Vt(this.data,this.offset+this.relativeOffset+4);return _-=2082844800,this.relativeOffset+=8,_},it.prototype.parseVersion=function(_){var E=Kn(this.data,this.offset+this.relativeOffset),T=Kn(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===_&&(_=4096),E+T/_/10},it.prototype.skip=function(_,E){void 0===E&&(E=1),this.relativeOffset+=gn[_]*E},it.prototype.parseULongList=function(_){void 0===_&&(_=this.parseULong());for(var E=new Array(_),T=this.data,O=this.offset+this.relativeOffset,U=0;U<_;U++)E[U]=T.getUint32(O),O+=4;return this.relativeOffset+=4*_,E},it.prototype.parseOffset16List=it.prototype.parseUShortList=function(_){void 0===_&&(_=this.parseUShort());for(var E=new Array(_),T=this.data,O=this.offset+this.relativeOffset,U=0;U<_;U++)E[U]=T.getUint16(O),O+=2;return this.relativeOffset+=2*_,E},it.prototype.parseShortList=function(_){for(var E=new Array(_),T=this.data,O=this.offset+this.relativeOffset,U=0;U<_;U++)E[U]=T.getInt16(O),O+=2;return this.relativeOffset+=2*_,E},it.prototype.parseByteList=function(_){for(var E=new Array(_),T=this.data,O=this.offset+this.relativeOffset,U=0;U<_;U++)E[U]=T.getUint8(O++);return this.relativeOffset+=_,E},it.prototype.parseList=function(_,E){E||(E=_,_=this.parseUShort());for(var T=new Array(_),O=0;O<_;O++)T[O]=E.call(this);return T},it.prototype.parseList32=function(_,E){E||(E=_,_=this.parseULong());for(var T=new Array(_),O=0;O<_;O++)T[O]=E.call(this);return T},it.prototype.parseRecordList=function(_,E){E||(E=_,_=this.parseUShort());for(var T=new Array(_),O=Object.keys(E),U=0;U<_;U++){for(var $={},re=0;re<O.length;re++){var ce=O[re];$[ce]=E[ce].call(this)}T[U]=$}return T},it.prototype.parseRecordList32=function(_,E){E||(E=_,_=this.parseULong());for(var T=new Array(_),O=Object.keys(E),U=0;U<_;U++){for(var $={},re=0;re<O.length;re++){var ce=O[re];$[ce]=E[ce].call(this)}T[U]=$}return T},it.prototype.parseStruct=function(_){if("function"==typeof _)return _.call(this);for(var E=Object.keys(_),T={},O=0;O<E.length;O++){var U=E[O];T[U]=_[U].call(this)}return T},it.prototype.parseValueRecord=function(_){if(void 0===_&&(_=this.parseUShort()),0!==_){var E={};return 1&_&&(E.xPlacement=this.parseShort()),2&_&&(E.yPlacement=this.parseShort()),4&_&&(E.xAdvance=this.parseShort()),8&_&&(E.yAdvance=this.parseShort()),16&_&&(E.xPlaDevice=void 0,this.parseShort()),32&_&&(E.yPlaDevice=void 0,this.parseShort()),64&_&&(E.xAdvDevice=void 0,this.parseShort()),128&_&&(E.yAdvDevice=void 0,this.parseShort()),E}},it.prototype.parseValueRecordList=function(){for(var _=this.parseUShort(),E=this.parseUShort(),T=new Array(E),O=0;O<E;O++)T[O]=this.parseValueRecord(_);return T},it.prototype.parsePointer=function(_){var E=this.parseOffset16();if(0<E)return new it(this.data,this.offset+E).parseStruct(_)},it.prototype.parsePointer32=function(_){var E=this.parseOffset32();if(0<E)return new it(this.data,this.offset+E).parseStruct(_)},it.prototype.parseListOfLists=function(_){for(var E=this.parseOffset16List(),T=E.length,O=this.relativeOffset,U=new Array(T),$=0;$<T;$++){var re=E[$];if(0!==re)if(this.relativeOffset=re,_){for(var ce=this.parseOffset16List(),ye=new Array(ce.length),Ie=0;Ie<ce.length;Ie++)this.relativeOffset=re+ce[Ie],ye[Ie]=_.call(this);U[$]=ye}else U[$]=this.parseUShortList();else U[$]=void 0}return this.relativeOffset=O,U},it.prototype.parseCoverage=function(){var _=this.offset+this.relativeOffset,E=this.parseUShort(),T=this.parseUShort();if(1===E)return{format:1,glyphs:this.parseUShortList(T)};if(2!==E)throw new Error("0x"+_.toString(16)+": Coverage format must be 1 or 2.");for(var O=new Array(T),U=0;U<T;U++)O[U]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:O}},it.prototype.parseClassDef=function(){var _=this.offset+this.relativeOffset,E=this.parseUShort();if(1===E)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===E)return{format:2,ranges:this.parseRecordList({start:it.uShort,end:it.uShort,classId:it.uShort})};throw new Error("0x"+_.toString(16)+": ClassDef format must be 1 or 2.")},it.list=function(_,E){return function(){return this.parseList(_,E)}},it.list32=function(_,E){return function(){return this.parseList32(_,E)}},it.recordList=function(_,E){return function(){return this.parseRecordList(_,E)}},it.recordList32=function(_,E){return function(){return this.parseRecordList32(_,E)}},it.pointer=function(_){return function(){return this.parsePointer(_)}},it.pointer32=function(_){return function(){return this.parsePointer32(_)}},it.tag=it.prototype.parseTag,it.byte=it.prototype.parseByte,it.uShort=it.offset16=it.prototype.parseUShort,it.uShortList=it.prototype.parseUShortList,it.uLong=it.offset32=it.prototype.parseULong,it.uLongList=it.prototype.parseULongList,it.struct=it.prototype.parseStruct,it.coverage=it.prototype.parseCoverage,it.classDef=it.prototype.parseClassDef;var yn={reserved:it.uShort,reqFeatureIndex:it.uShort,featureIndexes:it.uShortList};it.prototype.parseScriptList=function(){return this.parsePointer(it.recordList({tag:it.tag,script:it.pointer({defaultLangSys:it.pointer(yn),langSysRecords:it.recordList({tag:it.tag,langSys:it.pointer(yn)})})}))||[]},it.prototype.parseFeatureList=function(){return this.parsePointer(it.recordList({tag:it.tag,feature:it.pointer({featureParams:it.offset16,lookupListIndexes:it.uShortList})}))||[]},it.prototype.parseLookupList=function(_){return this.parsePointer(it.list(it.pointer(function(){var E=this.parseUShort();De.argument(1<=E&&E<=9,"GPOS/GSUB lookup type "+E+" unknown.");var T=this.parseUShort(),O=16&T;return{lookupType:E,lookupFlag:T,subtables:this.parseList(it.pointer(_[E])),markFilteringSet:O?this.parseUShort():void 0}})))||[]},it.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var _=this.parseUShort(),E=this.parseUShort();return De.argument(1===_&&E<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:it.offset32,featureTableSubstitutionOffset:it.offset32})})||[]};var Ht={getByte:Yn,getCard8:Yn,getUShort:Kn,getCard16:Kn,getShort:function(_,E){return _.getInt16(E,!1)},getULong:Vt,getFixed:Nt,getTag:function(_,E){for(var T="",O=E;O<E+4;O+=1)T+=String.fromCharCode(_.getInt8(O));return T},getOffset:function(_,E,T){for(var O=0,U=0;U<T;U+=1)O<<=8,O+=_.getUint8(E+U);return O},getBytes:function(_,E,T){for(var O=[],U=E;U<T;U+=1)O.push(_.getUint8(U));return O},bytesToString:function(_){for(var E="",T=0;T<_.length;T+=1)E+=String.fromCharCode(_[T]);return E},Parser:it},de_parse=function(_,E){var T={};T.version=Ht.getUShort(_,E),De.argument(0===T.version,"cmap table version should be 0."),T.numTables=Ht.getUShort(_,E+2);for(var O=-1,U=T.numTables-1;0<=U;--U){var $=Ht.getUShort(_,E+4+8*U),re=Ht.getUShort(_,E+4+8*U+2);if(3===$&&(0===re||1===re||10===re)||0===$&&(0===re||1===re||2===re||3===re||4===re)){O=Ht.getULong(_,E+4+8*U+4);break}}if(-1===O)throw new Error("No valid cmap sub-tables found.");var ce=new Ht.Parser(_,E+O);if(T.format=ce.parseUShort(),12===T.format)!function(ye,Ie){var et;Ie.parseUShort(),ye.length=Ie.parseULong(),ye.language=Ie.parseULong(),ye.groupCount=et=Ie.parseULong(),ye.glyphIndexMap={};for(var dt=0;dt<et;dt+=1)for(var be=Ie.parseULong(),hn=Ie.parseULong(),Xt=Ie.parseULong(),Lt=be;Lt<=hn;Lt+=1)ye.glyphIndexMap[Lt]=Xt,Xt++}(T,ce);else{if(4!==T.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+T.format+").");!function(ye,Ie,et,dt,be){var hn;ye.length=Ie.parseUShort(),ye.language=Ie.parseUShort(),ye.segCount=hn=Ie.parseUShort()>>1,Ie.skip("uShort",3),ye.glyphIndexMap={};for(var Xt=new Ht.Parser(et,dt+be+14),Lt=new Ht.Parser(et,dt+be+16+2*hn),wt=new Ht.Parser(et,dt+be+16+4*hn),Ct=new Ht.Parser(et,dt+be+16+6*hn),Rn=dt+be+16+8*hn,Sn=0;Sn<hn-1;Sn+=1)for(var li=void 0,_n=Xt.parseUShort(),Zn=Lt.parseUShort(),Nr=wt.parseShort(),yi=Ct.parseUShort(),di=Zn;di<=_n;di+=1)0!==yi?(Rn=Ct.offset+Ct.relativeOffset-2,Rn+=yi,0!==(li=Ht.getUShort(et,Rn+=2*(di-Zn)))&&(li=li+Nr&65535)):li=di+Nr&65535,ye.glyphIndexMap[di]=li}(T,ce,_,E,O)}return T},de_make=function(_){var E,T=!0;for(E=_.length-1;0<E;--E)if(65535<_.get(E).unicode){console.log("Adding CMAP format 12 (needed!)"),T=!1;break}var O=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:T?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:T?12:20}];T||(O=O.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),O=O.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var $,re,ce=new Ut.Table("cmap",O);for(ce.segments=[],E=0;E<_.length;E+=1){for(var ye=_.get(E),Ie=0;Ie<ye.unicodes.length;Ie+=1)ce.segments.push({end:$=ye.unicodes[Ie],start:$,delta:-($-(re=E)),offset:0,glyphIndex:re});ce.segments=ce.segments.sort(function(li,_n){return li.start-_n.start})}ce.segments.push({end:65535,start:65535,delta:1,offset:0});var et=ce.segments.length,dt=0,be=[],hn=[],Xt=[],Lt=[],wt=[],Ct=[];for(E=0;E<et;E+=1){var Rn=ce.segments[E];Rn.end<=65535&&Rn.start<=65535?(be=be.concat({name:"end_"+E,type:"USHORT",value:Rn.end}),hn=hn.concat({name:"start_"+E,type:"USHORT",value:Rn.start}),Xt=Xt.concat({name:"idDelta_"+E,type:"SHORT",value:Rn.delta}),Lt=Lt.concat({name:"idRangeOffset_"+E,type:"USHORT",value:Rn.offset}),void 0!==Rn.glyphId&&(wt=wt.concat({name:"glyph_"+E,type:"USHORT",value:Rn.glyphId}))):dt+=1,T||void 0===Rn.glyphIndex||(Ct=(Ct=(Ct=Ct.concat({name:"cmap12Start_"+E,type:"ULONG",value:Rn.start})).concat({name:"cmap12End_"+E,type:"ULONG",value:Rn.end})).concat({name:"cmap12Glyph_"+E,type:"ULONG",value:Rn.glyphIndex}))}if(ce.segCountX2=2*(et-dt),ce.searchRange=2*Math.pow(2,Math.floor(Math.log(et-dt)/Math.log(2))),ce.entrySelector=Math.log(ce.searchRange/2)/Math.log(2),ce.rangeShift=ce.segCountX2-ce.searchRange,ce.fields=ce.fields.concat(be),ce.fields.push({name:"reservedPad",type:"USHORT",value:0}),ce.fields=ce.fields.concat(hn),ce.fields=ce.fields.concat(Xt),ce.fields=ce.fields.concat(Lt),ce.fields=ce.fields.concat(wt),ce.cmap4Length=14+2*be.length+2+2*hn.length+2*Xt.length+2*Lt.length+2*wt.length,!T){var Sn=16+4*Ct.length;ce.cmap12Offset=20+ce.cmap4Length,ce.fields=ce.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Sn},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ct.length/3}]),ce.fields=ce.fields.concat(Ct)}return ce},_e=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],le=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ve=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ze=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function pt(_){this.font=_}function Dt(_){this.cmap=_}function Gt(_,E){this.encoding=_,this.charset=E}function nt(_){switch(_.version){case 1:this.names=ze.slice();break;case 2:this.names=new Array(_.numberOfGlyphs);for(var E=0;E<_.numberOfGlyphs;E++)this.names[E]=_.glyphNameIndex[E]<ze.length?ze[_.glyphNameIndex[E]]:_.names[_.glyphNameIndex[E]-ze.length];break;case 2.5:this.names=new Array(_.numberOfGlyphs);for(var T=0;T<_.numberOfGlyphs;T++)this.names[T]=ze[T+_.glyphNameIndex[T]];break;default:this.names=[]}}pt.prototype.charToGlyphIndex=function(_){var E=_.codePointAt(0),T=this.font.glyphs;if(T)for(var O=0;O<T.length;O+=1)for(var U=T.get(O),$=0;$<U.unicodes.length;$+=1)if(U.unicodes[$]===E)return O;return null},Dt.prototype.charToGlyphIndex=function(_){return this.cmap.glyphIndexMap[_.codePointAt(0)]||0},Gt.prototype.charToGlyphIndex=function(_){var E=_.codePointAt(0);return this.charset.indexOf(this.encoding[E])},nt.prototype.nameToGlyphIndex=function(_){return this.names.indexOf(_)},nt.prototype.glyphIndexToName=function(_){return this.names[_]};var dn_line=function(_,E,T,O,U){_.beginPath(),_.moveTo(E,T),_.lineTo(O,U),_.stroke()};function Ln(_){this.bindConstructorValues(_)}function mi(_,E,T){Object.defineProperty(_,E,{get:function(){return _[T]},set:function(O){_[T]=O},enumerable:!0,configurable:!0})}function zn(_,E){if(this.font=_,this.glyphs={},Array.isArray(E))for(var T=0;T<E.length;T++)this.glyphs[T]=E[T];this.length=E&&E.length||0}Ln.prototype.bindConstructorValues=function(_){var T;this.index=_.index||0,this.name=_.name||null,this.unicode=_.unicode||void 0,this.unicodes=_.unicodes||void 0!==_.unicode?[_.unicode]:[],_.xMin&&(this.xMin=_.xMin),_.yMin&&(this.yMin=_.yMin),_.xMax&&(this.xMax=_.xMax),_.yMax&&(this.yMax=_.yMax),_.advanceWidth&&(this.advanceWidth=_.advanceWidth),Object.defineProperty(this,"path",(T=_.path||new Ve,{configurable:!0,get:function(){return"function"==typeof T&&(T=T()),T},set:function(O){T=O}}))},Ln.prototype.addUnicode=function(_){0===this.unicodes.length&&(this.unicode=_),this.unicodes.push(_)},Ln.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Ln.prototype.getPath=function(_,E,T,O,U){var $,re;_=void 0!==_?_:0,E=void 0!==E?E:0,T=void 0!==T?T:72;var ce=(O=O||{}).xScale,ye=O.yScale;if(O.hinting&&U&&U.hinting&&(re=this.path&&U.hinting.exec(this,T)),re)$=U.hinting.getCommands(re),_=Math.round(_),E=Math.round(E),ce=ye=1;else{$=this.path.commands;var Ie=1/this.path.unitsPerEm*T;void 0===ce&&(ce=Ie),void 0===ye&&(ye=Ie)}for(var et=new Ve,dt=0;dt<$.length;dt+=1){var be=$[dt];"M"===be.type?et.moveTo(_+be.x*ce,E+-be.y*ye):"L"===be.type?et.lineTo(_+be.x*ce,E+-be.y*ye):"Q"===be.type?et.quadraticCurveTo(_+be.x1*ce,E+-be.y1*ye,_+be.x*ce,E+-be.y*ye):"C"===be.type?et.curveTo(_+be.x1*ce,E+-be.y1*ye,_+be.x2*ce,E+-be.y2*ye,_+be.x*ce,E+-be.y*ye):"Z"===be.type&&et.closePath()}return et},Ln.prototype.getContours=function(){if(void 0===this.points)return[];for(var _=[],E=[],T=0;T<this.points.length;T+=1){var O=this.points[T];E.push(O),O.lastPointOfContour&&(_.push(E),E=[])}return De.argument(0===E.length,"There are still points left in the current contour."),_},Ln.prototype.getMetrics=function(){for(var _=this.path.commands,E=[],T=[],O=0;O<_.length;O+=1){var U=_[O];"Z"!==U.type&&(E.push(U.x),T.push(U.y)),"Q"!==U.type&&"C"!==U.type||(E.push(U.x1),T.push(U.y1)),"C"===U.type&&(E.push(U.x2),T.push(U.y2))}var $={xMin:Math.min.apply(null,E),yMin:Math.min.apply(null,T),xMax:Math.max.apply(null,E),yMax:Math.max.apply(null,T),leftSideBearing:this.leftSideBearing};return isFinite($.xMin)||($.xMin=0),isFinite($.xMax)||($.xMax=this.advanceWidth),isFinite($.yMin)||($.yMin=0),isFinite($.yMax)||($.yMax=0),$.rightSideBearing=this.advanceWidth-$.leftSideBearing-($.xMax-$.xMin),$},Ln.prototype.draw=function(_,E,T,O,U){this.getPath(E,T,O,U).draw(_)},Ln.prototype.drawPoints=function(_,E,T,O){function U(dt,be,hn,Xt){var Lt=2*Math.PI;_.beginPath();for(var wt=0;wt<dt.length;wt+=1)_.moveTo(be+dt[wt].x*Xt,hn+dt[wt].y*Xt),_.arc(be+dt[wt].x*Xt,hn+dt[wt].y*Xt,2,0,Lt,!1);_.closePath(),_.fill()}E=void 0!==E?E:0,T=void 0!==T?T:0;for(var $=1/this.path.unitsPerEm*(O=void 0!==O?O:24),re=[],ce=[],ye=this.path,Ie=0;Ie<ye.commands.length;Ie+=1){var et=ye.commands[Ie];void 0!==et.x&&re.push({x:et.x,y:-et.y}),void 0!==et.x1&&ce.push({x:et.x1,y:-et.y1}),void 0!==et.x2&&ce.push({x:et.x2,y:-et.y2})}_.fillStyle="blue",U(re,E,T,$),_.fillStyle="red",U(ce,E,T,$)},Ln.prototype.drawMetrics=function(_,E,T,O){var U;E=void 0!==E?E:0,T=void 0!==T?T:0,U=1/this.path.unitsPerEm*(O=void 0!==O?O:24),_.lineWidth=1,_.strokeStyle="black",dn_line(_,E,-1e4,E,1e4),dn_line(_,-1e4,T,1e4,T);var $=this.xMin||0,re=this.yMin||0,ce=this.xMax||0,ye=this.yMax||0,Ie=this.advanceWidth||0;_.strokeStyle="blue",dn_line(_,E+$*U,-1e4,E+$*U,1e4),dn_line(_,E+ce*U,-1e4,E+ce*U,1e4),dn_line(_,-1e4,T+-re*U,1e4,T+-re*U),dn_line(_,-1e4,T+-ye*U,1e4,T+-ye*U),_.strokeStyle="green",dn_line(_,E+Ie*U,-1e4,E+Ie*U,1e4)},zn.prototype.get=function(_){return"function"==typeof this.glyphs[_]&&(this.glyphs[_]=this.glyphs[_]()),this.glyphs[_]},zn.prototype.push=function(_,E){this.glyphs[_]=E,this.length++};var $n={GlyphSet:zn,glyphLoader:function(_,E){return new Ln({index:E,font:_})},ttfGlyphLoader:function(_,E,T,O,U,$){return function(){var re=new Ln({index:E,font:_});return re.path=function(){T(re,O,U);var ce=$(_.glyphs,re);return ce.unitsPerEm=_.unitsPerEm,ce},mi(re,"xMin","_xMin"),mi(re,"xMax","_xMax"),mi(re,"yMin","_yMin"),mi(re,"yMax","_yMax"),re}},cffGlyphLoader:function(_,E,T,O){return function(){var U=new Ln({index:E,font:_});return U.path=function(){var $=T(_,U,O);return $.unitsPerEm=_.unitsPerEm,$},U}}};function ui(_,E){if(_===E)return!0;if(Array.isArray(_)&&Array.isArray(E)){if(_.length!==E.length)return!1;for(var T=0;T<_.length;T+=1)if(!ui(_[T],E[T]))return!1;return!0}return!1}function Gi(_){return _.length<1240?107:_.length<33900?1131:32768}function Qs(_,E,T){var O,U,$=[],re=[],ce=Ht.getCard16(_,E);if(0!==ce){var ye=Ht.getByte(_,E+2);O=E+(ce+1)*ye+2;for(var Ie=E+3,et=0;et<ce+1;et+=1)$.push(Ht.getOffset(_,Ie,ye)),Ie+=ye;U=O+$[ce]}else U=E+2;for(var dt=0;dt<$.length-1;dt+=1){var be=Ht.getBytes(_,O+$[dt],O+$[dt+1]);T&&(be=T(be)),re.push(be)}return{objects:re,startOffset:E,endOffset:U}}function ja(_,E){if(28===E)return _.parseByte()<<8|_.parseByte();if(29===E)return _.parseByte()<<24|_.parseByte()<<16|_.parseByte()<<8|_.parseByte();if(30===E)return function(T){for(var O="",U=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var $=T.parseByte(),re=$>>4,ce=15&$;if(15==re||(O+=U[re],15==ce))break;O+=U[ce]}return parseFloat(O)}(_);if(32<=E&&E<=246)return E-139;if(247<=E&&E<=250)return 256*(E-247)+_.parseByte()+108;if(251<=E&&E<=254)return 256*-(E-251)-_.parseByte()-108;throw new Error("Invalid b0 "+E)}function ml(_,E,T){var O=new Ht.Parser(_,E=void 0!==E?E:0),U=[],$=[];for(T=void 0!==T?T:_.length;O.relativeOffset<T;){var re=O.parseByte();re<=21?(12===re&&(re=1200+O.parseByte()),U.push([re,$]),$=[]):$.push(ja(O,re))}return function(ce){for(var ye={},Ie=0;Ie<ce.length;Ie+=1){var be,et=ce[Ie][0],dt=ce[Ie][1];if(be=1===dt.length?dt[0]:dt,ye.hasOwnProperty(et)&&!isNaN(ye[et]))throw new Error("Object "+ye+" already has key "+et);ye[et]=be}return ye}(U)}function No(_,E){return E<=390?_e[E]:_[E-391]}function Js(_,E,T){for(var O,U={},$=0;$<E.length;$+=1){var re=E[$];if(Array.isArray(re.type)){var ce=[];ce.length=re.type.length;for(var ye=0;ye<re.type.length;ye++)void 0===(O=void 0!==_[re.op]?_[re.op][ye]:void 0)&&(O=void 0!==re.value&&void 0!==re.value[ye]?re.value[ye]:null),"SID"===re.type[ye]&&(O=No(T,O)),ce[ye]=O;U[re.name]=ce}else void 0===(O=_[re.op])&&(O=void 0!==re.value?re.value:null),"SID"===re.type&&(O=No(T,O)),U[re.name]=O}return U}var Kl=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Sr=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Xo(_,E,T,O){return Js(ml(_,E,T),Sr,O)}function Bs(_,E,T,O){for(var U,$,re=[],ce=0;ce<T.length;ce+=1){var Ie=($=O,Js(ml(U=new DataView(new Uint8Array(T[ce]).buffer),0,U.byteLength),Kl,$));Ie._subrs=[],Ie._subrsBias=0;var et=Ie.private[0],dt=Ie.private[1];if(0!==et&&0!==dt){var be=Xo(_,dt+E,et,O);if(Ie._defaultWidthX=be.defaultWidthX,Ie._nominalWidthX=be.nominalWidthX,0!==be.subrs){var hn=Qs(_,dt+be.subrs+E);Ie._subrs=hn.objects,Ie._subrsBias=Gi(Ie._subrs)}Ie._privateDict=be}re.push(Ie)}return re}function Hu(_,E,T){var O,U,$,re,ce,ye,Ie,et,dt=new Ve,be=[],hn=0,Xt=!1,Lt=!1,wt=0,Ct=0;if(_.isCIDFont){var Sn=_.tables.cff.topDict._fdArray[_.tables.cff.topDict._fdSelect[E.index]];ce=Sn._subrs,ye=Sn._subrsBias,Ie=Sn._defaultWidthX,et=Sn._nominalWidthX}else ce=_.tables.cff.topDict._subrs,ye=_.tables.cff.topDict._subrsBias,Ie=_.tables.cff.topDict._defaultWidthX,et=_.tables.cff.topDict._nominalWidthX;var li=Ie;function _n(Nr,yi){Lt&&dt.closePath(),dt.moveTo(Nr,yi),Lt=!0}function Zn(){be.length%2==0||Xt||(li=be.shift()+et),hn+=be.length>>1,be.length=0,Xt=!0}return function Nr(yi){for(var di,Oi,Ki,Yi,zi,or,ar,kr,hr,Qr,Qi,is,Tr=0;Tr<yi.length;){var Pr=yi[Tr];switch(Tr+=1,Pr){case 1:case 3:case 18:case 23:Zn();break;case 4:1<be.length&&!Xt&&(li=be.shift()+et,Xt=!0),Ct+=be.pop(),_n(wt,Ct);break;case 5:for(;0<be.length;)wt+=be.shift(),Ct+=be.shift(),dt.lineTo(wt,Ct);break;case 6:for(;0<be.length&&(wt+=be.shift(),dt.lineTo(wt,Ct),0!==be.length);)Ct+=be.shift(),dt.lineTo(wt,Ct);break;case 7:for(;0<be.length&&(Ct+=be.shift(),dt.lineTo(wt,Ct),0!==be.length);)wt+=be.shift(),dt.lineTo(wt,Ct);break;case 8:for(;0<be.length;)O=wt+be.shift(),U=Ct+be.shift(),$=O+be.shift(),re=U+be.shift(),wt=$+be.shift(),Ct=re+be.shift(),dt.curveTo(O,U,$,re,wt,Ct);break;case 10:zi=be.pop()+ye,(or=ce[zi])&&Nr(or);break;case 11:return;case 12:switch(Pr=yi[Tr],Tr+=1,Pr){case 35:O=wt+be.shift(),U=Ct+be.shift(),$=O+be.shift(),re=U+be.shift(),ar=$+be.shift(),kr=re+be.shift(),hr=ar+be.shift(),Qr=kr+be.shift(),Qi=hr+be.shift(),is=Qr+be.shift(),wt=Qi+be.shift(),Ct=is+be.shift(),be.shift(),dt.curveTo(O,U,$,re,ar,kr),dt.curveTo(hr,Qr,Qi,is,wt,Ct);break;case 34:O=wt+be.shift(),U=Ct,$=O+be.shift(),re=U+be.shift(),ar=$+be.shift(),kr=re,hr=ar+be.shift(),Qr=re,Qi=hr+be.shift(),is=Ct,wt=Qi+be.shift(),dt.curveTo(O,U,$,re,ar,kr),dt.curveTo(hr,Qr,Qi,is,wt,Ct);break;case 36:O=wt+be.shift(),U=Ct+be.shift(),$=O+be.shift(),re=U+be.shift(),ar=$+be.shift(),kr=re,hr=ar+be.shift(),Qr=re,Qi=hr+be.shift(),is=Qr+be.shift(),wt=Qi+be.shift(),dt.curveTo(O,U,$,re,ar,kr),dt.curveTo(hr,Qr,Qi,is,wt,Ct);break;case 37:O=wt+be.shift(),U=Ct+be.shift(),$=O+be.shift(),re=U+be.shift(),ar=$+be.shift(),kr=re+be.shift(),hr=ar+be.shift(),Qr=kr+be.shift(),Qi=hr+be.shift(),is=Qr+be.shift(),Math.abs(Qi-wt)>Math.abs(is-Ct)?wt=Qi+be.shift():Ct=is+be.shift(),dt.curveTo(O,U,$,re,ar,kr),dt.curveTo(hr,Qr,Qi,is,wt,Ct);break;default:console.log("Glyph "+E.index+": unknown operator 1200"+Pr),be.length=0}break;case 14:0<be.length&&!Xt&&(li=be.shift()+et,Xt=!0),Lt&&(dt.closePath(),Lt=!1);break;case 19:case 20:Zn(),Tr+=hn+7>>3;break;case 21:2<be.length&&!Xt&&(li=be.shift()+et,Xt=!0),Ct+=be.pop(),_n(wt+=be.pop(),Ct);break;case 22:1<be.length&&!Xt&&(li=be.shift()+et,Xt=!0),_n(wt+=be.pop(),Ct);break;case 24:for(;2<be.length;)O=wt+be.shift(),U=Ct+be.shift(),$=O+be.shift(),re=U+be.shift(),wt=$+be.shift(),Ct=re+be.shift(),dt.curveTo(O,U,$,re,wt,Ct);wt+=be.shift(),Ct+=be.shift(),dt.lineTo(wt,Ct);break;case 25:for(;6<be.length;)wt+=be.shift(),Ct+=be.shift(),dt.lineTo(wt,Ct);O=wt+be.shift(),U=Ct+be.shift(),$=O+be.shift(),re=U+be.shift(),wt=$+be.shift(),Ct=re+be.shift(),dt.curveTo(O,U,$,re,wt,Ct);break;case 26:for(be.length%2&&(wt+=be.shift());0<be.length;)O=wt,U=Ct+be.shift(),$=O+be.shift(),re=U+be.shift(),wt=$,Ct=re+be.shift(),dt.curveTo(O,U,$,re,wt,Ct);break;case 27:for(be.length%2&&(Ct+=be.shift());0<be.length;)O=wt+be.shift(),U=Ct,$=O+be.shift(),re=U+be.shift(),wt=$+be.shift(),dt.curveTo(O,U,$,re,wt,Ct=re);break;case 28:be.push(((di=yi[Tr])<<24|(Oi=yi[Tr+1])<<16)>>16),Tr+=2;break;case 29:zi=be.pop()+_.gsubrsBias,(or=_.gsubrs[zi])&&Nr(or);break;case 30:for(;0<be.length&&(O=wt,U=Ct+be.shift(),$=O+be.shift(),re=U+be.shift(),wt=$+be.shift(),Ct=re+(1===be.length?be.shift():0),dt.curveTo(O,U,$,re,wt,Ct),0!==be.length);)O=wt+be.shift(),U=Ct,$=O+be.shift(),re=U+be.shift(),Ct=re+be.shift(),wt=$+(1===be.length?be.shift():0),dt.curveTo(O,U,$,re,wt,Ct);break;case 31:for(;0<be.length&&(O=wt+be.shift(),U=Ct,$=O+be.shift(),re=U+be.shift(),Ct=re+be.shift(),wt=$+(1===be.length?be.shift():0),dt.curveTo(O,U,$,re,wt,Ct),0!==be.length);)O=wt,U=Ct+be.shift(),$=O+be.shift(),re=U+be.shift(),wt=$+be.shift(),Ct=re+(1===be.length?be.shift():0),dt.curveTo(O,U,$,re,wt,Ct);break;default:Pr<32?console.log("Glyph "+E.index+": unknown operator "+Pr):Pr<247?be.push(Pr-139):Pr<251?(di=yi[Tr],Tr+=1,be.push(256*(Pr-247)+di+108)):Pr<255?(di=yi[Tr],Tr+=1,be.push(256*-(Pr-251)-di-108)):(di=yi[Tr],Oi=yi[Tr+1],Ki=yi[Tr+2],Yi=yi[Tr+3],Tr+=4,be.push((di<<24|Oi<<16|Ki<<8|Yi)/65536))}}}(T),E.advanceWidth=li,dt}function Ql(_,E){var T,O=_e.indexOf(_);return 0<=O&&(T=O),0<=(O=E.indexOf(_))?T=O+_e.length:(T=_e.length+E.length,E.push(_)),T}function Va(_,E,T){for(var O={},U=0;U<_.length;U+=1){var $=_[U],re=E[$.name];void 0===re||ui(re,$.value)||("SID"===$.type&&(re=Ql(re,T)),O[$.op]={name:$.name,type:$.type,value:re})}return O}function ba(_,E){var T=new Ut.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return T.dict=Va(Kl,_,E),T}function We(_){var E=new Ut.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return E.topDicts=[{name:"topDict_0",type:"TABLE",value:_}],E}function Bt(_){var E=[],T=_.path;E.push({name:"width",type:"NUMBER",value:_.advanceWidth});for(var O=0,U=0,$=0;$<T.commands.length;$+=1){var re=void 0,ce=void 0,ye=T.commands[$];if("Q"===ye.type&&(ye={type:"C",x:ye.x,y:ye.y,x1:1/3*O+2/3*ye.x1,y1:1/3*U+2/3*ye.y1,x2:1/3*ye.x+2/3*ye.x1,y2:1/3*ye.y+2/3*ye.y1}),"M"===ye.type)re=Math.round(ye.x-O),ce=Math.round(ye.y-U),E.push({name:"dx",type:"NUMBER",value:re}),E.push({name:"dy",type:"NUMBER",value:ce}),E.push({name:"rmoveto",type:"OP",value:21}),O=Math.round(ye.x),U=Math.round(ye.y);else if("L"===ye.type)re=Math.round(ye.x-O),ce=Math.round(ye.y-U),E.push({name:"dx",type:"NUMBER",value:re}),E.push({name:"dy",type:"NUMBER",value:ce}),E.push({name:"rlineto",type:"OP",value:5}),O=Math.round(ye.x),U=Math.round(ye.y);else if("C"===ye.type){var Ie=Math.round(ye.x1-O),et=Math.round(ye.y1-U),dt=Math.round(ye.x2-ye.x1),be=Math.round(ye.y2-ye.y1);re=Math.round(ye.x-ye.x2),ce=Math.round(ye.y-ye.y2),E.push({name:"dx1",type:"NUMBER",value:Ie}),E.push({name:"dy1",type:"NUMBER",value:et}),E.push({name:"dx2",type:"NUMBER",value:dt}),E.push({name:"dy2",type:"NUMBER",value:be}),E.push({name:"dx",type:"NUMBER",value:re}),E.push({name:"dy",type:"NUMBER",value:ce}),E.push({name:"rrcurveto",type:"OP",value:8}),O=Math.round(ye.x),U=Math.round(ye.y)}}return E.push({name:"endchar",type:"OP",value:14}),E}var fn_parse=function(_,E,T){T.tables.cff={};var O,U,$,re=Qs(_,(O=_,U=E,($={}).formatMajor=Ht.getCard8(O,U),$.formatMinor=Ht.getCard8(O,U+1),$.size=Ht.getCard8(O,U+2),$.offsetSize=Ht.getCard8(O,U+3),$.startOffset=U,$.endOffset=U+4,$).endOffset,Ht.bytesToString),ce=Qs(_,re.endOffset),ye=Qs(_,ce.endOffset,Ht.bytesToString),Ie=Qs(_,ye.endOffset);T.gsubrs=Ie.objects,T.gsubrsBias=Gi(T.gsubrs);var et=Bs(_,E,ce.objects,ye.objects);if(1!==et.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+et.length);var dt=et[0];if((T.tables.cff.topDict=dt)._privateDict&&(T.defaultWidthX=dt._privateDict.defaultWidthX,T.nominalWidthX=dt._privateDict.nominalWidthX),void 0!==dt.ros[0]&&void 0!==dt.ros[1]&&(T.isCIDFont=!0),T.isCIDFont){var be=dt.fdArray,hn=dt.fdSelect;if(0===be||0===hn)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var Xt=Bs(_,E,Qs(_,be+=E).objects,ye.objects);dt._fdArray=Xt,dt._fdSelect=function(Zn,Nr,yi,di){var Oi,Ki=[],Yi=new Ht.Parser(Zn,Nr),zi=Yi.parseCard8();if(0===zi)for(var or=0;or<yi;or++){if(di<=(Oi=Yi.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Oi+" (FD count "+di+")");Ki.push(Oi)}else{if(3!==zi)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+zi);var ar,kr=Yi.parseCard16(),hr=Yi.parseCard16();if(0!==hr)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+hr);for(var Qr=0;Qr<kr;Qr++){if(Oi=Yi.parseCard8(),ar=Yi.parseCard16(),di<=Oi)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Oi+" (FD count "+di+")");if(yi<ar)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+ar);for(;hr<ar;hr++)Ki.push(Oi);hr=ar}if(ar!==yi)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+ar)}return Ki}(_,hn+=E,T.numGlyphs,Xt.length)}var Lt=E+dt.private[1],wt=Xo(_,Lt,dt.private[0],ye.objects);if(T.defaultWidthX=wt.defaultWidthX,T.nominalWidthX=wt.nominalWidthX,0!==wt.subrs){var Ct=Qs(_,Lt+wt.subrs);T.subrs=Ct.objects,T.subrsBias=Gi(T.subrs)}else T.subrs=[],T.subrsBias=0;var Rn=Qs(_,E+dt.charStrings);T.nGlyphs=Rn.objects.length;var Sn=function(Zn,Nr,yi,di){var Oi,Ki,Yi=new Ht.Parser(Zn,Nr);--yi;var zi=[".notdef"],or=Yi.parseCard8();if(0===or)for(var ar=0;ar<yi;ar+=1)Oi=Yi.parseSID(),zi.push(No(di,Oi));else if(1===or)for(;zi.length<=yi;){Oi=Yi.parseSID(),Ki=Yi.parseCard8();for(var kr=0;kr<=Ki;kr+=1)zi.push(No(di,Oi)),Oi+=1}else{if(2!==or)throw new Error("Unknown charset format "+or);for(;zi.length<=yi;){Oi=Yi.parseSID(),Ki=Yi.parseCard16();for(var hr=0;hr<=Ki;hr+=1)zi.push(No(di,Oi)),Oi+=1}}return zi}(_,E+dt.charset,T.nGlyphs,ye.objects);T.cffEncoding=0===dt.encoding?new Gt(le,Sn):1===dt.encoding?new Gt(ve,Sn):function(Zn,Nr,yi){var di,Oi={},Ki=new Ht.Parser(Zn,Nr),Yi=Ki.parseCard8();if(0===Yi)for(var zi=Ki.parseCard8(),or=0;or<zi;or+=1)Oi[di=Ki.parseCard8()]=or;else{if(1!==Yi)throw new Error("Unknown encoding format "+Yi);var ar=Ki.parseCard8();di=1;for(var kr=0;kr<ar;kr+=1)for(var hr=Ki.parseCard8(),Qr=Ki.parseCard8(),Qi=hr;Qi<=hr+Qr;Qi+=1)Oi[Qi]=di,di+=1}return new Gt(Oi,yi)}(_,E+dt.encoding,Sn),T.encoding=T.encoding||T.cffEncoding,T.glyphs=new $n.GlyphSet(T);for(var li=0;li<T.nGlyphs;li+=1)T.glyphs.push(li,$n.cffGlyphLoader(T,li,Hu,Rn.objects[li]))},fn_make=function(_,E){for(var T,O=new Ut.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),U=1/E.unitsPerEm,$={version:E.version,fullName:E.fullName,familyName:E.familyName,weight:E.weightName,fontBBox:E.fontBBox||[0,0,0,0],fontMatrix:[U,0,0,U,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},re=[],ce=1;ce<_.length;ce+=1)T=_.get(ce),re.push(T.name);var ye=[];O.header=new Ut.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),O.nameIndex=function(Xt){var Lt=new Ut.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Lt.names=[];for(var wt=0;wt<Xt.length;wt+=1)Lt.names.push({name:"name_"+wt,type:"NAME",value:Xt[wt]});return Lt}([E.postScriptName]);var Ie,et,dt,be=ba($,ye);O.topDictIndex=We(be),O.globalSubrIndex=new Ut.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),O.charsets=function(Xt,Lt){for(var wt=new Ut.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ct=0;Ct<Xt.length;Ct+=1){var Rn=Ql(Xt[Ct],Lt);wt.fields.push({name:"glyph_"+Ct,type:"SID",value:Rn})}return wt}(re,ye),O.charStringsIndex=function(Xt){for(var Lt=new Ut.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),wt=0;wt<Xt.length;wt+=1){var Ct=Xt.get(wt),Rn=Bt(Ct);Lt.charStrings.push({name:Ct.name,type:"CHARSTRING",value:Rn})}return Lt}(_),O.privateDict=(Ie={},et=ye,(dt=new Ut.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Va(Sr,Ie,et),dt),O.stringIndex=function(Xt){var Lt=new Ut.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Lt.strings=[];for(var wt=0;wt<Xt.length;wt+=1)Lt.strings.push({name:"string_"+wt,type:"STRING",value:Xt[wt]});return Lt}(ye);var hn=O.header.sizeOf()+O.nameIndex.sizeOf()+O.topDictIndex.sizeOf()+O.stringIndex.sizeOf()+O.globalSubrIndex.sizeOf();return $.charset=hn,$.encoding=0,$.charStrings=$.charset+O.charsets.sizeOf(),$.private[1]=$.charStrings+O.charStringsIndex.sizeOf(),be=ba($,ye),O.topDictIndex=We(be),O},Jt_parse=function(_,E){var T={},O=new Ht.Parser(_,E);return T.version=O.parseVersion(),T.fontRevision=Math.round(1e3*O.parseFixed())/1e3,T.checkSumAdjustment=O.parseULong(),T.magicNumber=O.parseULong(),De.argument(1594834165===T.magicNumber,"Font header has wrong magic number."),T.flags=O.parseUShort(),T.unitsPerEm=O.parseUShort(),T.created=O.parseLongDateTime(),T.modified=O.parseLongDateTime(),T.xMin=O.parseShort(),T.yMin=O.parseShort(),T.xMax=O.parseShort(),T.yMax=O.parseShort(),T.macStyle=O.parseUShort(),T.lowestRecPPEM=O.parseUShort(),T.fontDirectionHint=O.parseShort(),T.indexToLocFormat=O.parseShort(),T.glyphDataFormat=O.parseShort(),T},Jt_make=function(_){var E=Math.round((new Date).getTime()/1e3)+2082844800,T=E;return _.createdTimestamp&&(T=_.createdTimestamp+2082844800),new Ut.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:T},{name:"modified",type:"LONGDATETIME",value:E},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],_)},In_parse=function(_,E){var T={},O=new Ht.Parser(_,E);return T.version=O.parseVersion(),T.ascender=O.parseShort(),T.descender=O.parseShort(),T.lineGap=O.parseShort(),T.advanceWidthMax=O.parseUShort(),T.minLeftSideBearing=O.parseShort(),T.minRightSideBearing=O.parseShort(),T.xMaxExtent=O.parseShort(),T.caretSlopeRise=O.parseShort(),T.caretSlopeRun=O.parseShort(),T.caretOffset=O.parseShort(),O.relativeOffset+=8,T.metricDataFormat=O.parseShort(),T.numberOfHMetrics=O.parseUShort(),T},In_make=function(_){return new Ut.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],_)},jt_parse=function(_,E,T,O,U){for(var $,re,ce=new Ht.Parser(_,E),ye=0;ye<O;ye+=1){ye<T&&($=ce.parseUShort(),re=ce.parseShort());var Ie=U.get(ye);Ie.advanceWidth=$,Ie.leftSideBearing=re}},jt_make=function(_){for(var E=new Ut.Table("hmtx",[]),T=0;T<_.length;T+=1){var O=_.get(T),$=O.leftSideBearing||0;E.fields.push({name:"advanceWidth_"+T,type:"USHORT",value:O.advanceWidth||0}),E.fields.push({name:"leftSideBearing_"+T,type:"SHORT",value:$})}return E},Vi_make=function(_){for(var E=new Ut.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:_.length}]),T="",O=12+4*_.length,U=0;U<_.length;++U){var $=T.indexOf(_[U]);$<0&&($=T.length,T+=_[U]),E.fields.push({name:"offset "+U,type:"USHORT",value:O+$}),E.fields.push({name:"length "+U,type:"USHORT",value:_[U].length})}return E.fields.push({name:"stringPool",type:"CHARARRAY",value:T}),E},Vi_parse=function(_,E){var T=new Ht.Parser(_,E),O=T.parseULong();De.argument(1===O,"Unsupported ltag table version."),T.skip("uLong",1);for(var U=T.parseULong(),$=[],re=0;re<U;re++){for(var ce="",ye=E+T.parseUShort(),Ie=T.parseUShort(),et=ye;et<ye+Ie;++et)ce+=String.fromCharCode(_.getInt8(et));$.push(ce)}return $},Zi_parse=function(_,E){var T={},O=new Ht.Parser(_,E);return T.version=O.parseVersion(),T.numGlyphs=O.parseUShort(),1===T.version&&(T.maxPoints=O.parseUShort(),T.maxContours=O.parseUShort(),T.maxCompositePoints=O.parseUShort(),T.maxCompositeContours=O.parseUShort(),T.maxZones=O.parseUShort(),T.maxTwilightPoints=O.parseUShort(),T.maxStorage=O.parseUShort(),T.maxFunctionDefs=O.parseUShort(),T.maxInstructionDefs=O.parseUShort(),T.maxStackElements=O.parseUShort(),T.maxSizeOfInstructions=O.parseUShort(),T.maxComponentElements=O.parseUShort(),T.maxComponentDepth=O.parseUShort()),T},Zi_make=function(_){return new Ut.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:_}])},rr=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Di={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},wn={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Cr={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Tn(_,E,T){switch(_){case 0:if(65535===E)return"und";if(T)return T[E];break;case 1:return Di[E];case 3:return Cr[E]}}var Kr="utf-16",sr={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Fc={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function gl(_,E,T){switch(_){case 0:return Kr;case 1:return Fc[T]||sr[E];case 3:if(1===E||10===E)return Kr}}function er(_){var E={};for(var T in _)E[_[T]]=parseInt(T);return E}function Jl(_,E,T,O,U,$){return new Ut.Record("NameRecord",[{name:"platformID",type:"USHORT",value:_},{name:"encodingID",type:"USHORT",value:E},{name:"languageID",type:"USHORT",value:T},{name:"nameID",type:"USHORT",value:O},{name:"length",type:"USHORT",value:U},{name:"offset",type:"USHORT",value:$}])}function Ii(_,E){var T=function($,re){var ce=$.length,ye=re.length-ce+1;e:for(var Ie=0;Ie<ye;Ie++)for(;Ie<ye;Ie++){for(var et=0;et<ce;et++)if(re[Ie+et]!==$[et])continue e;return Ie}return-1}(_,E);if(T<0){T=E.length;for(var O=0,U=_.length;O<U;++O)E.push(_[O])}return T}var ih_parse=function(_,E,T){for(var O={},U=new Ht.Parser(_,E),$=U.parseUShort(),re=U.parseUShort(),ce=U.offset+U.parseUShort(),ye=0;ye<re;ye++){var Ie=U.parseUShort(),et=U.parseUShort(),dt=U.parseUShort(),be=U.parseUShort(),hn=rr[be]||be,Xt=U.parseUShort(),Lt=U.parseUShort(),wt=Tn(Ie,dt,T),Ct=gl(Ie,et,dt);if(void 0!==Ct&&void 0!==wt){var Rn;if(Rn=Ct===Kr?lt.UTF16(_,ce+Lt,Xt):lt.MACSTRING(_,ce+Lt,Xt,Ct)){var Sn=O[hn];void 0===Sn&&(Sn=O[hn]={}),Sn[wt]=Rn}}}return 1===$&&U.parseUShort(),O},ih_make=function(_,E){var T,O=[],U={},$=er(rr);for(var re in _){var ce=$[re];if(void 0===ce&&(ce=re),T=parseInt(ce),isNaN(T))throw new Error('Name table entry "'+re+'" does not exist, see nameTableNames for complete list.');U[T]=_[re],O.push(T)}for(var ye=er(Di),Ie=er(Cr),et=[],dt=[],be=0;be<O.length;be++){var hn=U[T=O[be]];for(var Xt in hn){var Lt=hn[Xt],wt=1,Ct=ye[Xt],Rn=wn[Ct],Sn=gl(wt,Rn,Ct),li=Ke.MACSTRING(Lt,Sn);void 0===li&&(wt=0,(Ct=E.indexOf(Xt))<0&&(Ct=E.length,E.push(Xt)),Rn=4,li=Ke.UTF16(Lt));var _n=Ii(li,dt);et.push(Jl(wt,Rn,Ct,T,li.length,_n));var Zn=Ie[Xt];if(void 0!==Zn){var Nr=Ke.UTF16(Lt),yi=Ii(Nr,dt);et.push(Jl(3,1,Zn,T,Nr.length,yi))}}}et.sort(function(Ki,Yi){return Ki.platformID-Yi.platformID||Ki.encodingID-Yi.encodingID||Ki.languageID-Yi.languageID||Ki.nameID-Yi.nameID});for(var di=new Ut.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:et.length},{name:"stringOffset",type:"USHORT",value:6+12*et.length}]),Oi=0;Oi<et.length;Oi++)di.fields.push({name:"record_"+Oi,type:"RECORD",value:et[Oi]});return di.fields.push({name:"strings",type:"LITERAL",value:dt}),di},Lp=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Li_parse=function(_,E){var T={},O=new Ht.Parser(_,E);T.version=O.parseUShort(),T.xAvgCharWidth=O.parseShort(),T.usWeightClass=O.parseUShort(),T.usWidthClass=O.parseUShort(),T.fsType=O.parseUShort(),T.ySubscriptXSize=O.parseShort(),T.ySubscriptYSize=O.parseShort(),T.ySubscriptXOffset=O.parseShort(),T.ySubscriptYOffset=O.parseShort(),T.ySuperscriptXSize=O.parseShort(),T.ySuperscriptYSize=O.parseShort(),T.ySuperscriptXOffset=O.parseShort(),T.ySuperscriptYOffset=O.parseShort(),T.yStrikeoutSize=O.parseShort(),T.yStrikeoutPosition=O.parseShort(),T.sFamilyClass=O.parseShort(),T.panose=[];for(var U=0;U<10;U++)T.panose[U]=O.parseByte();return T.ulUnicodeRange1=O.parseULong(),T.ulUnicodeRange2=O.parseULong(),T.ulUnicodeRange3=O.parseULong(),T.ulUnicodeRange4=O.parseULong(),T.achVendID=String.fromCharCode(O.parseByte(),O.parseByte(),O.parseByte(),O.parseByte()),T.fsSelection=O.parseUShort(),T.usFirstCharIndex=O.parseUShort(),T.usLastCharIndex=O.parseUShort(),T.sTypoAscender=O.parseShort(),T.sTypoDescender=O.parseShort(),T.sTypoLineGap=O.parseShort(),T.usWinAscent=O.parseUShort(),T.usWinDescent=O.parseUShort(),1<=T.version&&(T.ulCodePageRange1=O.parseULong(),T.ulCodePageRange2=O.parseULong()),2<=T.version&&(T.sxHeight=O.parseShort(),T.sCapHeight=O.parseShort(),T.usDefaultChar=O.parseUShort(),T.usBreakChar=O.parseUShort(),T.usMaxContent=O.parseUShort()),T},Li_make=function(_){return new Ut.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],_)},Li_getUnicodeRange=function(_){for(var E=0;E<Lp.length;E+=1){var T=Lp[E];if(_>=T.begin&&_<T.end)return E}return-1},Mi_parse=function(_,E){var T={},O=new Ht.Parser(_,E);switch(T.version=O.parseVersion(),T.italicAngle=O.parseFixed(),T.underlinePosition=O.parseShort(),T.underlineThickness=O.parseShort(),T.isFixedPitch=O.parseULong(),T.minMemType42=O.parseULong(),T.maxMemType42=O.parseULong(),T.minMemType1=O.parseULong(),T.maxMemType1=O.parseULong(),T.version){case 1:T.names=ze.slice();break;case 2:T.numberOfGlyphs=O.parseUShort(),T.glyphNameIndex=new Array(T.numberOfGlyphs);for(var U=0;U<T.numberOfGlyphs;U++)T.glyphNameIndex[U]=O.parseUShort();T.names=[];for(var $=0;$<T.numberOfGlyphs;$++)if(T.glyphNameIndex[$]>=ze.length){var re=O.parseChar();T.names.push(O.parseString(re))}break;case 2.5:T.numberOfGlyphs=O.parseUShort(),T.offset=new Array(T.numberOfGlyphs);for(var ce=0;ce<T.numberOfGlyphs;ce++)T.offset[ce]=O.parseChar()}return T},Mi_make=function(){return new Ut.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},Bo=new Array(9);Bo[1]=function(){var _=this.offset+this.relativeOffset,E=this.parseUShort();return 1===E?{substFormat:1,coverage:this.parsePointer(it.coverage),deltaGlyphId:this.parseUShort()}:2===E?{substFormat:2,coverage:this.parsePointer(it.coverage),substitute:this.parseOffset16List()}:void De.assert(!1,"0x"+_.toString(16)+": lookup type 1 format must be 1 or 2.")},Bo[2]=function(){var _=this.parseUShort();return De.argument(1===_,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(it.coverage),sequences:this.parseListOfLists()}},Bo[3]=function(){var _=this.parseUShort();return De.argument(1===_,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(it.coverage),alternateSets:this.parseListOfLists()}},Bo[4]=function(){var _=this.parseUShort();return De.argument(1===_,"GSUB ligature table identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(it.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Gu={sequenceIndex:it.uShort,lookupListIndex:it.uShort};Bo[5]=function(){var _=this.offset+this.relativeOffset,E=this.parseUShort();if(1===E)return{substFormat:E,coverage:this.parsePointer(it.coverage),ruleSets:this.parseListOfLists(function(){var U=this.parseUShort(),$=this.parseUShort();return{input:this.parseUShortList(U-1),lookupRecords:this.parseRecordList($,Gu)}})};if(2===E)return{substFormat:E,coverage:this.parsePointer(it.coverage),classDef:this.parsePointer(it.classDef),classSets:this.parseListOfLists(function(){var U=this.parseUShort(),$=this.parseUShort();return{classes:this.parseUShortList(U-1),lookupRecords:this.parseRecordList($,Gu)}})};if(3===E){var T=this.parseUShort(),O=this.parseUShort();return{substFormat:E,coverages:this.parseList(T,it.pointer(it.coverage)),lookupRecords:this.parseRecordList(O,Gu)}}De.assert(!1,"0x"+_.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Bo[6]=function(){var _=this.offset+this.relativeOffset,E=this.parseUShort();return 1===E?{substFormat:1,coverage:this.parsePointer(it.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Gu)}})}:2===E?{substFormat:2,coverage:this.parsePointer(it.coverage),backtrackClassDef:this.parsePointer(it.classDef),inputClassDef:this.parsePointer(it.classDef),lookaheadClassDef:this.parsePointer(it.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Gu)}})}:3===E?{substFormat:3,backtrackCoverage:this.parseList(it.pointer(it.coverage)),inputCoverage:this.parseList(it.pointer(it.coverage)),lookaheadCoverage:this.parseList(it.pointer(it.coverage)),lookupRecords:this.parseRecordList(Gu)}:void De.assert(!1,"0x"+_.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Bo[7]=function(){var _=this.parseUShort();De.argument(1===_,"GSUB Extension Substitution subtable identifier-format must be 1");var E=this.parseUShort(),T=new it(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:E,extension:Bo[E].call(T)}},Bo[8]=function(){var _=this.parseUShort();return De.argument(1===_,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(it.coverage),backtrackCoverage:this.parseList(it.pointer(it.coverage)),lookaheadCoverage:this.parseList(it.pointer(it.coverage)),substitutes:this.parseUShortList()}};var hs=new Array(9);hs[1]=function(_){return new Ut.Table("substitutionTable",1===_.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ut.Coverage(_.coverage)},{name:"deltaGlyphID",type:"USHORT",value:_.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ut.Coverage(_.coverage)}].concat(Ut.ushortList("substitute",_.substitute)))},hs[3]=function(_){return De.assert(1===_.substFormat,"Lookup type 3 substFormat must be 1."),new Ut.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ut.Coverage(_.coverage)}].concat(Ut.tableList("altSet",_.alternateSets,function(E){return new Ut.Table("alternateSetTable",Ut.ushortList("alternate",E))})))},hs[4]=function(_){return De.assert(1===_.substFormat,"Lookup type 4 substFormat must be 1."),new Ut.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ut.Coverage(_.coverage)}].concat(Ut.tableList("ligSet",_.ligatureSets,function(E){return new Ut.Table("ligatureSetTable",Ut.tableList("ligature",E,function(T){return new Ut.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:T.ligGlyph}].concat(Ut.ushortList("component",T.components,T.components.length+1)))}))})))};var rh_parse=function(_,E){var T=new it(_,E=E||0),O=T.parseVersion(1);return De.argument(1===O||1.1===O,"Unsupported GSUB table version."),1===O?{version:O,scripts:T.parseScriptList(),features:T.parseFeatureList(),lookups:T.parseLookupList(Bo)}:{version:O,scripts:T.parseScriptList(),features:T.parseFeatureList(),lookups:T.parseLookupList(Bo),variations:T.parseFeatureVariationsList()}},rh_make=function(_){return new Ut.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ut.ScriptList(_.scripts)},{name:"features",type:"TABLE",value:new Ut.FeatureList(_.features)},{name:"lookups",type:"TABLE",value:new Ut.LookupList(_.lookups,hs)}])},gi_parse=function(_,E){var T=new Ht.Parser(_,E),O=T.parseULong();De.argument(1===O,"Unsupported META table version."),T.parseULong(),T.parseULong();for(var U=T.parseULong(),$={},re=0;re<U;re++){var ce=T.parseTag(),ye=T.parseULong(),Ie=T.parseULong(),et=lt.UTF8(_,E+ye,Ie);$[ce]=et}return $},gi_make=function(_){var E=Object.keys(_).length,T="",O=16+12*E,U=new Ut.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:O},{name:"numTags",type:"ULONG",value:E}]);for(var $ in _){var re=T.length;T+=_[$],U.fields.push({name:"tag "+$,type:"TAG",value:$}),U.fields.push({name:"offset "+$,type:"ULONG",value:O+re}),U.fields.push({name:"length "+$,type:"ULONG",value:_[$].length})}return U.fields.push({name:"stringPool",type:"CHARARRAY",value:T}),U};function js(_){return Math.log(_)/Math.log(2)|0}function Op(_){for(;_.length%4!=0;)_.push(0);for(var E=0,T=0;T<_.length;T+=4)E+=(_[T]<<24)+(_[T+1]<<16)+(_[T+2]<<8)+_[T+3];return E%Math.pow(2,32)}function vx(_,E,T,O){return new Ut.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==_?_:""},{name:"checkSum",type:"ULONG",value:void 0!==E?E:0},{name:"offset",type:"ULONG",value:void 0!==T?T:0},{name:"length",type:"ULONG",value:void 0!==O?O:0}])}function bx(_){var E=new Ut.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);E.tables=_,E.numTables=_.length;var T=Math.pow(2,js(E.numTables));E.searchRange=16*T,E.entrySelector=js(T),E.rangeShift=16*E.numTables-E.searchRange;for(var O=[],U=[],$=E.sizeOf()+vx().sizeOf()*E.numTables;$%4!=0;)$+=1,U.push({name:"padding",type:"BYTE",value:0});for(var re=0;re<_.length;re+=1){var ce=_[re];De.argument(4===ce.tableName.length,"Table name"+ce.tableName+" is invalid.");var ye=ce.sizeOf(),Ie=vx(ce.tableName,Op(ce.encode()),$,ye);for(O.push({name:Ie.tag+" Table Record",type:"RECORD",value:Ie}),U.push({name:ce.tableName+" table",type:"RECORD",value:ce}),$+=ye,De.argument(!isNaN($),"Something went wrong calculating the offset.");$%4!=0;)$+=1,U.push({name:"padding",type:"BYTE",value:0})}return O.sort(function(et,dt){return et.value.tag>dt.value.tag?1:-1}),E.fields=E.fields.concat(O),E.fields=E.fields.concat(U),E}function zu(_,E,T){for(var O=0;O<E.length;O+=1){var U=_.charToGlyphIndex(E[O]);if(0<U)return _.glyphs.get(U).getMetrics()}return T}var Co_fontToTable=function(_){for(var E,T=[],O=[],U=[],$=[],re=[],ce=[],ye=[],Ie=0,et=0,dt=0,be=0,hn=0,Xt=0;Xt<_.glyphs.length;Xt+=1){var Lt=_.glyphs.get(Xt),wt=0|Lt.unicode;if(isNaN(Lt.advanceWidth))throw new Error("Glyph "+Lt.name+" ("+Xt+"): advanceWidth is not a number.");(wt<E||void 0===E)&&0<wt&&(E=wt),Ie<wt&&(Ie=wt);var Ct=Li_getUnicodeRange(wt);if(Ct<32)et|=1<<Ct;else if(Ct<64)dt|=1<<Ct-32;else if(Ct<96)be|=1<<Ct-64;else{if(!(Ct<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");hn|=1<<Ct-96}if(".notdef"!==Lt.name){var Rn=Lt.getMetrics();T.push(Rn.xMin),O.push(Rn.yMin),U.push(Rn.xMax),$.push(Rn.yMax),ce.push(Rn.leftSideBearing),ye.push(Rn.rightSideBearing),re.push(Lt.advanceWidth)}}var Sn={xMin:Math.min.apply(null,T),yMin:Math.min.apply(null,O),xMax:Math.max.apply(null,U),yMax:Math.max.apply(null,$),advanceWidthMax:Math.max.apply(null,re),advanceWidthAvg:function(Ku){for(var Tx=0,jy=0;jy<Ku.length;jy+=1)Tx+=Ku[jy];return Tx/Ku.length}(re),minLeftSideBearing:Math.min.apply(null,ce),maxLeftSideBearing:Math.max.apply(null,ce),minRightSideBearing:Math.min.apply(null,ye)};Sn.ascender=_.ascender,Sn.descender=_.descender;var li=Jt_make({flags:3,unitsPerEm:_.unitsPerEm,xMin:Sn.xMin,yMin:Sn.yMin,xMax:Sn.xMax,yMax:Sn.yMax,lowestRecPPEM:3,createdTimestamp:_.createdTimestamp}),_n=In_make({ascender:Sn.ascender,descender:Sn.descender,advanceWidthMax:Sn.advanceWidthMax,minLeftSideBearing:Sn.minLeftSideBearing,minRightSideBearing:Sn.minRightSideBearing,xMaxExtent:Sn.maxLeftSideBearing+(Sn.xMax-Sn.xMin),numberOfHMetrics:_.glyphs.length}),Zn=Zi_make(_.glyphs.length),Nr=Li_make({xAvgCharWidth:Math.round(Sn.advanceWidthAvg),usWeightClass:_.tables.os2.usWeightClass,usWidthClass:_.tables.os2.usWidthClass,usFirstCharIndex:E,usLastCharIndex:Ie,ulUnicodeRange1:et,ulUnicodeRange2:dt,ulUnicodeRange3:be,ulUnicodeRange4:hn,fsSelection:_.tables.os2.fsSelection,sTypoAscender:Sn.ascender,sTypoDescender:Sn.descender,sTypoLineGap:0,usWinAscent:Sn.yMax,usWinDescent:Math.abs(Sn.yMin),ulCodePageRange1:1,sxHeight:zu(_,"xyvw",{yMax:Math.round(Sn.ascender/2)}).yMax,sCapHeight:zu(_,"HIKLEFJMNTZBDPRAGOQSUVWXY",Sn).yMax,usDefaultChar:_.hasChar(" ")?32:0,usBreakChar:_.hasChar(" ")?32:0}),yi=jt_make(_.glyphs),di=de_make(_.glyphs),Oi=_.getEnglishName("fontFamily"),Ki=_.getEnglishName("fontSubfamily"),Yi=Oi+" "+Ki,zi=_.getEnglishName("postScriptName");zi=zi||Oi.replace(/\s/g,"")+"-"+Ki;var or={};for(var ar in _.names)or[ar]=_.names[ar];or.uniqueID||(or.uniqueID={en:_.getEnglishName("manufacturer")+":"+Yi}),or.postScriptName||(or.postScriptName={en:zi}),or.preferredFamily||(or.preferredFamily=_.names.fontFamily),or.preferredSubfamily||(or.preferredSubfamily=_.names.fontSubfamily);var kr=[],hr=ih_make(or,kr),Qr=0<kr.length?Vi_make(kr):void 0,Qi=Mi_make(),is=fn_make(_.glyphs,{version:_.getEnglishName("version"),fullName:Yi,familyName:Oi,weightName:Ki,postScriptName:zi,unitsPerEm:_.unitsPerEm,fontBBox:[0,Sn.yMin,Sn.ascender,Sn.advanceWidthMax]}),Tr=_.metas&&0<Object.keys(_.metas).length?gi_make(_.metas):void 0,Pr=[li,_n,Zn,Nr,hr,di,Qi,is,yi];Qr&&Pr.push(Qr),_.tables.gsub&&Pr.push(rh_make(_.tables.gsub)),Tr&&Pr.push(Tr);for(var Ga=bx(Pr),Zu=Op(Ga.encode()),jc=Ga.fields,Ko=!1,Vc=0;Vc<jc.length;Vc+=1)if("head table"===jc[Vc].name){jc[Vc].value.checkSumAdjustment=2981146554-Zu,Ko=!0;break}if(!Ko)throw new Error("Could not find head table with checkSum to adjust.");return Ga};function Sy(_,E){for(var T=0,O=_.length-1;T<=O;){var U=T+O>>>1,$=_[U].tag;if($===E)return U;$<E?T=1+U:O=U-1}return-T-1}function Cy(_,E){for(var T=0,O=_.length-1;T<=O;){var U=T+O>>>1,$=_[U];if($===E)return U;$<E?T=1+U:O=U-1}return-T-1}function xx(_,E){for(var T,O=0,U=_.length-1;O<=U;){var $=O+U>>>1,re=(T=_[$]).start;if(re===E)return T;re<E?O=1+$:U=$-1}if(0<O)return E>(T=_[O-1]).end?0:T}function jo(_,E){this.font=_,this.tableName=E}function Fp(_){jo.call(this,_,"gpos")}function Ua(_){jo.call(this,_,"gsub")}function lA(_,E){var T=_.length;if(T!==E.length)return!1;for(var O=0;O<T;O++)if(_[O]!==E[O])return!1;return!0}function wx(_,E,T){for(var O=_.subtables,U=0;U<O.length;U++){var $=O[U];if($.substFormat===E)return $}if(T)return O.push(T),T}function Ey(_){for(var E=new ArrayBuffer(_.length),T=new Uint8Array(E),O=0;O<_.length;++O)T[O]=_[O];return E}function Wu(_,E){if(!_)throw E}function Dy(_,E,T,O,U){var $;return 0<(E&O)?($=_.parseByte(),0==(E&U)&&($=-$),T+$):0<(E&U)?T:T+_.parseShort()}function cA(_,E,T){var O,U,$=new Ht.Parser(E,T);if(_.numberOfContours=$.parseShort(),_._xMin=$.parseShort(),_._yMin=$.parseShort(),_._xMax=$.parseShort(),_._yMax=$.parseShort(),0<_.numberOfContours){for(var re=_.endPointIndices=[],ce=0;ce<_.numberOfContours;ce+=1)re.push($.parseUShort());_.instructionLength=$.parseUShort(),_.instructions=[];for(var ye=0;ye<_.instructionLength;ye+=1)_.instructions.push($.parseByte());var Ie=re[re.length-1]+1;O=[];for(var et=0;et<Ie;et+=1)if(U=$.parseByte(),O.push(U),0<(8&U))for(var dt=$.parseByte(),be=0;be<dt;be+=1)O.push(U),et+=1;if(De.argument(O.length===Ie,"Bad flags."),0<re.length){var hn,Xt=[];if(0<Ie){for(var Lt=0;Lt<Ie;Lt+=1)(hn={}).onCurve=!!(1&(U=O[Lt])),hn.lastPointOfContour=0<=re.indexOf(Lt),Xt.push(hn);for(var wt=0,Ct=0;Ct<Ie;Ct+=1)(hn=Xt[Ct]).x=Dy($,U=O[Ct],wt,2,16),wt=hn.x;for(var Rn=0,Sn=0;Sn<Ie;Sn+=1)(hn=Xt[Sn]).y=Dy($,U=O[Sn],Rn,4,32),Rn=hn.y}_.points=Xt}else _.points=[]}else if(0===_.numberOfContours)_.points=[];else{_.isComposite=!0,_.points=[],_.components=[];for(var li=!0;li;){O=$.parseUShort();var _n={glyphIndex:$.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&O)?0<(2&O)?(_n.dx=$.parseShort(),_n.dy=$.parseShort()):_n.matchedPoints=[$.parseUShort(),$.parseUShort()]:0<(2&O)?(_n.dx=$.parseChar(),_n.dy=$.parseChar()):_n.matchedPoints=[$.parseByte(),$.parseByte()],0<(8&O)?_n.xScale=_n.yScale=$.parseF2Dot14():0<(64&O)?(_n.xScale=$.parseF2Dot14(),_n.yScale=$.parseF2Dot14()):0<(128&O)&&(_n.xScale=$.parseF2Dot14(),_n.scale01=$.parseF2Dot14(),_n.scale10=$.parseF2Dot14(),_n.yScale=$.parseF2Dot14()),_.components.push(_n),li=!!(32&O)}if(256&O){_.instructionLength=$.parseUShort(),_.instructions=[];for(var Zn=0;Zn<_.instructionLength;Zn+=1)_.instructions.push($.parseByte())}}}function eo(_,E){for(var T=[],O=0;O<_.length;O+=1){var U=_[O];T.push({x:E.xScale*U.x+E.scale01*U.y+E.dx,y:E.scale10*U.x+E.yScale*U.y+E.dy,onCurve:U.onCurve,lastPointOfContour:U.lastPointOfContour})}return T}function Er(_){var E=new Ve;if(!_)return E;for(var T=function(dt){for(var be=[],hn=[],Xt=0;Xt<dt.length;Xt+=1){var Lt=dt[Xt];hn.push(Lt),Lt.lastPointOfContour&&(be.push(hn),hn=[])}return De.argument(0===hn.length,"There are still points left in the current contour."),be}(_),O=0;O<T.length;++O){var U=T[O],re=U[U.length-1],ce=U[0];if(re.onCurve)E.moveTo(re.x,re.y);else if(ce.onCurve)E.moveTo(ce.x,ce.y);else{var ye={x:.5*(re.x+ce.x),y:.5*(re.y+ce.y)};E.moveTo(ye.x,ye.y)}for(var Ie=0;Ie<U.length;++Ie)if(re=ce,ce=U[(Ie+1)%U.length],re.onCurve)E.lineTo(re.x,re.y);else{var et=ce;ce.onCurve||(et={x:.5*(re.x+ce.x),y:.5*(re.y+ce.y)}),E.quadraticCurveTo(re.x,re.y,et.x,et.y)}E.closePath()}return E}function uA(_,E){if(E.isComposite)for(var T=0;T<E.components.length;T+=1){var O=E.components[T],U=_.get(O.glyphIndex);if(U.getPath(),U.points){var $=void 0;if(void 0===O.matchedPoints)$=eo(U.points,O);else{if(O.matchedPoints[0]>E.points.length-1||O.matchedPoints[1]>U.points.length-1)throw Error("Matched points out of range in "+E.name);var re=E.points[O.matchedPoints[0]],ce=U.points[O.matchedPoints[1]],ye={xScale:O.xScale,scale01:O.scale01,scale10:O.scale10,yScale:O.yScale,dx:0,dy:0};ce=eo([ce],ye)[0],ye.dx=re.x-ce.x,ye.dy=re.y-ce.y,$=eo(U.points,ye)}E.points=E.points.concat($)}}return Er(E.points)}(Fp.prototype=jo.prototype={searchTag:Sy,binSearch:Cy,getTable:function(_){var E=this.font.tables[this.tableName];return!E&&_&&(E=this.font.tables[this.tableName]=this.createDefaultTable()),E},getScriptNames:function(){var _=this.getTable();return _?_.scripts.map(function(E){return E.tag}):[]},getDefaultScriptName:function(){var _=this.getTable();if(_){for(var E=!1,T=0;T<_.scripts.length;T++){var O=_.scripts[T].tag;if("DFLT"===O)return O;"latn"===O&&(E=!0)}return E?"latn":void 0}},getScriptTable:function(_,E){var T=this.getTable(E);if(T){var O=T.scripts,U=Sy(T.scripts,_=_||"DFLT");if(0<=U)return O[U].script;if(E){var $={tag:_,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return O.splice(-1-U,0,$),$.script}}},getLangSysTable:function(_,E,T){var O=this.getScriptTable(_,T);if(O){if(!E||"dflt"===E||"DFLT"===E)return O.defaultLangSys;var U=Sy(O.langSysRecords,E);if(0<=U)return O.langSysRecords[U].langSys;if(T){var $={tag:E,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return O.langSysRecords.splice(-1-U,0,$),$.langSys}}},getFeatureTable:function(_,E,T,O){var U=this.getLangSysTable(_,E,O);if(U){for(var $,re=U.featureIndexes,ce=this.font.tables[this.tableName].features,ye=0;ye<re.length;ye++)if(($=ce[re[ye]]).tag===T)return $.feature;if(O){var Ie=ce.length;return De.assert(0===Ie||T>=ce[Ie-1].tag,"Features must be added in alphabetical order."),ce.push($={tag:T,feature:{params:0,lookupListIndexes:[]}}),re.push(Ie),$.feature}}},getLookupTables:function(_,E,T,O,U){var $=this.getFeatureTable(_,E,T,U),re=[];if($){for(var ce,ye=$.lookupListIndexes,Ie=this.font.tables[this.tableName].lookups,et=0;et<ye.length;et++)(ce=Ie[ye[et]]).lookupType===O&&re.push(ce);if(0===re.length&&U){var dt=Ie.length;return Ie.push(ce={lookupType:O,lookupFlag:0,subtables:[],markFilteringSet:void 0}),ye.push(dt),[ce]}}return re},getGlyphClass:function(_,E){switch(_.format){case 1:return _.startGlyph<=E&&E<_.startGlyph+_.classes.length?_.classes[E-_.startGlyph]:0;case 2:var T=xx(_.ranges,E);return T?T.classId:0}},getCoverageIndex:function(_,E){switch(_.format){case 1:var T=Cy(_.glyphs,E);return 0<=T?T:-1;case 2:var O=xx(_.ranges,E);return O?O.index+E-O.start:-1}},expandCoverage:function(_){if(1===_.format)return _.glyphs;for(var E=[],T=_.ranges,O=0;O<T.length;O++)for(var U=T[O],re=U.end,ce=U.start;ce<=re;ce++)E.push(ce);return E}}).init=function(){var _=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(_)},Fp.prototype.getKerningValue=function(_,E,T){for(var O=0;O<_.length;O++)for(var U=_[O].subtables,$=0;$<U.length;$++){var re=U[$],ce=this.getCoverageIndex(re.coverage,E);if(!(ce<0))switch(re.posFormat){case 1:for(var ye=re.pairSets[ce],Ie=0;Ie<ye.length;Ie++){var et=ye[Ie];if(et.secondGlyph===T)return et.value1&&et.value1.xAdvance||0}break;case 2:var dt=this.getGlyphClass(re.classDef1,E),be=this.getGlyphClass(re.classDef2,T),hn=re.classRecords[dt][be];return hn.value1&&hn.value1.xAdvance||0}}return 0},Fp.prototype.getKerningTables=function(_,E){if(this.font.tables.gpos)return this.getLookupTables(_,E,"kern",2)},(Ua.prototype=jo.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Ua.prototype.getSingle=function(_,E,T){for(var O=[],U=this.getLookupTables(E,T,_,1),$=0;$<U.length;$++)for(var re=U[$].subtables,ce=0;ce<re.length;ce++){var ye=re[ce],Ie=this.expandCoverage(ye.coverage),et=void 0;if(1===ye.substFormat){var dt=ye.deltaGlyphId;for(et=0;et<Ie.length;et++){var be=Ie[et];O.push({sub:be,by:be+dt})}}else{var hn=ye.substitute;for(et=0;et<Ie.length;et++)O.push({sub:Ie[et],by:hn[et]})}}return O},Ua.prototype.getAlternates=function(_,E,T){for(var O=[],U=this.getLookupTables(E,T,_,3),$=0;$<U.length;$++)for(var re=U[$].subtables,ce=0;ce<re.length;ce++)for(var ye=re[ce],Ie=this.expandCoverage(ye.coverage),et=ye.alternateSets,dt=0;dt<Ie.length;dt++)O.push({sub:Ie[dt],by:et[dt]});return O},Ua.prototype.getLigatures=function(_,E,T){for(var O=[],U=this.getLookupTables(E,T,_,4),$=0;$<U.length;$++)for(var re=U[$].subtables,ce=0;ce<re.length;ce++)for(var ye=re[ce],Ie=this.expandCoverage(ye.coverage),et=ye.ligatureSets,dt=0;dt<Ie.length;dt++)for(var be=Ie[dt],hn=et[dt],Xt=0;Xt<hn.length;Xt++){var Lt=hn[Xt];O.push({sub:[be].concat(Lt.components),by:Lt.ligGlyph})}return O},Ua.prototype.addSingle=function(_,E,T,O){var U=wx(this.getLookupTables(T,O,_,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});De.assert(1===U.coverage.format,"Ligature: unable to modify coverage table format "+U.coverage.format);var $=E.sub,re=this.binSearch(U.coverage.glyphs,$);re<0&&(U.coverage.glyphs.splice(re=-1-re,0,$),U.substitute.splice(re,0,0)),U.substitute[re]=E.by},Ua.prototype.addAlternate=function(_,E,T,O){var U=wx(this.getLookupTables(T,O,_,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});De.assert(1===U.coverage.format,"Ligature: unable to modify coverage table format "+U.coverage.format);var $=E.sub,re=this.binSearch(U.coverage.glyphs,$);re<0&&(U.coverage.glyphs.splice(re=-1-re,0,$),U.alternateSets.splice(re,0,0)),U.alternateSets[re]=E.by},Ua.prototype.addLigature=function(_,E,T,O){var U=this.getLookupTables(T,O,_,4,!0)[0],$=U.subtables[0];$||(U.subtables[0]=$={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),De.assert(1===$.coverage.format,"Ligature: unable to modify coverage table format "+$.coverage.format);var re=E.sub[0],ce=E.sub.slice(1),ye={ligGlyph:E.by,components:ce},Ie=this.binSearch($.coverage.glyphs,re);if(0<=Ie){for(var et=$.ligatureSets[Ie],dt=0;dt<et.length;dt++)if(lA(et[dt].components,ce))return;et.push(ye)}else $.coverage.glyphs.splice(Ie=-1-Ie,0,re),$.ligatureSets.splice(Ie,0,[ye])},Ua.prototype.getFeature=function(_,E,T){if(/ss\d\d/.test(_))return this.getSingle(_,E,T);switch(_){case"aalt":case"salt":return this.getSingle(_,E,T).concat(this.getAlternates(_,E,T));case"dlig":case"liga":case"rlig":return this.getLigatures(_,E,T)}},Ua.prototype.add=function(_,E,T,O){if(/ss\d\d/.test(_))return this.addSingle(_,E,T,O);switch(_){case"aalt":case"salt":return"number"==typeof E.by?this.addSingle(_,E,T,O):this.addAlternate(_,E,T,O);case"dlig":case"liga":case"rlig":return this.addLigature(_,E,T,O)}};var Mx,Nc,Kt,Ay,Xn={getPath:Er,parse:function(_,E,T,O){for(var U=new $n.GlyphSet(O),$=0;$<T.length-1;$+=1){var re=T[$];U.push($,re!==T[$+1]?$n.ttfGlyphLoader(O,$,cA,_,E+re,uA):$n.glyphLoader(O,$))}return U}};function sh(_){this.font=_,this.getCommands=function(E){return Xn.getPath(E).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Ty(_){return _}function Ry(_){return Math.sign(_)*Math.round(Math.abs(_))}function Sx(_){return Math.sign(_)*Math.round(Math.abs(2*_))/2}function Iy(_){return Math.sign(_)*(Math.round(Math.abs(_)+.5)-.5)}function oh(_){return Math.sign(_)*Math.ceil(Math.abs(_))}function Np(_){return Math.sign(_)*Math.floor(Math.abs(_))}function Bp(_){var E=this.srPeriod,T=this.srPhase,O=1;return _<0&&(_=-_,O=-1),_+=this.srThreshold-T,_=Math.trunc(_/E)*E,(_+=T)<0?T*O:_*O}var xa={x:1,y:0,axis:"x",distance:function(_,E,T,O){return(T?_.xo:_.x)-(O?E.xo:E.x)},interpolate:function(_,E,T,O){var U,$,re,ce,ye,Ie,et;if(!O||O===this)return U=_.xo-E.xo,$=_.xo-T.xo,ye=E.x-E.xo,Ie=T.x-T.xo,0===(et=(re=Math.abs(U))+(ce=Math.abs($)))?void(_.x=_.xo+(ye+Ie)/2):void(_.x=_.xo+(ye*ce+Ie*re)/et);U=O.distance(_,E,!0,!0),$=O.distance(_,T,!0,!0),ye=O.distance(E,E,!1,!0),Ie=O.distance(T,T,!1,!0),0!==(et=(re=Math.abs(U))+(ce=Math.abs($)))?xa.setRelative(_,_,(ye*ce+Ie*re)/et,O,!0):xa.setRelative(_,_,(ye+Ie)/2,O,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(_,E,T,O,U){_.x=O&&O!==this?(U?E.xo:E.x)+T*O.x+(_.y-((U?E.yo:E.y)+T*O.y))/O.normalSlope:(U?E.xo:E.x)+T},slope:0,touch:function(_){_.xTouched=!0},touched:function(_){return _.xTouched},untouch:function(_){_.xTouched=!1}},ti={x:0,y:1,axis:"y",distance:function(_,E,T,O){return(T?_.yo:_.y)-(O?E.yo:E.y)},interpolate:function(_,E,T,O){var U,$,re,ce,ye,Ie,et;if(!O||O===this)return U=_.yo-E.yo,$=_.yo-T.yo,ye=E.y-E.yo,Ie=T.y-T.yo,0===(et=(re=Math.abs(U))+(ce=Math.abs($)))?void(_.y=_.yo+(ye+Ie)/2):void(_.y=_.yo+(ye*ce+Ie*re)/et);U=O.distance(_,E,!0,!0),$=O.distance(_,T,!0,!0),ye=O.distance(E,E,!1,!0),Ie=O.distance(T,T,!1,!0),0!==(et=(re=Math.abs(U))+(ce=Math.abs($)))?ti.setRelative(_,_,(ye*ce+Ie*re)/et,O,!0):ti.setRelative(_,_,(ye+Ie)/2,O,!0)},normalSlope:0,setRelative:function(_,E,T,O,U){_.y=O&&O!==this?(U?E.yo:E.y)+T*O.y+O.normalSlope*(_.x-((U?E.xo:E.x)+T*O.x)):(U?E.yo:E.y)+T},slope:Number.POSITIVE_INFINITY,touch:function(_){_.yTouched=!0},touched:function(_){return _.yTouched},untouch:function(_){_.yTouched=!1}};function ec(_,E){this.x=_,this.y=E,this.axis=void 0,this.slope=E/_,this.normalSlope=-_/E,Object.freeze(this)}function $u(_,E){var T=Math.sqrt(_*_+E*E);return E/=T,1==(_/=T)&&0===E?xa:0===_&&1===E?ti:new ec(_,E)}function Vs(_,E,T,O){this.x=this.xo=Math.round(64*_)/64,this.y=this.yo=Math.round(64*E)/64,this.lastPointOfContour=T,this.onCurve=O,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(xa),Object.freeze(ti),ec.prototype.distance=function(_,E,T,O){return this.x*xa.distance(_,E,T,O)+this.y*ti.distance(_,E,T,O)},ec.prototype.interpolate=function(_,E,T,O){var U,$,re,ce,ye,Ie,et;re=O.distance(_,E,!0,!0),ce=O.distance(_,T,!0,!0),U=O.distance(E,E,!1,!0),$=O.distance(T,T,!1,!0),0!==(et=(ye=Math.abs(re))+(Ie=Math.abs(ce)))?this.setRelative(_,_,(U*Ie+$*ye)/et,O,!0):this.setRelative(_,_,(U+$)/2,O,!0)},ec.prototype.setRelative=function(_,E,T,O,U){var Ie=(O=O||this).normalSlope,et=this.slope,dt=_.x,be=_.y;_.x=(et*dt-Ie*((U?E.xo:E.x)+T*O.x)+((U?E.yo:E.y)+T*O.y)-be)/(et-Ie),_.y=et*(_.x-dt)+be},ec.prototype.touch=function(_){_.xTouched=!0,_.yTouched=!0},Vs.prototype.nextTouched=function(_){for(var E=this.nextPointOnContour;!_.touched(E)&&E!==this;)E=E.nextPointOnContour;return E},Vs.prototype.prevTouched=function(_){for(var E=this.prevPointOnContour;!_.touched(E)&&E!==this;)E=E.prevPointOnContour;return E};var Bc=Object.freeze(new Vs(0,0)),dA={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function to(_,E){switch(this.env=_,this.stack=[],this.prog=E,_){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=xa,this.round=Ry}}function fo(_){for(var E=_.tZone=new Array(_.gZone.length),T=0;T<E.length;T++)E[T]=new Vs(0,0)}function Cx(_,E){var T,O=_.prog,U=_.ip,$=1;do{if(88===(T=O[++U]))$++;else if(89===T)$--;else if(64===T)U+=O[U+1]+1;else if(65===T)U+=2*O[U+1]+1;else if(176<=T&&T<=183)U+=T-176+1;else if(184<=T&&T<=191)U+=2*(T-184+1);else if(E&&1===$&&27===T)break}while(0<$);_.ip=U}function Ex(_,E){w.DEBUG&&console.log(E.step,"SVTCA["+_.axis+"]"),E.fv=E.pv=E.dpv=_}function Vo(_,E){w.DEBUG&&console.log(E.step,"SPVTCA["+_.axis+"]"),E.pv=E.dpv=_}function ky(_,E){w.DEBUG&&console.log(E.step,"SFVTCA["+_.axis+"]"),E.fv=_}function Py(_,E){var T,O,U=E.stack,$=U.pop(),re=U.pop(),ce=E.z2[$],ye=E.z1[re];w.DEBUG&&console.log("SPVTL["+_+"]",$,re),O=_?(T=ce.y-ye.y,ye.x-ce.x):(T=ye.x-ce.x,ye.y-ce.y),E.pv=E.dpv=$u(T,O)}function Ly(_,E){var T,O,U=E.stack,$=U.pop(),re=U.pop(),ce=E.z2[$],ye=E.z1[re];w.DEBUG&&console.log("SFVTL["+_+"]",$,re),O=_?(T=ce.y-ye.y,ye.x-ce.x):(T=ye.x-ce.x,ye.y-ce.y),E.fv=$u(T,O)}function Oy(_){w.DEBUG&&console.log(_.step,"POP[]"),_.stack.pop()}function dr(_,E){var T=E.stack.pop(),O=E.z0[T],U=E.fv,$=E.pv;w.DEBUG&&console.log(E.step,"MDAP["+_+"]",T);var re=$.distance(O,Bc);_&&(re=E.round(re)),U.setRelative(O,Bc,re,$),U.touch(O),E.rp0=E.rp1=T}function Dx(_,E){var T,O,U,$=E.z2,re=$.length-2;w.DEBUG&&console.log(E.step,"IUP["+_.axis+"]");for(var ce=0;ce<re;ce++)_.touched(T=$[ce])||(O=T.prevTouched(_))!==T&&(O===(U=T.nextTouched(_))&&_.setRelative(T,T,_.distance(O,O,!1,!0),_,!0),_.interpolate(T,O,U,_))}function Ax(_,E){for(var T=E.stack,U=(_?E.z0:E.z1)[_?E.rp1:E.rp2],$=E.fv,re=E.pv,ce=E.loop,ye=E.z2;ce--;){var Ie=T.pop(),et=ye[Ie],dt=re.distance(U,U,!1,!0);$.setRelative(et,et,dt,re),$.touch(et),w.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-ce)+": ":"")+"SHP["+(_?"rp1":"rp2")+"]",Ie)}E.loop=1}function tc(_,E){var U=(_?E.z0:E.z1)[_?E.rp1:E.rp2],$=E.fv,re=E.pv,ce=E.stack.pop(),ye=E.z2[E.contours[ce]],Ie=ye;w.DEBUG&&console.log(E.step,"SHC["+_+"]",ce);for(var et=re.distance(U,U,!1,!0);Ie!==U&&$.setRelative(Ie,Ie,et,re),(Ie=Ie.nextPointOnContour)!==ye;);}function mr(_,E){var T,O,re=(_?E.z0:E.z1)[_?E.rp1:E.rp2],ce=E.fv,ye=E.pv,Ie=E.stack.pop();switch(w.DEBUG&&console.log(E.step,"SHZ["+_+"]",Ie),Ie){case 0:T=E.tZone;break;case 1:T=E.gZone;break;default:throw new Error("Invalid zone")}for(var et=ye.distance(re,re,!1,!0),dt=T.length-2,be=0;be<dt;be++)ce.setRelative(O=T[be],O,et,ye)}function qu(_,E){var T=E.stack,O=T.pop()/64,U=T.pop(),$=E.z1[U],ce=E.fv;ce.setRelative($,E.z0[E.rp0],O,E.pv),ce.touch($),w.DEBUG&&console.log(E.step,"MSIRP["+_+"]",O,U),E.rp1=E.rp0,E.rp2=U,_&&(E.rp0=U)}function ah(_,E){var T=E.stack,O=T.pop(),U=T.pop(),$=E.z0[U],re=E.fv,ce=E.pv,ye=E.cvt[O];w.DEBUG&&console.log(E.step,"MIAP["+_+"]",O,"(",ye,")",U);var Ie=ce.distance($,Bc);_&&(Math.abs(Ie-ye)<E.cvCutIn&&(Ie=ye),Ie=E.round(Ie)),re.setRelative($,Bc,Ie,ce),0===E.zp0&&($.xo=$.x,$.yo=$.y),re.touch($),E.rp0=E.rp1=U}function lh(_,E){var T=E.stack,O=T.pop(),U=E.z2[O];w.DEBUG&&console.log(E.step,"GC["+_+"]",O),T.push(64*E.dpv.distance(U,Bc,_,!1))}function jp(_,E){var T=E.stack,O=T.pop(),U=T.pop(),ce=E.dpv.distance(E.z0[U],E.z1[O],_,_);w.DEBUG&&console.log(E.step,"MD["+_+"]",O,U,"->",ce),E.stack.push(Math.round(64*ce))}function Zo(_,E){var T=E.stack,O=T.pop(),U=E.fv,$=E.pv,re=E.ppem,ce=E.deltaBase+16*(_-1),ye=E.deltaShift,Ie=E.z0;w.DEBUG&&console.log(E.step,"DELTAP["+_+"]",O,T);for(var et=0;et<O;et++){var dt=T.pop(),be=T.pop();if(ce+((240&be)>>4)===re){var hn=(15&be)-8;0<=hn&&hn++,w.DEBUG&&console.log(E.step,"DELTAPFIX",dt,"by",hn*ye);var Xt=Ie[dt];U.setRelative(Xt,Xt,hn*ye,$)}}}function yl(_,E){var T=E.stack,O=T.pop();w.DEBUG&&console.log(E.step,"ROUND[]"),T.push(64*E.round(O/64))}function Vp(_,E){var T=E.stack,O=T.pop(),U=E.ppem,$=E.deltaBase+16*(_-1),re=E.deltaShift;w.DEBUG&&console.log(E.step,"DELTAC["+_+"]",O,T);for(var ce=0;ce<O;ce++){var ye=T.pop(),Ie=T.pop();if($+((240&Ie)>>4)===U){var et=(15&Ie)-8;0<=et&&et++;var dt=et*re;w.DEBUG&&console.log(E.step,"DELTACFIX",ye,"by",dt),E.cvt[ye]+=dt}}}function xi(_,E){var T,O,U=E.stack,$=U.pop(),re=U.pop(),ce=E.z2[$],ye=E.z1[re];w.DEBUG&&console.log(E.step,"SDPVTL["+_+"]",$,re),O=_?(T=ce.y-ye.y,ye.x-ce.x):(T=ye.x-ce.x,ye.y-ce.y),E.dpv=$u(T,O)}function _l(_,E){var T=E.stack,O=E.prog,U=E.ip;w.DEBUG&&console.log(E.step,"PUSHB["+_+"]");for(var $=0;$<_;$++)T.push(O[++U]);E.ip=U}function Ha(_,E){var T=E.ip,O=E.prog,U=E.stack;w.DEBUG&&console.log(E.ip,"PUSHW["+_+"]");for(var $=0;$<_;$++){var re=O[++T]<<8|O[++T];32768&re&&(re=-(1+(65535^re))),U.push(re)}E.ip=T}function Bn(_,E,T,O,U,$){var re,ce,ye,Ie,et=$.stack,dt=_&&et.pop(),be=et.pop(),Xt=$.z0[$.rp0],Lt=$.z1[be],wt=$.minDis,Ct=$.fv,Rn=$.dpv;ye=0<=(ce=re=Rn.distance(Lt,Xt,!0,!0))?1:-1,ce=Math.abs(ce),_&&(Ie=$.cvt[dt],O&&Math.abs(ce-Ie)<$.cvCutIn&&(ce=Ie)),T&&ce<wt&&(ce=wt),O&&(ce=$.round(ce)),Ct.setRelative(Lt,Xt,ye*ce,Rn),Ct.touch(Lt),w.DEBUG&&console.log($.step,(_?"MIRP[":"MDRP[")+(E?"M":"m")+(T?">":"_")+(O?"R":"_")+(0===U?"Gr":1===U?"Bl":2===U?"Wh":"")+"]",_?dt+"("+$.cvt[dt]+","+Ie+")":"",be,"(d =",re,"->",ye*ce,")"),$.rp1=$.rp0,$.rp2=be,E&&($.rp0=be)}sh.prototype.exec=function(_,E){if("number"!=typeof E)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var T=this.font,O=this._prepState;if(!O||O.ppem!==E){var U=this._fpgmState;if(!U){to.prototype=dA,(U=this._fpgmState=new to("fpgm",T.tables.fpgm)).funcs=[],U.font=T,w.DEBUG&&(console.log("---EXEC FPGM---"),U.step=-1);try{Nc(U)}catch(Ie){return console.log("Hinting error in FPGM:"+Ie),void(this._errorState=3)}}to.prototype=U,(O=this._prepState=new to("prep",T.tables.prep)).ppem=E;var $=T.tables.cvt;if($)for(var re=O.cvt=new Array($.length),ce=E/T.unitsPerEm,ye=0;ye<$.length;ye++)re[ye]=$[ye]*ce;else O.cvt=[];w.DEBUG&&(console.log("---EXEC PREP---"),O.step=-1);try{Nc(O)}catch(Ie){this._errorState<2&&console.log("Hinting error in PREP:"+Ie),this._errorState=2}}if(!(1<this._errorState))try{return Kt(_,O)}catch(Ie){return this._errorState<1&&(console.log("Hinting error:"+Ie),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},Kt=function(_,E){var T,O,U,$=E.ppem/E.font.unitsPerEm,re=$,ce=_.components;if(to.prototype=E,ce){var ye=E.font;O=[],T=[];for(var Ie=0;Ie<ce.length;Ie++){var et=ce[Ie],dt=ye.glyphs.get(et.glyphIndex);U=new to("glyf",dt.instructions),w.DEBUG&&(console.log("---EXEC COMP "+Ie+"---"),U.step=-1),Ay(dt,U,$,re);for(var be=Math.round(et.dx*$),hn=Math.round(et.dy*re),Xt=U.gZone,Lt=U.contours,wt=0;wt<Xt.length;wt++){var Ct=Xt[wt];Ct.xTouched=Ct.yTouched=!1,Ct.xo=Ct.x=Ct.x+be,Ct.yo=Ct.y=Ct.y+hn}var Rn=O.length;O.push.apply(O,Xt);for(var Sn=0;Sn<Lt.length;Sn++)T.push(Lt[Sn]+Rn)}_.instructions&&!U.inhibitGridFit&&((U=new to("glyf",_.instructions)).gZone=U.z0=U.z1=U.z2=O,U.contours=T,O.push(new Vs(0,0),new Vs(Math.round(_.advanceWidth*$),0)),w.DEBUG&&(console.log("---EXEC COMPOSITE---"),U.step=-1),Nc(U),O.length-=2)}else U=new to("glyf",_.instructions),w.DEBUG&&(console.log("---EXEC GLYPH---"),U.step=-1),Ay(_,U,$,re),O=U.gZone;return O},Ay=function(_,E,T,O){for(var U,$,ce=_.points||[],ye=ce.length,Ie=E.gZone=E.z0=E.z1=E.z2=[],et=E.contours=[],dt=0;dt<ye;dt++)Ie[dt]=new Vs((U=ce[dt]).x*T,U.y*O,U.lastPointOfContour,U.onCurve);for(var be=0;be<ye;be++)U=Ie[be],$||($=U,et.push(be)),U.lastPointOfContour?((U.nextPointOnContour=$).prevPointOnContour=U,$=void 0):(U.nextPointOnContour=Ie[be+1]).prevPointOnContour=U;if(!E.inhibitGridFit){if(w.DEBUG){console.log("PROCESSING GLYPH",E.stack);for(var hn=0;hn<ye;hn++)console.log(hn,Ie[hn].x,Ie[hn].y)}if(Ie.push(new Vs(0,0),new Vs(Math.round(_.advanceWidth*T),0)),Nc(E),Ie.length-=2,w.DEBUG){console.log("FINISHED GLYPH",E.stack);for(var Xt=0;Xt<ye;Xt++)console.log(Xt,Ie[Xt].x,Ie[Xt].y)}}},Nc=function(_){var E=_.prog;if(E){var T,O=E.length;for(_.ip=0;_.ip<O;_.ip++){if(w.DEBUG&&_.step++,!(T=Mx[E[_.ip]]))throw new Error("unknown instruction: 0x"+Number(E[_.ip]).toString(16));T(_)}}},Mx=[Ex.bind(void 0,ti),Ex.bind(void 0,xa),Vo.bind(void 0,ti),Vo.bind(void 0,xa),ky.bind(void 0,ti),ky.bind(void 0,xa),Py.bind(void 0,0),Py.bind(void 0,1),Ly.bind(void 0,0),Ly.bind(void 0,1),function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"SPVFS[]",T,O),_.pv=_.dpv=$u(O,T)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"SPVFS[]",T,O),_.fv=$u(O,T)},function(_){var E=_.stack,T=_.pv;w.DEBUG&&console.log(_.step,"GPV[]"),E.push(16384*T.x),E.push(16384*T.y)},function(_){var E=_.stack,T=_.fv;w.DEBUG&&console.log(_.step,"GFV[]"),E.push(16384*T.x),E.push(16384*T.y)},function(_){_.fv=_.pv,w.DEBUG&&console.log(_.step,"SFVTPV[]")},function(_){var E=_.stack,T=E.pop(),O=E.pop(),U=E.pop(),$=E.pop(),re=E.pop(),ce=_.z0,ye=_.z1,Ie=ce[T],et=ce[O],dt=ye[U],be=ye[$],hn=_.z2[re];w.DEBUG&&console.log("ISECT[], ",T,O,U,$,re);var Xt=Ie.x,Lt=Ie.y,wt=et.x,Ct=et.y,Rn=dt.x,Sn=dt.y,li=be.x,_n=be.y,Zn=(Xt-wt)*(Sn-_n)-(Lt-Ct)*(Rn-li),Nr=Xt*Ct-Lt*wt,yi=Rn*_n-Sn*li;hn.x=(Nr*(Rn-li)-yi*(Xt-wt))/Zn,hn.y=(Nr*(Sn-_n)-yi*(Lt-Ct))/Zn},function(_){_.rp0=_.stack.pop(),w.DEBUG&&console.log(_.step,"SRP0[]",_.rp0)},function(_){_.rp1=_.stack.pop(),w.DEBUG&&console.log(_.step,"SRP1[]",_.rp1)},function(_){_.rp2=_.stack.pop(),w.DEBUG&&console.log(_.step,"SRP2[]",_.rp2)},function(_){var E=_.stack.pop();switch(w.DEBUG&&console.log(_.step,"SZP0[]",E),_.zp0=E){case 0:_.tZone||fo(_),_.z0=_.tZone;break;case 1:_.z0=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var E=_.stack.pop();switch(w.DEBUG&&console.log(_.step,"SZP1[]",E),_.zp1=E){case 0:_.tZone||fo(_),_.z1=_.tZone;break;case 1:_.z1=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var E=_.stack.pop();switch(w.DEBUG&&console.log(_.step,"SZP2[]",E),_.zp2=E){case 0:_.tZone||fo(_),_.z2=_.tZone;break;case 1:_.z2=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var E=_.stack.pop();switch(w.DEBUG&&console.log(_.step,"SZPS[]",E),_.zp0=_.zp1=_.zp2=E,E){case 0:_.tZone||fo(_),_.z0=_.z1=_.z2=_.tZone;break;case 1:_.z0=_.z1=_.z2=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){_.loop=_.stack.pop(),w.DEBUG&&console.log(_.step,"SLOOP[]",_.loop)},function(_){w.DEBUG&&console.log(_.step,"RTG[]"),_.round=Ry},function(_){w.DEBUG&&console.log(_.step,"RTHG[]"),_.round=Iy},function(_){var E=_.stack.pop();w.DEBUG&&console.log(_.step,"SMD[]",E),_.minDis=E/64},function(_){w.DEBUG&&console.log(_.step,"ELSE[]"),Cx(_,!1)},function(_){var E=_.stack.pop();w.DEBUG&&console.log(_.step,"JMPR[]",E),_.ip+=E-1},function(_){var E=_.stack.pop();w.DEBUG&&console.log(_.step,"SCVTCI[]",E),_.cvCutIn=E/64},void 0,void 0,function(_){var E=_.stack;w.DEBUG&&console.log(_.step,"DUP[]"),E.push(E[E.length-1])},Oy,function(_){w.DEBUG&&console.log(_.step,"CLEAR[]"),_.stack.length=0},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"SWAP[]"),E.push(T),E.push(O)},function(_){var E=_.stack;w.DEBUG&&console.log(_.step,"DEPTH[]"),E.push(E.length)},function(_){var E=_.stack,T=E.pop();w.DEBUG&&console.log(_.step,"CINDEX[]",T),E.push(E[E.length-T])},function(_){var E=_.stack,T=E.pop();w.DEBUG&&console.log(_.step,"MINDEX[]",T),E.push(E.splice(E.length-T,1)[0])},void 0,void 0,void 0,function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"LOOPCALL[]",T,O);var U=_.ip,$=_.prog;_.prog=_.funcs[T];for(var re=0;re<O;re++)Nc(_),w.DEBUG&&console.log(++_.step,re+1<O?"next loopcall":"done loopcall",re);_.ip=U,_.prog=$},function(_){var E=_.stack.pop();w.DEBUG&&console.log(_.step,"CALL[]",E);var T=_.ip,O=_.prog;_.prog=_.funcs[E],Nc(_),_.ip=T,_.prog=O,w.DEBUG&&console.log(++_.step,"returning from",E)},function(_){if("fpgm"!==_.env)throw new Error("FDEF not allowed here");var T=_.prog,O=_.ip,U=_.stack.pop(),$=O;for(w.DEBUG&&console.log(_.step,"FDEF[]",U);45!==T[++O];);_.ip=O,_.funcs[U]=T.slice($+1,O)},void 0,dr.bind(void 0,0),dr.bind(void 0,1),Dx.bind(void 0,ti),Dx.bind(void 0,xa),Ax.bind(void 0,0),Ax.bind(void 0,1),tc.bind(void 0,0),tc.bind(void 0,1),mr.bind(void 0,0),mr.bind(void 0,1),function(_){for(var E=_.stack,T=_.loop,O=_.fv,U=E.pop()/64,$=_.z2;T--;){var re=E.pop(),ce=$[re];w.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-T)+": ":"")+"SHPIX[]",re,U),O.setRelative(ce,ce,U),O.touch(ce)}_.loop=1},function(_){for(var E=_.stack,T=_.rp1,O=_.rp2,U=_.loop,$=_.z0[T],re=_.z1[O],ce=_.fv,ye=_.dpv,Ie=_.z2;U--;){var et=E.pop(),dt=Ie[et];w.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-U)+": ":"")+"IP[]",et,T,"<->",O),ce.interpolate(dt,$,re,ye),ce.touch(dt)}_.loop=1},qu.bind(void 0,0),qu.bind(void 0,1),function(_){for(var E=_.stack,O=_.z0[_.rp0],U=_.loop,$=_.fv,re=_.pv,ce=_.z1;U--;){var ye=E.pop(),Ie=ce[ye];w.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-U)+": ":"")+"ALIGNRP[]",ye),$.setRelative(Ie,O,0,re),$.touch(Ie)}_.loop=1},function(_){w.DEBUG&&console.log(_.step,"RTDG[]"),_.round=Sx},ah.bind(void 0,0),ah.bind(void 0,1),function(_){var E=_.prog,T=_.ip,O=_.stack,U=E[++T];w.DEBUG&&console.log(_.step,"NPUSHB[]",U);for(var $=0;$<U;$++)O.push(E[++T]);_.ip=T},function(_){var E=_.ip,T=_.prog,O=_.stack,U=T[++E];w.DEBUG&&console.log(_.step,"NPUSHW[]",U);for(var $=0;$<U;$++){var re=T[++E]<<8|T[++E];32768&re&&(re=-(1+(65535^re))),O.push(re)}_.ip=E},function(_){var E=_.stack,T=_.store;T=T||(_.store=[]);var O=E.pop(),U=E.pop();w.DEBUG&&console.log(_.step,"WS",O,U),T[U]=O},function(_){var E=_.stack,T=_.store,O=E.pop();w.DEBUG&&console.log(_.step,"RS",O),E.push(T&&T[O]||0)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"WCVTP",T,O),_.cvt[O]=T/64},function(_){var E=_.stack,T=E.pop();w.DEBUG&&console.log(_.step,"RCVT",T),E.push(64*_.cvt[T])},lh.bind(void 0,0),lh.bind(void 0,1),void 0,jp.bind(void 0,0),jp.bind(void 0,1),function(_){w.DEBUG&&console.log(_.step,"MPPEM[]"),_.stack.push(_.ppem)},void 0,function(_){w.DEBUG&&console.log(_.step,"FLIPON[]"),_.autoFlip=!0},void 0,void 0,function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"LT[]",T,O),E.push(O<T?1:0)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"LTEQ[]",T,O),E.push(O<=T?1:0)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"GT[]",T,O),E.push(T<O?1:0)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"GTEQ[]",T,O),E.push(T<=O?1:0)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"EQ[]",T,O),E.push(T===O?1:0)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"NEQ[]",T,O),E.push(T!==O?1:0)},function(_){var E=_.stack,T=E.pop();w.DEBUG&&console.log(_.step,"ODD[]",T),E.push(Math.trunc(T)%2?1:0)},function(_){var E=_.stack,T=E.pop();w.DEBUG&&console.log(_.step,"EVEN[]",T),E.push(Math.trunc(T)%2?0:1)},function(_){var E=_.stack.pop();w.DEBUG&&console.log(_.step,"IF[]",E),E||(Cx(_,!0),w.DEBUG&&console.log(_.step,"EIF[]"))},function(_){w.DEBUG&&console.log(_.step,"EIF[]")},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"AND[]",T,O),E.push(T&&O?1:0)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"OR[]",T,O),E.push(T||O?1:0)},function(_){var E=_.stack,T=E.pop();w.DEBUG&&console.log(_.step,"NOT[]",T),E.push(T?0:1)},Zo.bind(void 0,1),function(_){var E=_.stack.pop();w.DEBUG&&console.log(_.step,"SDB[]",E),_.deltaBase=E},function(_){var E=_.stack.pop();w.DEBUG&&console.log(_.step,"SDS[]",E),_.deltaShift=Math.pow(.5,E)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"ADD[]",T,O),E.push(O+T)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"SUB[]",T,O),E.push(O-T)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"DIV[]",T,O),E.push(64*O/T)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"MUL[]",T,O),E.push(O*T/64)},function(_){var E=_.stack,T=E.pop();w.DEBUG&&console.log(_.step,"ABS[]",T),E.push(Math.abs(T))},function(_){var E=_.stack,T=E.pop();w.DEBUG&&console.log(_.step,"NEG[]",T),E.push(-T)},function(_){var E=_.stack,T=E.pop();w.DEBUG&&console.log(_.step,"FLOOR[]",T),E.push(64*Math.floor(T/64))},function(_){var E=_.stack,T=E.pop();w.DEBUG&&console.log(_.step,"CEILING[]",T),E.push(64*Math.ceil(T/64))},yl.bind(void 0,0),yl.bind(void 0,1),yl.bind(void 0,2),yl.bind(void 0,3),void 0,void 0,void 0,void 0,function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"WCVTF[]",T,O),_.cvt[O]=T*_.ppem/_.font.unitsPerEm},Zo.bind(void 0,2),Zo.bind(void 0,3),Vp.bind(void 0,1),Vp.bind(void 0,2),Vp.bind(void 0,3),function(_){var E,T=_.stack.pop();switch(w.DEBUG&&console.log(_.step,"SROUND[]",T),_.round=Bp,192&T){case 0:E=.5;break;case 64:E=1;break;case 128:E=2;break;default:throw new Error("invalid SROUND value")}switch(_.srPeriod=E,48&T){case 0:_.srPhase=0;break;case 16:_.srPhase=.25*E;break;case 32:_.srPhase=.5*E;break;case 48:_.srPhase=.75*E;break;default:throw new Error("invalid SROUND value")}_.srThreshold=0==(T&=15)?0:(T/8-.5)*E},function(_){var E,T=_.stack.pop();switch(w.DEBUG&&console.log(_.step,"S45ROUND[]",T),_.round=Bp,192&T){case 0:E=Math.sqrt(2)/2;break;case 64:E=Math.sqrt(2);break;case 128:E=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(_.srPeriod=E,48&T){case 0:_.srPhase=0;break;case 16:_.srPhase=.25*E;break;case 32:_.srPhase=.5*E;break;case 48:_.srPhase=.75*E;break;default:throw new Error("invalid S45ROUND value")}_.srThreshold=0==(T&=15)?0:(T/8-.5)*E},void 0,void 0,function(_){w.DEBUG&&console.log(_.step,"ROFF[]"),_.round=Ty},void 0,function(_){w.DEBUG&&console.log(_.step,"RUTG[]"),_.round=oh},function(_){w.DEBUG&&console.log(_.step,"RDTG[]"),_.round=Np},Oy,Oy,void 0,void 0,void 0,void 0,void 0,function(_){var E=_.stack.pop();w.DEBUG&&console.log(_.step,"SCANCTRL[]",E)},xi.bind(void 0,0),xi.bind(void 0,1),function(_){var E=_.stack,T=E.pop(),O=0;w.DEBUG&&console.log(_.step,"GETINFO[]",T),1&T&&(O=35),32&T&&(O|=4096),E.push(O)},void 0,function(_){var E=_.stack,T=E.pop(),O=E.pop(),U=E.pop();w.DEBUG&&console.log(_.step,"ROLL[]"),E.push(O),E.push(T),E.push(U)},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"MAX[]",T,O),E.push(Math.max(O,T))},function(_){var E=_.stack,T=E.pop(),O=E.pop();w.DEBUG&&console.log(_.step,"MIN[]",T,O),E.push(Math.min(O,T))},function(_){var E=_.stack.pop();w.DEBUG&&console.log(_.step,"SCANTYPE[]",E)},function(_){var E=_.stack.pop(),T=_.stack.pop();switch(w.DEBUG&&console.log(_.step,"INSTCTRL[]",E,T),E){case 1:return void(_.inhibitGridFit=!!T);case 2:return void(_.ignoreCvt=!!T);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,_l.bind(void 0,1),_l.bind(void 0,2),_l.bind(void 0,3),_l.bind(void 0,4),_l.bind(void 0,5),_l.bind(void 0,6),_l.bind(void 0,7),_l.bind(void 0,8),Ha.bind(void 0,1),Ha.bind(void 0,2),Ha.bind(void 0,3),Ha.bind(void 0,4),Ha.bind(void 0,5),Ha.bind(void 0,6),Ha.bind(void 0,7),Ha.bind(void 0,8),Bn.bind(void 0,0,0,0,0,0),Bn.bind(void 0,0,0,0,0,1),Bn.bind(void 0,0,0,0,0,2),Bn.bind(void 0,0,0,0,0,3),Bn.bind(void 0,0,0,0,1,0),Bn.bind(void 0,0,0,0,1,1),Bn.bind(void 0,0,0,0,1,2),Bn.bind(void 0,0,0,0,1,3),Bn.bind(void 0,0,0,1,0,0),Bn.bind(void 0,0,0,1,0,1),Bn.bind(void 0,0,0,1,0,2),Bn.bind(void 0,0,0,1,0,3),Bn.bind(void 0,0,0,1,1,0),Bn.bind(void 0,0,0,1,1,1),Bn.bind(void 0,0,0,1,1,2),Bn.bind(void 0,0,0,1,1,3),Bn.bind(void 0,0,1,0,0,0),Bn.bind(void 0,0,1,0,0,1),Bn.bind(void 0,0,1,0,0,2),Bn.bind(void 0,0,1,0,0,3),Bn.bind(void 0,0,1,0,1,0),Bn.bind(void 0,0,1,0,1,1),Bn.bind(void 0,0,1,0,1,2),Bn.bind(void 0,0,1,0,1,3),Bn.bind(void 0,0,1,1,0,0),Bn.bind(void 0,0,1,1,0,1),Bn.bind(void 0,0,1,1,0,2),Bn.bind(void 0,0,1,1,0,3),Bn.bind(void 0,0,1,1,1,0),Bn.bind(void 0,0,1,1,1,1),Bn.bind(void 0,0,1,1,1,2),Bn.bind(void 0,0,1,1,1,3),Bn.bind(void 0,1,0,0,0,0),Bn.bind(void 0,1,0,0,0,1),Bn.bind(void 0,1,0,0,0,2),Bn.bind(void 0,1,0,0,0,3),Bn.bind(void 0,1,0,0,1,0),Bn.bind(void 0,1,0,0,1,1),Bn.bind(void 0,1,0,0,1,2),Bn.bind(void 0,1,0,0,1,3),Bn.bind(void 0,1,0,1,0,0),Bn.bind(void 0,1,0,1,0,1),Bn.bind(void 0,1,0,1,0,2),Bn.bind(void 0,1,0,1,0,3),Bn.bind(void 0,1,0,1,1,0),Bn.bind(void 0,1,0,1,1,1),Bn.bind(void 0,1,0,1,1,2),Bn.bind(void 0,1,0,1,1,3),Bn.bind(void 0,1,1,0,0,0),Bn.bind(void 0,1,1,0,0,1),Bn.bind(void 0,1,1,0,0,2),Bn.bind(void 0,1,1,0,0,3),Bn.bind(void 0,1,1,0,1,0),Bn.bind(void 0,1,1,0,1,1),Bn.bind(void 0,1,1,0,1,2),Bn.bind(void 0,1,1,0,1,3),Bn.bind(void 0,1,1,1,0,0),Bn.bind(void 0,1,1,1,0,1),Bn.bind(void 0,1,1,1,0,2),Bn.bind(void 0,1,1,1,0,3),Bn.bind(void 0,1,1,1,1,0),Bn.bind(void 0,1,1,1,1,1),Bn.bind(void 0,1,1,1,1,2),Bn.bind(void 0,1,1,1,1,3)];var Fy=Array.from||function(_){return _.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function bn(_){(_=_||{}).empty||(Wu(_.familyName,"When creating a new Font object, familyName is required."),Wu(_.styleName,"When creating a new Font object, styleName is required."),Wu(_.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Wu(_.ascender,"When creating a new Font object, ascender is required."),Wu(_.descender,"When creating a new Font object, descender is required."),Wu(_.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:_.familyName||" "},fontSubfamily:{en:_.styleName||" "},fullName:{en:_.fullName||_.familyName+" "+_.styleName},postScriptName:{en:_.postScriptName||(_.familyName+_.styleName).replace(/\s/g,"")},designer:{en:_.designer||" "},designerURL:{en:_.designerURL||" "},manufacturer:{en:_.manufacturer||" "},manufacturerURL:{en:_.manufacturerURL||" "},license:{en:_.license||" "},licenseURL:{en:_.licenseURL||" "},version:{en:_.version||"Version 0.1"},description:{en:_.description||" "},copyright:{en:_.copyright||" "},trademark:{en:_.trademark||" "}},this.unitsPerEm=_.unitsPerEm||1e3,this.ascender=_.ascender,this.descender=_.descender,this.createdTimestamp=_.createdTimestamp,this.tables={os2:{usWeightClass:_.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:_.widthClass||this.usWidthClasses.MEDIUM,fsSelection:_.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new $n.GlyphSet(this,_.glyphs||[]),this.encoding=new pt(this),this.position=new Fp(this),this.substitution=new Ua(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new sh(this):void 0}})}function kt(_,E,T,O){var U={},$=new Ht.Parser(_,E);U.name=O[$.parseUShort()]||{},$.skip("uShort",1),U.coordinates={};for(var re=0;re<T.length;++re)U.coordinates[T[re].tag]=$.parseFixed();return U}bn.prototype.hasChar=function(_){return null!==this.encoding.charToGlyphIndex(_)},bn.prototype.charToGlyphIndex=function(_){return this.encoding.charToGlyphIndex(_)},bn.prototype.charToGlyph=function(_){var E=this.charToGlyphIndex(_);return this.glyphs.get(E)||this.glyphs.get(0)},bn.prototype.stringToGlyphs=function(_,E){E=E||this.defaultRenderOptions;for(var T=Fy(_),O=[],U=0;U<T.length;U+=1)O.push(this.charToGlyphIndex(T[U]));var re=O.length;if(E.features){var ce=E.script||this.substitution.getDefaultScriptName(),ye=[];E.features.liga&&(ye=ye.concat(this.substitution.getFeature("liga",ce,E.language))),E.features.rlig&&(ye=ye.concat(this.substitution.getFeature("rlig",ce,E.language)));for(var Ie=0;Ie<re;Ie+=1)for(var et=0;et<ye.length;et++){for(var dt=ye[et],be=dt.sub,hn=be.length,Xt=0;Xt<hn&&be[Xt]===O[Ie+Xt];)Xt++;Xt===hn&&(O.splice(Ie,hn,dt.by),re=re-hn+1)}}for(var Lt=new Array(re),wt=this.glyphs.get(0),Ct=0;Ct<re;Ct+=1)Lt[Ct]=this.glyphs.get(O[Ct])||wt;return Lt},bn.prototype.nameToGlyphIndex=function(_){return this.glyphNames.nameToGlyphIndex(_)},bn.prototype.nameToGlyph=function(_){var E=this.nameToGlyphIndex(_);return this.glyphs.get(E)||this.glyphs.get(0)},bn.prototype.glyphIndexToName=function(_){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(_):""},bn.prototype.getKerningValue=function(_,E){_=_.index||_,E=E.index||E;var T=this.position.defaultKerningTables;return T?this.position.getKerningValue(T,_,E):this.kerningPairs[_+","+E]||0},bn.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},bn.prototype.forEachGlyph=function(_,E,T,O,U,$){E=void 0!==E?E:0,T=void 0!==T?T:0;var re,ce=1/this.unitsPerEm*(O=void 0!==O?O:72),ye=this.stringToGlyphs(_,U=U||this.defaultRenderOptions);if(U.kerning){var Ie=U.script||this.position.getDefaultScriptName();re=this.position.getKerningTables(Ie,U.language)}for(var et=0;et<ye.length;et+=1){var dt=ye[et];$.call(this,dt,E,T,O,U),dt.advanceWidth&&(E+=dt.advanceWidth*ce),U.kerning&&et<ye.length-1&&(E+=(re?this.position.getKerningValue(re,dt.index,ye[et+1].index):this.getKerningValue(dt,ye[et+1]))*ce),U.letterSpacing?E+=U.letterSpacing*O:U.tracking&&(E+=U.tracking/1e3*O)}return E},bn.prototype.getPath=function(_,E,T,O,U){var $=new Ve;return this.forEachGlyph(_,E,T,O,U,function(re,ce,ye,Ie){var et=re.getPath(ce,ye,Ie,U,this);$.extend(et)}),$},bn.prototype.getPaths=function(_,E,T,O,U){var $=[];return this.forEachGlyph(_,E,T,O,U,function(re,ce,ye,Ie){var et=re.getPath(ce,ye,Ie,U,this);$.push(et)}),$},bn.prototype.getAdvanceWidth=function(_,E,T){return this.forEachGlyph(_,0,0,E,T,function(){})},bn.prototype.draw=function(_,E,T,O,U,$){this.getPath(E,T,O,U,$).draw(_)},bn.prototype.drawPoints=function(_,E,T,O,U,$){this.forEachGlyph(E,T,O,U,$,function(re,ce,ye,Ie){re.drawPoints(_,ce,ye,Ie)})},bn.prototype.drawMetrics=function(_,E,T,O,U,$){this.forEachGlyph(E,T,O,U,$,function(re,ce,ye,Ie){re.drawMetrics(_,ce,ye,Ie)})},bn.prototype.getEnglishName=function(_){var E=this.names[_];if(E)return E.en},bn.prototype.validate=function(){var _=this;function E(T){var O=_.getEnglishName(T);O&&O.trim()}E("fontFamily"),E("weightName"),E("manufacturer"),E("copyright"),E("version")},bn.prototype.toTables=function(){return Co_fontToTable(this)},bn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},bn.prototype.toArrayBuffer=function(){for(var _=this.toTables().encode(),E=new ArrayBuffer(_.length),T=new Uint8Array(E),O=0;O<_.length;O++)T[O]=_[O];return E},bn.prototype.download=function(_){var E=this.getEnglishName("fontFamily"),T=this.getEnglishName("fontSubfamily");_=_||E.replace(/\s/g,"")+"-"+T+".otf";var O=this.toArrayBuffer();if("undefined"!=typeof window)window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,O.byteLength,function(re){re.root.getFile(_,{create:!0},function(ce){ce.createWriter(function(ye){var Ie=new DataView(O),et=new Blob([Ie],{type:"font/opentype"});ye.write(et),ye.addEventListener("writeend",function(){location.href=ce.toURL()},!1)})})},function(re){throw new Error(re.name+": "+re.message)});else{var U=h("fs"),$=function(re){for(var ce=new k(re.byteLength),ye=new Uint8Array(re),Ie=0;Ie<ce.length;++Ie)ce[Ie]=ye[Ie];return ce}(O);U.writeFileSync(_,$)}},bn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},bn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},bn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var po_parse=function(_,E,T){var O=new Ht.Parser(_,E),U=O.parseULong();De.argument(65536===U,"Unsupported fvar table version.");var $=O.parseOffset16();O.skip("uShort",1);for(var ye,Ie,et,dt=O.parseUShort(),be=O.parseUShort(),hn=O.parseUShort(),Xt=O.parseUShort(),Lt=[],wt=0;wt<dt;wt++)Lt.push((ye=T,et=Ie=void 0,Ie={},et=new Ht.Parser(_,E+$+wt*be),Ie.tag=et.parseTag(),Ie.minValue=et.parseFixed(),Ie.defaultValue=et.parseFixed(),Ie.maxValue=et.parseFixed(),et.skip("uShort",1),Ie.name=ye[et.parseUShort()]||{},Ie));for(var Ct=[],Rn=E+$+dt*be,Sn=0;Sn<hn;Sn++)Ct.push(kt(_,Rn+Sn*Xt,Lt,T));return{axes:Lt,instances:Ct}},Dr=new Array(10);Dr[1]=function(){var _=this.offset+this.relativeOffset,E=this.parseUShort();return 1===E?{posFormat:1,coverage:this.parsePointer(it.coverage),value:this.parseValueRecord()}:2===E?{posFormat:2,coverage:this.parsePointer(it.coverage),values:this.parseValueRecordList()}:void De.assert(!1,"0x"+_.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Dr[2]=function(){var _=this.offset+this.relativeOffset,E=this.parseUShort();De.assert(1===E||2===E,"0x"+_.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var T=this.parsePointer(it.coverage),O=this.parseUShort(),U=this.parseUShort();if(1===E)return{posFormat:E,coverage:T,valueFormat1:O,valueFormat2:U,pairSets:this.parseList(it.pointer(it.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(O),value2:this.parseValueRecord(U)}})))};if(2===E){var $=this.parsePointer(it.classDef),re=this.parsePointer(it.classDef),ce=this.parseUShort(),ye=this.parseUShort();return{posFormat:E,coverage:T,valueFormat1:O,valueFormat2:U,classDef1:$,classDef2:re,class1Count:ce,class2Count:ye,classRecords:this.parseList(ce,it.list(ye,function(){return{value1:this.parseValueRecord(O),value2:this.parseValueRecord(U)}}))}}},Dr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Dr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Dr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Dr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Dr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Dr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Dr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var nc_parse=function(_,E){var T=new it(_,E=E||0),O=T.parseVersion(1);return De.argument(1===O||1.1===O,"Unsupported GPOS table version "+O),1===O?{version:O,scripts:T.parseScriptList(),features:T.parseFeatureList(),lookups:T.parseLookupList(Dr)}:{version:O,scripts:T.parseScriptList(),features:T.parseFeatureList(),lookups:T.parseLookupList(Dr),variations:T.parseFeatureVariationsList()}},Uo_parse=function(_,E){var T=new Ht.Parser(_,E),O=T.parseUShort();if(0===O)return function(U){var $={};U.skip("uShort");var re=U.parseUShort();De.argument(0===re,"Unsupported kern sub-table version."),U.skip("uShort",2);var ce=U.parseUShort();U.skip("uShort",3);for(var ye=0;ye<ce;ye+=1){var Ie=U.parseUShort(),et=U.parseUShort(),dt=U.parseShort();$[Ie+","+et]=dt}return $}(T);if(1===O)return function(U){var $={};U.skip("uShort"),1<U.parseULong()&&console.warn("Only the first kern subtable is supported."),U.skip("uLong");var re=255&U.parseUShort();if(U.skip("uShort"),0==re){var ce=U.parseUShort();U.skip("uShort",3);for(var ye=0;ye<ce;ye+=1){var Ie=U.parseUShort(),et=U.parseUShort(),dt=U.parseShort();$[Ie+","+et]=dt}}return $}(T);throw new Error("Unsupported kern table version ("+O+").")},ch_parse=function(_,E,T,O){for(var U=new Ht.Parser(_,E),$=O?U.parseUShort:U.parseULong,re=[],ce=0;ce<T+1;ce+=1){var ye=$.call(U);O&&(ye*=2),re.push(ye)}return re};function Up(_,E){h("fs").readFile(_,function(T,O){if(T)return E(T.message);E(null,Ey(O))})}function Yu(_,E){var T=new XMLHttpRequest;T.open("get",_,!0),T.responseType="arraybuffer",T.onload=function(){return T.response?E(null,T.response):E("Font could not be loaded: "+T.statusText)},T.onerror=function(){E("Font could not be loaded")},T.send()}function Xu(_,E){for(var T=[],O=12,U=0;U<E;U+=1){var $=Ht.getTag(_,O),re=Ht.getULong(_,O+4),ce=Ht.getULong(_,O+8),ye=Ht.getULong(_,O+12);T.push({tag:$,checksum:re,offset:ce,length:ye,compression:!1}),O+=16}return T}function Ar(_,E){if("WOFF"!==E.compression)return{data:_,offset:E.offset};var T=new Uint8Array(_.buffer,E.offset+2,E.compressedLength-2),O=new Uint8Array(E.length);if(function(_,E){var T,O,U=new d(_,E);do{switch(T=Z(U),ne(U,2,0)){case 0:O=Fe(U);break;case 1:O=oe(U,p,m);break;case 2:se(U,U.ltree,U.dtree),O=oe(U,U.ltree,U.dtree);break;default:O=-3}if(0!==O)throw new Error("Data error")}while(!T);U.destLen<U.dest.length&&("function"==typeof U.dest.slice?U.dest.slice(0,U.destLen):U.dest.subarray(0,U.destLen))}(T,O),O.byteLength!==E.length)throw new Error("Decompression error: "+E.tag+" decompressed length doesn't match recorded length");return{data:new DataView(O.buffer,0),offset:0}}function ys(_){var E,T,O,U,$,re,ce,ye,Ie,et,dt,be,hn,Xt,Lt=new bn({empty:!0}),wt=new DataView(_,0),Ct=[],Rn=Ht.getTag(wt,0);if(Rn===String.fromCharCode(0,1,0,0)||"true"===Rn||"typ1"===Rn)Lt.outlinesFormat="truetype",Ct=Xu(wt,O=Ht.getUShort(wt,4));else if("OTTO"===Rn)Lt.outlinesFormat="cff",Ct=Xu(wt,O=Ht.getUShort(wt,4));else{if("wOFF"!==Rn)throw new Error("Unsupported OpenType signature "+Rn);var Sn=Ht.getTag(wt,4);if(Sn===String.fromCharCode(0,1,0,0))Lt.outlinesFormat="truetype";else{if("OTTO"!==Sn)throw new Error("Unsupported OpenType flavor "+Rn);Lt.outlinesFormat="cff"}Ct=function(Qi,is){for(var Tr=[],Pr=44,Ga=0;Ga<is;Ga+=1){var Zu=Ht.getTag(Qi,Pr),jc=Ht.getULong(Qi,Pr+4),Ko=Ht.getULong(Qi,Pr+8),Vc=Ht.getULong(Qi,Pr+12);Tr.push({tag:Zu,offset:jc,compression:Ko<Vc&&"WOFF",compressedLength:Ko,length:Vc}),Pr+=20}return Tr}(wt,O=Ht.getUShort(wt,12))}for(var li=0;li<O;li+=1){var _n=Ct[li],Zn=void 0;switch(_n.tag){case"cmap":Zn=Ar(wt,_n),Lt.tables.cmap=de_parse(Zn.data,Zn.offset),Lt.encoding=new Dt(Lt.tables.cmap);break;case"cvt ":Zn=Ar(wt,_n),Xt=new Ht.Parser(Zn.data,Zn.offset),Lt.tables.cvt=Xt.parseShortList(_n.length/2);break;case"fvar":$=_n;break;case"fpgm":Zn=Ar(wt,_n),Xt=new Ht.Parser(Zn.data,Zn.offset),Lt.tables.fpgm=Xt.parseByteList(_n.length);break;case"head":Zn=Ar(wt,_n),Lt.tables.head=Jt_parse(Zn.data,Zn.offset),Lt.unitsPerEm=Lt.tables.head.unitsPerEm,E=Lt.tables.head.indexToLocFormat;break;case"hhea":Zn=Ar(wt,_n),Lt.tables.hhea=In_parse(Zn.data,Zn.offset),Lt.ascender=Lt.tables.hhea.ascender,Lt.descender=Lt.tables.hhea.descender,Lt.numberOfHMetrics=Lt.tables.hhea.numberOfHMetrics;break;case"hmtx":Ie=_n;break;case"ltag":Zn=Ar(wt,_n),T=Vi_parse(Zn.data,Zn.offset);break;case"maxp":Zn=Ar(wt,_n),Lt.tables.maxp=Zi_parse(Zn.data,Zn.offset),Lt.numGlyphs=Lt.tables.maxp.numGlyphs;break;case"name":be=_n;break;case"OS/2":Zn=Ar(wt,_n),Lt.tables.os2=Li_parse(Zn.data,Zn.offset);break;case"post":Zn=Ar(wt,_n),Lt.tables.post=Mi_parse(Zn.data,Zn.offset),Lt.glyphNames=new nt(Lt.tables.post);break;case"prep":Zn=Ar(wt,_n),Xt=new Ht.Parser(Zn.data,Zn.offset),Lt.tables.prep=Xt.parseByteList(_n.length);break;case"glyf":re=_n;break;case"loca":dt=_n;break;case"CFF ":U=_n;break;case"kern":et=_n;break;case"GPOS":ce=_n;break;case"GSUB":ye=_n;break;case"meta":hn=_n}}var Nr=Ar(wt,be);if(Lt.tables.name=ih_parse(Nr.data,Nr.offset,T),Lt.names=Lt.tables.name,re&&dt){var yi=0===E,di=Ar(wt,dt),Oi=ch_parse(di.data,di.offset,Lt.numGlyphs,yi),Ki=Ar(wt,re);Lt.glyphs=Xn.parse(Ki.data,Ki.offset,Oi,Lt)}else{if(!U)throw new Error("Font doesn't contain TrueType or CFF outlines.");var Yi=Ar(wt,U);fn_parse(Yi.data,Yi.offset,Lt)}var zi=Ar(wt,Ie);if(jt_parse(zi.data,zi.offset,Lt.numberOfHMetrics,Lt.numGlyphs,Lt.glyphs),function(Qi){for(var is,Tr=Qi.tables.cmap.glyphIndexMap,Pr=Object.keys(Tr),Ga=0;Ga<Pr.length;Ga+=1){var Zu=Pr[Ga];(is=Qi.glyphs.get(Tr[Zu])).addUnicode(parseInt(Zu))}for(var Ko=0;Ko<Qi.glyphs.length;Ko+=1)is=Qi.glyphs.get(Ko),Qi.cffEncoding?is.name=Qi.isCIDFont?"gid"+Ko:Qi.cffEncoding.charset[Ko]:Qi.glyphNames.names&&(is.name=Qi.glyphNames.glyphIndexToName(Ko))}(Lt),et){var or=Ar(wt,et);Lt.kerningPairs=Uo_parse(or.data,or.offset)}else Lt.kerningPairs={};if(ce){var ar=Ar(wt,ce);Lt.tables.gpos=nc_parse(ar.data,ar.offset),Lt.position.init()}if(ye){var kr=Ar(wt,ye);Lt.tables.gsub=rh_parse(kr.data,kr.offset)}if($){var hr=Ar(wt,$);Lt.tables.fvar=po_parse(hr.data,hr.offset,Lt.names)}if(hn){var Qr=Ar(wt,hn);Lt.tables.meta=gi_parse(Qr.data,Qr.offset),Lt.metas=Lt.tables.meta}return Lt}w.Font=bn,w.Glyph=Ln,w.Path=Ve,w.BoundingBox=Ue,w._parse=Ht,w.parse=ys,w.load=function(_,E){("undefined"==typeof window?Up:Yu)(_,function(T,O){if(T)return E(T);var U;try{U=ys(O)}catch($){return E($,null)}return E(null,U)})},w.loadSync=function(_){return ys(Ey(h("fs").readFileSync(_)))},Object.defineProperty(w,"__esModule",{value:!0})}("object"==typeof j&&void 0!==te?j:this.opentype={})}).call(this,h("buffer").Buffer)},{buffer:4,fs:2}],237:[function(h,te,j){(function(k){function g(M,b){for(var f=0,u=M.length-1;0<=u;u--){var d=M[u];"."===d?M.splice(u,1):".."===d?(M.splice(u,1),f++):f&&(M.splice(u,1),f--)}if(b)for(;f--;)M.unshift("..");return M}function w(M,b){if(M.filter)return M.filter(b);for(var f=[],u=0;u<M.length;u++)b(M[u],u,M)&&f.push(M[u]);return f}j.resolve=function(){for(var M="",b=!1,f=arguments.length-1;-1<=f&&!b;f--){var u=0<=f?arguments[f]:k.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(M=u+"/"+M,b="/"===u.charAt(0))}return(b?"/":"")+(M=g(w(M.split("/"),function(d){return!!d}),!b).join("/"))||"."},j.normalize=function(M){var b=j.isAbsolute(M),f="/"===S(M,-1);return(M=g(w(M.split("/"),function(u){return!!u}),!b).join("/"))||b||(M="."),M&&f&&(M+="/"),(b?"/":"")+M},j.isAbsolute=function(M){return"/"===M.charAt(0)},j.join=function(){var M=Array.prototype.slice.call(arguments,0);return j.normalize(w(M,function(b,f){if("string"!=typeof b)throw new TypeError("Arguments to path.join must be strings");return b}).join("/"))},j.relative=function(M,b){function f(I){for(var R=0;R<I.length&&""===I[R];R++);for(var B=I.length-1;0<=B&&""===I[B];B--);return B<R?[]:I.slice(R,B-R+1)}M=j.resolve(M).substr(1),b=j.resolve(b).substr(1);for(var u=f(M.split("/")),d=f(b.split("/")),p=Math.min(u.length,d.length),m=p,v=0;v<p;v++)if(u[v]!==d[v]){m=v;break}var D=[];for(v=m;v<u.length;v++)D.push("..");return(D=D.concat(d.slice(m))).join("/")},j.sep="/",j.delimiter=":",j.dirname=function(M){if("string"!=typeof M&&(M+=""),0===M.length)return".";for(var b=M.charCodeAt(0),f=47===b,u=-1,d=!0,p=M.length-1;1<=p;--p)if(47===(b=M.charCodeAt(p))){if(!d){u=p;break}}else d=!1;return-1===u?f?"/":".":f&&1===u?"/":M.slice(0,u)},j.basename=function(M,b){var f=function(u){"string"!=typeof u&&(u+="");var d,p=0,m=-1,v=!0;for(d=u.length-1;0<=d;--d)if(47===u.charCodeAt(d)){if(!v){p=d+1;break}}else-1===m&&(v=!1,m=d+1);return-1===m?"":u.slice(p,m)}(M);return b&&f.substr(-1*b.length)===b&&(f=f.substr(0,f.length-b.length)),f},j.extname=function(M){"string"!=typeof M&&(M+="");for(var b=-1,f=0,u=-1,d=!0,p=0,m=M.length-1;0<=m;--m){var v=M.charCodeAt(m);if(47===v){if(d)continue;f=m+1;break}-1===u&&(d=!1,u=m+1),46===v?-1===b?b=m:1!==p&&(p=1):-1!==b&&(p=-1)}return-1===b||-1===u||0===p||1===p&&b===u-1&&b===f+1?"":M.slice(b,u)};var S=function(M,b,f){return M.substr(b,f)}}).call(this,h("_process"))},{_process:238}],238:[function(h,te,j){var k,g,w=te.exports={};function S(){throw new Error("setTimeout has not been defined")}function M(){throw new Error("clearTimeout has not been defined")}function b(R){if(k===setTimeout)return setTimeout(R,0);if((k===S||!k)&&setTimeout)return k=setTimeout,setTimeout(R,0);try{return k(R,0)}catch(B){try{return k.call(null,R,0)}catch(V){return k.call(this,R,0)}}}!function(){try{k="function"==typeof setTimeout?setTimeout:S}catch(R){k=S}try{g="function"==typeof clearTimeout?clearTimeout:M}catch(R){g=M}}();var f,u=[],d=!1,p=-1;function m(){d&&f&&(d=!1,f.length?u=f.concat(u):p=-1,u.length&&v())}function v(){if(!d){var R=b(m);d=!0;for(var B=u.length;B;){for(f=u,u=[];++p<B;)f&&f[p].run();p=-1,B=u.length}f=null,d=!1,function(V){if(g===clearTimeout)return clearTimeout(V);if((g===M||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(V);try{g(V)}catch(G){try{return g.call(null,V)}catch(K){return g.call(this,V)}}}(R)}}function D(R,B){this.fun=R,this.array=B}function I(){}w.nextTick=function(R){var B=new Array(arguments.length-1);if(1<arguments.length)for(var V=1;V<arguments.length;V++)B[V-1]=arguments[V];u.push(new D(R,B)),1!==u.length||d||b(v)},D.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={},w.on=I,w.addListener=I,w.once=I,w.off=I,w.removeListener=I,w.removeAllListeners=I,w.emit=I,w.prependListener=I,w.prependOnceListener=I,w.listeners=function(R){return[]},w.binding=function(R){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(R){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},{}],239:[function(h,te,j){!function(k){"use strict";if(!k.fetch){var g="URLSearchParams"in k,w="Symbol"in k&&"iterator"in Symbol,S="FileReader"in k&&"Blob"in k&&function(){try{return new Blob,!0}catch(X){return!1}}(),M="FormData"in k,b="ArrayBuffer"in k;if(b)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=function(X){return X&&DataView.prototype.isPrototypeOf(X)},d=ArrayBuffer.isView||function(X){return X&&-1<f.indexOf(Object.prototype.toString.call(X))};R.prototype.append=function(X,se){X=v(X),se=D(se);var oe=this.map[X];this.map[X]=oe?oe+","+se:se},R.prototype.delete=function(X){delete this.map[v(X)]},R.prototype.get=function(X){return X=v(X),this.has(X)?this.map[X]:null},R.prototype.has=function(X){return this.map.hasOwnProperty(v(X))},R.prototype.set=function(X,se){this.map[v(X)]=D(se)},R.prototype.forEach=function(X,se){for(var oe in this.map)this.map.hasOwnProperty(oe)&&X.call(se,this.map[oe],oe,this)},R.prototype.keys=function(){var X=[];return this.forEach(function(se,oe){X.push(oe)}),I(X)},R.prototype.values=function(){var X=[];return this.forEach(function(se){X.push(se)}),I(X)},R.prototype.entries=function(){var X=[];return this.forEach(function(se,oe){X.push([oe,se])}),I(X)},w&&(R.prototype[Symbol.iterator]=R.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];W.prototype.clone=function(){return new W(this,{body:this._bodyInit})},Q.call(W.prototype),Q.call(ne.prototype),ne.prototype.clone=function(){return new ne(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new R(this.headers),url:this.url})},ne.error=function(){var X=new ne(null,{status:0,statusText:""});return X.type="error",X};var m=[301,302,303,307,308];ne.redirect=function(X,se){if(-1===m.indexOf(se))throw new RangeError("Invalid status code");return new ne(null,{status:se,headers:{location:X}})},k.Headers=R,k.Request=W,k.Response=ne,k.fetch=function(X,se){return new Promise(function(oe,Fe){var Be=new W(X,se),xe=new XMLHttpRequest;xe.onload=function(){var Ue,Ve,Oe={status:xe.status,statusText:xe.statusText,headers:(Ue=xe.getAllResponseHeaders()||"",Ve=new R,Ue.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(De){var lt=De.split(":"),Ke=lt.shift().trim();if(Ke){var ct=lt.join(":").trim();Ve.append(Ke,ct)}}),Ve)};Oe.url="responseURL"in xe?xe.responseURL:Oe.headers.get("X-Request-URL"),oe(new ne("response"in xe?xe.response:xe.responseText,Oe))},xe.onerror=function(){Fe(new TypeError("Network request failed"))},xe.ontimeout=function(){Fe(new TypeError("Network request failed"))},xe.open(Be.method,Be.url,!0),"include"===Be.credentials?xe.withCredentials=!0:"omit"===Be.credentials&&(xe.withCredentials=!1),"responseType"in xe&&S&&(xe.responseType="blob"),Be.headers.forEach(function(Ue,Ve){xe.setRequestHeader(Ve,Ue)}),xe.send(void 0===Be._bodyInit?null:Be._bodyInit)})},k.fetch.polyfill=!0}function v(X){if("string"!=typeof X&&(X=String(X)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(X))throw new TypeError("Invalid character in header field name");return X.toLowerCase()}function D(X){return"string"!=typeof X&&(X=String(X)),X}function I(X){var se={next:function(){var oe=X.shift();return{done:void 0===oe,value:oe}}};return w&&(se[Symbol.iterator]=function(){return se}),se}function R(X){this.map={},X instanceof R?X.forEach(function(se,oe){this.append(oe,se)},this):Array.isArray(X)?X.forEach(function(se){this.append(se[0],se[1])},this):X&&Object.getOwnPropertyNames(X).forEach(function(se){this.append(se,X[se])},this)}function B(X){if(X.bodyUsed)return Promise.reject(new TypeError("Already read"));X.bodyUsed=!0}function V(X){return new Promise(function(se,oe){X.onload=function(){se(X.result)},X.onerror=function(){oe(X.error)}})}function G(X){var se=new FileReader,oe=V(se);return se.readAsArrayBuffer(X),oe}function K(X){if(X.slice)return X.slice(0);var se=new Uint8Array(X.byteLength);return se.set(new Uint8Array(X)),se.buffer}function Q(){return this.bodyUsed=!1,this._initBody=function(X){if(this._bodyInit=X)if("string"==typeof X)this._bodyText=X;else if(S&&Blob.prototype.isPrototypeOf(X))this._bodyBlob=X;else if(M&&FormData.prototype.isPrototypeOf(X))this._bodyFormData=X;else if(g&&URLSearchParams.prototype.isPrototypeOf(X))this._bodyText=X.toString();else if(b&&S&&u(X))this._bodyArrayBuffer=K(X.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b||!ArrayBuffer.prototype.isPrototypeOf(X)&&!d(X))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=K(X)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof X?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g&&URLSearchParams.prototype.isPrototypeOf(X)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},S&&(this.blob=function(){var X=B(this);if(X)return X;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?B(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(G)}),this.text=function(){var X,se,oe,Fe=B(this);if(Fe)return Fe;if(this._bodyBlob)return X=this._bodyBlob,oe=V(se=new FileReader),se.readAsText(X),oe;if(this._bodyArrayBuffer)return Promise.resolve(function(Be){for(var xe=new Uint8Array(Be),Ue=new Array(xe.length),Ve=0;Ve<xe.length;Ve++)Ue[Ve]=String.fromCharCode(xe[Ve]);return Ue.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},M&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}function W(X,se){var oe,Fe,Be=(se=se||{}).body;if(X instanceof W){if(X.bodyUsed)throw new TypeError("Already read");this.url=X.url,this.credentials=X.credentials,se.headers||(this.headers=new R(X.headers)),this.method=X.method,this.mode=X.mode,Be||null==X._bodyInit||(Be=X._bodyInit,X.bodyUsed=!0)}else this.url=String(X);if(this.credentials=se.credentials||this.credentials||"omit",!se.headers&&this.headers||(this.headers=new R(se.headers)),this.method=(Fe=(oe=se.method||this.method||"GET").toUpperCase(),-1<p.indexOf(Fe)?Fe:oe),this.mode=se.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Be)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Be)}function Z(X){var se=new FormData;return X.trim().split("&").forEach(function(oe){if(oe){var Fe=oe.split("="),Be=Fe.shift().replace(/\+/g," "),xe=Fe.join("=").replace(/\+/g," ");se.append(decodeURIComponent(Be),decodeURIComponent(xe))}}),se}function ne(X,se){se=se||{},this.type="default",this.status=void 0===se.status?200:se.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in se?se.statusText:"OK",this.headers=new R(se.headers),this.url=se.url||"",this._initBody(X)}}("undefined"!=typeof self?self:this)},{}],240:[function(h,te,j){"use strict";h("core-js/modules/es.function.name"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.split"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=S(h("../core/main")),w=S(h("../color/color_conversion"));function S(u){return u&&u.__esModule?u:{default:u}}var M=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],b=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];g.default.prototype._rgbColorName=function(u){var d=w.default._rgbaToHSBA(u);return function(p){var m;if(0!==p[0]){p[0]=Math.round(100*p[0]);var v=p[0].toString().split(""),D=v.length-1;v[D]=parseInt(v[D]),v[D]<2.5?v[D]=0:2.5<=v[D]&&v[D]<7.5&&(v[D]=5),2===v.length?(v[0]=parseInt(v[0]),7.5<=v[D]&&(v[D]=0,v[0]=v[0]+1),p[0]=10*v[0]+v[1]):p[0]=7.5<=v[D]?10:v[D]}p[2]=p[2]/255;for(var I=p.length-1;1<=I;I--)p[I]=p[I]<=.25?0:.25<p[I]&&p[I]<.75?.5:1;if(0===p[0]&&0===p[1]&&1===p[2]){for(var R=2;0<=R;R--)k[R]=Math.round(1e4*k[R])/1e4;for(var B=0;B<M.length;B++){if(M[B].h===k[0]&&M[B].s===k[1]&&M[B].b===k[2]){m=M[B].name;break}m="white"}}else for(var V=0;V<b.length;V++)if(b[V].h===p[0]&&b[V].s===p[1]&&b[V].b===p[2]){m=b[V].name;break}return m}([(k=d)[0],d[1],d[2]])},j.default=g.default},{"../color/color_conversion":246,"../core/main":260,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.split":188}],241:[function(h,te,j){"use strict";h("core-js/modules/es.array.concat"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.string.ends-with"),h("core-js/modules/es.string.replace"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k},w="_Description",S="_fallbackDesc",M="_fallbackTable",b="_Label",f="_labelDesc",u="_labelTable";function d(m){if("label"===m||"fallback"===m)throw new Error("description should not be LABEL or FALLBACK");return m.endsWith(".")||m.endsWith(";")||m.endsWith(",")||m.endsWith("?")||m.endsWith("!")||(m+="."),m}g.default.prototype.describe=function(m,v){if(g.default._validateParameters("describe",arguments),"string"==typeof m){var D=this.canvas.id;m=d(m),this.dummyDOM||(this.dummyDOM=document.getElementById(D).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==m&&(this.descriptions.fallback.innerHTML=m):this._describeHTML("fallback",m),v===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==m&&(this.descriptions.label.innerHTML=m):this._describeHTML("label",m))}},g.default.prototype.describeElement=function(m,v,D){if(g.default._validateParameters("describeElement",arguments),"string"==typeof v&&"string"==typeof m){var I=this.canvas.id;v=d(v);var R=function(V){if("label"===V||"fallback"===V)throw new Error("element name should not be LABEL or FALLBACK");return V.endsWith(".")||V.endsWith(";")||V.endsWith(",")?V=V.replace(/.$/,":"):V.endsWith(":")||(V+=":"),V}(m);m=m.replace(/[^a-zA-Z0-9]/g,"");var B='<th scope="row">'.concat(R,"</th><td>").concat(v,"</td>");this.dummyDOM||(this.dummyDOM=document.getElementById(I).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[m]?this.descriptions.fallbackElements[m].innerHTML!==B&&(this.descriptions.fallbackElements[m].innerHTML=B):this._describeElementHTML("fallback",m,B),D===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[m]?this.descriptions.labelElements[m].innerHTML!==B&&(this.descriptions.labelElements[m].innerHTML=B):this._describeElementHTML("label",m,B))}},g.default.prototype._describeHTML=function(m,v){var D=this.canvas.id;if("fallback"===m){if(this.dummyDOM.querySelector("#".concat(D+w)))this.dummyDOM.querySelector("#"+D+M).insertAdjacentHTML("beforebegin",'<p id="'.concat(D+S,'"></p>'));else{var I='<div id="'.concat(D).concat(w,'" role="region" aria-label="Canvas Description"><p id="').concat(D).concat(S,'"></p></div>');this.dummyDOM.querySelector("#".concat(D,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(D,"accessibleOutput")).insertAdjacentHTML("beforebegin",I):this.dummyDOM.querySelector("#".concat(D)).innerHTML=I}return this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(D).concat(S)),void(this.descriptions.fallback.innerHTML=v)}if("label"===m){if(this.dummyDOM.querySelector("#".concat(D+b)))this.dummyDOM.querySelector("#".concat(D+u))&&this.dummyDOM.querySelector("#".concat(D+u)).insertAdjacentHTML("beforebegin",'<p id="'.concat(D).concat(f,'"></p>'));else{var R='<div id="'.concat(D).concat(b,'" class="p5Label"><p id="').concat(D).concat(f,'"></p></div>');this.dummyDOM.querySelector("#".concat(D,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(D,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",R):this.dummyDOM.querySelector("#"+D).insertAdjacentHTML("afterend",R)}return this.descriptions.label=this.dummyDOM.querySelector("#"+D+f),void(this.descriptions.label.innerHTML=v)}},g.default.prototype._describeElementHTML=function(m,v,D){var I=this.canvas.id;if("fallback"===m){if(this.dummyDOM.querySelector("#".concat(I+w)))this.dummyDOM.querySelector("#"+I+M)||this.dummyDOM.querySelector("#"+I+S).insertAdjacentHTML("afterend",'<table id="'.concat(I).concat(M,'"><caption>Canvas elements and their descriptions</caption></table>'));else{var R='<div id="'.concat(I).concat(w,'" role="region" aria-label="Canvas Description"><table id="').concat(I).concat(M,'"><caption>Canvas elements and their descriptions</caption></table></div>');this.dummyDOM.querySelector("#".concat(I,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(I,"accessibleOutput")).insertAdjacentHTML("beforebegin",R):this.dummyDOM.querySelector("#"+I).innerHTML=R}var B=document.createElement("tr");return B.id=I+"_fte_"+v,this.dummyDOM.querySelector("#"+I+M).appendChild(B),this.descriptions.fallbackElements[v]=this.dummyDOM.querySelector("#".concat(I).concat("_fte_").concat(v)),void(this.descriptions.fallbackElements[v].innerHTML=D)}if("label"===m){if(this.dummyDOM.querySelector("#".concat(I+b)))this.dummyDOM.querySelector("#".concat(I+u))||this.dummyDOM.querySelector("#"+I+f).insertAdjacentHTML("afterend",'<table id="'.concat(I+u,'"></table>'));else{var V='<div id="'.concat(I).concat(b,'" class="p5Label"><table id="').concat(I).concat(u,'"></table></div>');this.dummyDOM.querySelector("#".concat(I,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(I,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",V):this.dummyDOM.querySelector("#"+I).insertAdjacentHTML("afterend",V)}var G=document.createElement("tr");G.id=I+"_lte_"+v,this.dummyDOM.querySelector("#"+I+u).appendChild(G),this.descriptions.labelElements[v]=this.dummyDOM.querySelector("#".concat(I).concat("_lte_").concat(v)),this.descriptions.labelElements[v].innerHTML=D}},j.default=g.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.ends-with":181,"core-js/modules/es.string.replace":186}],242:[function(h,te,j){"use strict";h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.map"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.prototype._updateGridOutput=function(S){if(this.dummyDOM.querySelector("#".concat(S,"_summary"))){var M=this._accessibleOutputs[S],b=function(d,p){var m="",v="",D=0;for(var I in p){var R=0;for(var B in p[I]){var V='<li id="'.concat(d,"shape").concat(D,'">').concat(p[I][B].color," ").concat(I,",");"line"===I?V+=" location = ".concat(p[I][B].pos,", length = ").concat(p[I][B].length," pixels"):(V+=" location = ".concat(p[I][B].pos),"point"!==I&&(V+=", area = ".concat(p[I][B].area," %")),V+="</li>"),m+=V,R++,D++}v=1<R?"".concat(v," ").concat(R," ").concat(I,"s"):"".concat(v," ").concat(R," ").concat(I)}return{numShapes:[D,v],details:m}}(S,this.ingredients.shapes),f=(d=b.numShapes,m=this.width,v=this.height,D="".concat(this.ingredients.colors.background," canvas, ").concat(m," by ").concat(v," pixels, contains ").concat(d[0]),D=1===d[0]?"".concat(D," shape: ").concat(d[1]):"".concat(D," shapes: ").concat(d[1])),u=function(d,p){var m=0,v="",D=Array.apply(null,Array(10)).map(function(){});for(var I in D)D[I]=Array.apply(null,Array(10)).map(function(){});for(var R in p)for(var B in p[R]){var V;V="line"!==R?'<a href="#'.concat(d,"shape").concat(m,'">').concat(p[R][B].color," ").concat(R,"</a>"):'<a href="#'.concat(d,"shape").concat(m,'">').concat(p[R][B].color," ").concat(R," midpoint</a>"),D[p[R][B].loc.locY][p[R][B].loc.locX]=D[p[R][B].loc.locY][p[R][B].loc.locX]?D[p[R][B].loc.locY][p[R][B].loc.locX]+"  "+V:V,m++}for(var G in D){var K="<tr>";for(var Q in D[G])K+="<td>",void 0!==D[G][Q]&&(K+=D[G][Q]),K+="</td>";v=v+K+"</tr>"}return v}(S,this.ingredients.shapes);f!==M.summary.innerHTML&&(M.summary.innerHTML=f),u!==M.map.innerHTML&&(M.map.innerHTML=u),b.details!==M.shapeDetails.innerHTML&&(M.shapeDetails.innerHTML=b.details),this._accessibleOutputs[S]=M}var d,m,v,D},j.default=g.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.map":159}],243:[function(h,te,j){"use strict";h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.map"),h("core-js/modules/es.number.to-fixed"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};function w(b,f,u){return b[0]<.4*f?b[1]<.4*u?"top left":b[1]>.6*u?"bottom left":"mid left":b[0]>.6*f?b[1]<.4*u?"top right":b[1]>.6*u?"bottom right":"mid right":b[1]<.4*u?"top middle":b[1]>.6*u?"bottom middle":"middle"}function S(b,f,u){var d=Math.floor(b[0]/f*10),p=Math.floor(b[1]/u*10);return 10===d&&--d,10===p&&--p,{locX:d,locY:p}}g.default.prototype.textOutput=function(b){g.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),b===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},g.default.prototype.gridOutput=function(b){g.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),b===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},g.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},g.default.prototype._createOutput=function(b,f){var u,d,p,m=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode);var v="";"Fallback"===f?(u=m+b,this.dummyDOM.querySelector("#".concat(d=m+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(m,"_Description"))?this.dummyDOM.querySelector("#".concat(m,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(d,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(m)).innerHTML='<div id="'.concat(d,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===f&&(u=m+b+(v=f),this.dummyDOM.querySelector("#".concat(d=m+"accessibleOutput"+f))||(this.dummyDOM.querySelector("#".concat(m,"_Label"))?this.dummyDOM.querySelector("#".concat(m,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(d,'"></div>')):this.dummyDOM.querySelector("#".concat(m)).insertAdjacentHTML("afterend",'<div id="'.concat(d,'"></div>')))),this._accessibleOutputs[u]={},"textOutput"===b?(v="#".concat(m,"gridOutput").concat(v),p='<div id="'.concat(u,'">Text Output<div id="').concat(u,'Summary" aria-label="text output summary"><p id="').concat(u,'_summary"></p><ul id="').concat(u,'_list"></ul></div><table id="').concat(u,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(v)?this.dummyDOM.querySelector(v).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#".concat(d)).innerHTML=p,this._accessibleOutputs[u].list=this.dummyDOM.querySelector("#".concat(u,"_list"))):"gridOutput"===b&&(v="#".concat(m,"textOutput").concat(v),p='<div id="'.concat(u,'">Grid Output<p id="').concat(u,'_summary" aria-label="grid output summary"><table id="').concat(u,'_map" summary="grid output content"></table><ul id="').concat(u,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(v)?this.dummyDOM.querySelector(v).insertAdjacentHTML("afterend",p):this.dummyDOM.querySelector("#".concat(d)).innerHTML=p,this._accessibleOutputs[u].map=this.dummyDOM.querySelector("#".concat(u,"_map"))),this._accessibleOutputs[u].shapeDetails=this.dummyDOM.querySelector("#".concat(u,"_shapeDetails")),this._accessibleOutputs[u].summary=this.dummyDOM.querySelector("#".concat(u,"_summary"))},g.default.prototype._updateAccsOutput=function(){var b=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(b+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(b+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(b+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(b+"gridOutputLabel"))},g.default.prototype._accsBackground=function(b){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==b&&(this.ingredients.colors.backgroundRGBA=b,this.ingredients.colors.background=this._rgbColorName(b))},g.default.prototype._accsCanvasColors=function(b,f){"fill"===b?this.ingredients.colors.fillRGBA!==f&&(this.ingredients.colors.fillRGBA=f,this.ingredients.colors.fill=this._rgbColorName(f)):"stroke"===b&&this.ingredients.colors.strokeRGBA!==f&&(this.ingredients.colors.strokeRGBA=f,this.ingredients.colors.stroke=this._rgbColorName(f))},g.default.prototype._accsOutput=function(b,f){"ellipse"===b&&f[2]===f[3]?b="circle":"rectangle"===b&&f[2]===f[3]&&(b="square");var I,R,B,V,u={},d=!0,p=(R=f,V="rectangle"===(I=b)||"ellipse"===I||"arc"===I||"circle"===I||"square"===I?(B=Math.round(R[0]+R[2]/2),Math.round(R[1]+R[3]/2)):"triangle"===I?(B=(R[0]+R[2]+R[4])/3,(R[1]+R[3]+R[5])/3):"quadrilateral"===I?(B=(R[0]+R[2]+R[4]+R[6])/4,(R[1]+R[3]+R[5]+R[7])/4):"line"===I?(B=(R[0]+R[2])/2,(R[1]+R[3])/2):(B=R[0],R[1]),[B,V]);if("line"===b){u.color=this.ingredients.colors.stroke,u.length=Math.round(this.dist(f[0],f[1],f[2],f[3]));var m=w([f[0],[1]],this.width,this.height),v=w([f[2],[3]],this.width,this.height);u.loc=S(p,this.width,this.height),u.pos=m===v?"at ".concat(m):"from ".concat(m," to ").concat(v)}else"point"===b?u.color=this.ingredients.colors.stroke:(u.color=this.ingredients.colors.fill,u.area=function(I,R,B,V){var G=0;if("arc"===I){var K=((R[5]-R[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(G=K*R[2]*R[3]/8,"open"===R[6]||"chord"===R[6]){var Q=R[0],W=R[1],Z=R[0]+R[2]/2*Math.cos(R[4]).toFixed(2),ne=R[1]+R[3]/2*Math.sin(R[4]).toFixed(2),X=R[0]+R[2]/2*Math.cos(R[5]).toFixed(2),se=R[1]+R[3]/2*Math.sin(R[5]).toFixed(2),oe=Math.abs(Q*(ne-se)+Z*(se-W)+X*(W-ne))/2;K>Math.PI?G+=oe:G-=oe}}else"ellipse"===I||"circle"===I?G=3.14*R[2]/2*R[3]/2:"line"===I||"point"===I?G=0:"quadrilateral"===I?G=Math.abs((R[6]+R[0])*(R[7]-R[1])+(R[0]+R[2])*(R[1]-R[3])+(R[2]+R[4])*(R[3]-R[5])+(R[4]+R[6])*(R[5]-R[7]))/2:"rectangle"===I||"square"===I?G=R[2]*R[3]:"triangle"===I&&(G=Math.abs(R[0]*(R[3]-R[5])+R[2]*(R[5]-R[1])+R[4]*(R[1]-R[3]))/2);return Math.round(100*G/(B*V))}(b,f,this.width,this.height)),u.pos=w(p,this.width,this.height),u.loc=S(p,this.width,this.height);if(this.ingredients.shapes[b]){if(this.ingredients.shapes[b]!==[u]){for(var D in this.ingredients.shapes[b])JSON.stringify(this.ingredients.shapes[b][D])===JSON.stringify(u)&&(d=!1);!0===d&&this.ingredients.shapes[b].push(u)}}else this.ingredients.shapes[b]=[u]},j.default=g.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.map":159,"core-js/modules/es.number.to-fixed":169}],244:[function(h,te,j){"use strict";h("core-js/modules/es.array.concat"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.prototype._updateTextOutput=function(S){if(this.dummyDOM.querySelector("#".concat(S,"_summary"))){var M=this._accessibleOutputs[S],b=function(d,p){var m="",v=0;for(var D in p)for(var I in p[D]){var R='<li><a href="#'.concat(d,"shape").concat(v,'">').concat(p[D][I].color," ").concat(D,"</a>");"line"===D?R+=", ".concat(p[D][I].pos,", ").concat(p[D][I].length," pixels long.</li>"):(R+=", at ".concat(p[D][I].pos),"point"!==D&&(R+=", covering ".concat(p[D][I].area,"% of the canvas")),R+=".</li>"),m+=R,v++}return{numShapes:v,listShapes:m}}(S,this.ingredients.shapes),f=(d=b.numShapes,p=this.ingredients.colors.background,v=this.height,D="Your output is a, ".concat(this.width," by ").concat(v," pixels, ").concat(p," canvas containing the following"),D=1===d?"".concat(D," shape:"):"".concat(D," ").concat(d," shapes:")),u=function(d,p){var m="",v=0;for(var D in p)for(var I in p[D]){var R='<tr id="'.concat(d,"shape").concat(v,'"><th>').concat(p[D][I].color," ").concat(D,"</th>");"line"===D?R+="<td>location = ".concat(p[D][I].pos,"</td><td>length = ").concat(p[D][I].length," pixels</td></tr>"):(R+="<td>location = ".concat(p[D][I].pos,"</td>"),"point"!==D&&(R+="<td> area = ".concat(p[D][I].area,"%</td>")),R+="</tr>"),m+=R,v++}return m}(S,this.ingredients.shapes);f!==M.summary.innerHTML&&(M.summary.innerHTML=f),b.listShapes!==M.list.innerHTML&&(M.list.innerHTML=b.listShapes),u!==M.shapeDetails.innerHTML&&(M.shapeDetails.innerHTML=u),this._accessibleOutputs[S]=M}var d,p,v,D},j.default=g.default},{"../core/main":260,"core-js/modules/es.array.concat":148}],245:[function(h,te,j){"use strict";var k,g=(k=h("./core/main"))&&k.__esModule?k:{default:k};h("./core/constants"),h("./core/environment"),h("./core/friendly_errors/stacktrace"),h("./core/friendly_errors/validate_params"),h("./core/friendly_errors/file_errors"),h("./core/friendly_errors/fes_core"),h("./core/helpers"),h("./core/legacy"),h("./core/preload"),h("./core/p5.Element"),h("./core/p5.Graphics"),h("./core/p5.Renderer"),h("./core/p5.Renderer2D"),h("./core/rendering"),h("./core/shim"),h("./core/structure"),h("./core/transform"),h("./core/shape/2d_primitives"),h("./core/shape/attributes"),h("./core/shape/curves"),h("./core/shape/vertex"),h("./accessibility/outputs"),h("./accessibility/textOutput"),h("./accessibility/gridOutput"),h("./accessibility/color_namer"),h("./color/color_conversion"),h("./color/creating_reading"),h("./color/p5.Color"),h("./color/setting"),h("./data/p5.TypedDict"),h("./data/local_storage.js"),h("./dom/dom"),h("./accessibility/describe"),h("./events/acceleration"),h("./events/keyboard"),h("./events/mouse"),h("./events/touch"),h("./image/filters"),h("./image/image"),h("./image/loading_displaying"),h("./image/p5.Image"),h("./image/pixels"),h("./io/files"),h("./io/p5.Table"),h("./io/p5.TableRow"),h("./io/p5.XML"),h("./math/calculation"),h("./math/math"),h("./math/noise"),h("./math/p5.Vector"),h("./math/random"),h("./math/trigonometry"),h("./typography/attributes"),h("./typography/loading_displaying"),h("./typography/p5.Font"),h("./utilities/array_functions"),h("./utilities/conversion"),h("./utilities/string_functions"),h("./utilities/time_date"),h("./webgl/3d_primitives"),h("./webgl/interaction"),h("./webgl/light"),h("./webgl/loading"),h("./webgl/material"),h("./webgl/p5.Camera"),h("./webgl/p5.Geometry"),h("./webgl/p5.Matrix"),h("./webgl/p5.RendererGL.Immediate"),h("./webgl/p5.RendererGL"),h("./webgl/p5.RendererGL.Retained"),h("./webgl/p5.Shader"),h("./webgl/p5.RenderBuffer"),h("./webgl/p5.Texture"),h("./webgl/text"),h("./core/init"),te.exports=g.default},{"./accessibility/color_namer":240,"./accessibility/describe":241,"./accessibility/gridOutput":242,"./accessibility/outputs":243,"./accessibility/textOutput":244,"./color/color_conversion":246,"./color/creating_reading":247,"./color/p5.Color":248,"./color/setting":249,"./core/constants":250,"./core/environment":251,"./core/friendly_errors/fes_core":252,"./core/friendly_errors/file_errors":253,"./core/friendly_errors/stacktrace":254,"./core/friendly_errors/validate_params":255,"./core/helpers":256,"./core/init":257,"./core/legacy":259,"./core/main":260,"./core/p5.Element":261,"./core/p5.Graphics":262,"./core/p5.Renderer":263,"./core/p5.Renderer2D":264,"./core/preload":265,"./core/rendering":266,"./core/shape/2d_primitives":267,"./core/shape/attributes":268,"./core/shape/curves":269,"./core/shape/vertex":270,"./core/shim":271,"./core/structure":272,"./core/transform":273,"./data/local_storage.js":274,"./data/p5.TypedDict":275,"./dom/dom":276,"./events/acceleration":277,"./events/keyboard":278,"./events/mouse":279,"./events/touch":280,"./image/filters":281,"./image/image":282,"./image/loading_displaying":283,"./image/p5.Image":284,"./image/pixels":285,"./io/files":286,"./io/p5.Table":287,"./io/p5.TableRow":288,"./io/p5.XML":289,"./math/calculation":290,"./math/math":291,"./math/noise":292,"./math/p5.Vector":293,"./math/random":294,"./math/trigonometry":295,"./typography/attributes":296,"./typography/loading_displaying":297,"./typography/p5.Font":298,"./utilities/array_functions":299,"./utilities/conversion":300,"./utilities/string_functions":301,"./utilities/time_date":302,"./webgl/3d_primitives":303,"./webgl/interaction":304,"./webgl/light":305,"./webgl/loading":306,"./webgl/material":307,"./webgl/p5.Camera":308,"./webgl/p5.Geometry":309,"./webgl/p5.Matrix":310,"./webgl/p5.RenderBuffer":311,"./webgl/p5.RendererGL":314,"./webgl/p5.RendererGL.Immediate":312,"./webgl/p5.RendererGL.Retained":313,"./webgl/p5.Shader":315,"./webgl/p5.Texture":316,"./webgl/text":317}],246:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.ColorConversion={},g.default.ColorConversion._hsbaToHSLA=function(S){var b=S[1],f=S[2],u=(2-b)*f/2;return 0!=u&&(1==u?b=0:u<.5?b/=2-b:b=b*f/(2-2*u)),[S[0],b,u,S[3]]},g.default.ColorConversion._hsbaToRGBA=function(S){var M=6*S[0],b=S[1],f=S[2],u=[];if(0===b)u=[f,f,f,S[3]];else{var d,p,m,v=Math.floor(M),D=f*(1-b),I=f*(1-b*(M-v)),R=f*(1-b*(1+v-M));m=1===v?(d=I,p=f,D):2===v?(d=D,p=f,R):3===v?(d=D,p=I,f):4===v?(d=R,p=D,f):5===v?(d=f,p=D,I):(d=f,p=R,D),u=[d,p,m,S[3]]}return u},g.default.ColorConversion._hslaToHSBA=function(S){var M,f=S[1],u=S[2];return[S[0],f=2*((M=u<.5?(1+f)*u:u+f-u*f)-u)/M,M,S[3]]},g.default.ColorConversion._hslaToRGBA=function(S){var M=6*S[0],b=S[1],f=S[2],u=[];if(0===b)u=[f,f,f,S[3]];else{var d,p=2*f-(d=f<.5?(1+b)*f:f+b-f*b),m=function(v,D,I){return v<0?v+=6:6<=v&&(v-=6),v<1?D+(I-D)*v:v<3?I:v<4?D+(I-D)*(4-v):D};u=[m(2+M,p,d),m(M,p,d),m(M-2,p,d),S[3]]}return u},g.default.ColorConversion._rgbaToHSBA=function(S){var M,b,f=S[0],u=S[1],d=S[2],p=Math.max(f,u,d),m=p-Math.min(f,u,d);return 0==m?b=M=0:(b=m/p,f===p?M=(u-d)/m:u===p?M=2+(d-f)/m:d===p&&(M=4+(f-u)/m),M<0?M+=6:6<=M&&(M-=6)),[M/6,b,p,S[3]]},g.default.ColorConversion._rgbaToHSLA=function(S){var M,b,f=S[0],u=S[1],d=S[2],p=Math.max(f,u,d),m=Math.min(f,u,d),v=p+m,D=p-m;return 0==D?b=M=0:(b=v<1?D/v:D/(2-v),f===p?M=(u-d)/D:u===p?M=2+(d-f)/D:d===p&&(M=4+(f-u)/D),M<0?M+=6:6<=M&&(M-=6)),[M/6,b,v/2,S[3]]},j.default=g.default.ColorConversion},{"../core/main":260}],247:[function(h,te,j){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}h("core-js/modules/es.array.map"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!=typeof f)return{default:f};var u=M();if(u&&u.has(f))return u.get(f);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)){var v=p?Object.getOwnPropertyDescriptor(f,m):null;v&&(v.get||v.set)?Object.defineProperty(d,m,v):d[m]=f[m]}return d.default=f,u&&u.set(f,d),d}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return M=function(){return f},f}h("./p5.Color"),h("../core/friendly_errors/validate_params"),h("../core/friendly_errors/file_errors"),h("../core/friendly_errors/fes_core"),w.default.prototype.alpha=function(f){return w.default._validateParameters("alpha",arguments),this.color(f)._getAlpha()},w.default.prototype.blue=function(f){return w.default._validateParameters("blue",arguments),this.color(f)._getBlue()},w.default.prototype.brightness=function(f){return w.default._validateParameters("brightness",arguments),this.color(f)._getBrightness()},w.default.prototype.color=function(){return w.default._validateParameters("color",arguments),arguments[0]instanceof w.default.Color?arguments[0]:new w.default.Color(this,arguments[0]instanceof Array?arguments[0]:arguments)},w.default.prototype.green=function(f){return w.default._validateParameters("green",arguments),this.color(f)._getGreen()},w.default.prototype.hue=function(f){return w.default._validateParameters("hue",arguments),this.color(f)._getHue()},w.default.prototype.lerpColor=function(f,u,d){w.default._validateParameters("lerpColor",arguments);var p,m,v,D,I,R,B=this._colorMode,V=this._colorMaxes;if(B===S.RGB)I=f.levels.map(function(G){return G/255}),R=u.levels.map(function(G){return G/255});else if(B===S.HSB)f._getBrightness(),u._getBrightness(),I=f.hsba,R=u.hsba;else{if(B!==S.HSL)throw new Error("".concat(B,"cannot be used for interpolation."));f._getLightness(),u._getLightness(),I=f.hsla,R=u.hsla}return d=Math.max(Math.min(d,1),0),void 0===this.lerp&&(this.lerp=function(G,K,Q){return Q*(K-G)+G}),p=this.lerp(I[0],R[0],d),m=this.lerp(I[1],R[1],d),v=this.lerp(I[2],R[2],d),D=this.lerp(I[3],R[3],d),this.color(p*=V[B][0],m*=V[B][1],v*=V[B][2],D*=V[B][3])},w.default.prototype.lightness=function(f){return w.default._validateParameters("lightness",arguments),this.color(f)._getLightness()},w.default.prototype.red=function(f){return w.default._validateParameters("red",arguments),this.color(f)._getRed()},w.default.prototype.saturation=function(f){return w.default._validateParameters("saturation",arguments),this.color(f)._getSaturation()},j.default=w.default},{"../core/constants":250,"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"./p5.Color":248,"core-js/modules/es.array.map":159}],248:[function(h,te,j){"use strict";function k(I){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(I)}h("core-js/modules/es.array.join"),h("core-js/modules/es.array.map"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.constructor"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.trim"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g=b(h("../core/main")),w=function(I){if(I&&I.__esModule)return I;if(null===I||"object"!==k(I)&&"function"!=typeof I)return{default:I};var R=M();if(R&&R.has(I))return R.get(I);var B={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in I)if(Object.prototype.hasOwnProperty.call(I,G)){var K=V?Object.getOwnPropertyDescriptor(I,G):null;K&&(K.get||K.set)?Object.defineProperty(B,G,K):B[G]=I[G]}return B.default=I,R&&R.set(I,B),B}(h("../core/constants")),S=b(h("./color_conversion"));function M(){if("function"!=typeof WeakMap)return null;var I=new WeakMap;return M=function(){return I},I}function b(I){return I&&I.__esModule?I:{default:I}}g.default.Color=function(I,R){if(this._storeModeAndMaxes(I._colorMode,I._colorMaxes),this.mode!==w.RGB&&this.mode!==w.HSL&&this.mode!==w.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=g.default.Color._parseInputs.apply(this,R),this._calculateLevels(),this},g.default.Color.prototype.toString=function(I){var R=this.levels,B=this._array,V=B[3];switch(I){case"#rrggbb":return"#".concat(R[0]<16?"0".concat(R[0].toString(16)):R[0].toString(16),R[1]<16?"0".concat(R[1].toString(16)):R[1].toString(16),R[2]<16?"0".concat(R[2].toString(16)):R[2].toString(16));case"#rrggbbaa":return"#".concat(R[0]<16?"0".concat(R[0].toString(16)):R[0].toString(16),R[1]<16?"0".concat(R[1].toString(16)):R[1].toString(16),R[2]<16?"0".concat(R[2].toString(16)):R[2].toString(16),R[3]<16?"0".concat(R[3].toString(16)):R[3].toString(16));case"#rgb":return"#".concat(Math.round(15*B[0]).toString(16),Math.round(15*B[1]).toString(16),Math.round(15*B[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*B[0]).toString(16),Math.round(15*B[1]).toString(16),Math.round(15*B[2]).toString(16),Math.round(15*B[3]).toString(16));case"rgb":return"rgb(".concat(R[0],", ",R[1],", ",R[2],")");case"rgb%":return"rgb(".concat((100*B[0]).toPrecision(3),"%, ",(100*B[1]).toPrecision(3),"%, ",(100*B[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*B[0]).toPrecision(3),"%, ",(100*B[1]).toPrecision(3),"%, ",(100*B[2]).toPrecision(3),"%, ",(100*B[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[w.HSB][0],", ",this.hsba[1]*this.maxes[w.HSB][1],", ",this.hsba[2]*this.maxes[w.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[w.HSB][0],", ",this.hsba[1]*this.maxes[w.HSB][1],", ",this.hsba[2]*this.maxes[w.HSB][2],", ",V,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*V).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[w.HSL][0],", ",this.hsla[1]*this.maxes[w.HSL][1],", ",this.hsla[2]*this.maxes[w.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[w.HSL][0],", ",this.hsla[1]*this.maxes[w.HSL][1],", ",this.hsla[2]*this.maxes[w.HSL][2],", ",V,")");case"hsla%":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*V).toPrecision(3),"%)");default:return"rgba(".concat(R[0],",",R[1],",",R[2],",",V,")")}},g.default.Color.prototype.setRed=function(I){this._array[0]=I/this.maxes[w.RGB][0],this._calculateLevels()},g.default.Color.prototype.setGreen=function(I){this._array[1]=I/this.maxes[w.RGB][1],this._calculateLevels()},g.default.Color.prototype.setBlue=function(I){this._array[2]=I/this.maxes[w.RGB][2],this._calculateLevels()},g.default.Color.prototype.setAlpha=function(I){this._array[3]=I/this.maxes[this.mode][3],this._calculateLevels()},g.default.Color.prototype._calculateLevels=function(){for(var I=this._array,R=this.levels=new Array(I.length),B=I.length-1;0<=B;--B)R[B]=Math.round(255*I[B])},g.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},g.default.Color.prototype._storeModeAndMaxes=function(I,R){this.mode=I,this.maxes=R},g.default.Color.prototype._getMode=function(){return this.mode},g.default.Color.prototype._getMaxes=function(){return this.maxes},g.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[w.RGB][2]},g.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[w.HSB][2]},g.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[w.RGB][1]},g.default.Color.prototype._getHue=function(){return this.mode===w.HSB?(this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[w.HSB][0]):(this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[w.HSL][0])},g.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[w.HSL][2]},g.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[w.RGB][0]},g.default.Color.prototype._getSaturation=function(){return this.mode===w.HSB?(this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[w.HSB][1]):(this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[w.HSL][1])};var f={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},u=/\s*/,d=/(\d{1,3})/,p=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,m=new RegExp("".concat(p.source,"%")),v={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",d.source,",",d.source,",",d.source,"\\)$"].join(u.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",m.source,",",m.source,",",m.source,"\\)$"].join(u.source),"i"),RGBA:new RegExp(["^rgba\\(",d.source,",",d.source,",",d.source,",",p.source,"\\)$"].join(u.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",m.source,",",m.source,",",m.source,",",p.source,"\\)$"].join(u.source),"i"),HSL:new RegExp(["^hsl\\(",d.source,",",m.source,",",m.source,"\\)$"].join(u.source),"i"),HSLA:new RegExp(["^hsla\\(",d.source,",",m.source,",",m.source,",",p.source,"\\)$"].join(u.source),"i"),HSB:new RegExp(["^hsb\\(",d.source,",",m.source,",",m.source,"\\)$"].join(u.source),"i"),HSBA:new RegExp(["^hsba\\(",d.source,",",m.source,",",m.source,",",p.source,"\\)$"].join(u.source),"i")};g.default.Color._parseInputs=function(I,R,B,V){var G,K=arguments.length,Q=this.mode,W=this.maxes[Q],Z=[];if(3<=K){for(Z[0]=I/W[0],Z[1]=R/W[1],Z[2]=B/W[2],Z[3]="number"==typeof V?V/W[3]:1,G=Z.length-1;0<=G;--G){var ne=Z[G];ne<0?Z[G]=0:1<ne&&(Z[G]=1)}return Q===w.HSL?S.default._hslaToRGBA(Z):Q===w.HSB?S.default._hsbaToRGBA(Z):Z}if(1===K&&"string"==typeof I){var X=I.trim().toLowerCase();if(f[X])return g.default.Color._parseInputs.call(this,f[X]);if(v.HEX3.test(X))return(Z=v.HEX3.exec(X).slice(1).map(function(se){return parseInt(se+se,16)/255}))[3]=1,Z;if(v.HEX6.test(X))return(Z=v.HEX6.exec(X).slice(1).map(function(se){return parseInt(se,16)/255}))[3]=1,Z;if(v.HEX4.test(X))return v.HEX4.exec(X).slice(1).map(function(se){return parseInt(se+se,16)/255});if(v.HEX8.test(X))return v.HEX8.exec(X).slice(1).map(function(se){return parseInt(se,16)/255});if(v.RGB.test(X))return(Z=v.RGB.exec(X).slice(1).map(function(se){return se/255}))[3]=1,Z;if(v.RGB_PERCENT.test(X))return(Z=v.RGB_PERCENT.exec(X).slice(1).map(function(se){return parseFloat(se)/100}))[3]=1,Z;if(v.RGBA.test(X))return v.RGBA.exec(X).slice(1).map(function(se,oe){return 3===oe?parseFloat(se):se/255});if(v.RGBA_PERCENT.test(X))return v.RGBA_PERCENT.exec(X).slice(1).map(function(se,oe){return 3===oe?parseFloat(se):parseFloat(se)/100});if(v.HSL.test(X)?(Z=v.HSL.exec(X).slice(1).map(function(se,oe){return 0===oe?parseInt(se,10)/360:parseInt(se,10)/100}))[3]=1:v.HSLA.test(X)&&(Z=v.HSLA.exec(X).slice(1).map(function(se,oe){return 0===oe?parseInt(se,10)/360:3===oe?parseFloat(se):parseInt(se,10)/100})),(Z=Z.map(function(se){return Math.max(Math.min(se,1),0)})).length)return S.default._hslaToRGBA(Z);if(v.HSB.test(X)?(Z=v.HSB.exec(X).slice(1).map(function(se,oe){return 0===oe?parseInt(se,10)/360:parseInt(se,10)/100}))[3]=1:v.HSBA.test(X)&&(Z=v.HSBA.exec(X).slice(1).map(function(se,oe){return 0===oe?parseInt(se,10)/360:3===oe?parseFloat(se):parseInt(se,10)/100})),Z.length){for(G=Z.length-1;0<=G;--G)Z[G]=Math.max(Math.min(Z[G],1),0);return S.default._hsbaToRGBA(Z)}Z=[1,1,1,1]}else{if(1!==K&&2!==K||"number"!=typeof I)throw new Error("".concat(arguments,"is not a valid color representation."));Z[0]=I/W[2],Z[1]=I/W[2],Z[2]=I/W[2],Z[3]="number"==typeof R?R/W[3]:1,Z=Z.map(function(se){return Math.max(Math.min(se,1),0)})}return Z},j.default=g.default.Color},{"../core/constants":250,"../core/main":260,"./color_conversion":246,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.trim":190}],249:[function(h,te,j){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}h("core-js/modules/es.array.fill"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!=typeof f)return{default:f};var u=M();if(u&&u.has(f))return u.get(f);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)){var v=p?Object.getOwnPropertyDescriptor(f,m):null;v&&(v.get||v.set)?Object.defineProperty(d,m,v):d[m]=f[m]}return d.default=f,u&&u.set(f,d),d}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return M=function(){return f},f}h("./p5.Color"),w.default.prototype.background=function(){var f;return(f=this._renderer).background.apply(f,arguments),this},w.default.prototype.clear=function(){return this._renderer.clear(),this},w.default.prototype.colorMode=function(f,u,d,p,m){if(w.default._validateParameters("colorMode",arguments),f===S.RGB||f===S.HSB||f===S.HSL){this._colorMode=f;var v=this._colorMaxes[f];2===arguments.length?(v[0]=u,v[1]=u,v[2]=u,v[3]=u):4===arguments.length?(v[0]=u,v[1]=d,v[2]=p):5===arguments.length&&(v[0]=u,v[1]=d,v[2]=p,v[3]=m)}return this},w.default.prototype.fill=function(){var f;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(f=this._renderer).fill.apply(f,arguments),this},w.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},w.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},w.default.prototype.stroke=function(){var f;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(f=this._renderer).stroke.apply(f,arguments),this},w.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},w.default.prototype.noErase=function(){return this._renderer.noErase(),this},j.default=w.default},{"../core/constants":250,"../core/main":260,"./p5.Color":248,"core-js/modules/es.array.fill":150}],250:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.BEZIER=j.QUADRATIC=j.LINEAR=j._CTX_MIDDLE=j._DEFAULT_LEADMULT=j._DEFAULT_TEXT_FILL=j.WORD=j.CHAR=j.BOLDITALIC=j.BOLD=j.ITALIC=j.NORMAL=j.BLUR=j.ERODE=j.DILATE=j.POSTERIZE=j.INVERT=j.OPAQUE=j.GRAY=j.THRESHOLD=j.BURN=j.DODGE=j.SOFT_LIGHT=j.HARD_LIGHT=j.OVERLAY=j.REPLACE=j.SCREEN=j.MULTIPLY=j.EXCLUSION=j.SUBTRACT=j.DIFFERENCE=j.LIGHTEST=j.DARKEST=j.ADD=j.REMOVE=j.BLEND=j.UP_ARROW=j.TAB=j.SHIFT=j.RIGHT_ARROW=j.RETURN=j.OPTION=j.LEFT_ARROW=j.ESCAPE=j.ENTER=j.DOWN_ARROW=j.DELETE=j.CONTROL=j.BACKSPACE=j.ALT=j.AUTO=j.HSL=j.HSB=j.RGB=j.MITER=j.BEVEL=j.ROUND=j.SQUARE=j.PROJECT=j.PIE=j.CHORD=j.OPEN=j.CLOSE=j.TESS=j.QUAD_STRIP=j.QUADS=j.TRIANGLE_STRIP=j.TRIANGLE_FAN=j.TRIANGLES=j.LINE_LOOP=j.LINE_STRIP=j.LINES=j.POINTS=j.BASELINE=j.BOTTOM=j.TOP=j.CENTER=j.LEFT=j.RIGHT=j.RADIUS=j.CORNERS=j.CORNER=j.RAD_TO_DEG=j.DEG_TO_RAD=j.RADIANS=j.DEGREES=j.TWO_PI=j.TAU=j.QUARTER_PI=j.PI=j.HALF_PI=j.WAIT=j.TEXT=j.MOVE=j.HAND=j.CROSS=j.ARROW=j.WEBGL=j.P2D=j.VERSION=void 0,j.FALLBACK=j.LABEL=j.AXES=j.GRID=j._DEFAULT_FILL=j._DEFAULT_STROKE=j.PORTRAIT=j.LANDSCAPE=j.MIRROR=j.CLAMP=j.REPEAT=j.NEAREST=j.IMAGE=j.IMMEDIATE=j.TEXTURE=j.FILL=j.STROKE=j.CURVE=void 0;var k=Math.PI;j.VERSION="1.4.0",j.P2D="p2d",j.WEBGL="webgl",j.ARROW="default",j.CROSS="crosshair",j.HAND="pointer",j.MOVE="move",j.TEXT="text",j.WAIT="wait",j.HALF_PI=k/2,j.PI=k,j.QUARTER_PI=k/4,j.TAU=2*k,j.TWO_PI=2*k,j.DEGREES="degrees",j.RADIANS="radians",j.DEG_TO_RAD=k/180,j.RAD_TO_DEG=180/k,j.CORNER="corner",j.CORNERS="corners",j.RADIUS="radius",j.RIGHT="right",j.LEFT="left",j.CENTER="center",j.TOP="top",j.BOTTOM="bottom",j.BASELINE="alphabetic",j.POINTS=0,j.LINES=1,j.LINE_STRIP=3,j.LINE_LOOP=2,j.TRIANGLES=4,j.TRIANGLE_FAN=6,j.TRIANGLE_STRIP=5,j.QUADS="quads",j.QUAD_STRIP="quad_strip",j.TESS="tess",j.CLOSE="close",j.OPEN="open",j.CHORD="chord",j.PIE="pie",j.PROJECT="square",j.SQUARE="butt",j.ROUND="round",j.BEVEL="bevel",j.MITER="miter",j.RGB="rgb",j.HSB="hsb",j.HSL="hsl",j.AUTO="auto",j.ALT=18,j.BACKSPACE=8,j.CONTROL=17,j.DELETE=46,j.DOWN_ARROW=40,j.ENTER=13,j.ESCAPE=27,j.LEFT_ARROW=37,j.OPTION=18,j.RETURN=13,j.RIGHT_ARROW=39,j.SHIFT=16,j.TAB=9,j.UP_ARROW=38,j.BLEND="source-over",j.REMOVE="destination-out",j.ADD="lighter",j.DARKEST="darken",j.LIGHTEST="lighten",j.DIFFERENCE="difference",j.SUBTRACT="subtract",j.EXCLUSION="exclusion",j.MULTIPLY="multiply",j.SCREEN="screen",j.REPLACE="copy",j.OVERLAY="overlay",j.HARD_LIGHT="hard-light",j.SOFT_LIGHT="soft-light",j.DODGE="color-dodge",j.BURN="color-burn",j.THRESHOLD="threshold",j.GRAY="gray",j.OPAQUE="opaque",j.INVERT="invert",j.POSTERIZE="posterize",j.DILATE="dilate",j.ERODE="erode",j.BLUR="blur",j.NORMAL="normal",j.ITALIC="italic",j.BOLD="bold",j.BOLDITALIC="bold italic",j.CHAR="CHAR",j.WORD="WORD",j._DEFAULT_TEXT_FILL="#000000",j._DEFAULT_LEADMULT=1.25,j._CTX_MIDDLE="middle",j.LINEAR="linear",j.QUADRATIC="quadratic",j.BEZIER="bezier",j.CURVE="curve",j.STROKE="stroke",j.FILL="fill",j.TEXTURE="texture",j.IMMEDIATE="immediate",j.IMAGE="image",j.NEAREST="nearest",j.REPEAT="repeat",j.CLAMP="clamp",j.MIRROR="mirror",j.LANDSCAPE="landscape",j.PORTRAIT="portrait",j._DEFAULT_STROKE="#000000",j._DEFAULT_FILL="#FFFFFF",j.GRID="grid",j.AXES="axes",j.LABEL="label",j.FALLBACK="fallback"},{}],251:[function(h,te,j){"use strict";function k(m){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.filter"),h("core-js/modules/es.array.includes"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.string.includes"),h("core-js/modules/es.string.search"),h("core-js/modules/es.string.split"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("./main"))&&g.__esModule?g:{default:g},S=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==k(m)&&"function"!=typeof m)return{default:m};var v=M();if(v&&v.has(m))return v.get(m);var D={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in m)if(Object.prototype.hasOwnProperty.call(m,R)){var B=I?Object.getOwnPropertyDescriptor(m,R):null;B&&(B.get||B.set)?Object.defineProperty(D,R,B):D[R]=m[R]}return D.default=m,v&&v.set(m,D),D}(h("./constants"));function M(){if("function"!=typeof WeakMap)return null;var m=new WeakMap;return M=function(){return m},m}var b=[S.ARROW,S.CROSS,S.HAND,S.MOVE,S.TEXT,S.WAIT];w.default.prototype._frameRate=0,w.default.prototype._lastFrameTime=window.performance.now(),w.default.prototype._targetFrameRate=60;var f=window.print;function u(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function d(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}w.default.prototype.print=function(){var m;arguments.length?(m=console).log.apply(m,arguments):f()},w.default.prototype.frameCount=0,w.default.prototype.deltaTime=0,w.default.prototype.focused=document.hasFocus(),w.default.prototype.cursor=function(m,v,D){var I="auto",R=this._curElement.elt;if(b.includes(m))I=m;else if("string"==typeof m){var B="";v&&D&&"number"==typeof v&&"number"==typeof D&&(B="".concat(v," ").concat(D)),I="http://"===m.substring(0,7)||"https://"===m.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(m)?"url(".concat(m,") ").concat(B,", auto"):m}R.style.cursor=I},w.default.prototype.frameRate=function(m){return w.default._validateParameters("frameRate",arguments),"number"!=typeof m||m<0?this._frameRate:(this._setProperty("_targetFrameRate",m),0===m&&this._setProperty("_frameRate",m),this)},w.default.prototype.getFrameRate=function(){return this.frameRate()},w.default.prototype.setFrameRate=function(m){return this.frameRate(m)},w.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},w.default.prototype.displayWidth=screen.width,w.default.prototype.displayHeight=screen.height,w.default.prototype.windowWidth=u(),w.default.prototype.windowHeight=d(),w.default.prototype._onresize=function(m){this._setProperty("windowWidth",u()),this._setProperty("windowHeight",d());var v,D=this._isGlobal?window:this;"function"==typeof D.windowResized&&(void 0===(v=D.windowResized(m))||v||m.preventDefault())},w.default.prototype.width=0,w.default.prototype.height=0,w.default.prototype.fullscreen=function(m){if(w.default._validateParameters("fullscreen",arguments),void 0===m)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;m?function(v){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");v.requestFullscreen?v.requestFullscreen():v.mozRequestFullScreen?v.mozRequestFullScreen():v.webkitRequestFullscreen?v.webkitRequestFullscreen():v.msRequestFullscreen&&v.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},w.default.prototype.pixelDensity=function(m){var v;return w.default._validateParameters("pixelDensity",arguments),"number"==typeof m?(m!==this._pixelDensity&&(this._pixelDensity=m),(v=this).resizeCanvas(this.width,this.height,!0)):v=this._pixelDensity,v},w.default.prototype.displayDensity=function(){return window.devicePixelRatio},w.default.prototype.getURL=function(){return location.href},w.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(m){return""!==m})},w.default.prototype.getURLParams=function(){for(var m,v=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,D={};null!=(m=v.exec(location.search));)m.index===v.lastIndex&&v.lastIndex++,D[m[1]]=m[2];return D},j.default=w.default},{"./constants":250,"./main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.includes":154,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.search":187,"core-js/modules/es.string.split":188}],252:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.filter"),h("core-js/modules/es.array.for-each"),h("core-js/modules/es.array.includes"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.map"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.array.some"),h("core-js/modules/es.function.name"),h("core-js/modules/es.object.assign"),h("core-js/modules/es.object.get-own-property-names"),h("core-js/modules/es.object.keys"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.constructor"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.string.match"),h("core-js/modules/es.string.replace"),h("core-js/modules/es.string.search"),h("core-js/modules/es.string.split"),h("core-js/modules/web.dom-collections.for-each"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../main"))&&k.__esModule?k:{default:k};h("../internationalization");var w=null,S=null;g.default._friendlyError=g.default._checkForUserDefinedFunctions=g.default._fesErrorMonitor=function(){},w=null;function b(u,d){d=d||console.log.bind(console),w||S(),w.some(function(p){if(u.message&&null!==u.message.match("\\W?".concat(p.name,"\\W"))){var m="function"===p.type?"".concat(p.name,"()"):p.name;return d("Did you just try to use p5.js's ".concat(m," ").concat(p.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat("https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup")),!0}})}S=function(){function u(p){return Object.getOwnPropertyNames(p).filter(function(m){return"_"!==m[0]&&!(m in d)&&(d[m]=!0)}).map(function(m){var v;return v="function"==typeof p[m]?"function":m===m.toUpperCase()?"constant":"variable",{name:m,type:v}})}var d={};(w=[].concat(u(g.default.prototype),u(h("../constants")))).sort(function(p,m){return m.name.length-p.name.length})},g.default.prototype._helpForMisusedAtTopLevelCode=b,"complete"!==document.readyState&&(window.addEventListener("error",b,!1),window.addEventListener("load",function(){window.removeEventListener("error",b,!1)})),j.default=g.default},{"../constants":250,"../internationalization":258,"../main":260,"./browser_errors":void 0,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.some":161,"core-js/modules/es.function.name":163,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.get-own-property-names":171,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.search":187,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],253:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../main"))&&k.__esModule?k:{default:k};h("../internationalization"),g.default._friendlyFileLoadError=function(){},j.default=g.default},{"../internationalization":258,"../main":260}],254:[function(h,te,j){"use strict";h("core-js/modules/es.array.filter"),h("core-js/modules/es.array.index-of"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.map"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.string.match"),h("core-js/modules/es.string.replace"),h("core-js/modules/es.string.split"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../main"))&&k.__esModule?k:{default:k};function w(){var M=/(^|@)\S+:\d+/,b=/^\s*at .*(\S+:\d+|\(native\))/m,f=/^(eval@)?(\[native code])?$/;return{parse:function(u){return void 0!==u.stacktrace||void 0!==u["opera#sourceloc"]?this.parseOpera(u):u.stack&&u.stack.match(b)?this.parseV8OrIE(u):u.stack?this.parseFFOrSafari(u):void 0},extractLocation:function(u){if(-1===u.indexOf(":"))return[u];var d=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(u.replace(/[()]/g,""));return[d[1],d[2]||void 0,d[3]||void 0]},parseV8OrIE:function(u){return u.stack.split("\n").filter(function(d){return!!d.match(b)},this).map(function(d){-1<d.indexOf("(eval ")&&(d=d.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var p=d.replace(/^\s+/,"").replace(/\(eval code/g,"("),m=p.match(/ (\((.+):(\d+):(\d+)\)$)/),v=(p=m?p.replace(m[0],""):p).split(/\s+/).slice(1),D=this.extractLocation(m?m[1]:v.pop());return{functionName:v.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(D[0])?void 0:D[0],lineNumber:D[1],columnNumber:D[2],source:d}},this)},parseFFOrSafari:function(u){return u.stack.split("\n").filter(function(d){return!d.match(f)},this).map(function(d){if(-1<d.indexOf(" > eval")&&(d=d.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===d.indexOf("@")&&-1===d.indexOf(":"))return{functionName:d};var p=/((.*".+"[^@]*)?[^@]*)(?:@)/,m=d.match(p),v=m&&m[1]?m[1]:void 0,D=this.extractLocation(d.replace(p,""));return{functionName:v,fileName:D[0],lineNumber:D[1],columnNumber:D[2],source:d}},this)},parseOpera:function(u){return!u.stacktrace||-1<u.message.indexOf("\n")&&u.message.split("\n").length>u.stacktrace.split("\n").length?this.parseOpera9(u):u.stack?this.parseOpera11(u):this.parseOpera10(u)},parseOpera9:function(u){for(var d=/Line (\d+).*script (?:in )?(\S+)/i,p=u.message.split("\n"),m=[],v=2,D=p.length;v<D;v+=2){var I=d.exec(p[v]);I&&m.push({fileName:I[2],lineNumber:I[1],source:p[v]})}return m},parseOpera10:function(u){for(var d=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,p=u.stacktrace.split("\n"),m=[],v=0,D=p.length;v<D;v+=2){var I=d.exec(p[v]);I&&m.push({functionName:I[3]||void 0,fileName:I[2],lineNumber:I[1],source:p[v]})}return m},parseOpera11:function(u){return u.stack.split("\n").filter(function(d){return!!d.match(M)&&!d.match(/^Error created at/)},this).map(function(d){var p,m=d.split("@"),v=this.extractLocation(m.pop()),D=m.shift()||"",I=D.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return D.match(/\(([^)]*)\)/)&&(p=D.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{functionName:I,args:void 0===p||"[arguments not available]"===p?void 0:p.split(","),fileName:v[0],lineNumber:v[1],columnNumber:v[2],source:d}},this)}}}g.default._getErrorStackParser=function(){return new w},j.default=g.default},{"../main":260,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188}],255:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.for-each"),h("core-js/modules/es.array.includes"),h("core-js/modules/es.array.index-of"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.last-index-of"),h("core-js/modules/es.array.map"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.map"),h("core-js/modules/es.number.constructor"),h("core-js/modules/es.object.get-prototype-of"),h("core-js/modules/es.object.keys"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.reflect.construct"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.set"),h("core-js/modules/es.string.includes"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.string.split"),h("core-js/modules/web.dom-collections.for-each"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../main"))&&k.__esModule?k:{default:k};function w(){if("function"!=typeof WeakMap)return null;var b=new WeakMap;return w=function(){return b},b}function S(b){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(b)}(function(b){if(!(b&&b.__esModule||null===b||"object"!==S(b)&&"function"!=typeof b)){var f=w();if(f&&f.has(b))return f.get(b);var u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p)){var m=d?Object.getOwnPropertyDescriptor(b,p):null;m&&(m.get||m.set)?Object.defineProperty(u,p,m):u[p]=b[p]}u.default=b,f&&f.set(b,u)}})(h("../constants")),h("../internationalization"),g.default._validateParameters=g.default._clearValidateParamsCache=function(){},j.default=g.default},{"../../../docs/parameterData.json":void 0,"../constants":250,"../internationalization":258,"../main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.last-index-of":158,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.function.name":163,"core-js/modules/es.map":164,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.get-prototype-of":172,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.reflect.construct":176,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.set":180,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],256:[function(h,te,j){"use strict";function k(M){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(M)}Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g=function(M){if(M&&M.__esModule)return M;if(null===M||"object"!==k(M)&&"function"!=typeof M)return{default:M};var b=w();if(b&&b.has(M))return b.get(M);var f={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in M)if(Object.prototype.hasOwnProperty.call(M,d)){var p=u?Object.getOwnPropertyDescriptor(M,d):null;p&&(p.get||p.set)?Object.defineProperty(f,d,p):f[d]=M[d]}return f.default=M,b&&b.set(M,f),f}(h("./constants"));function w(){if("function"!=typeof WeakMap)return null;var M=new WeakMap;return w=function(){return M},M}j.default={modeAdjust:function(M,b,f,u,d){return d===g.CORNER?{x:M,y:b,w:f,h:u}:d===g.CORNERS?{x:M,y:b,w:f-M,h:u-b}:d===g.RADIUS?{x:M-f,y:b-u,w:2*f,h:2*u}:d===g.CENTER?{x:M-.5*f,y:b-.5*u,w:f,h:u}:void 0}}},{"./constants":250}],257:[function(h,te,j){"use strict";h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.promise"),h("core-js/modules/es.string.iterator"),h("core-js/modules/web.dom-collections.iterator");var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};h("./internationalization");var w=Promise.resolve();Promise.all([new Promise(function(S,M){"complete"===document.readyState?S():window.addEventListener("load",S,!1)}),w]).then(function(){void 0===window._setupDone?window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!g.default.instance&&new g.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")})},{"../core/main":260,"./internationalization":258,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.string.iterator":183,"core-js/modules/web.dom-collections.iterator":226}],258:[function(h,te,j){"use strict";h("core-js/modules/es.array.includes"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.object.keys"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.promise"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.string.includes"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.string.split"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.initialize=j.translator=void 0;var k,w=M(h("i18next")),S=M(h("i18next-browser-languagedetector"));function M(d){return d&&d.__esModule?d:{default:d}}function b(d,p){for(var m=0;m<p.length;m++){var v=p[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}var f=function(){function d(D,I){(function(R,B){if(!(R instanceof B))throw new TypeError("Cannot call a class as a function")})(this,d),this.init(D,I)}var p,m;return p=d,(m=[{key:"fetchWithTimeout",value:function(D,I,R){var B=2<arguments.length&&void 0!==R?R:2e3;return Promise.race([fetch(D,I),new Promise(function(V,G){return setTimeout(function(){return G(new Error("timeout"))},B)})])}},{key:"init",value:function(D,I){var R=1<arguments.length&&void 0!==I?I:{};this.services=D,this.options=R}},{key:"read",value:function(D,I,R){var B=this.options.loadPath;if(D===this.options.fallback)R(null,k[D][I]);else if(undefined.includes(D)){var V=this.services.interpolator.interpolate(B,{lng:D,ns:I});this.loadUrl(V,R)}else R("Not found",!1)}},{key:"loadUrl",value:function(D,I){this.fetchWithTimeout(D).then(function(R){if(!R.ok)throw new Error("failed loading ".concat(D));return R.json()},function(){throw new Error("failed loading ".concat(D))}).then(function(R){return I(null,R)}).catch(I)}}])&&b(p.prototype,m),d}();f.type="backend";var u=function(d,p){console.debug("p5.js translator called before translations were loaded"),w.default.t(d,p)};j.translator=u,j.initialize=function(){return w.default.use(S.default).use(f).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:k}).then(function(d){j.translator=u=d},function(d){return console.debug("Translations failed to load (".concat(d,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/web.dom-collections.iterator":226,i18next:3,"i18next-browser-languagedetector":3}],259:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("./main"))&&k.__esModule?k:{default:k};g.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},g.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},g.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},g.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},j.default=g.default},{"./main":260}],260:[function(h,te,j){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.for-each"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.object.get-own-property-names"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/web.dom-collections.for-each"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0,h("./shim");var g=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==k(u)&&"function"!=typeof u)return{default:u};var d=w();if(d&&d.has(u))return d.get(u);var p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in u)if(Object.prototype.hasOwnProperty.call(u,v)){var D=m?Object.getOwnPropertyDescriptor(u,v):null;D&&(D.get||D.set)?Object.defineProperty(p,v,D):p[v]=u[v]}return p.default=u,d&&d.set(u,p),p}(h("./constants"));function w(){if("function"!=typeof WeakMap)return null;var u=new WeakMap;return w=function(){return u},u}function S(u,d){for(var p=0;p<d.length;p++){var m=d[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}var M=function(){function u(v,D,I){var R=this;(function(Oe,Ge){if(!(Oe instanceof Ge))throw new TypeError("Cannot call a class as a function")})(this,u),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=D,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var B=Object.getOwnPropertyNames(u.prototype._registeredMethods),V=!0,G=!1,K=void 0;try{for(var Q,W=B[Symbol.iterator]();!(V=(Q=W.next()).done);V=!0){var Z=Q.value;this._registeredMethods[Z]=u.prototype._registeredMethods[Z].slice()}}catch(Oe){G=!0,K=Oe}finally{try{V||null==W.return||W.return()}finally{if(G)throw K}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){R._userNode&&"string"==typeof R._userNode&&(R._userNode=document.getElementById(R._userNode));var Oe=R._isGlobal?window:R;if(Oe.preload){var Ge=document.getElementById(R._loadingScreenId);Ge||((Ge=document.createElement("div")).innerHTML="Loading...",Ge.style.position="absolute",Ge.id=R._loadingScreenId,(R._userNode||document.body).appendChild(Ge));var De=R._preloadMethods;for(var lt in De){De[lt]=De[lt]||u;var Ke=De[lt];Ke!==u.prototype&&Ke!==u||(R._isGlobal&&(window[lt]=R._wrapPreload(R,lt)),Ke=R),R._registeredPreloadMethods[lt]=Ke[lt],Ke[lt]=R._wrapPreload(Ke,lt)}Oe.preload(),R._runIfPreloadsAreDone()}else R._setup(),R._draw()},this._runIfPreloadsAreDone=function(){var Oe=this._isGlobal?window:this;if(0===Oe._preloadCount){var Ge=document.getElementById(Oe._loadingScreenId);Ge&&Ge.parentNode.removeChild(Ge),this._setupDone||(this._lastFrameTime=window.performance.now(),Oe._setup(),Oe._draw())}},this._decrementPreload=function(){var Oe=this._isGlobal?window:this;"function"==typeof Oe.preload&&(Oe._setProperty("_preloadCount",Oe._preloadCount-1),Oe._runIfPreloadsAreDone())},this._wrapPreload=function(Oe,Ge){var De=this;return function(){De._incrementPreload();for(var lt=arguments.length,Ke=new Array(lt),ct=0;ct<lt;ct++)Ke[ct]=arguments[ct];return De._registeredPreloadMethods[Ge].apply(Oe,Ke)}},this._incrementPreload=function(){var Oe=this._isGlobal?window:this;Oe._setProperty("_preloadCount",Oe._preloadCount+1)},this._setup=function(){R.createCanvas(R._defaultCanvasSize.width,R._defaultCanvasSize.height,"p2d");var Oe=R._isGlobal?window:R;if("function"==typeof Oe.preload)for(var Ge in R._preloadMethods)Oe[Ge]=R._preloadMethods[Ge][Ge],Oe[Ge]&&R&&(Oe[Ge]=Oe[Ge].bind(R));R._millisStart=window.performance.now(),"function"==typeof Oe.setup&&Oe.setup();var De=document.getElementsByTagName("canvas"),lt=!0,Ke=!1,ct=void 0;try{for(var ut,z=De[Symbol.iterator]();!(lt=(ut=z.next()).done);lt=!0){var ie=ut.value;"true"===ie.dataset.hidden&&(ie.style.visibility="",delete ie.dataset.hidden)}}catch(fe){Ke=!0,ct=fe}finally{try{lt||null==z.return||z.return()}finally{if(Ke)throw ct}}R._lastFrameTime=window.performance.now(),R._setupDone=!0,(R._accessibleOutputs.grid||R._accessibleOutputs.text)&&R._updateAccsOutput()},this._draw=function(){var Oe=window.performance.now();(!R._loop||1e3/R._targetFrameRate-5<=Oe-R._lastFrameTime)&&(R.redraw(),R._frameRate=1e3/(Oe-R._lastFrameTime),R.deltaTime=Oe-R._lastFrameTime,R._setProperty("deltaTime",R.deltaTime),R._lastFrameTime=Oe,void 0!==R._updateMouseCoords&&(R._updateMouseCoords(),R._setProperty("movedX",0),R._setProperty("movedY",0))),R._loop&&(R._requestAnimId=window.requestAnimationFrame(R._draw))},this._setProperty=function(Oe,Ge){R[Oe]=Ge,R._isGlobal&&(window[Oe]=Ge)},this.remove=function(){var Oe=document.getElementById(R._loadingScreenId);if(Oe&&(Oe.parentNode.removeChild(Oe),R._incrementPreload()),R._curElement){for(var Ge in R._loop=!1,R._requestAnimId&&window.cancelAnimationFrame(R._requestAnimId),R._events)window.removeEventListener(Ge,R._events[Ge]);var De=!0,lt=!1,Ke=void 0;try{for(var ct,ut=R._elements[Symbol.iterator]();!(De=(ct=ut.next()).done);De=!0){var z=ct.value;for(var ie in z.elt&&z.elt.parentNode&&z.elt.parentNode.removeChild(z.elt),z._events)z.elt.removeEventListener(ie,z._events[ie])}}catch(Ae){lt=!0,Ke=Ae}finally{try{De||null==ut.return||ut.return()}finally{if(lt)throw Ke}}var fe=R;R._registeredMethods.remove.forEach(function(Ae){void 0!==Ae&&Ae.call(fe)})}if(R._isGlobal){for(var Ee in u.prototype)try{delete window[Ee]}catch(Ae){window[Ee]=void 0}for(var Ne in R)if(R.hasOwnProperty(Ne))try{delete window[Ne]}catch(Ae){window[Ne]=void 0}u.instance=null}},this._registeredMethods.init.forEach(function(Oe){void 0!==Oe&&Oe.call(this)},this),this._setupPromisePreloads();var ne=this._createFriendlyGlobalFunctionBinder();if(v)v(this),u._checkForUserDefinedFunctions(this);else{for(var X in this._isGlobal=!0,u.instance=this,u.prototype)if("function"==typeof u.prototype[X]){var se=X.substring(2);this._events.hasOwnProperty(se)||(Math.hasOwnProperty(X)&&Math[X]===u.prototype[X]?ne(X,u.prototype[X]):ne(X,u.prototype[X].bind(this)))}else ne(X,u.prototype[X]);for(var oe in this)this.hasOwnProperty(oe)&&ne(oe,this[oe])}for(var Fe in this._events){var Be=this["_on".concat(Fe)];if(Be){var xe=Be.bind(this);window.addEventListener(Fe,xe,{passive:!1}),this._events[Fe]=xe}}function Ue(){R._setProperty("focused",!0)}function Ve(){R._setProperty("focused",!1)}window.addEventListener("focus",Ue),window.addEventListener("blur",Ve),this.registerMethod("remove",function(){window.removeEventListener("focus",Ue),window.removeEventListener("blur",Ve)}),"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)}var d,p;return d=u,(p=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=g.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(v,D){u.prototype._preloadMethods.hasOwnProperty(v)||(u.prototype._preloadMethods[v]=D)}},{key:"registerMethod",value:function(v,D){var I=this||u.prototype;I._registeredMethods.hasOwnProperty(v)||(I._registeredMethods[v]=[]),I._registeredMethods[v].push(D)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(v){var D=0<arguments.length&&void 0!==v?v:{},I=D.globalObject||window;return D.log||console.log.bind(console),function(R,B){I[R]=B}}}])&&S(d.prototype,p),u}();for(var b in M.instance=null,M.disableFriendlyErrors=!1,g)M.prototype[b]=g[b];M.prototype._preloadMethods={loadJSON:M.prototype,loadImage:M.prototype,loadStrings:M.prototype,loadXML:M.prototype,loadBytes:M.prototype,loadTable:M.prototype,loadFont:M.prototype,loadModel:M.prototype,loadShader:M.prototype},M.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},M.prototype._registeredPreloadMethods={},j.default=M},{"./constants":250,"./shim":271,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.get-own-property-names":171,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],261:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("./main"))&&k.__esModule?k:{default:k};g.default.Element=function(S,M){this.elt=S,this._pInst=this._pixelsState=M,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},g.default.Element.prototype.parent=function(S){return void 0===S?this.elt.parentNode:("string"==typeof S?("#"===S[0]&&(S=S.substring(1)),S=document.getElementById(S)):S instanceof g.default.Element&&(S=S.elt),S.appendChild(this.elt),this)},g.default.Element.prototype.id=function(S){return void 0===S?this.elt.id:(this.elt.id=S,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},g.default.Element.prototype.class=function(S){return void 0===S?this.elt.className:(this.elt.className=S,this)},g.default.Element.prototype.mousePressed=function(S){return g.default.Element._adjustListener("mousedown",function(M){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(M),S.call(this)},this),this},g.default.Element.prototype.doubleClicked=function(S){return g.default.Element._adjustListener("dblclick",S,this),this},g.default.Element.prototype.mouseWheel=function(S){return g.default.Element._adjustListener("wheel",S,this),this},g.default.Element.prototype.mouseReleased=function(S){return g.default.Element._adjustListener("mouseup",S,this),this},g.default.Element.prototype.mouseClicked=function(S){return g.default.Element._adjustListener("click",S,this),this},g.default.Element.prototype.mouseMoved=function(S){return g.default.Element._adjustListener("mousemove",S,this),this},g.default.Element.prototype.mouseOver=function(S){return g.default.Element._adjustListener("mouseover",S,this),this},g.default.Element.prototype.mouseOut=function(S){return g.default.Element._adjustListener("mouseout",S,this),this},g.default.Element.prototype.touchStarted=function(S){return g.default.Element._adjustListener("touchstart",S,this),this},g.default.Element.prototype.touchMoved=function(S){return g.default.Element._adjustListener("touchmove",S,this),this},g.default.Element.prototype.touchEnded=function(S){return g.default.Element._adjustListener("touchend",S,this),this},g.default.Element.prototype.dragOver=function(S){return g.default.Element._adjustListener("dragover",S,this),this},g.default.Element.prototype.dragLeave=function(S){return g.default.Element._adjustListener("dragleave",S,this),this},g.default.Element._adjustListener=function(S,M,b){return!1===M?g.default.Element._detachListener(S,b):g.default.Element._attachListener(S,M,b),this},g.default.Element._attachListener=function(S,M,b){b._events[S]&&g.default.Element._detachListener(S,b);var f=M.bind(b);b.elt.addEventListener(S,f,!1),b._events[S]=f},g.default.Element._detachListener=function(S,M){M.elt.removeEventListener(S,M._events[S],!1),M._events[S]=null},g.default.Element.prototype._setProperty=function(S,M){this[S]=M},j.default=g.default.Element},{"./main":260}],262:[function(h,te,j){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}h("core-js/modules/es.array.index-of"),h("core-js/modules/es.array.splice"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("./main"))&&g.__esModule?g:{default:g},S=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!=typeof f)return{default:f};var u=M();if(u&&u.has(f))return u.get(f);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)){var v=p?Object.getOwnPropertyDescriptor(f,m):null;v&&(v.get||v.set)?Object.defineProperty(d,m,v):d[m]=f[m]}return d.default=f,u&&u.set(f,d),d}(h("./constants"));function M(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return M=function(){return f},f}w.default.Graphics=function(f,u,d,p){var m=d||S.P2D;this.canvas=document.createElement("canvas");var v=p._userNode||document.body;for(var D in v.appendChild(this.canvas),w.default.Element.call(this,this.canvas,p),w.default.prototype)this[D]||(this[D]="function"==typeof w.default.prototype[D]?w.default.prototype[D].bind(this):w.default.prototype[D]);return w.default.prototype._initializeInstanceVariables.apply(this),this.width=f,this.height=u,this._pixelDensity=p._pixelDensity,this._renderer=m===S.WEBGL?new w.default.RendererGL(this.canvas,this,!1):new w.default.Renderer2D(this.canvas,this,!1),p._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(f,u),this._renderer._applyDefaults(),this},w.default.Graphics.prototype=Object.create(w.default.Element.prototype),w.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},w.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var f=this._pInst._elements.indexOf(this);for(var u in-1!==f&&this._pInst._elements.splice(f,1),this._events)this.elt.removeEventListener(u,this._events[u])},j.default=w.default.Graphics},{"./constants":250,"./main":260,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.splice":162}],263:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.number.constructor"),h("core-js/modules/es.object.assign"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.string.replace"),h("core-js/modules/es.string.split"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("./main"))&&k.__esModule?k:{default:k},w=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==M(u)&&"function"!=typeof u)return{default:u};var d=S();if(d&&d.has(u))return d.get(u);var p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in u)if(Object.prototype.hasOwnProperty.call(u,v)){var D=m?Object.getOwnPropertyDescriptor(u,v):null;D&&(D.get||D.set)?Object.defineProperty(p,v,D):p[v]=u[v]}return p.default=u,d&&d.set(u,p),p}(h("../core/constants"));function S(){if("function"!=typeof WeakMap)return null;var u=new WeakMap;return S=function(){return u},u}function M(u){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}function b(u){var d=0,p=0;if(u.offsetParent)for(;d+=u.offsetLeft,p+=u.offsetTop,u=u.offsetParent;);else d+=u.offsetLeft,p+=u.offsetTop;return[d,p]}g.default.Renderer=function(u,d,p){g.default.Element.call(this,u,d),this.canvas=u,this._pixelsState=d,p?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=w.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=w.LEFT,this._textBaseline=w.BASELINE,this._textWrap=w.WORD,this._rectMode=w.CORNER,this._ellipseMode=w.CENTER,this._curveTightness=0,this._imageMode=w.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},g.default.Renderer.prototype=Object.create(g.default.Element.prototype),g.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},g.default.Renderer.prototype.pop=function(u){u.properties&&Object.assign(this,u.properties)},g.default.Renderer.prototype.resize=function(u,d){this.width=u,this.height=d,this.elt.width=u*this._pInst._pixelDensity,this.elt.height=d*this._pInst._pixelDensity,this.elt.style.width="".concat(u,"px"),this.elt.style.height="".concat(d,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},g.default.Renderer.prototype.get=function(u,d,p,m){var v=this._pixelsState,D=v._pixelDensity,I=this.canvas;if(void 0===u&&void 0===d)u=d=0,p=v.width,m=v.height;else if(u*=D,d*=D,void 0===p&&void 0===m)return u<0||d<0||u>=I.width||d>=I.height?[0,0,0,0]:this._getPixel(u,d);var R=new g.default.Image(p,m);return R.canvas.getContext("2d").drawImage(I,u,d,p*D,m*D,0,0,p,m),R},g.default.Renderer.prototype.textLeading=function(u){return"number"==typeof u?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",u),this._pInst):this._textLeading},g.default.Renderer.prototype.textSize=function(u){return"number"==typeof u?(this._setProperty("_textSize",u),this._leadingSet||this._setProperty("_textLeading",u*w._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},g.default.Renderer.prototype.textStyle=function(u){return u?(u!==w.NORMAL&&u!==w.ITALIC&&u!==w.BOLD&&u!==w.BOLDITALIC||this._setProperty("_textStyle",u),this._applyTextProperties()):this._textStyle},g.default.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},g.default.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},g.default.Renderer.prototype.textAlign=function(u,d){return void 0!==u?(this._setProperty("_textAlign",u),void 0!==d&&this._setProperty("_textBaseline",d),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},g.default.Renderer.prototype.textWrap=function(u){return this._setProperty("_textWrap",u),this._textWrap},g.default.Renderer.prototype.text=function(u,d,p,m,v){var D,I,R,B,V,G,K,Q=this._pInst,W=this._textWrap,Z=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&void 0!==u){if("string"!=typeof u&&(u=u.toString()),D=(u=u.replace(/(\t)/g,"  ")).split("\n"),void 0!==m){switch(this._rectMode===w.CENTER&&(d-=m/2),this._textAlign){case w.CENTER:d+=m/2;break;case w.RIGHT:d+=m}var ne=!1;if(void 0!==v){switch(this._rectMode===w.CENTER&&(p-=v/2),this._textBaseline){case w.BOTTOM:K=p+(v-totalHeight),p=Math.max(K,p);break;case w.CENTER:K=p+(v-totalHeight)/2,p=Math.max(K,p);break;case w.BASELINE:ne=!0,this._textBaseline=w.TOP}Z=p+v-Q.textAscent()}if(W===w.WORD)for(var X=0;X<D.length;X++){I="",V=D[X].split(" ");for(var se=0;se<V.length;se++)R="".concat(I+V[se])+" ",m<(B=this.textWidth(R))&&0<I.length?(this._renderText(Q,I,d,p,Z),I="".concat(V[se])+" ",p+=Q.textLeading()):I=R;this._renderText(Q,I,d,p,Z),p+=Q.textLeading(),ne&&(this._textBaseline=w.BASELINE)}else{for(var oe=0;oe<D.length;oe++){I="",G=D[oe].split("");for(var Fe=0;Fe<G.length;Fe++)R="".concat(I+G[Fe]),(B=this.textWidth(R))<=m?I+=G[Fe]:m<B&&0<I.length&&(this._renderText(Q,I,d,p,Z),p+=Q.textLeading(),I="".concat(G[Fe]))}this._renderText(Q,I,d,p,Z),p+=Q.textLeading(),ne&&(this._textBaseline=w.BASELINE)}}else{var Be=0,xe=Q.textAlign().vertical;xe===w.CENTER?Be=(D.length-1)*Q.textLeading()/2:xe===w.BOTTOM&&(Be=(D.length-1)*Q.textLeading());for(var Ue=0;Ue<D.length;Ue++)this._renderText(Q,D[Ue],d,p-Be,Z),p+=Q.textLeading()}return Q}},g.default.Renderer.prototype._applyDefaults=function(){return this},g.default.Renderer.prototype._isOpenType=function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===M(u)&&u.font&&u.font.supported},g.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var u=document.createElement("span");u.style.fontFamily=this._textFont,u.style.fontSize="".concat(this._textSize,"px"),u.innerHTML="ABCjgq|";var d=document.createElement("div");d.style.display="inline-block",d.style.width="1px",d.style.height="0px";var p=document.createElement("div");p.appendChild(u),p.appendChild(d),p.style.height="0px",p.style.overflow="hidden",document.body.appendChild(p),d.style.verticalAlign="baseline";var m=b(d),v=b(u),D=m[1]-v[1];d.style.verticalAlign="bottom",m=b(d),v=b(u);var I=m[1]-v[1]-D;return document.body.removeChild(p),this._setProperty("_textAscent",D),this._setProperty("_textDescent",I),this},j.default=g.default.Renderer},{"../core/constants":250,"./main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],264:[function(h,te,j){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.for-each"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.number.to-fixed"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.to-string"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g=b(h("./main")),w=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==k(d)&&"function"!=typeof d)return{default:d};var p=M();if(p&&p.has(d))return p.get(d);var m={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in d)if(Object.prototype.hasOwnProperty.call(d,D)){var I=v?Object.getOwnPropertyDescriptor(d,D):null;I&&(I.get||I.set)?Object.defineProperty(m,D,I):m[D]=d[D]}return m.default=d,p&&p.set(d,m),m}(h("./constants")),S=b(h("../image/filters"));function M(){if("function"!=typeof WeakMap)return null;var d=new WeakMap;return M=function(){return d},d}function b(d){return d&&d.__esModule?d:{default:d}}h("./p5.Renderer");var f="rgba(0,0,0,0)";g.default.Renderer2D=function(d,p,m){return g.default.Renderer.call(this,d,p,m),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},g.default.Renderer2D.prototype=Object.create(g.default.Renderer.prototype),g.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=w.BLEND,this._setFill(w._DEFAULT_FILL),this._setStroke(w._DEFAULT_STROKE),this.drawingContext.lineCap=w.ROUND,this.drawingContext.font="normal 12px sans-serif"},g.default.Renderer2D.prototype.resize=function(d,p){g.default.Renderer.prototype.resize.call(this,d,p),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},g.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof g.default.Image)this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var d,p=this._getFill(),m=(d=this._pInst).color.apply(d,arguments);this._pInst._addAccsOutput()&&this._pInst._accsBackground(m.levels);var v=m.toString();this._setFill(v),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(p),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},g.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},g.default.Renderer2D.prototype.fill=function(){var d,p=(d=this._pInst).color.apply(d,arguments);this._setFill(p.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",p.levels)},g.default.Renderer2D.prototype.stroke=function(){var d,p=(d=this._pInst).color.apply(d,arguments);this._setStroke(p.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",p.levels)},g.default.Renderer2D.prototype.erase=function(d,p){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var m=this._pInst.color(255,d).toString();this.drawingContext.fillStyle=m,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var v=this._pInst.color(255,p).toString();this.drawingContext.strokeStyle=v;var D=this._cachedBlendMode;this.blendMode(w.REMOVE),this._cachedBlendMode=D,this._isErasing=!0}},g.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},g.default.Renderer2D.prototype.image=function(d,p,m,v,D,I,R,B,V){var G;d.gifProperties&&d._animateGif(this._pInst);try{this._tint&&(g.default.MediaElement&&d instanceof g.default.MediaElement&&d.loadPixels(),d.canvas&&(G=this._getTintedImageCanvas(d))),G=G||d.canvas||d.elt;var K=1;d.width&&0<d.width&&(K=G.width/d.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(G,K*p,K*m,K*v,K*D,I,R,B,V),this._isErasing&&this._pInst.erase()}catch(Q){if("NS_ERROR_NOT_AVAILABLE"!==Q.name)throw Q}},g.default.Renderer2D.prototype._getTintedImageCanvas=function(d){if(!d.canvas)return d;var p=S.default._toPixels(d.canvas),m=document.createElement("canvas");m.width=d.canvas.width,m.height=d.canvas.height;for(var v=m.getContext("2d"),D=v.createImageData(d.canvas.width,d.canvas.height),I=D.data,R=0;R<p.length;R+=4){var V=p[R+1],G=p[R+2],K=p[R+3];I[R]=p[R]*this._tint[0]/255,I[R+1]=V*this._tint[1]/255,I[R+2]=G*this._tint[2]/255,I[R+3]=K*this._tint[3]/255}return v.putImageData(D,0,0),m},g.default.Renderer2D.prototype.blendMode=function(d){if(d===w.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(d!==w.BLEND&&d!==w.REMOVE&&d!==w.DARKEST&&d!==w.LIGHTEST&&d!==w.DIFFERENCE&&d!==w.MULTIPLY&&d!==w.EXCLUSION&&d!==w.SCREEN&&d!==w.REPLACE&&d!==w.OVERLAY&&d!==w.HARD_LIGHT&&d!==w.SOFT_LIGHT&&d!==w.DODGE&&d!==w.BURN&&d!==w.ADD)throw new Error("Mode ".concat(d," not recognized."));this._cachedBlendMode=d,this.drawingContext.globalCompositeOperation=d}},g.default.Renderer2D.prototype.blend=function(){for(var d=this.drawingContext.globalCompositeOperation,p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var D=m[m.length-1],I=Array.prototype.slice.call(m,0,m.length-1);this.drawingContext.globalCompositeOperation=D,g.default.prototype.copy.apply(this,I),this.drawingContext.globalCompositeOperation=d},g.default.Renderer2D.prototype._getPixel=function(d,p){var m;return[(m=this.drawingContext.getImageData(d,p,1,1).data)[0],m[1],m[2],m[3]]},g.default.Renderer2D.prototype.loadPixels=function(){var d=this._pixelsState,p=d._pixelDensity,D=this.drawingContext.getImageData(0,0,this.width*p,this.height*p);d._setProperty("imageData",D),d._setProperty("pixels",D.data)},g.default.Renderer2D.prototype.set=function(d,p,m){d=Math.floor(d),p=Math.floor(p);var v=this._pixelsState;if(m instanceof g.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(v._pixelDensity,v._pixelDensity),this.drawingContext.clearRect(d,p,m.width,m.height),this.drawingContext.drawImage(m.canvas,d,p),this.drawingContext.restore();else{var D=0,I=0,R=0,B=0,V=4*(p*v._pixelDensity*(this.width*v._pixelDensity)+d*v._pixelDensity);if(v.imageData||v.loadPixels.call(v),"number"==typeof m)V<v.pixels.length&&(R=I=D=m,B=255);else if(m instanceof Array){if(m.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");V<v.pixels.length&&(D=m[0],I=m[1],R=m[2],B=m[3])}else m instanceof g.default.Color&&V<v.pixels.length&&(D=m.levels[0],I=m.levels[1],R=m.levels[2],B=m.levels[3]);for(var G=0;G<v._pixelDensity;G++)for(var K=0;K<v._pixelDensity;K++)v.pixels[V=4*((p*v._pixelDensity+K)*this.width*v._pixelDensity+(d*v._pixelDensity+G))]=D,v.pixels[V+1]=I,v.pixels[V+2]=R,v.pixels[V+3]=B}},g.default.Renderer2D.prototype.updatePixels=function(d,p,m,v){var D=this._pixelsState,I=D._pixelDensity;void 0===d&&void 0===p&&void 0===m&&void 0===v&&(p=d=0,m=this.width,v=this.height),d*=I,p*=I,m*=I,v*=I,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=D.imageData),this.drawingContext.putImageData(D.imageData,d,p,0,0,m,v)},g.default.Renderer2D.prototype._acuteArcToBezier=function(d,p){var m=p/2,v=Math.cos(m),D=Math.sin(m),I=1/Math.tan(m),R=d+m,B=Math.cos(R),V=Math.sin(R),G=(4-v)/3,K=D+(v-G)*I;return{ax:Math.cos(d).toFixed(7),ay:Math.sin(d).toFixed(7),bx:(G*B+K*V).toFixed(7),by:(G*V-K*B).toFixed(7),cx:(G*B-K*V).toFixed(7),cy:(G*V+K*B).toFixed(7),dx:Math.cos(d+p).toFixed(7),dy:Math.sin(d+p).toFixed(7)}},g.default.Renderer2D.prototype.arc=function(d,p,m,v,D,I,R){var B=this.drawingContext,V=m/2,G=v/2,K=0,Q=[];for(d+=V,p+=G;1e-5<=I-D;)K=Math.min(I-D,w.HALF_PI),Q.push(this._acuteArcToBezier(D,K)),D+=K;return this._doFill&&(B.beginPath(),Q.forEach(function(W,Z){0===Z&&B.moveTo(d+W.ax*V,p+W.ay*G),B.bezierCurveTo(d+W.bx*V,p+W.by*G,d+W.cx*V,p+W.cy*G,d+W.dx*V,p+W.dy*G)}),R!==w.PIE&&null!=R||B.lineTo(d,p),B.closePath(),B.fill()),this._doStroke&&(B.beginPath(),Q.forEach(function(W,Z){0===Z&&B.moveTo(d+W.ax*V,p+W.ay*G),B.bezierCurveTo(d+W.bx*V,p+W.by*G,d+W.cx*V,p+W.cy*G,d+W.dx*V,p+W.dy*G)}),R===w.PIE?(B.lineTo(d,p),B.closePath()):R===w.CHORD&&B.closePath(),B.stroke()),this},g.default.Renderer2D.prototype.ellipse=function(d){var p=this.drawingContext,m=this._doFill,v=this._doStroke,D=parseFloat(d[0]),I=parseFloat(d[1]),R=parseFloat(d[2]),B=parseFloat(d[3]);if(m&&!v){if(this._getFill()===f)return this}else if(!m&&v&&this._getStroke()===f)return this;var V=R/2*.5522847498,G=B/2*.5522847498,K=D+R,Q=I+B,W=D+R/2,Z=I+B/2;p.beginPath(),p.moveTo(D,Z),p.bezierCurveTo(D,Z-G,W-V,I,W,I),p.bezierCurveTo(W+V,I,K,Z-G,K,Z),p.bezierCurveTo(K,Z+G,W+V,Q,W,Q),p.bezierCurveTo(W-V,Q,D,Z+G,D,Z),m&&p.fill(),v&&p.stroke()},g.default.Renderer2D.prototype.line=function(d,p,m,v){var D=this.drawingContext;return this._doStroke&&(this._getStroke()===f||(D.beginPath(),D.moveTo(d,p),D.lineTo(m,v),D.stroke())),this},g.default.Renderer2D.prototype.point=function(d,p){var m=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===f)return this;var v=this._getStroke(),D=this._getFill();this._setFill(v),m.beginPath(),m.arc(d,p,m.lineWidth/2,0,w.TWO_PI,!1),m.fill(),this._setFill(D)},g.default.Renderer2D.prototype.quad=function(d,p,m,v,D,I,R,B){var V=this.drawingContext,G=this._doFill,K=this._doStroke;if(G&&!K){if(this._getFill()===f)return this}else if(!G&&K&&this._getStroke()===f)return this;return V.beginPath(),V.moveTo(d,p),V.lineTo(m,v),V.lineTo(D,I),V.lineTo(R,B),V.closePath(),G&&V.fill(),K&&V.stroke(),this},g.default.Renderer2D.prototype.rect=function(d){var p=d[0],m=d[1],v=d[2],D=d[3],I=d[4],R=d[5],B=d[6],V=d[7],G=this.drawingContext,K=this._doFill,Q=this._doStroke;if(K&&!Q){if(this._getFill()===f)return this}else if(!K&&Q&&this._getStroke()===f)return this;if(G.beginPath(),void 0===I)G.rect(p,m,v,D);else{void 0===R&&(R=I),void 0===B&&(B=R),void 0===V&&(V=B);var W=Math.abs(v),Z=Math.abs(D),ne=W/2,X=Z/2;W<2*I&&(I=ne),Z<2*I&&(I=X),W<2*R&&(R=ne),Z<2*R&&(R=X),W<2*B&&(B=ne),Z<2*B&&(B=X),W<2*V&&(V=ne),Z<2*V&&(V=X),G.beginPath(),G.moveTo(p+I,m),G.arcTo(p+v,m,p+v,m+D,R),G.arcTo(p+v,m+D,p,m+D,B),G.arcTo(p,m+D,p,m,V),G.arcTo(p,m,p+v,m,I),G.closePath()}return this._doFill&&G.fill(),this._doStroke&&G.stroke(),this},g.default.Renderer2D.prototype.triangle=function(d){var p=this.drawingContext,m=this._doFill,v=this._doStroke,D=d[0],I=d[1],R=d[2],B=d[3],V=d[4],G=d[5];if(m&&!v){if(this._getFill()===f)return this}else if(!m&&v&&this._getStroke()===f)return this;p.beginPath(),p.moveTo(D,I),p.lineTo(R,B),p.lineTo(V,G),p.closePath(),m&&p.fill(),v&&p.stroke()},g.default.Renderer2D.prototype.endShape=function(d,p,m,v,D,I,R){if(0===p.length)return this;if(!this._doStroke&&!this._doFill)return this;var B,V,G,K=d===w.CLOSE;K&&!I&&p.push(p[0]);var Q=p.length;if(!m||R!==w.POLYGON&&null!==R)if(!v||R!==w.POLYGON&&null!==R)if(!D||R!==w.POLYGON&&null!==R)if(R===w.POINTS)for(V=0;V<Q;V++)B=p[V],this._doStroke&&this._pInst.stroke(B[6]),this._pInst.point(B[0],B[1]);else if(R===w.LINES)for(V=0;V+1<Q;V+=2)B=p[V],this._doStroke&&this._pInst.stroke(p[V+1][6]),this._pInst.line(B[0],B[1],p[V+1][0],p[V+1][1]);else if(R===w.TRIANGLES)for(V=0;V+2<Q;V+=3)B=p[V],this.drawingContext.beginPath(),this.drawingContext.moveTo(B[0],B[1]),this.drawingContext.lineTo(p[V+1][0],p[V+1][1]),this.drawingContext.lineTo(p[V+2][0],p[V+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(p[V+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(p[V+2][6]),this.drawingContext.stroke());else if(R===w.TRIANGLE_STRIP)for(V=0;V+1<Q;V++)B=p[V],this.drawingContext.beginPath(),this.drawingContext.moveTo(p[V+1][0],p[V+1][1]),this.drawingContext.lineTo(B[0],B[1]),this._doStroke&&this._pInst.stroke(p[V+1][6]),this._doFill&&this._pInst.fill(p[V+1][5]),V+2<Q&&(this.drawingContext.lineTo(p[V+2][0],p[V+2][1]),this._doStroke&&this._pInst.stroke(p[V+2][6]),this._doFill&&this._pInst.fill(p[V+2][5])),this._doFillStrokeClose(K);else if(R===w.TRIANGLE_FAN){if(2<Q){for(this.drawingContext.beginPath(),V=2;V<Q;V++)B=p[V],this.drawingContext.moveTo(p[0][0],p[0][1]),this.drawingContext.lineTo(p[V-1][0],p[V-1][1]),this.drawingContext.lineTo(B[0],B[1]),this.drawingContext.lineTo(p[0][0],p[0][1]),V<Q-1&&(this._doFill&&B[5]!==p[V+1][5]||this._doStroke&&B[6]!==p[V+1][6])&&(this._doFill&&(this._pInst.fill(B[5]),this.drawingContext.fill(),this._pInst.fill(p[V+1][5])),this._doStroke&&(this._pInst.stroke(B[6]),this.drawingContext.stroke(),this._pInst.stroke(p[V+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(K)}}else if(R===w.QUADS)for(V=0;V+3<Q;V+=4){for(B=p[V],this.drawingContext.beginPath(),this.drawingContext.moveTo(B[0],B[1]),G=1;G<4;G++)this.drawingContext.lineTo(p[V+G][0],p[V+G][1]);this.drawingContext.lineTo(B[0],B[1]),this._doFill&&this._pInst.fill(p[V+3][5]),this._doStroke&&this._pInst.stroke(p[V+3][6]),this._doFillStrokeClose(K)}else if(R===w.QUAD_STRIP){if(3<Q)for(V=0;V+1<Q;V+=2)B=p[V],this.drawingContext.beginPath(),V+3<Q?(this.drawingContext.moveTo(p[V+2][0],p[V+2][1]),this.drawingContext.lineTo(B[0],B[1]),this.drawingContext.lineTo(p[V+1][0],p[V+1][1]),this.drawingContext.lineTo(p[V+3][0],p[V+3][1]),this._doFill&&this._pInst.fill(p[V+3][5]),this._doStroke&&this._pInst.stroke(p[V+3][6])):(this.drawingContext.moveTo(B[0],B[1]),this.drawingContext.lineTo(p[V+1][0],p[V+1][1])),this._doFillStrokeClose(K)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(p[0][0],p[0][1]),V=1;V<Q;V++)(B=p[V]).isVert&&(B.moveTo?this.drawingContext.moveTo(B[0],B[1]):this.drawingContext.lineTo(B[0],B[1]));this._doFillStrokeClose(K)}else{for(this.drawingContext.beginPath(),V=0;V<Q;V++)p[V].isVert?p[V].moveTo?this.drawingContext.moveTo(p[V][0],p[V][1]):this.drawingContext.lineTo(p[V][0],p[V][1]):this.drawingContext.quadraticCurveTo(p[V][0],p[V][1],p[V][2],p[V][3]);this._doFillStrokeClose(K)}else{for(this.drawingContext.beginPath(),V=0;V<Q;V++)p[V].isVert?p[V].moveTo?this.drawingContext.moveTo(p[V][0],p[V][1]):this.drawingContext.lineTo(p[V][0],p[V][1]):this.drawingContext.bezierCurveTo(p[V][0],p[V][1],p[V][2],p[V][3],p[V][4],p[V][5]);this._doFillStrokeClose(K)}else if(3<Q){var W=[],Z=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(p[1][0],p[1][1]),V=1;V+2<Q;V++)W[0]=[(B=p[V])[0],B[1]],W[1]=[B[0]+(Z*p[V+1][0]-Z*p[V-1][0])/6,B[1]+(Z*p[V+1][1]-Z*p[V-1][1])/6],W[2]=[p[V+1][0]+(Z*p[V][0]-Z*p[V+2][0])/6,p[V+1][1]+(Z*p[V][1]-Z*p[V+2][1])/6],W[3]=[p[V+1][0],p[V+1][1]],this.drawingContext.bezierCurveTo(W[1][0],W[1][1],W[2][0],W[2][1],W[3][0],W[3][1]);K&&this.drawingContext.lineTo(p[V+1][0],p[V+1][1]),this._doFillStrokeClose(K)}return I=D=v=m=!1,K&&p.pop(),this},g.default.Renderer2D.prototype.strokeCap=function(d){return d!==w.ROUND&&d!==w.SQUARE&&d!==w.PROJECT||(this.drawingContext.lineCap=d),this},g.default.Renderer2D.prototype.strokeJoin=function(d){return d!==w.ROUND&&d!==w.BEVEL&&d!==w.MITER||(this.drawingContext.lineJoin=d),this},g.default.Renderer2D.prototype.strokeWeight=function(d){return this.drawingContext.lineWidth=void 0===d||0===d?1e-4:d,this},g.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},g.default.Renderer2D.prototype._setFill=function(d){d!==this._cachedFillStyle&&(this.drawingContext.fillStyle=d,this._cachedFillStyle=d)},g.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},g.default.Renderer2D.prototype._setStroke=function(d){d!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=d,this._cachedStrokeStyle=d)},g.default.Renderer2D.prototype.bezier=function(d,p,m,v,D,I,R,B){return this._pInst.beginShape(),this._pInst.vertex(d,p),this._pInst.bezierVertex(m,v,D,I,R,B),this._pInst.endShape(),this},g.default.Renderer2D.prototype.curve=function(d,p,m,v,D,I,R,B){return this._pInst.beginShape(),this._pInst.curveVertex(d,p),this._pInst.curveVertex(m,v),this._pInst.curveVertex(D,I),this._pInst.curveVertex(R,B),this._pInst.endShape(),this},g.default.Renderer2D.prototype._doFillStrokeClose=function(d){d&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},g.default.Renderer2D.prototype.applyMatrix=function(d,p,m,v,D,I){this.drawingContext.transform(d,p,m,v,D,I)},g.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},g.default.Renderer2D.prototype.rotate=function(d){this.drawingContext.rotate(d)},g.default.Renderer2D.prototype.scale=function(d,p){return this.drawingContext.scale(d,p),this},g.default.Renderer2D.prototype.translate=function(d,p){return d instanceof g.default.Vector&&(p=d.y,d=d.x),this.drawingContext.translate(d,p),this},g.default.Renderer2D.prototype.text=function(d,p,m,v,D){var I;void 0!==v&&this.drawingContext.textBaseline===w.BASELINE&&(I=!0,this.drawingContext.textBaseline=w.TOP);var R=g.default.Renderer.prototype.text.apply(this,arguments);return I&&(this.drawingContext.textBaseline=w.BASELINE),R},g.default.Renderer2D.prototype._renderText=function(d,p,m,v,D){if(!(D<=v))return d.push(),this._isOpenType()?this._textFont._renderPath(p,m,v,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(p,m,v),this._doFill&&(this._fillSet||this._setFill(w._DEFAULT_TEXT_FILL),this.drawingContext.fillText(p,m,v))),d.pop(),d},g.default.Renderer2D.prototype.textWidth=function(d){return this._isOpenType()?this._textFont._textWidth(d,this._textSize):this.drawingContext.measureText(d).width},g.default.Renderer2D.prototype._applyTextProperties=function(){var d,p=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),d=this._textFont,this._isOpenType()&&(d=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(d||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===w.CENTER?w._CTX_MIDDLE:this._textBaseline,p},g.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),g.default.Renderer.prototype.push.apply(this)},g.default.Renderer2D.prototype.pop=function(d){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,g.default.Renderer.prototype.pop.call(this,d)},j.default=g.default.Renderer2D},{"../image/filters":281,"./constants":250,"./main":260,"./p5.Renderer":263,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.slice":160,"core-js/modules/es.function.name":163,"core-js/modules/es.number.to-fixed":169,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179}],265:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.assign"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.promise"),h("core-js/modules/es.string.iterator"),h("core-js/modules/web.dom-collections.iterator");var k,g=(k=h("./main"))&&k.__esModule?k:{default:k};g.default.prototype._promisePreloads=[];var w=!(g.default.prototype.registerPromisePreload=function(M){g.default.prototype._promisePreloads.push(M)});function S(){return{}}g.default.prototype._setupPromisePreloads=function(){var M=!0,b=!1,f=void 0;try{for(var u,d=this._promisePreloads[Symbol.iterator]();!(M=(u=d.next()).done);M=!0){var p=u.value,m=this,v=p.method,D=p.addCallbacks,I=p.legacyPreloadSetup,R=p.target||this,B=R[v].bind(R);if(R===g.default.prototype){if(w)continue;m=null,B=R[v]}R[v]=this._wrapPromisePreload(m,B,D),I&&(R[I.method]=this._legacyPreloadGenerator(m,I,R[v]))}}catch(V){b=!0,f=V}finally{try{M||null==d.return||d.return()}finally{if(b)throw f}}w=!0},g.default.prototype._wrapPromisePreload=function(M,b,f){var u=function(){var d=this;this._incrementPreload();for(var p=null,m=null,v=arguments.length,D=new Array(v),I=0;I<v;I++)D[I]=arguments[I];if(f)for(var R=D.length-1;0<=R&&!m&&"function"==typeof D[R];R--)m=p,p=D.pop();var B=Promise.resolve(b.apply(this,D));return p&&B.then(p),m&&B.catch(m),B.then(function(){return d._decrementPreload()}),B};return M&&(u=u.bind(M)),u},g.default.prototype._legacyPreloadGenerator=function(M,b,f){var u=b.createBaseObject||S,d=function(){var p=this;this._incrementPreload();var m=u.apply(this,arguments);return f.apply(this,arguments).then(function(v){Object.assign(m,v),p._decrementPreload()}),m};return M&&(d=d.bind(M)),d}},{"./main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],266:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.filter"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("./main"))&&k.__esModule?k:{default:k},w=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==M(u)&&"function"!=typeof u)return{default:u};var d=S();if(d&&d.has(u))return d.get(u);var p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in u)if(Object.prototype.hasOwnProperty.call(u,v)){var D=m?Object.getOwnPropertyDescriptor(u,v):null;D&&(D.get||D.set)?Object.defineProperty(p,v,D):p[v]=u[v]}return p.default=u,d&&d.set(u,p),p}(h("./constants"));function S(){if("function"!=typeof WeakMap)return null;var u=new WeakMap;return S=function(){return u},u}function M(u){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}h("./p5.Graphics"),h("./p5.Renderer2D"),h("../webgl/p5.RendererGL");var b="defaultCanvas0";g.default.prototype.createCanvas=function(u,d,p){g.default._validateParameters("createCanvas",arguments);var m,v=p||w.P2D;if(v===w.WEBGL){if(m=document.getElementById(b)){m.parentNode.removeChild(m);var D=this._renderer;this._elements=this._elements.filter(function(B){return B!==D})}(m=document.createElement("canvas")).id=b,m.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)m=this.canvas;else{m=document.createElement("canvas");for(var I=0;document.getElementById("defaultCanvas".concat(I));)I++;b="defaultCanvas".concat(I),m.id=b,m.classList.add("p5Canvas")}if(this._setupDone||(m.dataset.hidden=!0,m.style.visibility="hidden"),this._userNode)this._userNode.appendChild(m);else{if(0===document.getElementsByTagName("main").length){var R=document.createElement("main");document.body.appendChild(R)}document.getElementsByTagName("main")[0].appendChild(m)}return v===w.WEBGL?(this._setProperty("_renderer",new g.default.RendererGL(m,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new g.default.Renderer2D(m,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(u,d),this._renderer._applyDefaults(),this._renderer},g.default.prototype.resizeCanvas=function(u,d,p){if(g.default._validateParameters("resizeCanvas",arguments),this._renderer){var m={};for(var v in this.drawingContext){var D=this.drawingContext[v];"object"!==M(D)&&"function"!=typeof D&&(m[v]=D)}for(var I in this._renderer.resize(u,d),this.width=u,this.height=d,m)try{this.drawingContext[I]=m[I]}catch(R){}p||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},g.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},g.default.prototype.createGraphics=function(u,d,p){return g.default._validateParameters("createGraphics",arguments),new g.default.Graphics(u,d,p,this)},g.default.prototype.blendMode=function(u){g.default._validateParameters("blendMode",arguments),u===w.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),u=w.BLEND),this._renderer.blendMode(u)},j.default=g.default},{"../webgl/p5.RendererGL":314,"./constants":250,"./main":260,"./p5.Graphics":262,"./p5.Renderer2D":264,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],267:[function(h,te,j){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}h("core-js/modules/es.array.slice"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g=b(h("../main")),w=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==k(u)&&"function"!=typeof u)return{default:u};var d=M();if(d&&d.has(u))return d.get(u);var p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in u)if(Object.prototype.hasOwnProperty.call(u,v)){var D=m?Object.getOwnPropertyDescriptor(u,v):null;D&&(D.get||D.set)?Object.defineProperty(p,v,D):p[v]=u[v]}return p.default=u,d&&d.set(u,p),p}(h("../constants")),S=b(h("../helpers"));function M(){if("function"!=typeof WeakMap)return null;var u=new WeakMap;return M=function(){return u},u}function b(u){return u&&u.__esModule?u:{default:u}}h("../friendly_errors/fes_core"),h("../friendly_errors/file_errors"),h("../friendly_errors/validate_params"),g.default.prototype._normalizeArcAngles=function(u,d,p,m,v){var D;return u-=w.TWO_PI*Math.floor(u/w.TWO_PI),d-=w.TWO_PI*Math.floor(d/w.TWO_PI),D=Math.min(Math.abs(u-d),w.TWO_PI-Math.abs(u-d)),v&&(u=u<=w.HALF_PI?Math.atan(p/m*Math.tan(u)):u>w.HALF_PI&&u<=3*w.HALF_PI?Math.atan(p/m*Math.tan(u))+w.PI:Math.atan(p/m*Math.tan(u))+w.TWO_PI,d=d<=w.HALF_PI?Math.atan(p/m*Math.tan(d)):d>w.HALF_PI&&d<=3*w.HALF_PI?Math.atan(p/m*Math.tan(d))+w.PI:Math.atan(p/m*Math.tan(d))+w.TWO_PI),d<u&&(d+=w.TWO_PI),{start:u,stop:d,correspondToSamePoint:D<1e-5}},g.default.prototype.arc=function(u,d,p,m,v,D,I,R){if(g.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;if(v===D)return this;v=this._toRadians(v),D=this._toRadians(D),p=Math.abs(p),m=Math.abs(m);var B=S.default.modeAdjust(u,d,p,m,this._renderer._ellipseMode),V=this._normalizeArcAngles(v,D,B.w,B.h,!0);return V.correspondToSamePoint?this._renderer.ellipse([B.x,B.y,B.w,B.h,R]):(this._renderer.arc(B.x,B.y,B.w,B.h,V.start,V.stop,I,R),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[B.x,B.y,B.w,B.h,V.start,V.stop,I])),this},g.default.prototype.ellipse=function(u,d,p,m,v){return g.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},g.default.prototype.circle=function(){g.default._validateParameters("circle",arguments);var u=Array.prototype.slice.call(arguments,0,2);return u.push(arguments[2]),u.push(arguments[2]),this._renderEllipse.apply(this,u)},g.default.prototype._renderEllipse=function(u,d,p,m,v){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;p<0&&(p=Math.abs(p)),void 0===m?m=p:m<0&&(m=Math.abs(m));var D=S.default.modeAdjust(u,d,p,m,this._renderer._ellipseMode);return this._renderer.ellipse([D.x,D.y,D.w,D.h,v]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[D.x,D.y,D.w,D.h]),this},g.default.prototype.line=function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];var m;return g.default._validateParameters("line",d),this._renderer._doStroke&&(m=this._renderer).line.apply(m,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",d),this},g.default.prototype.point=function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];var m;return g.default._validateParameters("point",d),this._renderer._doStroke&&(1===d.length&&d[0]instanceof g.default.Vector?this._renderer.point.call(this._renderer,d[0].x,d[0].y,d[0].z):((m=this._renderer).point.apply(m,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",d))),this},g.default.prototype.quad=function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];var m;return g.default._validateParameters("quad",d),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&d.length<=12?this._renderer.quad.call(this._renderer,d[0],d[1],0,d[2],d[3],0,d[4],d[5],0,d[6],d[7],0,d[8],d[9]):((m=this._renderer).quad.apply(m,d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",d))),this},g.default.prototype.rect=function(){return g.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},g.default.prototype.square=function(u,d,p,m,v,D,I){return g.default._validateParameters("square",arguments),this._renderRect.call(this,u,d,p,p,m,v,D,I)},g.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var u=S.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),d=[u.x,u.y,u.w,u.h],p=4;p<arguments.length;p++)d[p]=arguments[p];this._renderer.rect(d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[u.x,u.y,u.w,u.h])}return this},g.default.prototype.triangle=function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return g.default._validateParameters("triangle",d),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",d),this},j.default=g.default},{"../constants":250,"../friendly_errors/fes_core":252,"../friendly_errors/file_errors":253,"../friendly_errors/validate_params":255,"../helpers":256,"../main":260,"core-js/modules/es.array.slice":160}],268:[function(h,te,j){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../main"))&&g.__esModule?g:{default:g},S=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!=typeof f)return{default:f};var u=M();if(u&&u.has(f))return u.get(f);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)){var v=p?Object.getOwnPropertyDescriptor(f,m):null;v&&(v.get||v.set)?Object.defineProperty(d,m,v):d[m]=f[m]}return d.default=f,u&&u.set(f,d),d}(h("../constants"));function M(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return M=function(){return f},f}w.default.prototype.ellipseMode=function(f){return w.default._validateParameters("ellipseMode",arguments),f!==S.CORNER&&f!==S.CORNERS&&f!==S.RADIUS&&f!==S.CENTER||(this._renderer._ellipseMode=f),this},w.default.prototype.noSmooth=function(){return this.setAttributes("antialias",!1),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},w.default.prototype.rectMode=function(f){return w.default._validateParameters("rectMode",arguments),f!==S.CORNER&&f!==S.CORNERS&&f!==S.RADIUS&&f!==S.CENTER||(this._renderer._rectMode=f),this},w.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},w.default.prototype.strokeCap=function(f){return w.default._validateParameters("strokeCap",arguments),f!==S.ROUND&&f!==S.SQUARE&&f!==S.PROJECT||this._renderer.strokeCap(f),this},w.default.prototype.strokeJoin=function(f){return w.default._validateParameters("strokeJoin",arguments),f!==S.ROUND&&f!==S.BEVEL&&f!==S.MITER||this._renderer.strokeJoin(f),this},w.default.prototype.strokeWeight=function(f){return w.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(f),this},j.default=w.default},{"../constants":250,"../main":260}],269:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../main"))&&k.__esModule?k:{default:k};h("../friendly_errors/fes_core"),h("../friendly_errors/file_errors"),h("../friendly_errors/validate_params"),g.default.prototype.bezier=function(){for(var S,M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];return g.default._validateParameters("bezier",b),(this._renderer._doStroke||this._renderer._doFill)&&(S=this._renderer).bezier.apply(S,b),this},g.default.prototype.bezierDetail=function(S){return g.default._validateParameters("bezierDetail",arguments),this._bezierDetail=S,this},g.default.prototype.bezierPoint=function(S,M,b,f,u){g.default._validateParameters("bezierPoint",arguments);var d=1-u;return Math.pow(d,3)*S+3*Math.pow(d,2)*u*M+3*d*Math.pow(u,2)*b+Math.pow(u,3)*f},g.default.prototype.bezierTangent=function(S,M,b,f,u){g.default._validateParameters("bezierTangent",arguments);var d=1-u;return 3*f*Math.pow(u,2)-3*b*Math.pow(u,2)+6*b*d*u-6*M*d*u+3*M*Math.pow(d,2)-3*S*Math.pow(d,2)},g.default.prototype.curve=function(){for(var S=arguments.length,M=new Array(S),b=0;b<S;b++)M[b]=arguments[b];var f;return g.default._validateParameters("curve",M),this._renderer._doStroke&&(f=this._renderer).curve.apply(f,M),this},g.default.prototype.curveDetail=function(S){return g.default._validateParameters("curveDetail",arguments),this._curveDetail=S<3?3:S,this},g.default.prototype.curveTightness=function(S){return g.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=S,this},g.default.prototype.curvePoint=function(S,M,b,f,u){g.default._validateParameters("curvePoint",arguments);var d=u*u*u,p=u*u;return S*(-.5*d+p-.5*u)+M*(1.5*d-2.5*p+1)+b*(-1.5*d+2*p+.5*u)+f*(.5*d-.5*p)},g.default.prototype.curveTangent=function(S,M,b,f,u){g.default._validateParameters("curveTangent",arguments);var d=u*u;return S*(-3*d/2+2*u-.5)+M*(9*d/2-5*u)+b*(-9*d/2+4*u+.5)+f*(3*d/2-u)},j.default=g.default},{"../friendly_errors/fes_core":252,"../friendly_errors/file_errors":253,"../friendly_errors/validate_params":255,"../main":260}],270:[function(h,te,j){"use strict";function k(R){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(R)}h("core-js/modules/es.array.slice"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../main"))&&g.__esModule?g:{default:g},S=function(R){if(R&&R.__esModule)return R;if(null===R||"object"!==k(R)&&"function"!=typeof R)return{default:R};var B=M();if(B&&B.has(R))return B.get(R);var V={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in R)if(Object.prototype.hasOwnProperty.call(R,K)){var Q=G?Object.getOwnPropertyDescriptor(R,K):null;Q&&(Q.get||Q.set)?Object.defineProperty(V,K,Q):V[K]=R[K]}return V.default=R,B&&B.set(R,V),V}(h("../constants"));function M(){if("function"!=typeof WeakMap)return null;var R=new WeakMap;return M=function(){return R},R}var b=null,f=[],u=[],d=!1,p=!1,m=!1,v=!1,D=!0;w.default.prototype.beginContour=function(){return u=[],v=!0,this},w.default.prototype.beginShape=function(R){var B;return w.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(B=this._renderer).beginShape.apply(B,arguments):(b=R===S.POINTS||R===S.LINES||R===S.TRIANGLES||R===S.TRIANGLE_FAN||R===S.TRIANGLE_STRIP||R===S.QUADS||R===S.QUAD_STRIP?R:null,f=[],u=[]),this},w.default.prototype.bezierVertex=function(){for(var R=arguments.length,B=new Array(R),V=0;V<R;V++)B[V]=arguments[V];var G;if(w.default._validateParameters("bezierVertex",B),this._renderer.isP3D)(G=this._renderer).bezierVertex.apply(G,B);else if(0===f.length)w.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{d=!0;for(var K=[],Q=0;Q<B.length;Q++)K[Q]=B[Q];K.isVert=!1,v?u.push(K):f.push(K)}return this},w.default.prototype.curveVertex=function(){for(var R=arguments.length,B=new Array(R),V=0;V<R;V++)B[V]=arguments[V];var G;return w.default._validateParameters("curveVertex",B),this._renderer.isP3D?(G=this._renderer).curveVertex.apply(G,B):(p=!0,this.vertex(B[0],B[1])),this},w.default.prototype.endContour=function(){var R=u[0].slice();R.isVert=u[0].isVert,R.moveTo=!1,u.push(R),D&&(f.push(f[0]),D=!1);for(var B=0;B<u.length;B++)f.push(u[B]);return this},w.default.prototype.endShape=function(R){if(w.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(R,p,d,m,v,b);else{if(0===f.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var B=R===S.CLOSE;B&&!v&&f.push(f[0]),this._renderer.endShape(R,f,p,d,m,v,b),D=!(v=m=d=p=!1),B&&f.pop()}return this},w.default.prototype.quadraticVertex=function(){for(var R=arguments.length,B=new Array(R),V=0;V<R;V++)B[V]=arguments[V];if(w.default._validateParameters("quadraticVertex",B),this._renderer.isP3D){var G;(G=this._renderer).quadraticVertex.apply(G,B)}else{if(this._contourInited){var K={};return K.x=B[0],K.y=B[1],K.x3=B[2],K.y3=B[3],K.type=S.QUADRATIC,this._contourVertices.push(K),this}if(0<f.length){m=!0;for(var Q=[],W=0;W<B.length;W++)Q[W]=B[W];Q.isVert=!1,v?u.push(Q):f.push(Q)}else w.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},w.default.prototype.vertex=function(R,B,V,G,K){if(this._renderer.isP3D){var Q;(Q=this._renderer).vertex.apply(Q,arguments)}else{var W=[];W.isVert=!0,W[0]=R,W[1]=B,W[2]=0,W[3]=0,W[4]=0,W[5]=this._renderer._getFill(),W[6]=this._renderer._getStroke(),V&&(W.moveTo=V),v?(0===u.length&&(W.moveTo=!0),u.push(W)):f.push(W)}return this},w.default.prototype.normal=function(R,B,V){var G;return this._assert3d("normal"),w.default._validateParameters("normal",arguments),(G=this._renderer).normal.apply(G,arguments),this},j.default=w.default},{"../constants":250,"../main":260,"core-js/modules/es.array.slice":160}],271:[function(h,te,j){"use strict";function k(g){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(g)}h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.filter"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.object.assign"),h("core-js/modules/es.object.keys"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.typed-array.uint8-clamped-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),h("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(g,w){window.setTimeout(g,1e3/60)},"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var g=Object.keys,w=Object.defineProperty,S="function"==typeof Symbol&&"symbol"===k(Symbol()),M=Object.prototype.propertyIsEnumerable,b=function(f){return function(u){return M.call(f,u)}};w(Object,"assign",{value:function(f,u){if(null==f)throw new TypeError("target must be an object");var d,p,m,v,D=Object(f);for(d=1;d<arguments.length;++d)for(p=Object(arguments[d]),v=g(p),S&&Object.getOwnPropertySymbols&&v.push.apply(v,Object.getOwnPropertySymbols(p).filter(b(p))),m=0;m<v.length;++m)D[v[m]]=p[v[m]];return D},configurable:!0,enumerable:!1,writable:!0})}}()},{"core-js/modules/es.array.filter":151,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-clamped-array":224,"core-js/modules/web.dom-collections.iterator":226}],272:[function(h,te,j){"use strict";h("core-js/modules/es.array.for-each"),h("core-js/modules/es.object.assign"),h("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("./main"))&&k.__esModule?k:{default:k};g.default.prototype.noLoop=function(){this._loop=!1},g.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},g.default.prototype.isLooping=function(){return this._loop},g.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},g.default.prototype.pop=function(){var S=this._styles.pop();S?(this._renderer.pop(S.renderer),Object.assign(this,S.props)):console.warn("pop() was called without matching push()")},g.default.prototype.redraw=function(S){if(!this._inUserDraw&&this._setupDone){var M=parseInt(S);(isNaN(M)||M<1)&&(M=1);var b=this._isGlobal?window:this;if("function"==typeof b.draw){void 0===b.setup&&b.scale(b._pixelDensity,b._pixelDensity);for(var f=function(d){d.call(b)},u=0;u<M;u++){b.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),b._renderer.isP3D&&b._renderer._update(),b._setProperty("frameCount",b.frameCount+1),b._registeredMethods.pre.forEach(f),this._inUserDraw=!0;try{b.draw()}finally{this._inUserDraw=!1}b._registeredMethods.post.forEach(f)}}}},j.default=g.default},{"./main":260,"core-js/modules/es.array.for-each":152,"core-js/modules/es.object.assign":170,"core-js/modules/web.dom-collections.for-each":225}],273:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.from"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.get-prototype-of"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.typed-array.uint8-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("./main"))&&k.__esModule?k:{default:k};function w(M){return function(b){if(Array.isArray(b)){for(var f=0,u=new Array(b.length);f<b.length;f++)u[f]=b[f];return u}}(M)||function(b){if(Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b))return Array.from(b)}(M)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}g.default.prototype.applyMatrix=function(){var M,b,f=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||f?(M=this._renderer).applyMatrix.apply(M,w(arguments[0])):(b=this._renderer).applyMatrix.apply(b,arguments),this},g.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},g.default.prototype.rotate=function(M,b){return g.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(M),b),this},g.default.prototype.rotateX=function(M){return this._assert3d("rotateX"),g.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(M)),this},g.default.prototype.rotateY=function(M){return this._assert3d("rotateY"),g.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(M)),this},g.default.prototype.rotateZ=function(M){return this._assert3d("rotateZ"),g.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(M)),this},g.default.prototype.scale=function(M,b,f){if(g.default._validateParameters("scale",arguments),M instanceof g.default.Vector){var u=M;M=u.x,b=u.y,f=u.z}else if(M instanceof Array){var d=M;M=d[0],b=d[1],f=d[2]||1}return isNaN(b)?b=f=M:isNaN(f)&&(f=1),this._renderer.scale.call(this._renderer,M,b,f),this},g.default.prototype.shearX=function(M){g.default._validateParameters("shearX",arguments);var b=this._toRadians(M);return this._renderer.applyMatrix(1,0,Math.tan(b),1,0,0),this},g.default.prototype.shearY=function(M){g.default._validateParameters("shearY",arguments);var b=this._toRadians(M);return this._renderer.applyMatrix(1,Math.tan(b),0,1,0,0),this},g.default.prototype.translate=function(M,b,f){return g.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(M,b,f):this._renderer.translate(M,b),this},j.default=g.default},{"./main":260,"core-js/modules/es.array.from":153,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.get-prototype-of":172,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226}],274:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.from"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.ends-with"),h("core-js/modules/es.string.iterator"),h("core-js/modules/web.dom-collections.iterator");var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};function w(M){return function(b){if(Array.isArray(b)){for(var f=0,u=new Array(b.length);f<b.length;f++)u[f]=b[f];return u}}(M)||function(b){if(Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b))return Array.from(b)}(M)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(M){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(M)}g.default.prototype.storeItem=function(M,b){"string"!=typeof M&&console.log("The argument that you passed to storeItem() - ".concat(M," is not a string.")),M.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(M," must not end with 'p5TypeID'.")),void 0===b&&console.log("You cannot store undefined variables using storeItem().");var f=S(b);switch(f){case"number":case"boolean":b=b.toString();break;case"object":b instanceof g.default.Color?f="p5.Color":b instanceof g.default.Vector&&(f="p5.Vector",b=[b.x,b.y,b.z]),b=JSON.stringify(b)}localStorage.setItem(M,b);var u="".concat(M,"p5TypeID");localStorage.setItem(u,f)},g.default.prototype.getItem=function(M){var b=localStorage.getItem(M),f=localStorage.getItem("".concat(M,"p5TypeID"));if(void 0===f)console.log("Unable to determine type of item stored under ".concat(M,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==b)switch(f){case"number":b=parseFloat(b);break;case"boolean":b="true"===b;break;case"object":b=JSON.parse(b);break;case"p5.Color":b=JSON.parse(b),b=this.color.apply(this,w(b.levels));break;case"p5.Vector":b=JSON.parse(b),b=this.createVector.apply(this,w(b))}return b},g.default.prototype.clearStorage=function(){localStorage.clear()},g.default.prototype.removeItem=function(M){"string"!=typeof M&&console.log("The argument that you passed to removeItem() - ".concat(M," is not a string.")),localStorage.removeItem(M),localStorage.removeItem("".concat(M,"p5TypeID"))}},{"../core/main":260,"core-js/modules/es.array.from":153,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.ends-with":181,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],275:[function(h,te,j){"use strict";h("core-js/modules/es.array.concat"),h("core-js/modules/es.object.keys"),h("core-js/modules/es.string.sub"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.prototype.createStringDict=function(S,M){return g.default._validateParameters("createStringDict",arguments),new g.default.StringDict(S,M)},g.default.prototype.createNumberDict=function(S,M){return g.default._validateParameters("createNumberDict",arguments),new g.default.NumberDict(S,M)},g.default.TypedDict=function(S,M){return S instanceof Object?this.data=S:(this.data={},this.data[S]=M),this},g.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},g.default.TypedDict.prototype.hasKey=function(S){return this.data.hasOwnProperty(S)},g.default.TypedDict.prototype.get=function(S){if(this.data.hasOwnProperty(S))return this.data[S];console.log("".concat(S," does not exist in this Dictionary"))},g.default.TypedDict.prototype.set=function(S,M){this._validate(M)?this.data[S]=M:console.log("Those values dont work for this dictionary type.")},g.default.TypedDict.prototype._addObj=function(S){for(var M in S)this.set(M,S[M])},g.default.TypedDict.prototype.create=function(S,M){S instanceof Object&&void 0===M?this._addObj(S):void 0!==S?this.set(S,M):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},g.default.TypedDict.prototype.clear=function(){this.data={}},g.default.TypedDict.prototype.remove=function(S){if(!this.data.hasOwnProperty(S))throw new Error("".concat(S," does not exist in this Dictionary"));delete this.data[S]},g.default.TypedDict.prototype.print=function(){for(var S in this.data)console.log("key:".concat(S," value:").concat(this.data[S]))},g.default.TypedDict.prototype.saveTable=function(S){var M="";for(var b in this.data)M+="".concat(b,",").concat(this.data[b],"\n");var f=new Blob([M],{type:"text/csv"});g.default.prototype.downloadFile(f,S||"mycsv","csv")},g.default.TypedDict.prototype.saveJSON=function(S,M){g.default.prototype.saveJSON(this.data,S,M)},g.default.TypedDict.prototype._validate=function(S){return!0},g.default.StringDict=function(){for(var S=arguments.length,M=new Array(S),b=0;b<S;b++)M[b]=arguments[b];g.default.TypedDict.apply(this,M)},g.default.StringDict.prototype=Object.create(g.default.TypedDict.prototype),g.default.StringDict.prototype._validate=function(S){return"string"==typeof S},g.default.NumberDict=function(){for(var S=arguments.length,M=new Array(S),b=0;b<S;b++)M[b]=arguments[b];g.default.TypedDict.apply(this,M)},g.default.NumberDict.prototype=Object.create(g.default.TypedDict.prototype),g.default.NumberDict.prototype._validate=function(S){return"number"==typeof S},g.default.NumberDict.prototype.add=function(S,M){this.data.hasOwnProperty(S)?this.data[S]+=M:console.log("The key - ".concat(S," does not exist in this dictionary."))},g.default.NumberDict.prototype.sub=function(S,M){this.add(S,-M)},g.default.NumberDict.prototype.mult=function(S,M){this.data.hasOwnProperty(S)?this.data[S]*=M:console.log("The key - ".concat(S," does not exist in this dictionary."))},g.default.NumberDict.prototype.div=function(S,M){this.data.hasOwnProperty(S)?this.data[S]/=M:console.log("The key - ".concat(S," does not exist in this dictionary."))},g.default.NumberDict.prototype._valueTest=function(S){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var M=this.data[Object.keys(this.data)[0]];for(var b in this.data)this.data[b]*S<M*S&&(M=this.data[b]);return M},g.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},g.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},g.default.NumberDict.prototype._keyTest=function(S){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var M=Object.keys(this.data)[0],b=1;b<Object.keys(this.data).length;b++)Object.keys(this.data)[b]*S<M*S&&(M=Object.keys(this.data)[b]);return M},g.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},g.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},j.default=g.default.TypedDict},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.object.keys":173,"core-js/modules/es.string.sub":189}],276:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.every"),h("core-js/modules/es.array.filter"),h("core-js/modules/es.array.for-each"),h("core-js/modules/es.array.from"),h("core-js/modules/es.array.index-of"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.map"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.array.splice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.promise"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.string.replace"),h("core-js/modules/es.string.split"),h("core-js/modules/es.string.trim"),h("core-js/modules/web.dom-collections.for-each"),h("core-js/modules/web.dom-collections.iterator"),h("core-js/modules/web.url"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};function w(u){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}function S(u,d,p){(d._userNode?d._userNode:document.body).appendChild(u);var m=p?new g.default.MediaElement(u,d):new g.default.Element(u,d);return d._elements.push(m),m}function M(u,d,p,m){var v=document.createElement(d);"string"==typeof(p=p||"")&&(p=[p]);var D=!0,I=!1,R=void 0;try{for(var B,V=p[Symbol.iterator]();!(D=(B=V.next()).done);D=!0){var G=B.value,K=document.createElement("source");K.setAttribute("src",G),v.appendChild(K)}}catch(W){I=!0,R=W}finally{try{D||null==V.return||V.return()}finally{if(I)throw R}}"function"==typeof m&&v.addEventListener("canplaythrough",function W(){m(),v.removeEventListener("canplaythrough",W)});var Q=S(v,u,!0);return Q.loadedmetadata=!1,v.addEventListener("loadedmetadata",function(){Q.width=v.videoWidth,Q.height=v.videoHeight,0===Q.elt.width&&(Q.elt.width=v.videoWidth),0===Q.elt.height&&(Q.elt.height=v.videoHeight),Q.presetPlaybackRate&&(Q.elt.playbackRate=Q.presetPlaybackRate,delete Q.presetPlaybackRate),Q.loadedmetadata=!0}),Q}function b(u,d,p,m){this.callback=u,this.time=d,this.id=p,this.val=m}g.default.prototype.select=function(u,d){g.default._validateParameters("select",arguments);var p=this._getContainer(d).querySelector(u);return p?this._wrapElement(p):null},g.default.prototype.selectAll=function(u,d){g.default._validateParameters("selectAll",arguments);var p=[],m=this._getContainer(d).querySelectorAll(u);if(m)for(var v=0;v<m.length;v++){var D=this._wrapElement(m[v]);p.push(D)}return p},g.default.prototype._getContainer=function(u){var d=document;return"string"==typeof u?d=document.querySelector(u)||document:u instanceof g.default.Element?d=u.elt:u instanceof HTMLElement&&(d=u),d},g.default.prototype._wrapElement=function(u){var d=Array.prototype.slice.call(u.children);if("INPUT"!==u.tagName||"checkbox"!==u.type)return"VIDEO"===u.tagName||"AUDIO"===u.tagName?new g.default.MediaElement(u,this):"SELECT"===u.tagName?this.createSelect(new g.default.Element(u,this)):0<d.length&&d.every(function(m){return"INPUT"===m.tagName||"LABEL"===m.tagName})?this.createRadio(new g.default.Element(u,this)):new g.default.Element(u,this);var p=new g.default.Element(u,this);return p.checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!!arguments[0],this)},p},g.default.prototype.removeElements=function(u){g.default._validateParameters("removeElements",arguments),this._elements.filter(function(d){return!(d.elt instanceof HTMLCanvasElement)}).map(function(d){return d.remove()})},g.default.Element.prototype.changed=function(u){return g.default.Element._adjustListener("change",u,this),this},g.default.Element.prototype.input=function(u){return g.default.Element._adjustListener("input",u,this),this},g.default.prototype.createDiv=function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",d=document.createElement("div");return d.innerHTML=u,S(d,this)},g.default.prototype.createP=function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",d=document.createElement("p");return d.innerHTML=u,S(d,this)},g.default.prototype.createSpan=function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",d=document.createElement("span");return d.innerHTML=u,S(d,this)},g.default.prototype.createImg=function(){g.default._validateParameters("createImg",arguments);var u,d=document.createElement("img"),p=arguments;return 1<p.length&&"string"==typeof p[1]&&(d.alt=p[1]),2<p.length&&"string"==typeof p[2]&&(d.crossOrigin=p[2]),d.src=p[0],u=S(d,this),d.addEventListener("load",function(){u.width=d.offsetWidth||d.width,u.height=d.offsetHeight||d.height;var m=p[p.length-1];"function"==typeof m&&m(u)}),u},g.default.prototype.createA=function(u,d,p){g.default._validateParameters("createA",arguments);var m=document.createElement("a");return m.href=u,m.innerHTML=d,p&&(m.target=p),S(m,this)},g.default.prototype.createSlider=function(u,d,p,m){g.default._validateParameters("createSlider",arguments);var v=document.createElement("input");return v.type="range",v.min=u,v.max=d,0===m?v.step=1e-18:m&&(v.step=m),"number"==typeof p&&(v.value=p),S(v,this)},g.default.prototype.createButton=function(u,d){g.default._validateParameters("createButton",arguments);var p=document.createElement("button");return p.innerHTML=u,d&&(p.value=d),S(p,this)},g.default.prototype.createCheckbox=function(){g.default._validateParameters("createCheckbox",arguments);var u=document.createElement("div"),d=document.createElement("input");d.type="checkbox",u.appendChild(d);var p=S(u,this);if(p.checked=function(){var D=p.elt.getElementsByTagName("input")[0];if(D){if(0===arguments.length)return D.checked;D.checked=!!arguments[0]}return p},this.value=function(D){return p.value=D,this},arguments[0]){var m=Math.random().toString(36).slice(2),v=document.createElement("label");d.setAttribute("id",m),v.htmlFor=m,p.value(arguments[0]),v.appendChild(document.createTextNode(arguments[0])),u.appendChild(v)}return arguments[1]&&(d.checked=!0),p},g.default.prototype.createSelect=function(){var u;g.default._validateParameters("createSelect",arguments);var d=arguments[0];if(d instanceof g.default.Element&&d.elt instanceof HTMLSelectElement)u=d,this.elt=d.elt;else if(d instanceof HTMLSelectElement)u=S(d,this),this.elt=d;else{var p=document.createElement("select");d&&"boolean"==typeof d&&p.setAttribute("multiple","true"),u=S(p,this),this.elt=p}return u.option=function(m,v){var D;if(void 0!==m){for(var I=0;I<this.elt.length;I+=1)if(this.elt[I].innerHTML===m){D=I;break}if(void 0!==D)!1===v?this.elt.remove(D):this.elt[D].value=v;else{var R=document.createElement("option");R.innerHTML=m,R.value=void 0===v?m:v,this.elt.appendChild(R),this._pInst._elements.push(R)}}},u.selected=function(m){if(void 0!==m){for(var v=0;v<this.elt.length;v+=1)this.elt[v].value.toString()===m.toString()&&(this.elt.selectedIndex=v);return this}if(this.elt.getAttribute("multiple")){var D=[],I=!0,R=!1,B=void 0;try{for(var V,G=this.elt.selectedOptions[Symbol.iterator]();!(I=(V=G.next()).done);I=!0)D.push(V.value.value)}catch(Q){R=!0,B=Q}finally{try{I||null==G.return||G.return()}finally{if(R)throw B}}return D}return this.elt.value},u.disable=function(m){if("string"==typeof m)for(var v=0;v<this.elt.length;v++)this.elt[v].value.toString()===m&&(this.elt[v].disabled=!0,this.elt[v].selected=!1);else this.elt.disabled=!0;return this},u},g.default.prototype.createRadio=function(){var u,d,p=arguments[0];p instanceof HTMLDivElement||p instanceof HTMLSpanElement?(u=p,"string"==typeof arguments[1]&&(d=arguments[1])):("string"==typeof p&&(d=p),u=document.createElement("div"));var m=S(this.elt=u,this);function v(I){return I instanceof HTMLInputElement&&"radio"===I.type}function D(I){return I.nextElementSibling instanceof HTMLLabelElement}return m._name=d||"radioOption",m._getOptionsArray=function(){return Array.from(this.elt.children).filter(v)},m.option=function(I,R){var B,V,G=!0,K=!1,Q=void 0;try{for(var W,Z=m._getOptionsArray()[Symbol.iterator]();!(G=(W=Z.next()).done);G=!0){var ne=W.value;if(ne.value===I){B=ne;break}}}catch(X){K=!0,Q=X}finally{try{G||null==Z.return||Z.return()}finally{if(K)throw Q}}return void 0===B&&((B=document.createElement("input")).setAttribute("type","radio"),B.setAttribute("value",I),this.elt.appendChild(B)),D(B)?V=B.nextElementSibling:(V=document.createElement("label"),B.insertAdjacentElement("afterend",V)),V.innerHTML=void 0===R?I:R,B.setAttribute("name",m._name),B},m.remove=function(I){var R=!0,B=!1,V=void 0;try{for(var G,K=m._getOptionsArray()[Symbol.iterator]();!(R=(G=K.next()).done);R=!0){var Q=G.value;if(Q.value===I)return D(Q)&&Q.nextElementSibling.remove(),void Q.remove()}}catch(W){B=!0,V=W}finally{try{R||null==K.return||K.return()}finally{if(B)throw V}}},m.value=function(){var I="",R=!0,B=!1,V=void 0;try{for(var G,K=m._getOptionsArray()[Symbol.iterator]();!(R=(G=K.next()).done);R=!0){var Q=G.value;if(Q.checked){I=Q.value;break}}}catch(W){B=!0,V=W}finally{try{R||null==K.return||K.return()}finally{if(B)throw V}}return I},m.selected=function(I){var R=null;if(void 0===I){var B=!0,V=!1,G=void 0;try{for(var K,Q=m._getOptionsArray()[Symbol.iterator]();!(B=(K=Q.next()).done);B=!0){var W=K.value;if(W.checked){R=W;break}}}catch(Be){V=!0,G=Be}finally{try{B||null==Q.return||Q.return()}finally{if(V)throw G}}}else{var Z=!0,ne=!1,X=void 0;try{for(var se,oe=m._getOptionsArray()[Symbol.iterator]();!(Z=(se=oe.next()).done);Z=!0){var Fe=se.value;Fe.value===I&&(Fe.setAttribute("checked",!0),R=Fe)}}catch(Be){ne=!0,X=Be}finally{try{Z||null==oe.return||oe.return()}finally{if(ne)throw X}}}return R},m.disable=function(){var I=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],R=!0,B=!1,V=void 0;try{for(var G,K=m._getOptionsArray()[Symbol.iterator]();!(R=(G=K.next()).done);R=!0)G.value.setAttribute("disabled",I)}catch(Q){B=!0,V=Q}finally{try{R||null==K.return||K.return()}finally{if(B)throw V}}},m},g.default.prototype.createColorPicker=function(u){g.default._validateParameters("createColorPicker",arguments);var d,p=document.createElement("input");return p.type="color",u?u instanceof g.default.Color?p.value=u.toString("#rrggbb"):(g.default.prototype._colorMode="rgb",g.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},p.value=g.default.prototype.color(u).toString("#rrggbb")):p.value="#000000",(d=S(p,this)).color=function(){return u&&(u.mode&&(g.default.prototype._colorMode=u.mode),u.maxes&&(g.default.prototype._colorMaxes=u.maxes)),g.default.prototype.color(this.elt.value)},d},g.default.prototype.createInput=function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";g.default._validateParameters("createInput",arguments);var p=document.createElement("input");return p.setAttribute("value",u),p.setAttribute("type",d),S(p,this)},g.default.prototype.createFileInput=function(u){var d=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(g.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var p=document.createElement("input");return p.setAttribute("type","file"),d&&p.setAttribute("multiple",!0),p.addEventListener("change",function(m){var v=!0,D=!1,I=void 0;try{for(var R,B=m.target.files[Symbol.iterator]();!(v=(R=B.next()).done);v=!0)g.default.File._load(R.value,u)}catch(G){D=!0,I=G}finally{try{v||null==B.return||B.return()}finally{if(D)throw I}}},!1),S(p,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},g.default.prototype.createVideo=function(u,d){return g.default._validateParameters("createVideo",arguments),M(this,"video",u,d)},g.default.prototype.createAudio=function(u,d){return g.default._validateParameters("createAudio",arguments),M(this,"audio",u,d)},g.default.prototype.VIDEO="video",g.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(u){var d=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return d?new Promise(function(p,m){d.call(navigator,u,p,m)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),g.default.prototype.createCapture=function(){if(g.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var u,d,p=!0,m=!0,v=!0,D=!1,I=void 0;try{for(var R,B=arguments[Symbol.iterator]();!(v=(R=B.next()).done);v=!0){var V=R.value;V===g.default.prototype.VIDEO?m=!1:V===g.default.prototype.AUDIO?p=!1:"object"===w(V)?u=V:"function"==typeof V&&(d=V)}}catch(Q){D=!0,I=Q}finally{try{v||null==B.return||B.return()}finally{if(D)throw I}}u=u||{video:p,audio:m};var G=document.createElement("video");G.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(u).then(function(Q){try{"srcObject"in G?G.srcObject=Q:G.src=window.URL.createObjectURL(Q)}catch(W){G.src=Q}},console.log);var K=S(G,this,!0);return K.loadedmetadata=!1,G.addEventListener("loadedmetadata",function(){G.play(),G.width?(K.width=G.width,K.height=G.height):(K.width=K.elt.width=G.videoWidth,K.height=K.elt.height=G.videoHeight),K.loadedmetadata=!0,d&&d(G.srcObject)}),K},g.default.prototype.createElement=function(u,d){g.default._validateParameters("createElement",arguments);var p=document.createElement(u);return void 0!==d&&(p.innerHTML=d),S(p,this)},g.default.Element.prototype.addClass=function(u){return this.elt.className?this.hasClass(u)||(this.elt.className=this.elt.className+" "+u):this.elt.className=u,this},g.default.Element.prototype.removeClass=function(u){return this.elt.classList.remove(u),this},g.default.Element.prototype.hasClass=function(u){return this.elt.classList.contains(u)},g.default.Element.prototype.toggleClass=function(u){return this.elt.classList.contains(u)?this.elt.classList.remove(u):this.elt.classList.add(u),this},g.default.Element.prototype.child=function(u){return void 0===u?this.elt.childNodes:("string"==typeof u?("#"===u[0]&&(u=u.substring(1)),u=document.getElementById(u)):u instanceof g.default.Element&&(u=u.elt),u instanceof HTMLElement&&this.elt.appendChild(u),this)},g.default.Element.prototype.center=function(u){var d=this.elt.style.display,p="none"===this.elt.style.display,m="none"===this.parent().style.display,v={x:this.elt.offsetLeft,y:this.elt.offsetTop};p&&this.show(),m&&this.parent().show(),this.elt.style.display="block",this.position(0,0);var D=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),I=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===u||void 0===u?this.position(D/2+this.parent().offsetLeft,I/2+this.parent().offsetTop):"horizontal"===u?this.position(D/2+this.parent().offsetLeft,v.y):"vertical"===u&&this.position(v.x,I/2+this.parent().offsetTop),this.style("display",d),p&&this.hide(),m&&this.parent().hide(),this},g.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},g.default.Element.prototype.position=function(){if(0===arguments.length)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};var u="absolute";return"static"!==arguments[2]&&"fixed"!==arguments[2]&&"relative"!==arguments[2]&&"sticky"!==arguments[2]&&"initial"!==arguments[2]&&"inherit"!==arguments[2]||(u=arguments[2]),this.elt.style.position=u,this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this},g.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var u="";return this.elt.style.transform&&(u=(u=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":arguments[3]+"px"),this.elt.style.transform+=u,this},g.default.Element.prototype._rotate=function(){var u="";return this.elt.style.transform&&(u=(u=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg)":2===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=u,this},g.default.Element.prototype.style=function(u,d){if(d instanceof g.default.Color&&(d="rgba("+d.levels[0]+","+d.levels[1]+","+d.levels[2]+","+d.levels[3]/255+")"),void 0===d){if(-1===u.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(u);for(var p=u.split(";"),m=0;m<p.length;m++){var v=p[m].split(":");v[0]&&v[1]&&(this.elt.style[v[0].trim()]=v[1].trim())}}else if(this.elt.style[u]=d,"width"===u||"height"===u||"left"===u||"top"===u){var D=window.getComputedStyle(this.elt).getPropertyValue(u).replace(/\D+/g,"");this[u]=parseInt(D,10)}return this},g.default.Element.prototype.attribute=function(u,d){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===d?this.elt.getAttribute(u):(this.elt.setAttribute(u,d),this);if(void 0===d)return this.elt.firstChild.getAttribute(u);for(var p=0;p<this.elt.childNodes.length;p++)this.elt.childNodes[p].setAttribute(u,d)},g.default.Element.prototype.removeAttribute=function(u){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var d=0;d<this.elt.childNodes.length;d++)this.elt.childNodes[d].removeAttribute(u);return this.elt.removeAttribute(u),this},g.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},g.default.Element.prototype.show=function(){return this.elt.style.display="block",this},g.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},g.default.Element.prototype.size=function(u,d){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var p=u,m=d,v=g.default.prototype.AUTO;if(p!==v||m!==v){if(p===v?p=d*this.width/this.height:m===v&&(m=u*this.height/this.width),this.elt instanceof HTMLCanvasElement){var D,I={},R=this.elt.getContext("2d");for(D in R)I[D]=R[D];for(D in this.elt.setAttribute("width",p*this._pInst._pixelDensity),this.elt.setAttribute("height",m*this._pInst._pixelDensity),this.elt.style.width=p+"px",this.elt.style.height=m+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),I)this.elt.getContext("2d")[D]=I[D]}else this.elt.style.width=p+"px",this.elt.style.height=m+"px",this.elt.width=p,this.elt.height=m;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},g.default.Element.prototype.remove=function(){if(this instanceof g.default.MediaElement){this.stop();var u=this.elt.srcObject;null!==u&&u.getTracks().forEach(function(m){m.stop()})}var d=this._pInst._elements.indexOf(this);for(var p in-1!==d&&this._pInst._elements.splice(d,1),this._events)this.elt.removeEventListener(p,this._events[p]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},g.default.Element.prototype.drop=function(u,d){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var p=function(m){m.preventDefault()};this.elt.addEventListener("dragover",p),this.elt.addEventListener("dragleave",p)}g.default.Element._attachListener("drop",function(m){m.preventDefault(),"function"==typeof d&&d.call(this,m);for(var v=m.dataTransfer.files,D=0;D<v.length;D++)g.default.File._load(v[D],u)},this)}else console.log("The File APIs are not fully supported in this browser.");return this},g.default.MediaElement=function(u,d){g.default.Element.call(this,u,d);var p=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(p,"src",{get:function(){var m=p.elt.children[0].src,v=p.elt.src===window.location.href?"":p.elt.src;return m===window.location.href?v:m},set:function(m){for(var v=0;v<p.elt.children.length;v++)p.elt.removeChild(p.elt.children[v]);var D=document.createElement("source");D.src=m,u.appendChild(D),p.elt.src=m,p.modified=!0}}),p._onended=function(){},p.elt.onended=function(){p._onended(p)}},g.default.MediaElement.prototype=Object.create(g.default.Element.prototype),g.default.MediaElement.prototype.play=function(){var u,d=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(u=this.elt.play())&&u.catch&&u.catch(function(p){"NotAllowedError"===p.name?g.default._friendlyAutoplayError(d.src):console.error("Media play method encountered an unexpected error",p)}),this},g.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},g.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},g.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},g.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},g.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var u=this,d=setTimeout(function(){return g.default._friendlyAutoplayError(u.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(d)},{passive:!0,once:!0})},g.default.MediaElement.prototype.autoplay=function(u){var d=this,p=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",u),u&&!p){var m=function(){return d._setupAutoplayFailDetection()};4===this.elt.readyState?m():this.elt.addEventListener("canplay",m,{passive:!0,once:!0})}return this},g.default.MediaElement.prototype.volume=function(u){if(void 0===u)return this.elt.volume;this.elt.volume=u},g.default.MediaElement.prototype.speed=function(u){if(void 0===u)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=u:this.presetPlaybackRate=u},g.default.MediaElement.prototype.time=function(u){return void 0===u?this.elt.currentTime:(this.elt.currentTime=u,this)},g.default.MediaElement.prototype.duration=function(){return this.elt.duration},g.default.MediaElement.prototype.pixels=[],g.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},g.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),g.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},g.default.MediaElement.prototype.updatePixels=function(u,d,p,m){return this.loadedmetadata&&(this._ensureCanvas(),g.default.Renderer2D.prototype.updatePixels.call(this,u,d,p,m)),this.setModified(!0),this},g.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),g.default.Renderer2D.prototype.get.apply(this,arguments)},g.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),g.default.Renderer2D.prototype._getPixel.apply(this,arguments)},g.default.MediaElement.prototype.set=function(u,d,p){this.loadedmetadata&&(this._ensureCanvas(),g.default.Renderer2D.prototype.set.call(this,u,d,p),this.setModified(!0))},g.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),g.default.prototype.copy.apply(this,arguments)},g.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),g.default.Image.prototype.mask.apply(this,arguments)},g.default.MediaElement.prototype.isModified=function(){return this._modified},g.default.MediaElement.prototype.setModified=function(u){this._modified=u},g.default.MediaElement.prototype.onended=function(u){return this._onended=u,this},g.default.MediaElement.prototype.connect=function(u){var d,p;if("function"==typeof g.default.prototype.getAudioContext)d=g.default.prototype.getAudioContext(),p=g.default.soundOut.input;else try{p=(d=u.context).destination}catch(m){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=d.createMediaElementSource(this.elt),this.audioSourceNode.connect(p)),this.audioSourceNode.connect(u?u.input?u.input:u:p)},g.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},g.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},g.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1},g.default.MediaElement.prototype.addCue=function(u,d,p){var m=this._cueIDCounter++,v=new b(d,u,m,p);return this._cues.push(v),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),m},g.default.MediaElement.prototype.removeCue=function(u){for(var d=0;d<this._cues.length;d++)this._cues[d].id===u&&(console.log(u),this._cues.splice(d,1));0===this._cues.length&&(this.elt.ontimeupdate=null)},g.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},g.default.MediaElement.prototype._onTimeUpdate=function(){for(var u=this.time(),d=0;d<this._cues.length;d++){var p=this._cues[d].time;this._prevTime<p&&p<=u&&this._cues[d].callback(this._cues[d].val)}this._prevTime=u},g.default.File=function(u,d){this.file=u,this._pInst=d;var p=u.type.split("/");this.type=p[0],this.subtype=p[1],this.name=u.name,this.size=u.size,this.data=void 0},g.default.File._createLoader=function(u,d){var p=new FileReader;return p.onload=function(m){var v=new g.default.File(u);if("application/json"===v.file.type)v.data=JSON.parse(m.target.result);else if("text/xml"===v.file.type){var D=(new DOMParser).parseFromString(m.target.result,"text/xml");v.data=new g.default.XML(D.documentElement)}else v.data=m.target.result;d(v)},p},g.default.File._load=function(u,d){if(/^text\//.test(u.type)||"application/json"===u.type)g.default.File._createLoader(u,d).readAsText(u);else if(/^(video|audio)\//.test(u.type)){var p=new g.default.File(u);p.data=URL.createObjectURL(u),d(p)}else g.default.File._createLoader(u,d).readAsDataURL(u)},j.default=g.default},{"../core/main":260,"core-js/modules/es.array.every":149,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.from":153,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.string.trim":190,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226,"core-js/modules/web.url":228}],277:[function(h,te,j){"use strict";function k(R){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(R)}Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=function(R){if(R&&R.__esModule)return R;if(null===R||"object"!==k(R)&&"function"!=typeof R)return{default:R};var B=M();if(B&&B.has(R))return B.get(R);var V={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in R)if(Object.prototype.hasOwnProperty.call(R,K)){var Q=G?Object.getOwnPropertyDescriptor(R,K):null;Q&&(Q.get||Q.set)?Object.defineProperty(V,K,Q):V[K]=R[K]}return V.default=R,B&&B.set(R,V),V}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var R=new WeakMap;return M=function(){return R},R}w.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",w.default.prototype.accelerationX=0,w.default.prototype.accelerationY=0,w.default.prototype.accelerationZ=0,w.default.prototype.pAccelerationX=0,w.default.prototype.pAccelerationY=0,w.default.prototype.pAccelerationZ=0,w.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},w.default.prototype.rotationX=0,w.default.prototype.rotationY=0,w.default.prototype.rotationZ=0,w.default.prototype.pRotationX=0,w.default.prototype.pRotationY=0;var b=w.default.prototype.pRotationZ=0,f=0,u=0,d="clockwise",p="clockwise",m="clockwise";w.default.prototype.pRotateDirectionX=void 0,w.default.prototype.pRotateDirectionY=void 0,w.default.prototype.pRotateDirectionZ=void 0,w.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},w.default.prototype.turnAxis=void 0;var v=.5,D=30;w.default.prototype.setMoveThreshold=function(R){w.default._validateParameters("setMoveThreshold",arguments),v=R},w.default.prototype.setShakeThreshold=function(R){w.default._validateParameters("setShakeThreshold",arguments),D=R},w.default.prototype._ondeviceorientation=function(R){this._updatePRotations(),this._angleMode===S.radians&&(R.beta=R.beta*(_PI/180),R.gamma=R.gamma*(_PI/180),R.alpha=R.alpha*(_PI/180)),this._setProperty("rotationX",R.beta),this._setProperty("rotationY",R.gamma),this._setProperty("rotationZ",R.alpha),this._handleMotion()},w.default.prototype._ondevicemotion=function(R){this._updatePAccelerations(),this._setProperty("accelerationX",2*R.acceleration.x),this._setProperty("accelerationY",2*R.acceleration.y),this._setProperty("accelerationZ",2*R.acceleration.z),this._handleMotion()},w.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var R,B,V=this._isGlobal?window:this;if("function"==typeof V.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>v||Math.abs(this.accelerationY-this.pAccelerationY)>v||Math.abs(this.accelerationZ-this.pAccelerationZ)>v)&&V.deviceMoved(),"function"==typeof V.deviceTurned){var G=this.rotationX+180,K=this.pRotationX+180,Q=b+180;0<G-K&&G-K<270||G-K<-270?d="clockwise":(G-K<0||270<G-K)&&(d="counter-clockwise"),d!==this.pRotateDirectionX&&(Q=G),90<Math.abs(G-Q)&&Math.abs(G-Q)<270&&(Q=G,this._setProperty("turnAxis","X"),V.deviceTurned()),this.pRotateDirectionX=d,b=Q-180;var W=this.rotationY+180,Z=this.pRotationY+180,ne=f+180;0<W-Z&&W-Z<270||W-Z<-270?p="clockwise":(W-Z<0||270<W-this.pRotationY)&&(p="counter-clockwise"),p!==this.pRotateDirectionY&&(ne=W),90<Math.abs(W-ne)&&Math.abs(W-ne)<270&&(ne=W,this._setProperty("turnAxis","Y"),V.deviceTurned()),this.pRotateDirectionY=p,f=ne-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?m="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(m="counter-clockwise"),m!==this.pRotateDirectionZ&&(u=this.rotationZ),90<Math.abs(this.rotationZ-u)&&Math.abs(this.rotationZ-u)<270&&(u=this.rotationZ,this._setProperty("turnAxis","Z"),V.deviceTurned()),this.pRotateDirectionZ=m,this._setProperty("turnAxis",void 0)}"function"==typeof V.deviceShaken&&(null!==this.pAccelerationX&&(R=Math.abs(this.accelerationX-this.pAccelerationX),B=Math.abs(this.accelerationY-this.pAccelerationY)),D<R+B&&V.deviceShaken())},j.default=w.default},{"../core/constants":250,"../core/main":260}],278:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.prototype.isKeyPressed=!1,g.default.prototype.keyIsPressed=!1,g.default.prototype.key="",g.default.prototype.keyCode=0,g.default.prototype._onkeydown=function(S){if(!this._downKeys[S.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",S.which),this._downKeys[S.which]=!0,this._setProperty("key",S.key||String.fromCharCode(S.which)||S.which);var M=this._isGlobal?window:this;"function"==typeof M.keyPressed&&!S.charCode&&!1===M.keyPressed(S)&&S.preventDefault()}},g.default.prototype._onkeyup=function(S){this._downKeys[S.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",S.key||String.fromCharCode(S.which)||S.which),this._setProperty("keyCode",S.which);var M=this._isGlobal?window:this;"function"==typeof M.keyReleased&&!1===M.keyReleased(S)&&S.preventDefault()},g.default.prototype._onkeypress=function(S){if(S.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",S.which),this._setProperty("key",S.key||String.fromCharCode(S.which)||S.which);var M=this._isGlobal?window:this;"function"==typeof M.keyTyped&&!1===M.keyTyped(S)&&S.preventDefault()}},g.default.prototype._onblur=function(S){this._downKeys={}},g.default.prototype.keyIsDown=function(S){return g.default._validateParameters("keyIsDown",arguments),this._downKeys[S]||!1},g.default.prototype._areDownKeys=function(){for(var S in this._downKeys)if(this._downKeys.hasOwnProperty(S)&&!0===this._downKeys[S])return!0;return!1},j.default=g.default},{"../core/main":260}],279:[function(h,te,j){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}h("core-js/modules/es.array.includes"),h("core-js/modules/es.string.includes"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!=typeof f)return{default:f};var u=M();if(u&&u.has(f))return u.get(f);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)){var v=p?Object.getOwnPropertyDescriptor(f,m):null;v&&(v.get||v.set)?Object.defineProperty(d,m,v):d[m]=f[m]}return d.default=f,u&&u.set(f,d),d}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return M=function(){return f},f}w.default.prototype.movedX=0,w.default.prototype.movedY=0,w.default.prototype._hasMouseInteracted=!1,w.default.prototype.mouseX=0,w.default.prototype.mouseY=0,w.default.prototype.pmouseX=0,w.default.prototype.pmouseY=0,w.default.prototype.winMouseX=0,w.default.prototype.winMouseY=0,w.default.prototype.pwinMouseX=0,w.default.prototype.pwinMouseY=0,w.default.prototype.mouseButton=0,w.default.prototype.mouseIsPressed=!1,w.default.prototype._updateNextMouseCoords=function(f){if(null!==this._curElement&&(!f.touches||0<f.touches.length)){var u=function(d,p,m,v){v&&!v.clientX&&(v.touches?v=v.touches[0]:v.changedTouches&&(v=v.changedTouches[0]));var D=d.getBoundingClientRect();return{x:(v.clientX-D.left)/(d.scrollWidth/p||1),y:(v.clientY-D.top)/(d.scrollHeight/m||1),winX:v.clientX,winY:v.clientY,id:v.identifier}}(this._curElement.elt,this.width,this.height,f);this._setProperty("movedX",f.movementX),this._setProperty("movedY",f.movementY),this._setProperty("mouseX",u.x),this._setProperty("mouseY",u.y),this._setProperty("winMouseX",u.winX),this._setProperty("winMouseY",u.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},w.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},w.default.prototype._setMouseButton=function(f){this._setProperty("mouseButton",1===f.button?S.CENTER:2===f.button?S.RIGHT:S.LEFT)},w.default.prototype._onmousemove=function(f){var u=this._isGlobal?window:this;this._updateNextMouseCoords(f),this.mouseIsPressed?"function"==typeof u.mouseDragged?!1===u.mouseDragged(f)&&f.preventDefault():"function"==typeof u.touchMoved&&!1===u.touchMoved(f)&&f.preventDefault():"function"==typeof u.mouseMoved&&!1===u.mouseMoved(f)&&f.preventDefault()},w.default.prototype._onmousedown=function(f){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(f),this._updateNextMouseCoords(f),"function"==typeof u.mousePressed?!1===u.mousePressed(f)&&f.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof u.touchStarted&&!1===u.touchStarted(f)&&f.preventDefault()},w.default.prototype._onmouseup=function(f){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),"function"==typeof u.mouseReleased?!1===u.mouseReleased(f)&&f.preventDefault():"function"==typeof u.touchEnded&&!1===u.touchEnded(f)&&f.preventDefault()},w.default.prototype._ondragend=w.default.prototype._onmouseup,w.default.prototype._ondragover=w.default.prototype._onmousemove,w.default.prototype._onclick=function(f){var u=this._isGlobal?window:this;"function"==typeof u.mouseClicked&&!1===u.mouseClicked(f)&&f.preventDefault()},w.default.prototype._ondblclick=function(f){var u=this._isGlobal?window:this;"function"==typeof u.doubleClicked&&!1===u.doubleClicked(f)&&f.preventDefault()},w.default.prototype._mouseWheelDeltaY=0,w.default.prototype._pmouseWheelDeltaY=0,w.default.prototype._onwheel=function(f){var u=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",f.deltaY),"function"==typeof u.mouseWheel&&(f.delta=f.deltaY,!1===u.mouseWheel(f)&&f.preventDefault())},w.default.prototype.requestPointerLock=function(){var f=this._curElement.elt;return f.requestPointerLock=f.requestPointerLock||f.mozRequestPointerLock,f.requestPointerLock?(f.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},w.default.prototype.exitPointerLock=function(){document.exitPointerLock()},j.default=w.default},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.includes":154,"core-js/modules/es.string.includes":182}],280:[function(h,te,j){"use strict";h("core-js/modules/es.array.includes"),h("core-js/modules/es.string.includes"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};function w(M,b,f,u,d){var p=4<arguments.length&&void 0!==d?d:0,m=M.getBoundingClientRect(),I=u.touches[p]||u.changedTouches[p];return{x:(I.clientX-m.left)/(M.scrollWidth/b||1),y:(I.clientY-m.top)/(M.scrollHeight/f||1),winX:I.clientX,winY:I.clientY,id:I.identifier}}g.default.prototype.touches=[],g.default.prototype._updateTouchCoords=function(M){if(null!==this._curElement){for(var b=[],f=0;f<M.touches.length;f++)b[f]=w(this._curElement.elt,this.width,this.height,M,f);this._setProperty("touches",b)}},g.default.prototype._ontouchstart=function(M){var b=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(M),this._updateNextMouseCoords(M),this._updateMouseCoords(),"function"==typeof b.touchStarted?!1===b.touchStarted(M)&&M.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof b.mousePressed&&!1===b.mousePressed(M)&&M.preventDefault()},g.default.prototype._ontouchmove=function(M){var b=this._isGlobal?window:this;this._updateTouchCoords(M),this._updateNextMouseCoords(M),"function"==typeof b.touchMoved?!1===b.touchMoved(M)&&M.preventDefault():"function"==typeof b.mouseDragged&&!1===b.mouseDragged(M)&&M.preventDefault()},g.default.prototype._ontouchend=function(M){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(M),this._updateNextMouseCoords(M);var b=this._isGlobal?window:this;"function"==typeof b.touchEnded?!1===b.touchEnded(M)&&M.preventDefault():"function"==typeof b.mouseReleased&&!1===b.mouseReleased(M)&&M.preventDefault()},j.default=g.default},{"../core/main":260,"core-js/modules/es.array.includes":154,"core-js/modules/es.string.includes":182}],281:[function(h,te,j){"use strict";h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.typed-array.int32-array"),h("core-js/modules/es.typed-array.uint8-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g,w,S,M={};M._toPixels=function(u){if(u instanceof ImageData)return u.data;if(u.getContext("2d"))return u.getContext("2d").getImageData(0,0,u.width,u.height).data;if(u.getContext("webgl")){var d=u.getContext("webgl"),m=new Uint8Array(d.drawingBufferWidth*d.drawingBufferHeight*4);return d.readPixels(0,0,u.width,u.height,d.RGBA,d.UNSIGNED_BYTE,m),m}},M._getARGB=function(u,d){var p=4*d;return u[3+p]<<24&4278190080|u[p]<<16&16711680|u[1+p]<<8&65280|255&u[2+p]},M._setPixels=function(u,d){for(var p=0,m=0,v=u.length;m<v;m++)u[0+(p=4*m)]=(16711680&d[m])>>>16,u[p+1]=(65280&d[m])>>>8,u[p+2]=255&d[m],u[p+3]=(4278190080&d[m])>>>24},M._toImageData=function(u){return u instanceof ImageData?u:u.getContext("2d").getImageData(0,0,u.width,u.height)},M._createImageData=function(u,d){return M._tmpCanvas=document.createElement("canvas"),M._tmpCtx=M._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(u,d)},M.apply=function(u,d,p){var m=u.getContext("2d"),v=m.getImageData(0,0,u.width,u.height),D=d(v,p);D instanceof ImageData?m.putImageData(D,0,0,0,0,u.width,u.height):m.putImageData(v,0,0,0,0,u.width,u.height)},M.threshold=function(u,d){var p=M._toPixels(u);void 0===d&&(d=.5);for(var m=Math.floor(255*d),v=0;v<p.length;v+=4)p[v]=p[v+1]=p[v+2]=m<=.2126*p[v]+.7152*p[v+1]+.0722*p[v+2]?255:0},M.gray=function(u){for(var d=M._toPixels(u),p=0;p<d.length;p+=4)d[p]=d[p+1]=d[p+2]=.2126*d[p]+.7152*d[p+1]+.0722*d[p+2]},M.opaque=function(u){for(var d=M._toPixels(u),p=0;p<d.length;p+=4)d[p+3]=255;return d},M.invert=function(u){for(var d=M._toPixels(u),p=0;p<d.length;p+=4)d[p]=255-d[p],d[p+1]=255-d[p+1],d[p+2]=255-d[p+2]},M.posterize=function(u,d){var p=M._toPixels(u);if(d<2||255<d)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var m=d-1,v=0;v<p.length;v+=4){var I=p[v+1],R=p[v+2];p[v]=255*(p[v]*d>>8)/m,p[v+1]=255*(I*d>>8)/m,p[v+2]=255*(R*d>>8)/m}},M.dilate=function(u){for(var d,p,m,v,D,I,R,B,V,G,K,Q,W,Z,ne,X,se,oe=M._toPixels(u),Fe=0,Be=oe.length?oe.length/4:0,xe=new Int32Array(Be);Fe<Be;)for(p=(d=Fe)+u.width;Fe<p;)m=v=M._getARGB(oe,Fe),(R=Fe-1)<d&&(R=Fe),p<=(I=Fe+1)&&(I=Fe),(B=Fe-u.width)<0&&(B=0),Be<=(V=Fe+u.width)&&(V=Fe),Q=M._getARGB(oe,B),K=M._getARGB(oe,R),W=M._getARGB(oe,V),(D=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<(ne=77*(K>>16&255)+151*(K>>8&255)+28*(255&K))&&(v=K,D=ne),D<(Z=77*((G=M._getARGB(oe,I))>>16&255)+151*(G>>8&255)+28*(255&G))&&(v=G,D=Z),D<(X=77*(Q>>16&255)+151*(Q>>8&255)+28*(255&Q))&&(v=Q,D=X),D<(se=77*(W>>16&255)+151*(W>>8&255)+28*(255&W))&&(v=W,D=se),xe[Fe++]=v;M._setPixels(oe,xe)},M.erode=function(u){for(var d,p,m,v,D,I,R,B,V,G,K,Q,W,Z,ne,X,se,oe=M._toPixels(u),Fe=0,Be=oe.length?oe.length/4:0,xe=new Int32Array(Be);Fe<Be;)for(p=(d=Fe)+u.width;Fe<p;)m=v=M._getARGB(oe,Fe),(R=Fe-1)<d&&(R=Fe),p<=(I=Fe+1)&&(I=Fe),(B=Fe-u.width)<0&&(B=0),Be<=(V=Fe+u.width)&&(V=Fe),Q=M._getARGB(oe,B),K=M._getARGB(oe,R),W=M._getARGB(oe,V),(ne=77*(K>>16&255)+151*(K>>8&255)+28*(255&K))<(D=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(v=K,D=ne),(Z=77*((G=M._getARGB(oe,I))>>16&255)+151*(G>>8&255)+28*(255&G))<D&&(v=G,D=Z),(X=77*(Q>>16&255)+151*(Q>>8&255)+28*(255&Q))<D&&(v=Q,D=X),(se=77*(W>>16&255)+151*(W>>8&255)+28*(255&W))<D&&(v=W,D=se),xe[Fe++]=v;M._setPixels(oe,xe)},M.blur=function(u,d){!function b(u,d){for(var p,m,v,D,I,R,B,V,G,K,Q=M._toPixels(u),W=u.width,Z=u.height,ne=W*Z,X=new Int32Array(ne),se=0;se<ne;se++)X[se]=M._getARGB(Q,se);var oe,Fe,Be,xe,Ue=new Int32Array(ne),Ve=new Int32Array(ne),Oe=new Int32Array(ne),Ge=new Int32Array(ne),De=0;for(function(Ke){var ct=3.5*Ke|0;if(k!==(ct=ct<1?1:ct<248?ct:248)){g=1+(k=ct)<<1,w=new Int32Array(g),S=new Array(g);for(var ut=0;ut<g;ut++)S[ut]=new Int32Array(256);for(var z,ie,fe,Ee,Ne=1,Ae=ct-1;Ne<ct;Ne++){w[ct+Ne]=w[Ae]=ie=Ae*Ae,fe=S[ct+Ne],Ee=S[Ae--];for(var ft=0;ft<256;ft++)fe[ft]=Ee[ft]=ie*ft}z=w[ct]=ct*ct,fe=S[ct];for(var Pe=0;Pe<256;Pe++)fe[Pe]=z*Pe}}(d),Fe=0;Fe<Z;Fe++){for(oe=0;oe<W;oe++){if(D=v=m=I=p=0,(R=oe-k)<0)K=-R,R=0;else{if(W<=R)break;K=0}for(Be=K;Be<g&&!(W<=R);Be++){var lt=X[R+De];I+=(xe=S[Be])[(-16777216&lt)>>>24],m+=xe[(16711680&lt)>>16],v+=xe[(65280&lt)>>8],D+=xe[255&lt],p+=w[Be],R++}Ue[B=De+oe]=I/p,Ve[B]=m/p,Oe[B]=v/p,Ge[B]=D/p}De+=W}for(G=(V=-k)*W,Fe=De=0;Fe<Z;Fe++){for(oe=0;oe<W;oe++){if(D=v=m=I=p=0,V<0)K=B=-V,R=oe;else{if(Z<=V)break;K=0,B=V,R=oe+G}for(Be=K;Be<g&&!(Z<=B);Be++)I+=(xe=S[Be])[Ue[R]],m+=xe[Ve[R]],v+=xe[Oe[R]],D+=xe[Ge[R]],p+=w[Be],B++,R+=W;X[oe+De]=I/p<<24|m/p<<16|v/p<<8|D/p}De+=W,G+=W,V++}M._setPixels(Q,X)}(u,d)},j.default=M},{"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.int32-array":206,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223}],282:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.filter"),h("core-js/modules/es.array.from"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.map"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.object.keys"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.set"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.string.replace"),h("core-js/modules/es.string.split"),h("core-js/modules/es.typed-array.uint8-array"),h("core-js/modules/es.typed-array.uint32-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k=w(h("../core/main")),g=w(h("omggif"));function w(b){return b&&b.__esModule?b:{default:b}}function S(b){return function(f){if(Array.isArray(f)){for(var u=0,d=new Array(f.length);u<f.length;u++)d[u]=f[u];return d}}(b)||function(f){if(Symbol.iterator in Object(f)||"[object Arguments]"===Object.prototype.toString.call(f))return Array.from(f)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}k.default.prototype.createImage=function(b,f){return k.default._validateParameters("createImage",arguments),new k.default.Image(b,f)},k.default.prototype.saveCanvas=function(){k.default._validateParameters("saveCanvas",arguments);var b,f,u,d,p=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(b=arguments[0],p.shift()):arguments[0]instanceof k.default.Element?(b=arguments[0].elt,p.shift()):b=this._curElement&&this._curElement.elt,1<=p.length&&(f=p[0]),2<=p.length&&(u=p[1]),u=u||k.default.prototype._checkFileExtension(f,u)[1]||"png"){default:d="image/png";break;case"jpeg":case"jpg":d="image/jpeg"}b.toBlob(function(m){k.default.prototype.downloadFile(m,f,u)},d)},k.default.prototype.saveGif=function(b,f){var u=b.gifProperties,d=u.loopLimit;1===d?d=null:null===d&&(d=0);for(var p=new Uint8Array(b.width*b.height*u.numFrames),m=[],v={},D=0;D<u.numFrames;D++){for(var I=new Set,R=u.frames[D].image.data,B=R.length,V=new Uint32Array(b.width*b.height),G=0,K=0;G<B;G+=4,K++){var Q=R[G+0]<<16|R[G+1]<<8|R[G+2]<<0;I.add(Q),V[K]=Q}var W=S(I).sort().toString();void 0===v[W]?v[W]={freq:1,frames:[D]}:(v[W].freq+=1,v[W].frames.push(D)),m.push(V)}var Z=[],ne=Object.keys(v).sort(function(ut,z){return v[z].freq-v[ut].freq}),X=ne[0].split(",").map(function(ut){return parseInt(ut)});Z=Z.concat(v[X].frames);for(var se=new Set(X),oe=1;oe<ne.length;oe++){var Fe=ne[oe].split(",").map(function(ut){return parseInt(ut)}).filter(function(ut){return!se.has(ut)});if(X.length+Fe.length<=256){for(var Be=0;Be<Fe.length;Be++)X.push(Fe[Be]),se.add(Fe[Be]);Z=Z.concat(v[ne[oe]].frames)}}Z=new Set(Z);for(var xe={},Ue=0;Ue<X.length;Ue++)xe[X[Ue]]||(xe[X[Ue]]=Ue);for(var Ve=1;Ve<X.length;)Ve<<=1;X.length=Ve;for(var Oe={loop:d,palette:new Uint32Array(X)},Ge=new g.default.GifWriter(p,b.width,b.height,Oe),De={},lt=function(ut){for(var z=!Z.has(ut),ie=z?[]:X,fe=new Uint8Array(b.width*b.height),Ee={},Ne=new Set,Ae=0;Ae<m[ut].length;Ae++){var ft=m[ut][Ae];z?(void 0===Ee[ft]&&(Ee[ft]=ie.length,ie.push(ft)),fe[Ae]=Ee[ft]):fe[Ae]=xe[ft],0<ut&&m[ut-1][Ae]!==ft&&Ne.add(ft)}var Pe={},tt=ie.filter(function(xt){return!Ne.has(xt)});if(0<tt.length){var st=tt[0],Ye=z?Ee[st]:xe[st];if(0<ut){for(var Mt=0;Mt<m[ut].length;Mt++)m[ut-1][Mt]===m[ut][Mt]&&(fe[Mt]=Ye);Pe.transparent=Ye,De.frameOpts.disposal=1}}if(Pe.delay=u.frames[ut].delay/10,z){for(var Et=1;Et<ie.length;)Et<<=1;ie.length=Et,Pe.palette=new Uint32Array(ie)}0<ut&&Ge.addFrame(0,0,b.width,b.height,De.pixelPaletteIndex,De.frameOpts),De={pixelPaletteIndex:fe,frameOpts:Pe}},Ke=0;Ke<u.numFrames;Ke++)lt(Ke);De.frameOpts.disposal=1,Ge.addFrame(0,0,b.width,b.height,De.pixelPaletteIndex,De.frameOpts);var ct=new Blob([p.slice(0,Ge.end())],{type:"image/gif"});k.default.prototype.downloadFile(ct,f,"gif")},k.default.prototype.saveFrames=function(b,f,u,d,p){k.default._validateParameters("saveFrames",arguments);var m=u||3;m=k.default.prototype.constrain(m,0,15),m*=1e3;var v=d||15;v=k.default.prototype.constrain(v,0,22);var D=0,I=k.default.prototype._makeFrame,R=this._curElement.elt,B=[],V=setInterval(function(){B.push(I(b+D,f,R)),D++},1e3/v);setTimeout(function(){if(clearInterval(V),p)p(B);else{var G=!0,K=!1,Q=void 0;try{for(var W,Z=B[Symbol.iterator]();!(G=(W=Z.next()).done);G=!0){var ne=W.value;k.default.prototype.downloadFile(ne.imageData,ne.filename,ne.ext)}}catch(X){K=!0,Q=X}finally{try{G||null==Z.return||Z.return()}finally{if(K)throw Q}}}B=[]},m+.01)},k.default.prototype._makeFrame=function(b,f,u){var d,p;if(d=this?this._curElement.elt:u,f)switch(f.toLowerCase()){case"png":default:p="image/png";break;case"jpeg":case"jpg":p="image/jpeg"}else f="png",p="image/png";var m=d.toDataURL(p);m=m.replace(p,"image/octet-stream");var v={};return v.imageData=m,v.filename=b,v.ext=f,v},j.default=k.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.from":153,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.set":180,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint32-array":222,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226,omggif:235}],283:[function(h,te,j){"use strict";function k(m){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}h("core-js/modules/es.array.includes"),h("core-js/modules/es.array.index-of"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.promise"),h("core-js/modules/es.string.includes"),h("core-js/modules/es.typed-array.uint8-array"),h("core-js/modules/es.typed-array.uint8-clamped-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g=u(h("../core/main")),w=u(h("./filters")),S=u(h("../core/helpers")),M=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==k(m)&&"function"!=typeof m)return{default:m};var v=f();if(v&&v.has(m))return v.get(m);var D={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in m)if(Object.prototype.hasOwnProperty.call(m,R)){var B=I?Object.getOwnPropertyDescriptor(m,R):null;B&&(B.get||B.set)?Object.defineProperty(D,R,B):D[R]=m[R]}return D.default=m,v&&v.set(m,D),D}(h("../core/constants")),b=u(h("omggif"));function f(){if("function"!=typeof WeakMap)return null;var m=new WeakMap;return f=function(){return m},m}function u(m){return m&&m.__esModule?m:{default:m}}function d(m,v){return 0<m&&m<v?m:v}h("../core/friendly_errors/validate_params"),h("../core/friendly_errors/file_errors"),h("../core/friendly_errors/fes_core"),g.default.prototype.loadImage=function(m,v,D){g.default._validateParameters("loadImage",arguments);var I=new g.default.Image(1,1,this),R=this,B=new Request(m,{method:"GET",mode:"cors"});return fetch(m,B).then(function(V){var G=V.headers.get("content-type");if(null===G&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),G&&G.includes("image/gif"))V.arrayBuffer().then(function(Q){Q&&function(W,Z,ne,X,se){var oe=new b.default.GifReader(W);Z.width=Z.canvas.width=oe.width,Z.height=Z.canvas.height=oe.height;var Fe=[],Be=oe.numFrames(),xe=new Uint8ClampedArray(Z.width*Z.height*4);if(1<Be){for(var Ue=function(ct,ut){try{ut.decodeAndBlitFrameRGBA(ct,xe)}catch(z){g.default._friendlyFileLoadError(8,Z.src),"function"==typeof X?X(z):console.error(z)}},Ve=0;Ve<Be;Ve++){var Oe=oe.frameInfo(Ve),Ge=Z.drawingContext.getImageData(0,0,Z.width,Z.height);xe=Ge.data.slice(),Ue(Ve,oe);var De=new ImageData(xe,Z.width,Z.height);Z.drawingContext.putImageData(De,0,0);var lt=Oe.delay;0===lt&&(lt=10),Fe.push({image:Z.drawingContext.getImageData(0,0,Z.width,Z.height),delay:10*lt}),2===Oe.disposal?Z.drawingContext.clearRect(Oe.x,Oe.y,Oe.width,Oe.height):3===Oe.disposal&&Z.drawingContext.putImageData(Ge,0,0,Oe.x,Oe.y,Oe.width,Oe.height)}var Ke=oe.loopCount();null===Ke?Ke=1:0===Ke&&(Ke=null),Z.drawingContext.putImageData(Fe[0].image,0,0),Z.gifProperties={displayIndex:0,loopLimit:Ke,loopCount:0,frames:Fe,numFrames:Be,playing:!0,timeDisplayed:0,lastChangeTime:0}}"function"==typeof ne&&ne(Z),se()}(new Uint8Array(Q),I,v,D,function(W){R._decrementPreload()}.bind(R))},function(Q){"function"==typeof D?D(Q):console.error(Q)});else{var K=new Image;K.onload=function(){I.width=I.canvas.width=K.width,I.height=I.canvas.height=K.height,I.drawingContext.drawImage(K,0,0),I.modified=!0,"function"==typeof v&&v(I),R._decrementPreload()},K.onerror=function(Q){g.default._friendlyFileLoadError(0,K.src),"function"==typeof D?D(Q):console.error(Q)},0!==m.indexOf("data:image/")&&(K.crossOrigin="Anonymous"),K.src=m}I.modified=!0}).catch(function(V){g.default._friendlyFileLoadError(0,m),"function"==typeof D?D(V):console.error(V)}),I},g.default.prototype.image=function(m,v,D,I,R,B,V,G,K){g.default._validateParameters("image",arguments);var Q=m.width,W=m.height;m.elt&&m.elt.videoWidth&&!m.canvas&&(Q=m.elt.videoWidth,W=m.elt.videoHeight);var Z=v,ne=D,X=I||Q,se=R||W,oe=B||0,Fe=V||0,Be=G||Q,xe=K||W;Be=d(Be,Q),xe=d(xe,W);var Ue=1;m.elt&&!m.canvas&&m.elt.style.width&&(Ue=m.elt.videoWidth&&!I?m.elt.videoWidth:m.elt.width,Ue/=parseInt(m.elt.style.width,10)),oe*=Ue,Fe*=Ue,xe*=Ue,Be*=Ue;var Ve=S.default.modeAdjust(Z,ne,X,se,this._renderer._imageMode);this._renderer.image(m,oe,Fe,Be,xe,Ve.x,Ve.y,Ve.w,Ve.h)},g.default.prototype.tint=function(){for(var m=arguments.length,v=new Array(m),D=0;D<m;D++)v[D]=arguments[D];g.default._validateParameters("tint",v);var I=this.color.apply(this,v);this._renderer._tint=I.levels},g.default.prototype.noTint=function(){this._renderer._tint=null},g.default.prototype._getTintedImageCanvas=function(m){if(!m.canvas)return m;var v=w.default._toPixels(m.canvas),D=document.createElement("canvas");D.width=m.canvas.width,D.height=m.canvas.height;for(var I=D.getContext("2d"),R=I.createImageData(m.canvas.width,m.canvas.height),B=R.data,V=0;V<v.length;V+=4){var K=v[V+1],Q=v[V+2],W=v[V+3];B[V]=v[V]*this._renderer._tint[0]/255,B[V+1]=K*this._renderer._tint[1]/255,B[V+2]=Q*this._renderer._tint[2]/255,B[V+3]=W*this._renderer._tint[3]/255}return I.putImageData(R,0,0),D},g.default.prototype.imageMode=function(m){g.default._validateParameters("imageMode",arguments),m!==M.CORNER&&m!==M.CORNERS&&m!==M.CENTER||(this._renderer._imageMode=m)},j.default=g.default},{"../core/constants":250,"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/helpers":256,"../core/main":260,"./filters":281,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.string.includes":182,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/es.typed-array.uint8-clamped-array":224,omggif:235}],284:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.filter"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k=w(h("../core/main")),g=w(h("./filters"));function w(M){return M&&M.__esModule?M:{default:M}}k.default.Image=function(M,b){this.width=M,this.height=b,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},k.default.Image.prototype._animateGif=function(M){var b=this.gifProperties,f=M._lastFrameTime+M.deltaTime;if(0===b.lastChangeTime&&(b.lastChangeTime=f),b.playing){b.timeDisplayed=f-b.lastChangeTime;var u=b.frames[b.displayIndex].delay;if(b.timeDisplayed>=u){var d=Math.floor(b.timeDisplayed/u);if(b.timeDisplayed=0,b.lastChangeTime=f,b.displayIndex+=d,b.loopCount=Math.floor(b.displayIndex/b.numFrames),null!==b.loopLimit&&b.loopCount>=b.loopLimit)b.playing=!1;else{var p=b.displayIndex%b.numFrames;this.drawingContext.putImageData(b.frames[p].image,0,0),b.displayIndex=p,this.setModified(!0)}}}},k.default.Image.prototype._setProperty=function(M,b){this[M]=b,this.setModified(!0)},k.default.Image.prototype.loadPixels=function(){k.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},k.default.Image.prototype.updatePixels=function(M,b,f,u){k.default.Renderer2D.prototype.updatePixels.call(this,M,b,f,u),this.setModified(!0)},k.default.Image.prototype.get=function(M,b,f,u){return k.default._validateParameters("p5.Image.get",arguments),k.default.Renderer2D.prototype.get.apply(this,arguments)},k.default.Image.prototype._getPixel=k.default.Renderer2D.prototype._getPixel,k.default.Image.prototype.set=function(M,b,f){k.default.Renderer2D.prototype.set.call(this,M,b,f),this.setModified(!0)},k.default.Image.prototype.resize=function(M,b){0===M&&0===b?(M=this.canvas.width,b=this.canvas.height):0===M?M=this.canvas.width*b/this.canvas.height:0===b&&(b=this.canvas.height*M/this.canvas.width),M=Math.floor(M),b=Math.floor(b);var f=document.createElement("canvas");if(f.width=M,f.height=b,this.gifProperties)for(var u=this.gifProperties,d=function(v,D){for(var I=0,R=0;R<D.height;R++)for(var B=0;B<D.width;B++){var V=Math.floor(B*v.width/D.width),G=4*(Math.floor(R*v.height/D.height)*v.width+V);D.data[I++]=v.data[G++],D.data[I++]=v.data[G++],D.data[I++]=v.data[G++],D.data[I++]=v.data[G++]}},p=0;p<u.numFrames;p++){var m=this.drawingContext.createImageData(M,b);d(u.frames[p].image,m),u.frames[p].image=m}f.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,f.width,f.height),this.canvas.width=this.width=M,this.canvas.height=this.height=b,this.drawingContext.drawImage(f,0,0,M,b,0,0,M,b),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},k.default.Image.prototype.copy=function(){for(var M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];k.default.prototype.copy.apply(this,b)},k.default.Image.prototype.mask=function(M){void 0===M&&(M=this);var b=this.drawingContext.globalCompositeOperation,f=1;M instanceof k.default.Renderer&&(f=M._pInst._pixelDensity);var u=[M,0,0,f*M.width,f*M.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",k.default.Image.prototype.copy.apply(this,u),this.drawingContext.globalCompositeOperation=b,this.setModified(!0)},k.default.Image.prototype.filter=function(M,b){g.default.apply(this.canvas,g.default[M],b),this.setModified(!0)},k.default.Image.prototype.blend=function(){for(var M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];k.default._validateParameters("p5.Image.blend",arguments),k.default.prototype.blend.apply(this,b),this.setModified(!0)},k.default.Image.prototype.setModified=function(M){this._modified=M},k.default.Image.prototype.isModified=function(){return this._modified},k.default.Image.prototype.save=function(M,b){this.gifProperties?k.default.prototype.saveGif(this,M):k.default.prototype.saveCanvas(this.canvas,M,b)},k.default.Image.prototype.reset=function(){if(this.gifProperties){var M=this.gifProperties;M.playing=!0,M.timeSinceStart=0,M.timeDisplayed=0,M.lastChangeTime=0,M.loopCount=0,M.displayIndex=0,this.drawingContext.putImageData(M.frames[0].image,0,0)}},k.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var M=this.gifProperties;return M.displayIndex%M.numFrames}},k.default.Image.prototype.setFrame=function(M){if(this.gifProperties){var b=this.gifProperties;M<b.numFrames&&0<=M?(b.timeDisplayed=0,b.lastChangeTime=0,b.displayIndex=M,this.drawingContext.putImageData(b.frames[M].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},k.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},k.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},k.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},k.default.Image.prototype.delay=function(M,b){if(this.gifProperties){var f=this.gifProperties;if(b<f.numFrames&&0<=b)f.frames[b].delay=M;else{var u=!0,d=!1,p=void 0;try{for(var m,v=f.frames[Symbol.iterator]();!(u=(m=v.next()).done);u=!0)m.value.delay=M}catch(D){d=!0,p=D}finally{try{u||null==v.return||v.return()}finally{if(d)throw p}}}}},j.default=k.default.Image},{"../core/main":260,"./filters":281,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],285:[function(h,te,j){"use strict";h("core-js/modules/es.array.filter"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k=w(h("../core/main")),g=w(h("./filters"));function w(M){return M&&M.__esModule?M:{default:M}}h("../color/p5.Color"),k.default.prototype.pixels=[],k.default.prototype.blend=function(){for(var M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];var u;k.default._validateParameters("blend",b),this._renderer?(u=this._renderer).blend.apply(u,b):k.default.Renderer2D.prototype.blend.apply(this,b)},k.default.prototype.copy=function(){for(var M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];var u,d,p,m,v,D,I,R,B;if(k.default._validateParameters("copy",b),9===b.length)u=b[0],d=b[1],p=b[2],m=b[3],v=b[4],D=b[5],I=b[6],R=b[7],B=b[8];else{if(8!==b.length)throw new Error("Signature not supported");u=this,d=b[0],p=b[1],m=b[2],v=b[3],D=b[4],I=b[5],R=b[6],B=b[7]}k.default.prototype._copyHelper(this,u,d,p,m,v,D,I,R,B)},k.default.prototype._copyHelper=function(M,b,f,u,d,p,m,v,D,I){b.loadPixels();var R=b.canvas.width/b.width,B=0,V=0;b._renderer&&b._renderer.isP3D&&(B=b.width/2,V=b.height/2),M._renderer&&M._renderer.isP3D?k.default.RendererGL.prototype.image.call(M._renderer,b,f+B,u+V,d,p,m,v,D,I):M.drawingContext.drawImage(b.canvas,R*(f+B),R*(u+V),R*d,R*p,m,v,D,I)},k.default.prototype.filter=function(M,b){k.default._validateParameters("filter",arguments),g.default.apply(void 0!==this.canvas?this.canvas:this.elt,g.default[M],b)},k.default.prototype.get=function(M,b,f,u){var d;return k.default._validateParameters("get",arguments),(d=this._renderer).get.apply(d,arguments)},k.default.prototype.loadPixels=function(){for(var M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];k.default._validateParameters("loadPixels",b),this._renderer.loadPixels()},k.default.prototype.set=function(M,b,f){this._renderer.set(M,b,f)},k.default.prototype.updatePixels=function(M,b,f,u){k.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(M,b,f,u)},j.default=k.default},{"../color/p5.Color":248,"../core/main":260,"./filters":281,"core-js/modules/es.array.filter":151}],286:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.includes"),h("core-js/modules/es.array.index-of"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.last-index-of"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.array.splice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.promise"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.includes"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.string.replace"),h("core-js/modules/es.string.split"),h("core-js/modules/es.typed-array.uint8-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),h("core-js/modules/web.dom-collections.iterator"),h("core-js/modules/web.url"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k=S(h("../core/main"));h("whatwg-fetch"),h("es6-promise/auto");var g=S(h("fetch-jsonp")),w=S(h("file-saver"));function S(p){return p&&p.__esModule?p:{default:p}}function M(p){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function b(p,m){var v={};if(void 0===(m=m||[]))for(var D=0;D<p.length;D++)m[D.toString()]=D;for(var I=0;I<m.length;I++)v[m[I]]=p[I];return v}function f(p){return p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function u(p,m){m&&!0!==m&&"true"!==m||(m="");var v="";return(p=p||"untitled")&&p.includes(".")&&(v=p.split(".").pop()),m&&v!==m&&(v=m,p="".concat(p,".").concat(v)),[p,v]}h("../core/friendly_errors/validate_params"),h("../core/friendly_errors/file_errors"),h("../core/friendly_errors/fes_core"),k.default.prototype.loadJSON=function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];k.default._validateParameters("loadJSON",m);for(var D,I,R,B=m[0],V={},G="json",K=1;K<m.length;K++){var Q=m[K];"string"==typeof Q?"jsonp"!==Q&&"json"!==Q||(G=Q):"function"==typeof Q?D?I=Q:D=Q:"object"===M(Q)&&(Q.hasOwnProperty("jsonpCallback")||Q.hasOwnProperty("jsonpCallbackFunction"))&&(G="jsonp",R=Q)}var W=this;return this.httpDo(B,"GET",R,G,function(Z){for(var ne in Z)V[ne]=Z[ne];void 0!==D&&D(Z),W._decrementPreload()},function(Z){if(k.default._friendlyFileLoadError(5,B),!I)throw Z;I(Z)}),V},k.default.prototype.loadStrings=function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];k.default._validateParameters("loadStrings",m);for(var D,I,R=[],B=1;B<m.length;B++){var V=m[B];"function"==typeof V&&(void 0===D?D=V:void 0===I&&(I=V))}var G=this;return k.default.prototype.httpDo.call(this,m[0],"GET","text",function(K){for(var Q=K.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),W=0,Z=Q.length;W<Z;W+=32768)Array.prototype.push.apply(R,Q.slice(W,Math.min(W+32768,Z)));void 0!==D&&D(R),G._decrementPreload()},function(K){if(k.default._friendlyFileLoadError(3,K),!I)throw K;I(K)}),R},k.default.prototype.loadTable=function(p){var m,v,D,I=[],R=!1,B=p.substring(p.lastIndexOf(".")+1,p.length);"csv"===B?D=",":"ssv"===B?D=";":"tsv"===B&&(D="\t");for(var V=1;V<arguments.length;V++)"function"==typeof arguments[V]?void 0===m?m=arguments[V]:void 0===v&&(v=arguments[V]):"string"==typeof arguments[V]&&(I.push(arguments[V]),"header"===arguments[V]&&(R=!0),"csv"===arguments[V]?D=",":"ssv"===arguments[V]?D=";":"tsv"===arguments[V]&&(D="\t"));var G=new k.default.Table,K=this;return this.httpDo(p,"GET","table",function(Q){for(var W,Z,ne={},X=[],se=0,oe=null,Fe=function(){ne.currentState=0,ne.token=""},Be=function(){oe.push(ne.token),Fe()},xe=function(){ne.currentState=4,X.push(oe),oe=null};;){if(null==(W=Q[se++])){if(ne.escaped)throw new Error("Unclosed quote in file.");if(oe){Be(),xe();break}}if(null===oe&&(ne.escaped=!1,oe=[],Fe()),0===ne.currentState){if('"'===W){ne.escaped=!0,ne.currentState=1;continue}ne.currentState=1}if(1===ne.currentState&&ne.escaped)if('"'===W)'"'===Q[se]?(ne.token+='"',se++):(ne.escaped=!1,ne.currentState=2);else{if("\r"===W)continue;ne.token+=W}else"\r"===W?("\n"===Q[se]&&se++,Be(),xe()):"\n"===W?(Be(),xe()):W===D?Be():1===ne.currentState&&(ne.token+=W)}if(R)G.columns=X.shift();else for(var Ue=0;Ue<X[0].length;Ue++)G.columns[Ue]="null";for(var Ve=0;Ve<X.length;Ve++)(1!==X[Ve].length||"undefined"!==X[Ve][0]&&""!==X[Ve][0])&&((Z=new k.default.TableRow).arr=X[Ve],Z.obj=b(X[Ve],G.columns),G.addRow(Z));"function"==typeof m&&m(G),K._decrementPreload()},function(Q){k.default._friendlyFileLoadError(2,p),v?v(Q):console.error(Q)}),G},k.default.prototype.loadXML=function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];for(var D,I,R=new k.default.XML,B=1;B<m.length;B++){var V=m[B];"function"==typeof V&&(void 0===D?D=V:void 0===I&&(I=V))}var G=this;return this.httpDo(m[0],"GET","xml",function(K){for(var Q in K)R[Q]=K[Q];void 0!==D&&D(R),G._decrementPreload()},function(K){if(k.default._friendlyFileLoadError(1,K),!I)throw K;I(K)}),R},k.default.prototype.loadBytes=function(p,m,v){var D={},I=this;return this.httpDo(p,"GET","arrayBuffer",function(R){D.bytes=new Uint8Array(R),"function"==typeof m&&m(D),I._decrementPreload()},function(R){if(k.default._friendlyFileLoadError(6,p),!v)throw R;v(R)}),D},k.default.prototype.httpGet=function(){k.default._validateParameters("httpGet",arguments);var p=Array.prototype.slice.call(arguments);return p.splice(1,0,"GET"),k.default.prototype.httpDo.apply(this,p)},k.default.prototype.httpPost=function(){k.default._validateParameters("httpPost",arguments);var p=Array.prototype.slice.call(arguments);return p.splice(1,0,"POST"),k.default.prototype.httpDo.apply(this,p)},k.default.prototype.httpDo=function(){for(var p,m,v,D,I,R={},B=0,V="text/plain",G=arguments.length-1;0<G&&"function"==typeof(G<0||arguments.length<=G?void 0:arguments[G]);G--)B++;var K=arguments.length<=0?void 0:arguments[0];if(arguments.length-B==2&&"string"==typeof K&&"object"===M(arguments.length<=1?void 0:arguments[1]))D=new Request(K,arguments.length<=1?void 0:arguments[1]),m=arguments.length<=2?void 0:arguments[2],v=arguments.length<=3?void 0:arguments[3];else{for(var Q,W="GET",Z=1;Z<arguments.length;Z++){var ne=Z<0||arguments.length<=Z?void 0:arguments[Z];if("string"==typeof ne)"GET"===ne||"POST"===ne||"PUT"===ne||"DELETE"===ne?W=ne:"json"===ne||"jsonp"===ne||"binary"===ne||"arrayBuffer"===ne||"xml"===ne||"text"===ne||"table"===ne?p=ne:Q=ne;else if("number"==typeof ne)Q=ne.toString();else if("object"===M(ne))if(ne.hasOwnProperty("jsonpCallback")||ne.hasOwnProperty("jsonpCallbackFunction"))for(var X in ne)R[X]=ne[X];else V=ne instanceof k.default.XML?(Q=ne.serialize(),"application/xml"):(Q=JSON.stringify(ne),"application/json");else"function"==typeof ne&&(m?v=ne:m=ne)}var se="GET"===W?new Headers:new Headers({"Content-Type":V});D=new Request(K,{method:W,mode:"cors",body:Q,headers:se})}return(I=(I="jsonp"===(p=p||(K.includes("json")?"json":K.includes("xml")?"xml":"text"))?(0,g.default)(K,R):fetch(D)).then(function(oe){if(!oe.ok){var Fe=new Error(oe.body);throw Fe.status=oe.status,Fe.ok=!1,Fe}var Be=0;switch("jsonp"!==p&&(Be=oe.headers.get("content-length")),Be&&64e6<Be&&k.default._friendlyFileLoadError(7,K),p){case"json":case"jsonp":return oe.json();case"binary":return oe.blob();case"arrayBuffer":return oe.arrayBuffer();case"xml":return oe.text().then(function(xe){var Ue=(new DOMParser).parseFromString(xe,"text/xml");return new k.default.XML(Ue.documentElement)});default:return oe.text()}})).then(m||function(){}),I.catch(v||console.error),I},window.URL=window.URL||window.webkitURL,k.default.prototype._pWriters=[],k.default.prototype.createWriter=function(p,m){var v;for(var D in k.default.prototype._pWriters)if(k.default.prototype._pWriters[D].name===p)return v=new k.default.PrintWriter(p+this.millis(),m),k.default.prototype._pWriters.push(v),v;return v=new k.default.PrintWriter(p,m),k.default.prototype._pWriters.push(v),v},k.default.PrintWriter=function(p,m){var v=this;this.name=p,this.content="",this.write=function(D){this.content+=D},this.print=function(D){this.content+="".concat(D,"\n")},this.clear=function(){this.content=""},this.close=function(){var D=[];for(var I in D.push(this.content),k.default.prototype.writeFile(D,p,m),k.default.prototype._pWriters)k.default.prototype._pWriters[I].name===this.name&&k.default.prototype._pWriters.splice(I,1);v.clear(),v={}}},k.default.prototype.save=function(p,m,v){var D=arguments,I=this._curElement?this._curElement.elt:this.elt;if(0!==D.length)if(D[0]instanceof k.default.Renderer||D[0]instanceof k.default.Graphics)k.default.prototype.saveCanvas(D[0].elt,D[1],D[2]);else if(1===D.length&&"string"==typeof D[0])k.default.prototype.saveCanvas(I,D[0]);else switch(u(D[1],D[2])[1]){case"json":return void k.default.prototype.saveJSON(D[0],D[1],D[2]);case"txt":return void k.default.prototype.saveStrings(D[0],D[1],D[2]);default:D[0]instanceof Array?k.default.prototype.saveStrings(D[0],D[1],D[2]):D[0]instanceof k.default.Table?k.default.prototype.saveTable(D[0],D[1],D[2]):D[0]instanceof k.default.Image?k.default.prototype.saveCanvas(D[0].canvas,D[1]):D[0]instanceof k.default.SoundFile&&k.default.prototype.saveSound(D[0],D[1],D[2],D[3])}else k.default.prototype.saveCanvas(I)},k.default.prototype.saveJSON=function(p,m,v){var D;k.default._validateParameters("saveJSON",arguments),D=v?JSON.stringify(p):JSON.stringify(p,void 0,2),this.saveStrings(D.split("\n"),m,"json")},k.default.prototype.saveJSONObject=k.default.prototype.saveJSON,k.default.prototype.saveJSONArray=k.default.prototype.saveJSON,k.default.prototype.saveStrings=function(p,m,v,D){k.default._validateParameters("saveStrings",arguments);for(var R=this.createWriter(m,v||"txt"),B=0;B<p.length;B++)R.write(D?p[B]+"\r\n":p[B]+"\n");R.close(),R.clear()},k.default.prototype.saveTable=function(p,m,v){var D;k.default._validateParameters("saveTable",arguments),D=void 0===v?m.substring(m.lastIndexOf(".")+1,m.length):v;var I=this.createWriter(m,D),R=p.columns,B=",";if("tsv"===D&&(B="\t"),"html"!==D){if("0"!==R[0]){for(var V=0;V<R.length;V++)I.write(V<R.length-1?R[V]+B:R[V]);I.write("\n")}for(var G=0;G<p.rows.length;G++){var K=void 0;for(K=0;K<p.rows[G].arr.length;K++)K<p.rows[G].arr.length-1?"csv"===D&&String(p.rows[G].arr[K]).includes(",")?I.write('"'+p.rows[G].arr[K]+'"'+B):I.write(p.rows[G].arr[K]+B):"csv"===D&&String(p.rows[G].arr[K]).includes(",")?I.write('"'+p.rows[G].arr[K]+'"'):I.write(p.rows[G].arr[K]);I.write("\n")}}else{if(I.print("<html>"),I.print("<head>"),I.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),I.print("</head>"),I.print("<body>"),I.print("  <table>"),"0"!==R[0]){I.print("    <tr>");for(var Q=0;Q<R.length;Q++){var W=f(R[Q]);I.print("      <td>".concat(W)),I.print("      </td>")}I.print("    </tr>")}for(var Z=0;Z<p.rows.length;Z++){I.print("    <tr>");for(var ne=0;ne<p.columns.length;ne++){var X=f(p.rows[Z].getString(ne));I.print("      <td>".concat(X)),I.print("      </td>")}I.print("    </tr>")}I.print("  </table>"),I.print("</body>"),I.print("</html>")}I.close(),I.clear()},k.default.prototype.writeFile=function(p,m,v){var D="application/octet-stream";k.default.prototype._isSafari()&&(D="text/plain");var I=new Blob(p,{type:D});k.default.prototype.downloadFile(I,m,v)},k.default.prototype.downloadFile=function(p,m,v){var D=u(m,v),I=D[0];if(p instanceof Blob)w.default.saveAs(p,I);else{var R=document.createElement("a");if(R.href=p,R.download=I,R.onclick=function(V){document.body.removeChild(V.target),V.stopPropagation()},R.style.display="none",document.body.appendChild(R),k.default.prototype._isSafari()){var B="Hello, Safari user! To download this file...\n";B+="1. Go to File --\x3e Save As.\n",B+='2. Choose "Page Source" as the Format.\n',B+='3. Name it with this extension: ."'.concat(D[1],'"'),alert(B)}R.click()}},k.default.prototype._checkFileExtension=u,k.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},j.default=k.default},{"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.last-index-of":158,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226,"core-js/modules/web.url":228,"es6-promise/auto":229,"fetch-jsonp":231,"file-saver":232,"whatwg-fetch":239}],287:[function(h,te,j){"use strict";h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.index-of"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.splice"),h("core-js/modules/es.regexp.constructor"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.match"),h("core-js/modules/es.string.replace"),h("core-js/modules/es.string.trim"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.Table=function(S){this.columns=[],this.rows=[]},g.default.Table.prototype.addRow=function(S){var M=S||new g.default.TableRow;if(void 0===M.arr||void 0===M.obj)throw new Error("invalid TableRow: ".concat(M));return(M.table=this).rows.push(M),M},g.default.Table.prototype.removeRow=function(S){this.rows[S].table=null;var M=this.rows.splice(S+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(M)},g.default.Table.prototype.getRow=function(S){return this.rows[S]},g.default.Table.prototype.getRows=function(){return this.rows},g.default.Table.prototype.findRow=function(S,M){if("string"==typeof M){for(var b=0;b<this.rows.length;b++)if(this.rows[b].obj[M]===S)return this.rows[b]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[M]===S)return this.rows[f];return null},g.default.Table.prototype.findRows=function(S,M){var b=[];if("string"==typeof M)for(var f=0;f<this.rows.length;f++)this.rows[f].obj[M]===S&&b.push(this.rows[f]);else for(var u=0;u<this.rows.length;u++)this.rows[u].arr[M]===S&&b.push(this.rows[u]);return b},g.default.Table.prototype.matchRow=function(S,M){if("number"==typeof M){for(var b=0;b<this.rows.length;b++)if(this.rows[b].arr[M].match(S))return this.rows[b]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[M].match(S))return this.rows[f];return null},g.default.Table.prototype.matchRows=function(S,M){var b=[];if("number"==typeof M)for(var f=0;f<this.rows.length;f++)this.rows[f].arr[M].match(S)&&b.push(this.rows[f]);else for(var u=0;u<this.rows.length;u++)this.rows[u].obj[M].match(S)&&b.push(this.rows[u]);return b},g.default.Table.prototype.getColumn=function(S){var M=[];if("string"==typeof S)for(var b=0;b<this.rows.length;b++)M.push(this.rows[b].obj[S]);else for(var f=0;f<this.rows.length;f++)M.push(this.rows[f].arr[S]);return M},g.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},g.default.Table.prototype.addColumn=function(S){this.columns.push(S||null)},g.default.Table.prototype.getColumnCount=function(){return this.columns.length},g.default.Table.prototype.getRowCount=function(){return this.rows.length},g.default.Table.prototype.removeTokens=function(S,M){for(var b=[],f=0;f<S.length;f++)b.push(S.charAt(f).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var u=new RegExp(b.join("|"),"g");if(void 0===M)for(var d=0;d<this.columns.length;d++)for(var p=0;p<this.rows.length;p++){var m=this.rows[p].arr[d];m=m.replace(u,""),this.rows[p].arr[d]=m,this.rows[p].obj[this.columns[d]]=m}else if("string"==typeof M)for(var v=0;v<this.rows.length;v++){var D=this.rows[v].obj[M];D=D.replace(u,""),this.rows[v].obj[M]=D;var I=this.columns.indexOf(M);this.rows[v].arr[I]=D}else for(var R=0;R<this.rows.length;R++){var B=this.rows[R].arr[M];B=B.replace(u,""),this.rows[R].arr[M]=B,this.rows[R].obj[this.columns[M]]=B}},g.default.Table.prototype.trim=function(S){var M=new RegExp(" ","g");if(void 0===S)for(var b=0;b<this.columns.length;b++)for(var f=0;f<this.rows.length;f++){var u=this.rows[f].arr[b];u=u.replace(M,""),this.rows[f].arr[b]=u,this.rows[f].obj[this.columns[b]]=u}else if("string"==typeof S)for(var d=0;d<this.rows.length;d++){var p=this.rows[d].obj[S];p=p.replace(M,""),this.rows[d].obj[S]=p;var m=this.columns.indexOf(S);this.rows[d].arr[m]=p}else for(var v=0;v<this.rows.length;v++){var D=this.rows[v].arr[S];D=D.replace(M,""),this.rows[v].arr[S]=D,this.rows[v].obj[this.columns[S]]=D}},g.default.Table.prototype.removeColumn=function(S){var M,b;"string"==typeof S?(M=S,b=this.columns.indexOf(S)):(b=S,M=this.columns[S]);var f=this.columns.splice(b+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(f);for(var u=0;u<this.rows.length;u++){var d=this.rows[u].arr,p=d.splice(b+1,d.length);d.pop(),this.rows[u].arr=d.concat(p),delete this.rows[u].obj[M]}},g.default.Table.prototype.set=function(S,M,b){this.rows[S].set(M,b)},g.default.Table.prototype.setNum=function(S,M,b){this.rows[S].setNum(M,b)},g.default.Table.prototype.setString=function(S,M,b){this.rows[S].setString(M,b)},g.default.Table.prototype.get=function(S,M){return this.rows[S].get(M)},g.default.Table.prototype.getNum=function(S,M){return this.rows[S].getNum(M)},g.default.Table.prototype.getString=function(S,M){return this.rows[S].getString(M)},g.default.Table.prototype.getObject=function(S){for(var M,b={},f=0;f<this.rows.length;f++)if(M=this.rows[f].obj,"string"==typeof S){if(!(0<=this.columns.indexOf(S)))throw new Error('This table has no column named "'.concat(S,'"'));b[M[S]]=M}else b[f]=this.rows[f].obj;return b},g.default.Table.prototype.getArray=function(){for(var S=[],M=0;M<this.rows.length;M++)S.push(this.rows[M].arr);return S},j.default=g.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.join":157,"core-js/modules/es.array.splice":162,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.trim":190}],288:[function(h,te,j){"use strict";h("core-js/modules/es.array.index-of"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.split"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.TableRow=function(S,M){var b=[],f={};S&&(b=S.split(M=M||","));for(var u=0;u<b.length;u++)f[u]=b[u];this.arr=b,this.obj=f,this.table=null},g.default.TableRow.prototype.set=function(S,M){if("string"==typeof S){var b=this.table.columns.indexOf(S);if(!(0<=b))throw new Error('This table has no column named "'.concat(S,'"'));this.obj[S]=M,this.arr[b]=M}else{if(!(S<this.table.columns.length))throw new Error("Column #".concat(S," is out of the range of this table"));this.arr[S]=M,this.obj[this.table.columns[S]]=M}},g.default.TableRow.prototype.setNum=function(S,M){var b=parseFloat(M);this.set(S,b)},g.default.TableRow.prototype.setString=function(S,M){var b=M.toString();this.set(S,b)},g.default.TableRow.prototype.get=function(S){return"string"==typeof S?this.obj[S]:this.arr[S]},g.default.TableRow.prototype.getNum=function(S){var M;if("NaN"===(M=parseFloat("string"==typeof S?this.obj[S]:this.arr[S])).toString())throw"Error: ".concat(this.obj[S]," is NaN (Not a Number)");return M},g.default.TableRow.prototype.getString=function(S){return"string"==typeof S?this.obj[S].toString():this.arr[S].toString()},j.default=g.default},{"../core/main":260,"core-js/modules/es.array.index-of":155,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.split":188}],289:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.number.constructor"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.string.replace"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.XML=function(M){if(M)this.DOM=M;else{var b=document.implementation.createDocument(null,"doc");this.DOM=b.createElement("root")}},g.default.XML.prototype.getParent=function(){return new g.default.XML(this.DOM.parentElement)},g.default.XML.prototype.getName=function(){return this.DOM.tagName},g.default.XML.prototype.setName=function(M){var b=this.DOM.innerHTML,f=this.DOM.attributes,u=document.implementation.createDocument(null,"default").createElement(M);u.innerHTML=b;for(var d=0;d<f.length;d++)u.setAttribute(f[d].nodeName,f.nodeValue);this.DOM=u},g.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},g.default.XML.prototype.listChildren=function(){for(var M=[],b=0;b<this.DOM.childNodes.length;b++)M.push(this.DOM.childNodes[b].nodeName);return M},g.default.XML.prototype.getChildren=function(M){return function w(M){for(var b=[],f=0;f<M.length;f++)b.push(new g.default.XML(M[f]));return b}(M?this.DOM.getElementsByTagName(M):this.DOM.children)},g.default.XML.prototype.getChild=function(M){if("string"!=typeof M)return new g.default.XML(this.DOM.children[M]);var b=!0,f=!1,u=void 0;try{for(var d,p=this.DOM.children[Symbol.iterator]();!(b=(d=p.next()).done);b=!0){var m=d.value;if(m.tagName===M)return new g.default.XML(m)}}catch(v){f=!0,u=v}finally{try{b||null==p.return||p.return()}finally{if(f)throw u}}},g.default.XML.prototype.addChild=function(M){M instanceof g.default.XML&&this.DOM.appendChild(M.DOM)},g.default.XML.prototype.removeChild=function(M){var b=-1;if("string"==typeof M){for(var f=0;f<this.DOM.children.length;f++)if(this.DOM.children[f].tagName===M){b=f;break}}else b=M;-1!==b&&this.DOM.removeChild(this.DOM.children[b])},g.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},g.default.XML.prototype.listAttributes=function(){var M=[],b=!0,f=!1,u=void 0;try{for(var d,p=this.DOM.attributes[Symbol.iterator]();!(b=(d=p.next()).done);b=!0)M.push(d.value.nodeName)}catch(v){f=!0,u=v}finally{try{b||null==p.return||p.return()}finally{if(f)throw u}}return M},g.default.XML.prototype.hasAttribute=function(M){var b={},f=!0,u=!1,d=void 0;try{for(var p,m=this.DOM.attributes[Symbol.iterator]();!(f=(p=m.next()).done);f=!0){var v=p.value;b[v.nodeName]=v.nodeValue}}catch(D){u=!0,d=D}finally{try{f||null==m.return||m.return()}finally{if(u)throw d}}return!!b[M]},g.default.XML.prototype.getNum=function(M,b){var f={},u=!0,d=!1,p=void 0;try{for(var m,v=this.DOM.attributes[Symbol.iterator]();!(u=(m=v.next()).done);u=!0){var D=m.value;f[D.nodeName]=D.nodeValue}}catch(I){d=!0,p=I}finally{try{u||null==v.return||v.return()}finally{if(d)throw p}}return Number(f[M])||b||0},g.default.XML.prototype.getString=function(M,b){var f={},u=!0,d=!1,p=void 0;try{for(var m,v=this.DOM.attributes[Symbol.iterator]();!(u=(m=v.next()).done);u=!0){var D=m.value;f[D.nodeName]=D.nodeValue}}catch(I){d=!0,p=I}finally{try{u||null==v.return||v.return()}finally{if(d)throw p}}return f[M]?String(f[M]):b||null},g.default.XML.prototype.setAttribute=function(M,b){this.DOM.setAttribute(M,b)},g.default.XML.prototype.getContent=function(M){return this.DOM.textContent.replace(/\s\s+/g,",")||M||null},g.default.XML.prototype.setContent=function(M){this.DOM.children.length||(this.DOM.textContent=M)},g.default.XML.prototype.serialize=function(){return(new XMLSerializer).serializeToString(this.DOM)},j.default=g.default},{"../core/main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],290:[function(h,te,j){"use strict";h("core-js/modules/es.array.includes"),h("core-js/modules/es.array.index-of"),h("core-js/modules/es.array.map"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.math.hypot"),h("core-js/modules/es.number.constructor"),h("core-js/modules/es.string.includes"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};function w(){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var M=arguments.length,b=[],f=0,u=0;u<M;u++){var d=arguments[u];if((d=+d)==1/0||d===-1/0)return 1/0;f<(d=Math.abs(d))&&(f=d),b[u]=d}0===f&&(f=1);for(var p=0,m=0,v=0;v<M;v++){var D=b[v]/f,I=D*D-m,R=p+I;m=R-p-I,p=R}return Math.sqrt(p)*f}g.default.prototype.abs=Math.abs,g.default.prototype.ceil=Math.ceil,g.default.prototype.constrain=function(M,b,f){return g.default._validateParameters("constrain",arguments),Math.max(Math.min(M,f),b)},g.default.prototype.dist=function(){for(var M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];return g.default._validateParameters("dist",b),4===b.length?w(b[2]-b[0],b[3]-b[1]):6===b.length?w(b[3]-b[0],b[4]-b[1],b[5]-b[2]):void 0},g.default.prototype.exp=Math.exp,g.default.prototype.floor=Math.floor,g.default.prototype.lerp=function(M,b,f){return g.default._validateParameters("lerp",arguments),f*(b-M)+M},g.default.prototype.log=Math.log,g.default.prototype.mag=function(M,b){return g.default._validateParameters("mag",arguments),w(M,b)},g.default.prototype.map=function(M,b,f,u,d,p){g.default._validateParameters("map",arguments);var m=(M-b)/(f-b)*(d-u)+u;return p?u<d?this.constrain(m,u,d):this.constrain(m,d,u):m},g.default.prototype.max=function(){for(var M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];return b[0]instanceof Array?Math.max.apply(null,b[0]):Math.max.apply(null,b)},g.default.prototype.min=function(){for(var M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];return b[0]instanceof Array?Math.min.apply(null,b[0]):Math.min.apply(null,b)},g.default.prototype.norm=function(M,b,f){return g.default._validateParameters("norm",arguments),this.map(M,b,f,0,1)},g.default.prototype.pow=Math.pow,g.default.prototype.round=function(M,b){return b?Number(Math.round(M+"e"+b)+"e-"+b):Math.round(M)},g.default.prototype.sq=function(M){return M*M},g.default.prototype.sqrt=Math.sqrt,g.default.prototype.fract=function(M){g.default._validateParameters("fract",arguments);var b=0,f=Number(M);if(isNaN(f)||Math.abs(f)===1/0)return f;if(f<0&&(f=-f,b=1),!String(f).includes(".")||String(f).includes("e"))return f<1?Math.abs(b-f):0;var u=String(f);return u=Number("0"+u.slice(u.indexOf("."))),Math.abs(b-u)},j.default=g.default},{"../core/main":260,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.math.hypot":165,"core-js/modules/es.number.constructor":167,"core-js/modules/es.string.includes":182}],291:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.prototype.createVector=function(S,M,b){return this instanceof g.default?new g.default.Vector(this,arguments):new g.default.Vector(S,M,b)},j.default=g.default},{"../core/main":260}],292:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};function w(d){return.5*(1-Math.cos(d*Math.PI))}var S,M=4095,b=4,f=.5;g.default.prototype.noise=function(d){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,m=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==S){S=new Array(4096);for(var v=0;v<4096;v++)S[v]=Math.random()}d<0&&(d=-d),p<0&&(p=-p),m<0&&(m=-m);for(var D,I,R,B,V,G=Math.floor(d),K=Math.floor(p),Q=Math.floor(m),W=d-G,Z=p-K,ne=m-Q,X=0,se=.5,oe=0;oe<b;oe++){var Fe=G+(K<<4)+(Q<<8);D=w(W),I=w(Z),R=S[Fe&M],R+=D*(S[Fe+1&M]-R),B=S[Fe+16&M],R+=I*((B+=D*(S[Fe+16+1&M]-B))-R),B=S[(Fe+=256)&M],B+=D*(S[Fe+1&M]-B),V=S[Fe+16&M],B+=I*((V+=D*(S[Fe+16+1&M]-V))-B),X+=(R+=w(ne)*(B-R))*se,se*=f,G<<=1,K<<=1,Q<<=1,1<=(W*=2)&&(G++,W--),1<=(Z*=2)&&(K++,Z--),1<=(ne*=2)&&(Q++,ne--)}return X},g.default.prototype.noiseDetail=function(d,p){0<d&&(b=d),0<p&&(f=p)},g.default.prototype.noiseSeed=function(d){var p,m,v,D=(v=4294967296,{setSeed:function(R){m=p=(null==R?Math.random()*v:R)>>>0},getSeed:function(){return p},rand:function(){return(m=(1664525*m+1013904223)%v)/v}});D.setSeed(d),S=new Array(4096);for(var I=0;I<4096;I++)S[I]=D.rand()},j.default=g.default},{"../core/main":260}],293:[function(h,te,j){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.every"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.array.some"),h("core-js/modules/es.math.sign"),h("core-js/modules/es.number.constructor"),h("core-js/modules/es.number.is-finite"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.sub"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==k(d)&&"function"!=typeof d)return{default:d};var p=M();if(p&&p.has(d))return p.get(d);var m={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in d)if(Object.prototype.hasOwnProperty.call(d,D)){var I=v?Object.getOwnPropertyDescriptor(d,D):null;I&&(I.get||I.set)?Object.defineProperty(m,D,I):m[D]=d[D]}return m.default=d,p&&p.set(d,m),m}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var d=new WeakMap;return M=function(){return d},d}function b(d,p){return 0!==d&&(this.x=this.x%d),0!==p&&(this.y=this.y%p),this}function f(d,p,m){return 0!==d&&(this.x=this.x%d),0!==p&&(this.y=this.y%p),0!==m&&(this.z=this.z%m),this}w.default.Vector=function(d,p,m){var v,D,I;I=d instanceof w.default?(this.p5=d,v=p[0]||0,D=p[1]||0,p[2]||0):(v=d||0,D=p||0,m||0),this.x=v,this.y=D,this.z=I},w.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},w.default.Vector.prototype.set=function(d,p,m){return d instanceof w.default.Vector?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):d instanceof Array?(this.x=d[0]||0,this.y=d[1]||0,this.z=d[2]||0):(this.x=d||0,this.y=p||0,this.z=m||0),this},w.default.Vector.prototype.copy=function(){return this.p5?new w.default.Vector(this.p5,[this.x,this.y,this.z]):new w.default.Vector(this.x,this.y,this.z)},w.default.Vector.prototype.add=function(d,p,m){return d instanceof w.default.Vector?(this.x+=d.x||0,this.y+=d.y||0,this.z+=d.z||0):d instanceof Array?(this.x+=d[0]||0,this.y+=d[1]||0,this.z+=d[2]||0):(this.x+=d||0,this.y+=p||0,this.z+=m||0),this},w.default.Vector.prototype.rem=function(d,p,m){if(d instanceof w.default.Vector){if(Number.isFinite(d.x)&&Number.isFinite(d.y)&&Number.isFinite(d.z)){var v=parseFloat(d.x),D=parseFloat(d.y),I=parseFloat(d.z);f.call(this,v,D,I)}}else if(d instanceof Array)d.every(function(V){return Number.isFinite(V)})&&(2===d.length&&b.call(this,d[0],d[1]),3===d.length&&f.call(this,d[0],d[1],d[2]));else if(1===arguments.length){if(Number.isFinite(d)&&0!==d)return this.x=this.x%d,this.y=this.y%d,this.z=this.z%d,this}else if(2===arguments.length){var R=Array.prototype.slice.call(arguments);R.every(function(V){return Number.isFinite(V)})&&2===R.length&&b.call(this,R[0],R[1])}else if(3===arguments.length){var B=Array.prototype.slice.call(arguments);B.every(function(V){return Number.isFinite(V)})&&3===B.length&&f.call(this,B[0],B[1],B[2])}},w.default.Vector.prototype.sub=function(d,p,m){return d instanceof w.default.Vector?(this.x-=d.x||0,this.y-=d.y||0,this.z-=d.z||0):d instanceof Array?(this.x-=d[0]||0,this.y-=d[1]||0,this.z-=d[2]||0):(this.x-=d||0,this.y-=p||0,this.z-=m||0),this},w.default.Vector.prototype.mult=function(d,p,m){if(d instanceof w.default.Vector)return Number.isFinite(d.x)&&Number.isFinite(d.y)&&Number.isFinite(d.z)&&"number"==typeof d.x&&"number"==typeof d.y&&"number"==typeof d.z?(this.x*=d.x,this.y*=d.y,this.z*=d.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(d instanceof Array)return d.every(function(D){return Number.isFinite(D)})&&d.every(function(D){return"number"==typeof D})?1===d.length?(this.x*=d[0],this.y*=d[0],this.z*=d[0]):2===d.length?(this.x*=d[0],this.y*=d[1]):3===d.length&&(this.x*=d[0],this.y*=d[1],this.z*=d[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var v=Array.prototype.slice.call(arguments);return v.every(function(D){return Number.isFinite(D)})&&v.every(function(D){return"number"==typeof D})?(1===arguments.length&&(this.x*=d,this.y*=d,this.z*=d),2===arguments.length&&(this.x*=d,this.y*=p),3===arguments.length&&(this.x*=d,this.y*=p,this.z*=m)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},w.default.Vector.prototype.div=function(d,p,m){if(d instanceof w.default.Vector){if(Number.isFinite(d.x)&&Number.isFinite(d.y)&&Number.isFinite(d.z)&&"number"==typeof d.x&&"number"==typeof d.y&&"number"==typeof d.z){if(0===d.x||0===d.y||0===d.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=d.x,this.y/=d.y,this.z/=d.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(d instanceof Array){if(d.every(function(D){return Number.isFinite(D)})&&d.every(function(D){return"number"==typeof D})){if(d.some(function(D){return 0===D}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===d.length?(this.x/=d[0],this.y/=d[0],this.z/=d[0]):2===d.length?(this.x/=d[0],this.y/=d[1]):3===d.length&&(this.x/=d[0],this.y/=d[1],this.z/=d[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var v=Array.prototype.slice.call(arguments);if(v.every(function(D){return Number.isFinite(D)})&&v.every(function(D){return"number"==typeof D})){if(v.some(function(D){return 0===D}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=d,this.y/=d,this.z/=d),2===arguments.length&&(this.x/=d,this.y/=p),3===arguments.length&&(this.x/=d,this.y/=p,this.z/=m)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},w.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},w.default.Vector.prototype.magSq=function(){var d=this.x,p=this.y,m=this.z;return d*d+p*p+m*m},w.default.Vector.prototype.dot=function(d,p,m){return d instanceof w.default.Vector?this.dot(d.x,d.y,d.z):this.x*(d||0)+this.y*(p||0)+this.z*(m||0)},w.default.Vector.prototype.cross=function(d){var p=this.y*d.z-this.z*d.y,m=this.z*d.x-this.x*d.z,v=this.x*d.y-this.y*d.x;return this.p5?new w.default.Vector(this.p5,[p,m,v]):new w.default.Vector(p,m,v)},w.default.Vector.prototype.dist=function(d){return d.copy().sub(this).mag()},w.default.Vector.prototype.normalize=function(){var d=this.mag();return 0!==d&&this.mult(1/d),this},w.default.Vector.prototype.limit=function(d){var p=this.magSq();return d*d<p&&this.div(Math.sqrt(p)).mult(d),this},w.default.Vector.prototype.setMag=function(d){return this.normalize().mult(d)},w.default.Vector.prototype.heading=function(){var d=Math.atan2(this.y,this.x);return this.p5?this.p5._fromRadians(d):d},w.default.Vector.prototype.setHeading=function(d){var p=this.mag();return this.x=p*Math.cos(d),this.y=p*Math.sin(d),this},w.default.Vector.prototype.rotate=function(d){var p=this.heading()+d;this.p5&&(p=this.p5._toRadians(p));var m=this.mag();return this.x=Math.cos(p)*m,this.y=Math.sin(p)*m,this},w.default.Vector.prototype.angleBetween=function(d){var p,m=this.dot(d)/(this.mag()*d.mag());return p=Math.acos(Math.min(1,Math.max(-1,m))),p*=Math.sign(this.cross(d).z||1),this.p5&&(p=this.p5._fromRadians(p)),p},w.default.Vector.prototype.lerp=function(d,p,m,v){return d instanceof w.default.Vector?this.lerp(d.x,d.y,d.z,p):(this.x+=(d-this.x)*v||0,this.y+=(p-this.y)*v||0,this.z+=(m-this.z)*v||0,this)},w.default.Vector.prototype.reflect=function(d){return d.normalize(),this.sub(d.mult(2*this.dot(d)))},w.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},w.default.Vector.prototype.equals=function(d,p,m){var v,D,I;return I=d instanceof w.default.Vector?(v=d.x||0,D=d.y||0,d.z||0):d instanceof Array?(v=d[0]||0,D=d[1]||0,d[2]||0):(v=d||0,D=p||0,m||0),this.x===v&&this.y===D&&this.z===I},w.default.Vector.fromAngle=function(d,p){return void 0===p&&(p=1),new w.default.Vector(p*Math.cos(d),p*Math.sin(d),0)},w.default.Vector.fromAngles=function(d,p,m){void 0===m&&(m=1);var v=Math.cos(p),D=Math.sin(p),I=Math.cos(d),R=Math.sin(d);return new w.default.Vector(m*R*D,-m*I,m*R*v)},w.default.Vector.random2D=function(){return this.fromAngle(Math.random()*S.TWO_PI)},w.default.Vector.random3D=function(){var d=Math.random()*S.TWO_PI,p=2*Math.random()-1,m=Math.sqrt(1-p*p),v=m*Math.cos(d),D=m*Math.sin(d);return new w.default.Vector(v,D,p)},w.default.Vector.add=function(d,p,m){return m?m.set(d):(m=d.copy(),3===arguments.length&&w.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),m.add(p),m},w.default.Vector.rem=function(d,p){if(d instanceof w.default.Vector&&p instanceof w.default.Vector){var m=d.copy();return m.rem(p),m}},w.default.Vector.sub=function(d,p,m){return m?m.set(d):(m=d.copy(),3===arguments.length&&w.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),m.sub(p),m},w.default.Vector.mult=function(d,p,m){return m?m.set(d):(m=d.copy(),3===arguments.length&&w.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),m.mult(p),m},w.default.Vector.rotate=function(d,p,m){return 2===arguments.length?m=d.copy():(m instanceof w.default.Vector||w.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),m.set(d)),m.rotate(p),m},w.default.Vector.div=function(d,p,m){return m?m.set(d):(m=d.copy(),3===arguments.length&&w.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),m.div(p),m},w.default.Vector.dot=function(d,p){return d.dot(p)},w.default.Vector.cross=function(d,p){return d.cross(p)},w.default.Vector.dist=function(d,p){return d.dist(p)},w.default.Vector.lerp=function(d,p,m,v){return v?v.set(d):(v=d.copy(),4===arguments.length&&w.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),v.lerp(p,m),v},w.default.Vector.mag=function(d){var p=d.x,m=d.y,v=d.z;return Math.sqrt(p*p+m*m+v*v)},w.default.Vector.normalize=function(d,p){return arguments.length<2?p=d.copy():(p instanceof w.default.Vector||w.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),p.set(d)),p.normalize()},j.default=w.default.Vector},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.every":149,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.some":161,"core-js/modules/es.math.sign":166,"core-js/modules/es.number.constructor":167,"core-js/modules/es.number.is-finite":168,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.sub":189}],294:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k},w="_lcg_random_state",S=4294967296,M=0;g.default.prototype._lcg=function(f){return this[f]=(1664525*this[f]+1013904223)%S,this[f]/S},g.default.prototype._lcgSetSeed=function(f,u){this[f]=(null==u?Math.random()*S:u)>>>0},g.default.prototype.randomSeed=function(f){this._lcgSetSeed(w,f),this._gaussian_previous=!1},g.default.prototype.random=function(f,u){var d;if(g.default._validateParameters("random",arguments),d=null!=this[w]?this._lcg(w):Math.random(),void 0===f)return d;if(void 0===u)return f instanceof Array?f[Math.floor(d*f.length)]:d*f;if(u<f){var p=f;f=u,u=p}return d*(u-f)+f},g.default.prototype.randomGaussian=function(f){var u,d,p,m,v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)u=M,this._gaussian_previous=!1;else{for(;1<=(m=(d=this.random(2)-1)*d+(p=this.random(2)-1)*p););u=d*(m=Math.sqrt(-2*Math.log(m)/m)),M=p*m,this._gaussian_previous=!0}return u*v+(f||0)},j.default=g.default},{"../core/main":260}],295:[function(h,te,j){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!=typeof f)return{default:f};var u=M();if(u&&u.has(f))return u.get(f);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)){var v=p?Object.getOwnPropertyDescriptor(f,m):null;v&&(v.get||v.set)?Object.defineProperty(d,m,v):d[m]=f[m]}return d.default=f,u&&u.set(f,d),d}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return M=function(){return f},f}w.default.prototype._angleMode=S.RADIANS,w.default.prototype.acos=function(f){return this._fromRadians(Math.acos(f))},w.default.prototype.asin=function(f){return this._fromRadians(Math.asin(f))},w.default.prototype.atan=function(f){return this._fromRadians(Math.atan(f))},w.default.prototype.atan2=function(f,u){return this._fromRadians(Math.atan2(f,u))},w.default.prototype.cos=function(f){return Math.cos(this._toRadians(f))},w.default.prototype.sin=function(f){return Math.sin(this._toRadians(f))},w.default.prototype.tan=function(f){return Math.tan(this._toRadians(f))},w.default.prototype.degrees=function(f){return f*S.RAD_TO_DEG},w.default.prototype.radians=function(f){return f*S.DEG_TO_RAD},w.default.prototype.angleMode=function(f){f!==S.DEGREES&&f!==S.RADIANS||(this._angleMode=f)},w.default.prototype._toRadians=function(f){return this._angleMode===S.DEGREES?f*S.DEG_TO_RAD:f},w.default.prototype._toDegrees=function(f){return this._angleMode===S.RADIANS?f*S.RAD_TO_DEG:f},w.default.prototype._fromRadians=function(f){return this._angleMode===S.DEGREES?f*S.RAD_TO_DEG:f},j.default=w.default},{"../core/constants":250,"../core/main":260}],296:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.prototype.textAlign=function(S,M){var b;return g.default._validateParameters("textAlign",arguments),(b=this._renderer).textAlign.apply(b,arguments)},g.default.prototype.textLeading=function(S){var M;return g.default._validateParameters("textLeading",arguments),(M=this._renderer).textLeading.apply(M,arguments)},g.default.prototype.textSize=function(S){var M;return g.default._validateParameters("textSize",arguments),(M=this._renderer).textSize.apply(M,arguments)},g.default.prototype.textStyle=function(S){var M;return g.default._validateParameters("textStyle",arguments),(M=this._renderer).textStyle.apply(M,arguments)},g.default.prototype.textWidth=function(){for(var S,M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];return b[0]+="",g.default._validateParameters("textWidth",b),0===b[0].length?0:(S=this._renderer).textWidth.apply(S,b)},g.default.prototype.textAscent=function(){for(var S=arguments.length,M=new Array(S),b=0;b<S;b++)M[b]=arguments[b];return g.default._validateParameters("textAscent",M),this._renderer.textAscent()},g.default.prototype.textDescent=function(){for(var S=arguments.length,M=new Array(S),b=0;b<S;b++)M[b]=arguments[b];return g.default._validateParameters("textDescent",M),this._renderer.textDescent()},g.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},g.default.prototype.textWrap=function(S){if("WORD"!==S&&"CHAR"!==S)throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(S)},j.default=g.default},{"../core/main":260}],297:[function(h,te,j){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.includes"),h("core-js/modules/es.array.last-index-of"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.string.split"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=f(h("../core/constants")),M=f(h("opentype.js"));function b(){if("function"!=typeof WeakMap)return null;var d=new WeakMap;return b=function(){return d},d}function f(d){if(d&&d.__esModule)return d;if(null===d||"object"!==k(d)&&"function"!=typeof d)return{default:d};var p=b();if(p&&p.has(d))return p.get(d);var m={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in d)if(Object.prototype.hasOwnProperty.call(d,D)){var I=v?Object.getOwnPropertyDescriptor(d,D):null;I&&(I.get||I.set)?Object.defineProperty(m,D,I):m[D]=d[D]}return m.default=d,p&&p.set(d,m),m}h("../core/friendly_errors/validate_params"),h("../core/friendly_errors/file_errors"),h("../core/friendly_errors/fes_core"),w.default.prototype.loadFont=function(d,p,m){w.default._validateParameters("loadFont",arguments);var v=new w.default.Font(this),D=this;return M.load(d,function(I,R){if(I)return w.default._friendlyFileLoadError(4,d),void 0!==m?m(I):void console.error(I,d);v.font=R,void 0!==p&&p(v),D._decrementPreload();var B,V,G=d.split("\\").pop().split("/").pop(),K=G.lastIndexOf("."),Q=K<1?null:G.substr(K+1);["ttf","otf","woff","woff2"].includes(Q)&&(B=G.substr(0,K),(V=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(B,";\nsrc: url(").concat(d,");\n}\n"))),document.head.appendChild(V))}),v},w.default.prototype.text=function(d,p,m,v,D){var I;return w.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(I=this._renderer).text.apply(I,arguments):this},w.default.prototype.textFont=function(d,p){if(w.default._validateParameters("textFont",arguments),arguments.length){if(!d)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",d),p&&(this._renderer._setProperty("_textSize",p),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",p*S._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont},j.default=w.default},{"../core/constants":250,"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.last-index-of":158,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.split":188,"opentype.js":236}],298:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.array.splice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.number.to-fixed"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.string.split"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k},w=function(W){if(W&&W.__esModule)return W;if(null===W||"object"!==M(W)&&"function"!=typeof W)return{default:W};var Z=S();if(Z&&Z.has(W))return Z.get(W);var ne={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in W)if(Object.prototype.hasOwnProperty.call(W,se)){var oe=X?Object.getOwnPropertyDescriptor(W,se):null;oe&&(oe.get||oe.set)?Object.defineProperty(ne,se,oe):ne[se]=W[se]}return ne.default=W,Z&&Z.set(W,ne),ne}(h("../core/constants"));function S(){if("function"!=typeof WeakMap)return null;var W=new WeakMap;return S=function(){return W},W}function M(W){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(W)}function b(W,Z){for(var ne=function(Be,xe){if("object"!==M(Be))Be=xe;else for(var Ue in xe)void 0===Be[Ue]&&(Be[Ue]=xe[Ue]);return Be}(Z,{sampleFactor:.1,simplifyThreshold:0}),X=D(W,0,1),se=X/(X*ne.sampleFactor),oe=[],Fe=0;Fe<X;Fe+=se)oe.push(D(W,Fe));return ne.simplifyThreshold&&function(Be){for(var xe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Ve=Be.length-1;3<Be.length&&0<=Ve;--Ve)p(d(Be,Ve-1),d(Be,Ve),d(Be,Ve+1),xe)&&Be.splice(Ve%Be.length,1)}(oe,ne.simplifyThreshold),oe}function f(W){for(var Z,ne=[],X=0;X<W.length;X++)"M"===W[X].type&&(Z&&ne.push(Z),Z=[]),Z.push(u(W[X]));return ne.push(Z),ne}function u(W){var Z=[W.type];return"M"===W.type||"L"===W.type?Z.push(W.x,W.y):"C"===W.type?Z.push(W.x1,W.y1,W.x2,W.y2,W.x,W.y):"Q"===W.type&&Z.push(W.x1,W.y1,W.x,W.y),Z}function d(W,Z){var ne=W.length;return W[Z<0?Z%ne+ne:Z%ne]}function p(W,Z,ne,X){if(!X)return((oe=Z)[0]-(se=W)[0])*((Fe=ne)[1]-se[1])-(Fe[0]-se[0])*(oe[1]-se[1])==0;var se,oe,Fe;void 0===p.tmpPoint1&&(p.tmpPoint1=[],p.tmpPoint2=[]);var Be=p.tmpPoint1,xe=p.tmpPoint2;Be.x=Z.x-W.x,Be.y=Z.y-W.y,xe.x=ne.x-Z.x,xe.y=ne.y-Z.y;var Ue=Be.x*xe.x+Be.y*xe.y,Ve=Math.sqrt(Be.x*Be.x+Be.y*Be.y),Oe=Math.sqrt(xe.x*xe.x+xe.y*xe.y);return Math.acos(Ue/(Ve*Oe))<X}function m(W,Z,ne,X,se,oe,Fe,Be,xe){var Ue=1-xe,Ve=Math.pow(Ue,3),Oe=Math.pow(Ue,2),Ge=xe*xe,De=Ge*xe,lt=Ve*W+3*Oe*xe*ne+3*Ue*xe*xe*se+De*Fe,Ke=Ve*Z+3*Oe*xe*X+3*Ue*xe*xe*oe+De*Be,ct=W+2*xe*(ne-W)+Ge*(se-2*ne+W),ut=Z+2*xe*(X-Z)+Ge*(oe-2*X+Z),z=ne+2*xe*(se-ne)+Ge*(Fe-2*se+ne),ie=X+2*xe*(oe-X)+Ge*(Be-2*oe+X),fe=Ue*W+xe*ne,Ee=Ue*Z+xe*X,Ne=Ue*se+xe*Fe,Ae=Ue*oe+xe*Be,ft=90-180*Math.atan2(ct-z,ut-ie)/Math.PI;return(z<ct||ut<ie)&&(ft+=180),{x:lt,y:Ke,m:{x:ct,y:ut},n:{x:z,y:ie},start:{x:fe,y:Ee},end:{x:Ne,y:Ae},alpha:ft}}function v(W,Z,ne,X,se,oe,Fe,Be,xe){return null==xe?G(W,Z,ne,X,se,oe,Fe,Be):m(W,Z,ne,X,se,oe,Fe,Be,function(Ue,Ve,Oe,Ge,De,lt,Ke,ct,ut){if(!(ut<0||G(Ue,Ve,Oe,Ge,De,lt,Ke,ct)<ut)){var z,ie=.5,fe=1-ie;for(z=G(Ue,Ve,Oe,Ge,De,lt,Ke,ct,fe);.01<Math.abs(z-ut);)z=G(Ue,Ve,Oe,Ge,De,lt,Ke,ct,fe+=(z<ut?1:-1)*(ie/=2));return fe}}(W,Z,ne,X,se,oe,Fe,Be,xe))}function D(W,Z,ne){for(var X,se,oe,Fe,Be,xe=0,Ue=0,Ve=(W=function(Oe,Ge){function De(Et,xt,ln){var An,Ut;if(!Et)return["C",xt.x,xt.y,xt.x,xt.y,xt.x,xt.y];switch(Et[0]in{T:1,Q:1}||(xt.qx=xt.qy=null),Et[0]){case"M":xt.X=Et[1],xt.Y=Et[2];break;case"A":Et=["C"].concat(function Yn(Kn,Vt,Nt,gn,it,yn,Ht,de,_e,le){var pt,Dt,Gt,nt,mi,ve=Math.PI,ze=120*ve/180,dn=ve/180*(+it||0),Ln=[],zn=function(rr,Di,wn){return{x:rr*Math.cos(wn)-Di*Math.sin(wn),y:rr*Math.sin(wn)+Di*Math.cos(wn)}};if(le)pt=le[0],Dt=le[1],Gt=le[2],nt=le[3];else{Vt=(mi=zn(Kn,Vt,-dn)).y;var $n=((Kn=mi.x)-(de=(mi=zn(de,_e,-dn)).x))/2,ui=(Vt-(_e=mi.y))/2,Gi=$n*$n/(Nt*Nt)+ui*ui/(gn*gn);1<Gi&&(Nt*=Gi=Math.sqrt(Gi),gn*=Gi);var Qs=Nt*Nt,ja=gn*gn,ml=(yn===Ht?-1:1)*Math.sqrt(Math.abs((Qs*ja-Qs*ui*ui-ja*$n*$n)/(Qs*ui*ui+ja*$n*$n)));Gt=ml*Nt*ui/gn+(Kn+de)/2,nt=ml*-gn*$n/Nt+(Vt+_e)/2,pt=Math.asin(((Vt-nt)/gn).toFixed(9)),Dt=Math.asin(((_e-nt)/gn).toFixed(9)),(pt=Kn<Gt?ve-pt:pt)<0&&(pt=2*ve+pt),(Dt=de<Gt?ve-Dt:Dt)<0&&(Dt=2*ve+Dt),Ht&&Dt<pt&&(pt-=2*ve),!Ht&&pt<Dt&&(Dt-=2*ve)}var No=Dt-pt;if(Math.abs(No)>ze){var Js=Dt,Kl=de,Sr=_e;Dt=pt+ze*(Ht&&pt<Dt?1:-1),Ln=Yn(de=Gt+Nt*Math.cos(Dt),_e=nt+gn*Math.sin(Dt),Nt,gn,it,0,Ht,Kl,Sr,[Dt,Js,Gt,nt])}No=Dt-pt;var Xo=Math.cos(pt),Bs=Math.sin(pt),Hu=Math.cos(Dt),Ql=Math.sin(Dt),Va=Math.tan(No/4),ba=4/3*Nt*Va,We=4/3*gn*Va,Bt=[Kn,Vt],fn=[Kn+ba*Bs,Vt-We*Xo],Jt=[de+ba*Ql,_e-We*Hu],In=[de,_e];if(fn[0]=2*Bt[0]-fn[0],fn[1]=2*Bt[1]-fn[1],le)return[fn,Jt,In].concat(Ln);for(var jt=[],Vi=0,Zi=(Ln=[fn,Jt,In].concat(Ln).join().split(",")).length;Vi<Zi;Vi++)jt[Vi]=Vi%2?zn(Ln[Vi-1],Ln[Vi],dn).y:zn(Ln[Vi],Ln[Vi+1],dn).x;return jt}.apply(0,[xt.x,xt.y].concat(Et.slice(1))));break;case"S":Ut="C"===ln||"S"===ln?(An=2*xt.x-xt.bx,2*xt.y-xt.by):(An=xt.x,xt.y),Et=["C",An,Ut].concat(Et.slice(1));break;case"T":"Q"===ln||"T"===ln?(xt.qx=2*xt.x-xt.qx,xt.qy=2*xt.y-xt.qy):(xt.qx=xt.x,xt.qy=xt.y),Et=["C"].concat(V(xt.x,xt.y,xt.qx,xt.qy,Et[1],Et[2]));break;case"Q":xt.qx=Et[1],xt.qy=Et[2],Et=["C"].concat(V(xt.x,xt.y,Et[1],Et[2],Et[3],Et[4]));break;case"L":Et=["C"].concat(B(xt.x,xt.y,Et[1],Et[2]));break;case"H":Et=["C"].concat(B(xt.x,xt.y,Et[1],xt.y));break;case"V":Et=["C"].concat(B(xt.x,xt.y,xt.x,Et[1]));break;case"Z":Et=["C"].concat(B(xt.x,xt.y,xt.X,xt.Y))}return Et}function lt(Et,xt){if(7<Et[xt].length){Et[xt].shift();for(var ln=Et[xt];ln.length;)Ee[xt]="A",z&&(Ne[xt]="A"),Et.splice(xt++,0,["C"].concat(ln.splice(0,6)));Et.splice(xt,1),ct=Math.max(ut.length,z&&z.length||0)}}function Ke(Et,xt,ln,An,Ut){Et&&xt&&"M"===Et[Ut][0]&&"M"!==xt[Ut][0]&&(xt.splice(Ut,0,["M",An.x,An.y]),ln.bx=0,ln.by=0,ln.x=Et[Ut][1],ln.y=Et[Ut][2],ct=Math.max(ut.length,z&&z.length||0))}var ct,ut=I(Oe),z=undefined,ie={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},fe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ee=[],Ne=[],Ae="",ft="";ct=Math.max(ut.length,z&&z.length||0);for(var Pe=0;Pe<ct;Pe++){ut[Pe]&&(Ae=ut[Pe][0]),"C"!==Ae&&(Ee[Pe]=Ae,Pe&&(ft=Ee[Pe-1])),ut[Pe]=De(ut[Pe],ie,ft),"A"!==Ee[Pe]&&"C"===Ae&&(Ee[Pe]="C"),lt(ut,Pe),z&&(z[Pe]&&(Ae=z[Pe][0]),"C"!==Ae&&(Ne[Pe]=Ae,Pe&&(ft=Ne[Pe-1])),z[Pe]=De(z[Pe],fe,ft),"A"!==Ne[Pe]&&"C"===Ae&&(Ne[Pe]="C"),lt(z,Pe)),Ke(ut,z,ie,fe,Pe),Ke(z,ut,fe,ie,Pe);var tt=ut[Pe],st=z&&z[Pe],Ye=tt.length,Mt=z&&st.length;ie.x=tt[Ye-2],ie.y=tt[Ye-1],ie.bx=parseFloat(tt[Ye-4])||ie.x,ie.by=parseFloat(tt[Ye-3])||ie.y,fe.bx=z&&(parseFloat(st[Mt-4])||fe.x),fe.by=z&&(parseFloat(st[Mt-3])||fe.y),fe.x=z&&st[Mt-2],fe.y=z&&st[Mt-1]}return z?[ut,z]:ut}(W)).length;Ue<Ve;Ue++){if("M"===(oe=W[Ue])[0])X=+oe[1],se=+oe[2];else{if(Z<xe+(Fe=v(X,se,oe[1],oe[2],oe[3],oe[4],oe[5],oe[6]))&&!ne)return{x:(Be=v(X,se,oe[1],oe[2],oe[3],oe[4],oe[5],oe[6],Z-xe)).x,y:Be.y,alpha:Be.alpha};xe+=Fe,X=+oe[5],se=+oe[6]}oe.shift()}return(Be=ne?xe:m(X,se,oe[0],oe[1],oe[2],oe[3],oe[4],oe[5],1)).alpha&&(Be={x:Be.x,y:Be.y,alpha:Be.alpha}),Be}function I(W){var Z,ne=[],X=0,se=0,oe=0,Fe=0,Be=0;if(!W)return ne;"M"===W[0][0]&&(oe=X=+W[0][1],Fe=se=+W[0][2],Be++,ne[0]=["M",X,se]);for(var xe,Ue,Ve=3===W.length&&"M"===W[0][0]&&"R"===W[1][0].toUpperCase()&&"Z"===W[2][0].toUpperCase(),Oe=Be,Ge=W.length;Oe<Ge;Oe++){if(ne.push(xe=[]),(Ue=W[Oe])[0]!==String.prototype.toUpperCase.call(Ue[0]))switch(xe[0]=String.prototype.toUpperCase.call(Ue[0]),xe[0]){case"A":xe[1]=Ue[1],xe[2]=Ue[2],xe[3]=Ue[3],xe[4]=Ue[4],xe[5]=Ue[5],xe[6]=+(Ue[6]+X),xe[7]=+(Ue[7]+se);break;case"V":xe[1]=+Ue[1]+se;break;case"H":xe[1]=+Ue[1]+X;break;case"R":for(var De=2,lt=(Z=[X,se].concat(Ue.slice(1))).length;De<lt;De++)Z[De]=+Z[De]+X,Z[++De]=+Z[De]+se;ne.pop(),ne=ne.concat(R(Z,Ve));break;case"M":oe=+Ue[1]+X,Fe=+Ue[2]+se;break;default:for(var Ke=1,ct=Ue.length;Ke<ct;Ke++)xe[Ke]=+Ue[Ke]+(Ke%2?X:se)}else if("R"===Ue[0])Z=[X,se].concat(Ue.slice(1)),ne.pop(),ne=ne.concat(R(Z,Ve)),xe=["R"].concat(Ue.slice(-2));else for(var ut=0,z=Ue.length;ut<z;ut++)xe[ut]=Ue[ut];switch(xe[0]){case"Z":X=oe,se=Fe;break;case"H":X=xe[1];break;case"V":se=xe[1];break;case"M":oe=xe[xe.length-2],Fe=xe[xe.length-1];break;default:X=xe[xe.length-2],se=xe[xe.length-1]}}return ne}function R(W,Z){for(var ne=[],X=0,se=W.length;X<se-2*!Z;X+=2){var oe=[{x:+W[X-2],y:+W[X-1]},{x:+W[X],y:+W[X+1]},{x:+W[X+2],y:+W[X+3]},{x:+W[X+4],y:+W[X+5]}];Z?X?se-4===X?oe[3]={x:+W[0],y:+W[1]}:se-2===X&&(oe[2]={x:+W[0],y:+W[1]},oe[3]={x:+W[2],y:+W[3]}):oe[0]={x:+W[se-2],y:+W[se-1]}:se-4===X?oe[3]=oe[2]:X||(oe[0]={x:+W[X],y:+W[X+1]}),ne.push(["C",(6*oe[1].x-oe[0].x+oe[2].x)/6,(6*oe[1].y-oe[0].y+oe[2].y)/6,(oe[1].x+6*oe[2].x-oe[3].x)/6,(oe[1].y+6*oe[2].y-oe[3].y)/6,oe[2].x,oe[2].y])}return ne}function B(W,Z,ne,X){return[W,Z,ne,X,ne,X]}function V(W,Z,ne,X,se,oe){return[1/3*W+2/3*ne,1/3*Z+2/3*X,1/3*se+2/3*ne,1/3*oe+2/3*X,se,oe]}function G(W,Z,ne,X,se,oe,Fe,Be,xe){null==xe&&(xe=1);for(var Ue=(xe=1<xe?1:xe<0?0:xe)/2,Ve=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Oe=0,Ge=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],De=0;De<12;De++){var lt=Ue*Ve[De]+Ue,Ke=K(lt,W,ne,se,Fe),ct=K(lt,Z,X,oe,Be);Oe+=Ge[De]*Math.sqrt(Ke*Ke+ct*ct)}return Ue*Oe}function K(W,Z,ne,X,se){return W*(W*(-3*Z+9*ne-9*X+3*se)+6*Z-12*ne+6*X)-3*Z+3*ne}g.default.Font=function(W){this.parent=W,this.cache={},this.font=void 0},g.default.Font.prototype.textBounds=function(W){var Z,ne=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,X=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,se=3<arguments.length?arguments[3]:void 0,oe=4<arguments.length?arguments[4]:void 0,Fe=oe&&oe.renderer&&oe.renderer._pInst||this.parent;if(se=se||Fe._renderer._textSize,!Z){var xe,Ue,Ve=[],Oe=[],Ge=[];Ge[0]=[];var De=[],lt=this._scale(se),Ke=Fe._renderer.textLeading(),ct=0;this.font.forEachGlyph(W,ne,X,se,oe,function(Ee,Ne,Ae,ft){var Pe=Ee.getMetrics();0===Ee.index||10===Ee.index?Ge[ct+=1]=[]:(Ge[ct].push(Ne+Pe.xMin*lt),Ge[ct].push(Ne+Pe.xMax*lt),De.push(Ae+ct*Ke+-Pe.yMin*lt),De.push(Ae+ct*Ke+-Pe.yMax*lt))}),0<Ge[ct].length&&(Ve[ct]=Math.min.apply(null,Ge[ct]),Oe[ct]=Math.max.apply(null,Ge[ct]));for(var ut=0,z=0;z<=ct;z++){Ve[z]=Math.min.apply(null,Ge[z]),Oe[z]=Math.max.apply(null,Ge[z]);var ie=Oe[z]-Ve[z];ut<ie&&(ut=ie)}var fe=Math.min.apply(null,Ve);Z={x:fe,y:xe=Math.min.apply(null,De),h:Math.max.apply(null,De)-xe,w:ut,advance:fe-ne},Ue=this._handleAlignment(Fe._renderer,W,Z.x,Z.y,Z.w+Z.advance),Z.x=Ue.x,Z.y=Ue.y}return Z},g.default.Font.prototype.textToPoints=function(W,Z,ne,X,se){var oe,Fe=0,Be=[],xe=this._getGlyphs(W);X=X||this.parent._renderer._textSize;for(var Ue=0;Ue<xe.length;Ue++){if(!(xe[oe=Ue].name&&"space"===xe[oe].name||W.length===xe.length&&" "===W[oe]||xe[oe].index&&3===xe[oe].index))for(var Ve=f(xe[Ue].getPath(Z,ne,X).commands),Oe=0;Oe<Ve.length;Oe++)for(var Ge=b(Ve[Oe],se),De=0;De<Ge.length;De++)Ge[De].x+=Fe,Be.push(Ge[De]);Fe+=xe[Ue].advanceWidth*this._scale(X)}return Be},g.default.Font.prototype._getGlyphs=function(W){return this.font.stringToGlyphs(W)},g.default.Font.prototype._getPath=function(W,Z,ne,X){var se=(X&&X.renderer&&X.renderer._pInst||this.parent)._renderer,oe=this._handleAlignment(se,W,Z,ne);return this.font.getPath(W,oe.x,oe.y,se._textSize,X)},g.default.Font.prototype._getPathData=function(W,Z,ne,X){var se=3;return"string"==typeof W&&2<arguments.length?W=this._getPath(W,Z,ne,X):"object"===M(Z)&&(X=Z),X&&"number"==typeof X.decimals&&(se=X.decimals),W.toPathData(se)},g.default.Font.prototype._getSVG=function(W,Z,ne,X){var se=3;return"string"==typeof W&&2<arguments.length?W=this._getPath(W,Z,ne,X):"object"===M(Z)&&(X=Z),X&&("number"==typeof X.decimals&&(se=X.decimals),"number"==typeof X.strokeWidth&&(W.strokeWidth=X.strokeWidth),void 0!==X.fill&&(W.fill=X.fill),void 0!==X.stroke&&(W.stroke=X.stroke)),W.toSVG(se)},g.default.Font.prototype._renderPath=function(W,Z,ne,X){var se,oe=X&&X.renderer||this.parent._renderer,Fe=oe.drawingContext;se="object"===M(W)&&W.commands?W.commands:this._getPath(W,Z,ne,X).commands,Fe.beginPath();var Be=!0,xe=!1,Ue=void 0;try{for(var Ve,Oe=se[Symbol.iterator]();!(Be=(Ve=Oe.next()).done);Be=!0){var Ge=Ve.value;"M"===Ge.type?Fe.moveTo(Ge.x,Ge.y):"L"===Ge.type?Fe.lineTo(Ge.x,Ge.y):"C"===Ge.type?Fe.bezierCurveTo(Ge.x1,Ge.y1,Ge.x2,Ge.y2,Ge.x,Ge.y):"Q"===Ge.type?Fe.quadraticCurveTo(Ge.x1,Ge.y1,Ge.x,Ge.y):"Z"===Ge.type&&Fe.closePath()}}catch(De){xe=!0,Ue=De}finally{try{Be||null==Oe.return||Oe.return()}finally{if(xe)throw Ue}}return oe._doStroke&&oe._strokeSet&&Fe.stroke(),oe._doFill&&(oe._fillSet||oe._setFill(w._DEFAULT_TEXT_FILL),Fe.fill()),this},g.default.Font.prototype._textWidth=function(W,Z){return this.font.getAdvanceWidth(W,Z)},g.default.Font.prototype._textAscent=function(W){return this.font.ascender*this._scale(W)},g.default.Font.prototype._textDescent=function(W){return-this.font.descender*this._scale(W)},g.default.Font.prototype._scale=function(W){return 1/this.font.unitsPerEm*(W||this.parent._renderer._textSize)},g.default.Font.prototype._handleAlignment=function(W,Z,ne,X,se){var oe=W._textSize;switch(void 0===se&&(se=this._textWidth(Z,oe)),W._textAlign){case w.CENTER:ne-=se/2;break;case w.RIGHT:ne-=se}switch(W._textBaseline){case w.TOP:X+=this._textAscent(oe);break;case w.CENTER:X+=this._textAscent(oe)/2;break;case w.BOTTOM:X-=this._textDescent(oe)}return{x:ne,y:X}},j.default=g.default},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.function.name":163,"core-js/modules/es.number.to-fixed":169,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],299:[function(h,te,j){"use strict";h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.array.splice"),h("core-js/modules/es.array-buffer.constructor"),h("core-js/modules/es.object.to-string"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.prototype.append=function(S,M){return S.push(M),S},g.default.prototype.arrayCopy=function(S,M,b,f,u){var d,p;S=void 0!==u?(p=Math.min(u,S.length),d=f,S.slice(M,p+M)):(p=void 0!==b?(p=b,Math.min(p,S.length)):S.length,d=0,b=M,S.slice(0,p)),Array.prototype.splice.apply(b,[d,p].concat(S))},g.default.prototype.concat=function(S,M){return S.concat(M)},g.default.prototype.reverse=function(S){return S.reverse()},g.default.prototype.shorten=function(S){return S.pop(),S},g.default.prototype.shuffle=function(S,M){for(var b,f,u=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(S),d=(S=M||u?S:S.slice()).length;1<d;)b=this.random(0,1)*d|0,f=S[--d],S[d]=S[b],S[b]=f;return S},g.default.prototype.sort=function(S,M){var b=M?S.slice(0,Math.min(M,S.length)):S,f=M?S.slice(Math.min(M,S.length)):[];return(b="string"==typeof b[0]?b.sort():b.sort(function(u,d){return u-d})).concat(f)},g.default.prototype.splice=function(S,M,b){return Array.prototype.splice.apply(S,[b,0].concat(M)),S},g.default.prototype.subset=function(S,M,b){return S.slice(M,void 0!==b?M+b:S.length)},j.default=g.default},{"../core/main":260,"core-js/modules/es.array-buffer.constructor":147,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.object.to-string":174}],300:[function(h,te,j){"use strict";h("core-js/modules/es.array.map"),h("core-js/modules/es.number.constructor"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.repeat"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.prototype.float=function(S){return S instanceof Array?S.map(parseFloat):parseFloat(S)},g.default.prototype.int=function(S){var M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return S===1/0||"Infinity"===S?1/0:S===-1/0||"-Infinity"===S?-1/0:"string"==typeof S?parseInt(S,M):"number"==typeof S?0|S:"boolean"==typeof S?S?1:0:S instanceof Array?S.map(function(b){return g.default.prototype.int(b,M)}):void 0},g.default.prototype.str=function(S){return S instanceof Array?S.map(g.default.prototype.str):String(S)},g.default.prototype.boolean=function(S){return"number"==typeof S?0!==S:"string"==typeof S?"true"===S.toLowerCase():"boolean"==typeof S?S:S instanceof Array?S.map(g.default.prototype.boolean):void 0},g.default.prototype.byte=function(S){var M=g.default.prototype.int(S,10);return"number"==typeof M?(M+128)%256-128:M instanceof Array?M.map(g.default.prototype.byte):void 0},g.default.prototype.char=function(S){return"number"!=typeof S||isNaN(S)?S instanceof Array?S.map(g.default.prototype.char):"string"==typeof S?g.default.prototype.char(parseInt(S,10)):void 0:String.fromCharCode(S)},g.default.prototype.unchar=function(S){return"string"==typeof S&&1===S.length?S.charCodeAt(0):S instanceof Array?S.map(g.default.prototype.unchar):void 0},g.default.prototype.hex=function(S,M){if(M=null==M?M=8:M,S instanceof Array)return S.map(function(f){return g.default.prototype.hex(f,M)});if(S===1/0||S===-1/0)return(S===1/0?"F":"0").repeat(M);if("number"==typeof S){S<0&&(S=4294967295+S+1);for(var b=Number(S).toString(16).toUpperCase();b.length<M;)b="0".concat(b);return b.length>=M&&(b=b.substring(b.length-M,b.length)),b}},g.default.prototype.unhex=function(S){return S instanceof Array?S.map(g.default.prototype.unhex):parseInt("0x".concat(S),16)},j.default=g.default},{"../core/main":260,"core-js/modules/es.array.map":159,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.repeat":185}],301:[function(h,te,j){"use strict";h("core-js/modules/es.array.filter"),h("core-js/modules/es.array.index-of"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.map"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.constructor"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.match"),h("core-js/modules/es.string.replace"),h("core-js/modules/es.string.split"),h("core-js/modules/es.string.trim"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};function w(u,d,p){var m=u<0,v=m?u.toString().substring(1):u.toString(),D=v.indexOf("."),I=-1!==D?v.substring(0,D):v,R=-1!==D?v.substring(D+1):"",B=m?"-":"";if(void 0!==p){var V="";(-1!==D||0<p-R.length)&&(V="."),R.length>p&&(R=R.substring(0,p));for(var G=0;G<d-I.length;G++)B+="0";B+=I,B+=V,B+=R;for(var K=0;K<p-R.length;K++)B+="0";return B}for(var Q=0;Q<Math.max(d-I.length,0);Q++)B+="0";return B+v}function S(u,d){var p=(u=u.toString()).indexOf("."),m=-1!==p?u.substring(p):"",v=-1!==p?u.substring(0,p):u;if(v=v.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===d)m="";else if(void 0!==d)if(d>m.length)for(var D=d-(m+=-1===p?".":"").length+1,I=0;I<D;I++)m+="0";else m=m.substring(0,d+1);return v+m}function M(u){return 0<parseFloat(u)?"+".concat(u.toString()):u.toString()}function b(u){return 0<=parseFloat(u)?" ".concat(u.toString()):u.toString()}h("../core/friendly_errors/validate_params"),h("../core/friendly_errors/file_errors"),h("../core/friendly_errors/fes_core"),g.default.prototype.join=function(u,d){return g.default._validateParameters("join",arguments),u.join(d)},g.default.prototype.match=function(u,d){return g.default._validateParameters("match",arguments),u.match(d)},g.default.prototype.matchAll=function(u,d){g.default._validateParameters("matchAll",arguments);for(var p=new RegExp(d,"g"),m=p.exec(u),v=[];null!==m;)v.push(m),m=p.exec(u);return v},g.default.prototype.nf=function(u,d,p){return g.default._validateParameters("nf",arguments),u instanceof Array?u.map(function(m){return w(m,d,p)}):"[object Arguments]"===Object.prototype.toString.call(u)?3===u.length?this.nf(u[0],u[1],u[2]):2===u.length?this.nf(u[0],u[1]):this.nf(u[0]):w(u,d,p)},g.default.prototype.nfc=function(u,d){return g.default._validateParameters("nfc",arguments),u instanceof Array?u.map(function(p){return S(p,d)}):S(u,d)},g.default.prototype.nfp=function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];g.default._validateParameters("nfp",d);var m=g.default.prototype.nf.apply(this,d);return m instanceof Array?m.map(M):M(m)},g.default.prototype.nfs=function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];g.default._validateParameters("nfs",d);var m=g.default.prototype.nf.apply(this,d);return m instanceof Array?m.map(b):b(m)},g.default.prototype.split=function(u,d){return g.default._validateParameters("split",arguments),u.split(d)},g.default.prototype.splitTokens=function(u,d){var p;if(g.default._validateParameters("splitTokens",arguments),void 0!==d){var m=d,v=/\]/g.exec(m),D=/\[/g.exec(m);p=D&&v?(m=m.slice(0,v.index)+m.slice(v.index+1),D=/\[/g.exec(m),m=m.slice(0,D.index)+m.slice(D.index+1),new RegExp("[\\[".concat(m,"\\]]"),"g")):v?(m=m.slice(0,v.index)+m.slice(v.index+1),new RegExp("[".concat(m,"\\]]"),"g")):D?(m=m.slice(0,D.index)+m.slice(D.index+1),new RegExp("[".concat(m,"\\[]"),"g")):new RegExp("[".concat(m,"]"),"g")}else p=/\s/g;return u.split(p).filter(function(I){return I})},g.default.prototype.trim=function(u){return g.default._validateParameters("trim",arguments),u instanceof Array?u.map(this.trim):u.trim()},j.default=g.default},{"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.string.trim":190}],302:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.prototype.day=function(){return(new Date).getDate()},g.default.prototype.hour=function(){return(new Date).getHours()},g.default.prototype.minute=function(){return(new Date).getMinutes()},g.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},g.default.prototype.month=function(){return(new Date).getMonth()+1},g.default.prototype.second=function(){return(new Date).getSeconds()},g.default.prototype.year=function(){return(new Date).getFullYear()},j.default=g.default},{"../core/main":260}],303:[function(h,te,j){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}h("core-js/modules/es.array.concat"),h("core-js/modules/es.number.to-fixed"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g};h("./p5.Geometry");var S=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==k(u)&&"function"!=typeof u)return{default:u};var d=M();if(d&&d.has(u))return d.get(u);var p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in u)if(Object.prototype.hasOwnProperty.call(u,v)){var D=m?Object.getOwnPropertyDescriptor(u,v):null;D&&(D.get||D.set)?Object.defineProperty(p,v,D):p[v]=u[v]}return p.default=u,d&&d.set(u,p),p}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var u=new WeakMap;return M=function(){return u},u}function b(u,d,p,m,v,D,I){u=u<=0?1:u,d=d<0?0:d,p=p<=0?u:p,m=m<3?3:m;var R,B,V,G=(D=void 0===D||D)?-2:0,K=(v=v<1?1:v)+((I=void 0===I?0!==d:I)?2:0),Q=Math.atan2(u-d,p),W=Math.sin(Q),Z=Math.cos(Q);for(R=G;R<=K;++R){var ne=R/v,X=p*ne,se=void 0;for(se=R<0?(ne=X=0,u):v<R?(X=p,ne=1,d):u+(d-u)*ne,-2!==R&&R!==v+2||(se=0),X-=p/2,B=0;B<m;++B){var oe=B/(m-1),Fe=2*Math.PI*oe,Be=Math.sin(Fe),xe=Math.cos(Fe);this.vertices.push(new w.default.Vector(Be*se,X,xe*se));var Ue;Ue=R<0?new w.default.Vector(0,-1,0):v<R&&d?new w.default.Vector(0,1,0):new w.default.Vector(Be*Z,W,xe*Z),this.vertexNormals.push(Ue),this.uvs.push(oe,ne)}}var Ve=0;if(D){for(V=0;V<m;++V)this.faces.push([Ve+V,Ve+m+(V+1)%m,Ve+m+V]);Ve+=2*m}for(R=0;R<v;++R){for(B=0;B<m;++B){var Ge=(B+1)%m;this.faces.push([Ve+B,Ve+Ge,Ve+m+Ge]),this.faces.push([Ve+B,Ve+m+Ge,Ve+m+B])}Ve+=m}if(I)for(Ve+=m,B=0;B<m;++B)this.faces.push([Ve+B,Ve+(B+1)%m,Ve+m])}w.default.prototype.plane=function(u,d,p,m){this._assert3d("plane"),w.default._validateParameters("plane",arguments),void 0===u&&(u=50),void 0===d&&(d=u),void 0===p&&(p=1),void 0===m&&(m=1);var v="plane|".concat(p,"|").concat(m);if(!this._renderer.geometryInHash(v)){var D=new w.default.Geometry(p,m,function(){for(var I,R,B,V=0;V<=this.detailY;V++){R=V/this.detailY;for(var G=0;G<=this.detailX;G++)B=new w.default.Vector((I=G/this.detailX)-.5,R-.5,0),this.vertices.push(B),this.uvs.push(I,R)}});D.computeFaces().computeNormals(),p<=1&&m<=1?D._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,D)}return this._renderer.drawBuffersScaled(v,u,d,1),this},w.default.prototype.box=function(u,d,p,m,v){this._assert3d("box"),w.default._validateParameters("box",arguments),void 0===u&&(u=50),void 0===d&&(d=u),void 0===p&&(p=d);var D=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;void 0===m&&(m=D?1:4),void 0===v&&(v=D?1:4);var I="box|".concat(m,"|").concat(v);if(!this._renderer.geometryInHash(I)){var R=new w.default.Geometry(m,v,function(){var B=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var V=0;V<B.length;V++){for(var G=B[V],K=4*V,Q=0;Q<4;Q++){var W=G[Q],Z=new w.default.Vector((2*(1&W)-1)/2,((2&W)-1)/2,((4&W)/2-1)/2);this.vertices.push(Z),this.uvs.push(1&Q,(2&Q)/2)}this.faces.push([K,1+K,2+K]),this.faces.push([2+K,1+K,3+K])}});R.computeNormals(),m<=4&&v<=4?R._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(I,R)}return this._renderer.drawBuffersScaled(I,u,d,p),this},w.default.prototype.sphere=function(u,d,p){return this._assert3d("sphere"),w.default._validateParameters("sphere",arguments),void 0===u&&(u=50),void 0===d&&(d=24),void 0===p&&(p=16),this.ellipsoid(u,u,u,d,p),this},w.default.prototype.cylinder=function(u,d,p,m,v,D){this._assert3d("cylinder"),w.default._validateParameters("cylinder",arguments),void 0===u&&(u=50),void 0===d&&(d=u),void 0===p&&(p=24),void 0===m&&(m=1),void 0===D&&(D=!0),void 0===v&&(v=!0);var I="cylinder|".concat(p,"|").concat(m,"|").concat(v,"|").concat(D);if(!this._renderer.geometryInHash(I)){var R=new w.default.Geometry(p,m);b.call(R,1,1,1,p,m,v,D),p<=24&&m<=16?R._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(I,R)}return this._renderer.drawBuffersScaled(I,u,d,u),this},w.default.prototype.cone=function(u,d,p,m,v){this._assert3d("cone"),w.default._validateParameters("cone",arguments),void 0===u&&(u=50),void 0===d&&(d=u),void 0===p&&(p=24),void 0===m&&(m=1),void 0===v&&(v=!0);var D="cone|".concat(p,"|").concat(m,"|").concat(v);if(!this._renderer.geometryInHash(D)){var I=new w.default.Geometry(p,m);b.call(I,1,0,1,p,m,v,!1),p<=24&&m<=16?I._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(D,I)}return this._renderer.drawBuffersScaled(D,u,d,u),this},w.default.prototype.ellipsoid=function(u,d,p,m,v){this._assert3d("ellipsoid"),w.default._validateParameters("ellipsoid",arguments),void 0===u&&(u=50),void 0===d&&(d=u),void 0===p&&(p=u),void 0===m&&(m=24),void 0===v&&(v=16);var D="ellipsoid|".concat(m,"|").concat(v);if(!this._renderer.geometryInHash(D)){var I=new w.default.Geometry(m,v,function(){for(var R=0;R<=this.detailY;R++)for(var B=R/this.detailY,V=Math.PI*B-Math.PI/2,G=Math.cos(V),K=Math.sin(V),Q=0;Q<=this.detailX;Q++){var W=Q/this.detailX,Z=2*Math.PI*W,ne=Math.cos(Z),X=Math.sin(Z),se=new w.default.Vector(G*X,K,G*ne);this.vertices.push(se),this.vertexNormals.push(se),this.uvs.push(W,B)}});I.computeFaces(),m<=24&&v<=24?I._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(D,I)}return this._renderer.drawBuffersScaled(D,u,d,p),this},w.default.prototype.torus=function(u,d,p,m){if(this._assert3d("torus"),w.default._validateParameters("torus",arguments),void 0===u)u=50;else if(!u)return;if(void 0===d)d=10;else if(!d)return;void 0===p&&(p=24),void 0===m&&(m=16);var v=(d/u).toPrecision(4),D="torus|".concat(v,"|").concat(p,"|").concat(m);if(!this._renderer.geometryInHash(D)){var I=new w.default.Geometry(p,m,function(){for(var R=0;R<=this.detailY;R++)for(var B=R/this.detailY,V=2*Math.PI*B,G=Math.cos(V),K=Math.sin(V),Q=1+v*G,W=0;W<=this.detailX;W++){var Z=W/this.detailX,ne=2*Math.PI*Z,X=Math.cos(ne),se=Math.sin(ne),oe=new w.default.Vector(Q*X,Q*se,v*K),Fe=new w.default.Vector(G*X,G*se,K);this.vertices.push(oe),this.vertexNormals.push(Fe),this.uvs.push(Z,B)}});I.computeFaces(),p<=24&&m<=16?I._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(D,I)}return this._renderer.drawBuffersScaled(D,u,u,u),this},w.default.RendererGL.prototype.point=function(u,d,p){void 0===p&&(p=0);var m=[];return m.push(new w.default.Vector(u,d,p)),this._drawPoints(m,this.immediateMode.buffers.point),this},w.default.RendererGL.prototype.triangle=function(u){var d=u[0],p=u[1],m=u[2],v=u[3],D=u[4],I=u[5];if(!this.geometryInHash("tri")){var R=new w.default.Geometry(1,1,function(){var G=[];G.push(new w.default.Vector(0,0,0)),G.push(new w.default.Vector(0,1,0)),G.push(new w.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=G,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});R._makeTriangleEdges()._edgesToVertices(),R.computeNormals(),this.createBuffers("tri",R)}var B=this.uMVMatrix.copy();try{var V=new w.default.Matrix([m-d,v-p,0,0,D-d,I-p,0,0,0,0,1,0,d,p,0,1]).mult(this.uMVMatrix);this.uMVMatrix=V,this.drawBuffers("tri")}finally{this.uMVMatrix=B}return this},w.default.RendererGL.prototype.ellipse=function(u){this.arc(u[0],u[1],u[2],u[3],0,S.TWO_PI,S.OPEN,u[4])},w.default.RendererGL.prototype.arc=function(u){var d,p,m=u,v=arguments[1],D=arguments[2],I=arguments[3],R=arguments[4],B=arguments[5],V=arguments[6],G=arguments[7]||25;if(p=Math.abs(B-R)>=S.TWO_PI?"".concat(d="ellipse","|").concat(G,"|"):"".concat(d="arc","|").concat(R,"|").concat(B,"|").concat(V,"|").concat(G,"|"),!this.geometryInHash(p)){var K=new w.default.Geometry(G,1,function(){if(this.strokeIndices=[],R.toFixed(10)!==B.toFixed(10)){V!==S.PIE&&void 0!==V||(this.vertices.push(new w.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var W=0;W<=G;W++){var Z=W/G*(B-R)+R,ne=.5+Math.cos(Z)/2,X=.5+Math.sin(Z)/2;this.vertices.push(new w.default.Vector(ne,X,0)),this.uvs.push([ne,X]),W<G-1&&(this.faces.push([0,W+1,W+2]),this.strokeIndices.push([W+1,W+2]))}switch(V){case S.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case S.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case S.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}});K.computeNormals(),G<=50?K._makeTriangleEdges()._edgesToVertices(K):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(d," with more than 50 detail")),this.createBuffers(p,K)}var Q=this.uMVMatrix.copy();try{this.uMVMatrix.translate([m,v,0]),this.uMVMatrix.scale(D,I,1),this.drawBuffers(p)}finally{this.uMVMatrix=Q}return this},w.default.RendererGL.prototype.rect=function(u){var d=this._pInst._glAttributes.perPixelLighting,p=u[0],m=u[1],v=u[2],D=u[3],I=u[4]||(d?1:24),R=u[5]||(d?1:16),B="rect|".concat(I,"|").concat(R);if(!this.geometryInHash(B)){var V=new w.default.Geometry(I,R,function(){for(var K=0;K<=this.detailY;K++)for(var Q=K/this.detailY,W=0;W<=this.detailX;W++){var Z=W/this.detailX,ne=new w.default.Vector(Z,Q,0);this.vertices.push(ne),this.uvs.push(Z,Q)}0<I&&0<R&&(this.strokeIndices=[[0,I],[I,(I+1)*(R+1)-1],[(I+1)*(R+1)-1,(I+1)*R],[(I+1)*R,0]])});V.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(B,V)}var G=this.uMVMatrix.copy();try{this.uMVMatrix.translate([p,m,0]),this.uMVMatrix.scale(v,D,1),this.drawBuffers(B)}finally{this.uMVMatrix=G}return this},w.default.RendererGL.prototype.quad=function(u,d,p,m,v,D,I,R,B,V,G,K,Q,W){void 0===Q&&(Q=2),void 0===W&&(W=2);var Z="quad|".concat(u,"|").concat(d,"|").concat(p,"|").concat(m,"|").concat(v,"|").concat(D,"|").concat(I,"|").concat(R,"|").concat(B,"|").concat(V,"|").concat(G,"|").concat(K,"|").concat(Q,"|").concat(W);if(!this.geometryInHash(Z)){var ne=new w.default.Geometry(Q,W,function(){for(var Ue=1/(this.detailX-1),Ve=1/(this.detailY-1),Oe=0;Oe<this.detailY;Oe++)for(var Ge=0;Ge<this.detailX;Ge++){var De=Ge*Ue,lt=Oe*Ve;this.vertices.push(new w.default.Vector((1-De)*((1-lt)*u+lt*V)+De*((1-lt)*m+lt*I),(1-De)*((1-lt)*d+lt*G)+De*((1-lt)*v+lt*R),(1-De)*((1-lt)*p+lt*K)+De*((1-lt)*D+lt*B))),this.uvs.push([De,lt])}});ne.faces=[];for(var X=0;X<W-1;X++)for(var se=0;se<Q-1;se++){var oe=se+X*Q,Be=se+1+(X+1)*Q,xe=se+(X+1)*Q;ne.faces.push([oe,se+1+X*Q,Be]),ne.faces.push([oe,Be,xe])}ne.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(Z,ne)}return this.drawBuffers(Z),this},w.default.RendererGL.prototype.bezier=function(u,d,p,m,v,D,I,R,B,V,G,K){8===arguments.length&&(G=R,V=I,R=D,I=v,v=m,m=p,p=D=B=K=0);var Q=this._pInst._bezierDetail||20;this.beginShape();for(var W=0;W<=Q;W++){var Z=Math.pow(1-W/Q,3),ne=W/Q*3*Math.pow(1-W/Q,2),X=3*Math.pow(W/Q,2)*(1-W/Q),se=Math.pow(W/Q,3);this.vertex(u*Z+m*ne+I*X+V*se,d*Z+v*ne+R*X+G*se,p*Z+D*ne+B*X+K*se)}return this.endShape(),this},w.default.RendererGL.prototype.curve=function(u,d,p,m,v,D,I,R,B,V,G,K){8===arguments.length&&(V=I,G=R,I=v,R=m,v=m=p,p=D=B=K=0);var Q=this._pInst._curveDetail;this.beginShape();for(var W=0;W<=Q;W++){var Z=.5*Math.pow(W/Q,3),ne=.5*Math.pow(W/Q,2),X=W/Q*.5;this.vertex(Z*(3*m-u-3*I+V)+ne*(2*u-5*m+4*I-V)+X*(-u+I)+2*m*.5,Z*(3*v-d-3*R+G)+ne*(2*d-5*v+4*R-G)+X*(-d+R)+2*v*.5,Z*(3*D-p-3*B+K)+ne*(2*p-5*D+4*B-K)+X*(-p+B)+2*D*.5)}return this.endShape(),this},w.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(S.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(S.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},w.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var u,v,D=[],I=[],R=[],B=arguments.length;if((u=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var V=1/this._lutBezierDetail,G=0,K=1,Q=0;G<1;){if(u=parseFloat(G.toFixed(6)),this._lookUpTableBezier[Q]=this._bezierCoefficients(u),K.toFixed(6)===V.toFixed(6)){u=parseFloat(K.toFixed(6))+parseFloat(G.toFixed(6)),++Q,this._lookUpTableBezier[Q]=this._bezierCoefficients(u);break}G+=V,K-=V,++Q}}var W=this._lookUpTableBezier.length;if(6===B){for(this.isBezier=!0,D=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],I=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],v=0;v<W;v++)this.vertex(D[0]*this._lookUpTableBezier[v][0]+D[1]*this._lookUpTableBezier[v][1]+D[2]*this._lookUpTableBezier[v][2]+D[3]*this._lookUpTableBezier[v][3],I[0]*this._lookUpTableBezier[v][0]+I[1]*this._lookUpTableBezier[v][1]+I[2]*this._lookUpTableBezier[v][2]+I[3]*this._lookUpTableBezier[v][3]);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===B){for(this.isBezier=!0,D=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],I=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],R=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],v=0;v<W;v++)this.vertex(D[0]*this._lookUpTableBezier[v][0]+D[1]*this._lookUpTableBezier[v][1]+D[2]*this._lookUpTableBezier[v][2]+D[3]*this._lookUpTableBezier[v][3],I[0]*this._lookUpTableBezier[v][0]+I[1]*this._lookUpTableBezier[v][1]+I[2]*this._lookUpTableBezier[v][2]+I[3]*this._lookUpTableBezier[v][3],R[0]*this._lookUpTableBezier[v][0]+R[1]*this._lookUpTableBezier[v][1]+R[2]*this._lookUpTableBezier[v][2]+R[3]*this._lookUpTableBezier[v][3]);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},w.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var u,v,D=[],I=[],R=[],B=arguments.length;if((u=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var V=1/this._lutQuadraticDetail,G=0,K=1,Q=0;G<1;){if(u=parseFloat(G.toFixed(6)),this._lookUpTableQuadratic[Q]=this._quadraticCoefficients(u),K.toFixed(6)===V.toFixed(6)){u=parseFloat(K.toFixed(6))+parseFloat(G.toFixed(6)),++Q,this._lookUpTableQuadratic[Q]=this._quadraticCoefficients(u);break}G+=V,K-=V,++Q}}var W=this._lookUpTableQuadratic.length;if(4===B){for(this.isQuadratic=!0,D=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],I=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],v=0;v<W;v++)this.vertex(D[0]*this._lookUpTableQuadratic[v][0]+D[1]*this._lookUpTableQuadratic[v][1]+D[2]*this._lookUpTableQuadratic[v][2],I[0]*this._lookUpTableQuadratic[v][0]+I[1]*this._lookUpTableQuadratic[v][1]+I[2]*this._lookUpTableQuadratic[v][2]);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===B){for(this.isQuadratic=!0,D=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],I=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],R=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],v=0;v<W;v++)this.vertex(D[0]*this._lookUpTableQuadratic[v][0]+D[1]*this._lookUpTableQuadratic[v][1]+D[2]*this._lookUpTableQuadratic[v][2],I[0]*this._lookUpTableQuadratic[v][0]+I[1]*this._lookUpTableQuadratic[v][1]+I[2]*this._lookUpTableQuadratic[v][2],R[0]*this._lookUpTableQuadratic[v][0]+R[1]*this._lookUpTableQuadratic[v][1]+R[2]*this._lookUpTableQuadratic[v][2]);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},w.default.RendererGL.prototype.curveVertex=function(){var u,v,D=[],I=[],R=[],B=arguments.length;if((u=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var V=1/this._lutBezierDetail,G=0,K=1,Q=0;G<1;){if(u=parseFloat(G.toFixed(6)),this._lookUpTableBezier[Q]=this._bezierCoefficients(u),K.toFixed(6)===V.toFixed(6)){u=parseFloat(K.toFixed(6))+parseFloat(G.toFixed(6)),++Q,this._lookUpTableBezier[Q]=this._bezierCoefficients(u);break}G+=V,K-=V,++Q}}var W=this._lookUpTableBezier.length;if(2===B){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,D=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),I=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),v=0;v<W;v++)this.vertex(D[0]*this._lookUpTableBezier[v][0]+D[1]*this._lookUpTableBezier[v][1]+D[2]*this._lookUpTableBezier[v][2]+D[3]*this._lookUpTableBezier[v][3],I[0]*this._lookUpTableBezier[v][0]+I[1]*this._lookUpTableBezier[v][1]+I[2]*this._lookUpTableBezier[v][2]+I[3]*this._lookUpTableBezier[v][3]);for(v=0;v<B;v++)this.immediateMode._curveVertex.shift()}}else if(3===B&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,D=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),I=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),R=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),v=0;v<W;v++)this.vertex(D[0]*this._lookUpTableBezier[v][0]+D[1]*this._lookUpTableBezier[v][1]+D[2]*this._lookUpTableBezier[v][2]+D[3]*this._lookUpTableBezier[v][3],I[0]*this._lookUpTableBezier[v][0]+I[1]*this._lookUpTableBezier[v][1]+I[2]*this._lookUpTableBezier[v][2]+I[3]*this._lookUpTableBezier[v][3],R[0]*this._lookUpTableBezier[v][0]+R[1]*this._lookUpTableBezier[v][1]+R[2]*this._lookUpTableBezier[v][2]+R[3]*this._lookUpTableBezier[v][3]);for(v=0;v<B;v++)this.immediateMode._curveVertex.shift()}},w.default.RendererGL.prototype.image=function(u,d,p,m,v,D,I,R,B){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(u),this._pInst.textureMode(S.NORMAL);var V=0;d<=u.width&&(V=d/u.width);var G=1;d+m<=u.width&&(G=(d+m)/u.width);var K=0;p<=u.height&&(K=p/u.height);var Q=1;p+v<=u.height&&(Q=(p+v)/u.height),this.beginShape(),this.vertex(D,I,0,V,K),this.vertex(D+R,I,0,G,K),this.vertex(D+R,I+B,0,G,Q),this.vertex(D,I+B,0,V,Q),this.endShape(S.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(S.REMOVE)},j.default=w.default},{"../core/constants":250,"../core/main":260,"./p5.Geometry":309,"core-js/modules/es.array.concat":148,"core-js/modules/es.number.to-fixed":169}],304:[function(h,te,j){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}h("core-js/modules/es.array.splice"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.to-string"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!=typeof f)return{default:f};var u=M();if(u&&u.has(f))return u.get(f);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)){var v=p?Object.getOwnPropertyDescriptor(f,m):null;v&&(v.get||v.set)?Object.defineProperty(d,m,v):d[m]=f[m]}return d.default=f,u&&u.set(f,d),d}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return M=function(){return f},f}w.default.prototype.orbitControl=function(f,u,d){if(this._assert3d("orbitControl"),w.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var p=this._renderer._curCamera;void 0===f&&(f=1),void 0===u&&(u=f),void 0===d&&(d=.5),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var m=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&this._renderer._curCamera._orbit(0,0,0<this._mouseWheelDeltaY?d*m:-d*m),this.mouseIsPressed)if(this.mouseButton===this.LEFT)this._renderer._curCamera._orbit(-f*(this.mouseX-this.pmouseX)/m,u*(this.mouseY-this.pmouseY)/m,0);else if(this.mouseButton===this.RIGHT){var I=p._getLocalAxes(),R=Math.sqrt(I.x[0]*I.x[0]+I.x[2]*I.x[2]);0!==R&&(I.x[0]/=R,I.x[2]/=R);var B=Math.sqrt(I.y[0]*I.y[0]+I.y[2]*I.y[2]);0!==B&&(I.y[0]/=B,I.y[2]/=B);var V=-1*f*(this.mouseX-this.pmouseX),G=-1*u*(this.mouseY-this.pmouseY);p.setPosition(p.eyeX+V*I.x[0]+G*I.z[0],p.eyeY,p.eyeZ+V*I.x[2]+G*I.z[2])}return this}},w.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var f=arguments.length,u=new Array(f),d=0;d<f;d++)u[d]=arguments[d];w.default._validateParameters("debugMode",u);for(var p=this._registeredMethods.post.length-1;0<=p;p--)this._registeredMethods.post[p].toString()!==this._grid().toString()&&this._registeredMethods.post[p].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(p,1);u[0]===S.GRID?this.registerMethod("post",this._grid.call(this,u[1],u[2],u[3],u[4],u[5])):u[0]===S.AXES?this.registerMethod("post",this._axesIcon.call(this,u[1],u[2],u[3],u[4])):(this.registerMethod("post",this._grid.call(this,u[0],u[1],u[2],u[3],u[4])),this.registerMethod("post",this._axesIcon.call(this,u[5],u[6],u[7],u[8])))},w.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var f=this._registeredMethods.post.length-1;0<=f;f--)this._registeredMethods.post[f].toString()!==this._grid().toString()&&this._registeredMethods.post[f].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(f,1)},w.default.prototype._grid=function(f,u,d,p,m){void 0===f&&(f=this.width/2),void 0===u&&(u=Math.round(f/30)<4?4:Math.round(f/30)),void 0===d&&(d=0),void 0===p&&(p=0),void 0===m&&(m=0);var v=f/u,D=f/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var I=0;I<=u;I++)this.beginShape(this.LINES),this.vertex(-D+d,p,I*v-D+m),this.vertex(+D+d,p,I*v-D+m),this.endShape();for(var R=0;R<=u;R++)this.beginShape(this.LINES),this.vertex(R*v-D+d,p,-D+m),this.vertex(R*v-D+d,p,+D+m),this.endShape();this.pop()}},w.default.prototype._axesIcon=function(f,u,d,p){return void 0===f&&(f=40<this.width/20?this.width/20:40),void 0===u&&(u=-this.width/4),void 0===d&&(d=u),void 0===p&&(p=u),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(u,d,p),this.vertex(u+f,d,p),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(u,d,p),this.vertex(u,d+f,p),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(u,d,p),this.vertex(u,d,p+f),this.endShape(),this.pop()}},j.default=w.default},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.splice":162,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179}],305:[function(h,te,j){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!=typeof f)return{default:f};var u=M();if(u&&u.has(f))return u.get(f);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)){var v=p?Object.getOwnPropertyDescriptor(f,m):null;v&&(v.get||v.set)?Object.defineProperty(d,m,v):d[m]=f[m]}return d.default=f,u&&u.set(f,d),d}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return M=function(){return f},f}w.default.prototype.ambientLight=function(f,u,d,p){this._assert3d("ambientLight"),w.default._validateParameters("ambientLight",arguments);var m=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(m._array[0],m._array[1],m._array[2]),this._renderer._enableLighting=!0,this},w.default.prototype.specularColor=function(f,u,d){this._assert3d("specularColor"),w.default._validateParameters("specularColor",arguments);var p=this.color.apply(this,arguments);return this._renderer.specularColors=[p._array[0],p._array[1],p._array[2]],this},w.default.prototype.directionalLight=function(f,u,d,p,m,v){var D,I,R,B;this._assert3d("directionalLight"),w.default._validateParameters("directionalLight",arguments),D=f instanceof w.default.Color?f:this.color(f,u,d);var V=arguments[arguments.length-1];B="number"==typeof V?(I=arguments[arguments.length-3],R=arguments[arguments.length-2],arguments[arguments.length-1]):(I=V.x,R=V.y,V.z);var G=Math.sqrt(I*I+R*R+B*B);return this._renderer.directionalLightDirections.push(I/G,R/G,B/G),this._renderer.directionalLightDiffuseColors.push(D._array[0],D._array[1],D._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},w.default.prototype.pointLight=function(f,u,d,p,m,v){var D,I,R,B;this._assert3d("pointLight"),w.default._validateParameters("pointLight",arguments),D=f instanceof w.default.Color?f:this.color(f,u,d);var V=arguments[arguments.length-1];return B="number"==typeof V?(I=arguments[arguments.length-3],R=arguments[arguments.length-2],arguments[arguments.length-1]):(I=V.x,R=V.y,V.z),this._renderer.pointLightPositions.push(I,R,B),this._renderer.pointLightDiffuseColors.push(D._array[0],D._array[1],D._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},w.default.prototype.lights=function(){if(this._assert3d("lights"),this._colorMode===S.RGB)this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1);else{var f=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,f),this.directionalLight(0,0,f,0,0,-1)}return this},w.default.prototype.lightFalloff=function(f,u,d){return this._assert3d("lightFalloff"),w.default._validateParameters("lightFalloff",arguments),f<0&&(f=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),u<0&&(u=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),d<0&&(d=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===f&&0===u&&0===d&&(f=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=f,this._renderer.linearAttenuation=u,this._renderer.quadraticAttenuation=d,this},w.default.prototype.spotLight=function(f,u,d,p,m,v,D,I,R,B,V){var G,K,Q;this._assert3d("spotLight"),w.default._validateParameters("spotLight",arguments);var W=arguments.length;switch(W){case 11:case 10:G=this.color(f,u,d),K=new w.default.Vector(p,m,v),Q=new w.default.Vector(D,I,R);break;case 9:f instanceof w.default.Color?(G=f,K=new w.default.Vector(u,d,p),Q=new w.default.Vector(m,v,D),B=I,V=R):p instanceof w.default.Vector?(G=this.color(f,u,d),K=p,Q=new w.default.Vector(m,v,D),B=I,V=R):D instanceof w.default.Vector?(G=this.color(f,u,d),K=new w.default.Vector(p,m,v),Q=D,B=I,V=R):(G=this.color(f,u,d),K=new w.default.Vector(p,m,v),Q=new w.default.Vector(D,I,R));break;case 8:Q=f instanceof w.default.Color?(G=f,K=new w.default.Vector(u,d,p),new w.default.Vector(m,v,D)):p instanceof w.default.Vector?(G=this.color(f,u,d),K=p,new w.default.Vector(m,v,D)):(G=this.color(f,u,d),K=new w.default.Vector(p,m,v),D),B=I;break;case 7:f instanceof w.default.Color&&u instanceof w.default.Vector?(G=f,K=u,Q=new w.default.Vector(d,p,m),B=v,V=D):f instanceof w.default.Color&&m instanceof w.default.Vector?(G=f,K=new w.default.Vector(u,d,p),Q=m,B=v,V=D):p instanceof w.default.Vector&&m instanceof w.default.Vector?(G=this.color(f,u,d),K=p,Q=m,B=v,V=D):Q=f instanceof w.default.Color?(G=f,K=new w.default.Vector(u,d,p),new w.default.Vector(m,v,D)):p instanceof w.default.Vector?(G=this.color(f,u,d),K=p,new w.default.Vector(m,v,D)):(G=this.color(f,u,d),K=new w.default.Vector(p,m,v),D);break;case 6:p instanceof w.default.Vector&&m instanceof w.default.Vector?(G=this.color(f,u,d),K=p,Q=m,B=v):f instanceof w.default.Color&&m instanceof w.default.Vector?(G=f,K=new w.default.Vector(u,d,p),Q=m,B=v):f instanceof w.default.Color&&u instanceof w.default.Vector&&(G=f,K=u,Q=new w.default.Vector(d,p,m),B=v);break;case 5:f instanceof w.default.Color&&u instanceof w.default.Vector&&d instanceof w.default.Vector?(G=f,K=u,Q=d,B=p,V=m):p instanceof w.default.Vector&&m instanceof w.default.Vector?(G=this.color(f,u,d),K=p,Q=m):f instanceof w.default.Color&&m instanceof w.default.Vector?(G=f,K=new w.default.Vector(u,d,p),Q=m):f instanceof w.default.Color&&u instanceof w.default.Vector&&(G=f,K=u,Q=new w.default.Vector(d,p,m));break;case 4:G=f,K=u,Q=d,B=p;break;case 3:G=f,K=u,Q=d;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(W<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(G._array[0],G._array[1],G._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(K.x,K.y,K.z),Q.normalize(),this._renderer.spotLightDirections.push(Q.x,Q.y,Q.z),void 0===B&&(B=Math.PI/3),void 0!==V&&V<1?(V=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===V&&(V=100),B=this._renderer._pInst._toRadians(B),this._renderer.spotLightAngle.push(Math.cos(B)),this._renderer.spotLightConc.push(V),this._renderer._enableLighting=!0,this},w.default.prototype.noLights=function(){return this._assert3d("noLights"),w.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},j.default=w.default},{"../core/constants":250,"../core/main":260}],306:[function(h,te,j){"use strict";h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.index-of"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.array.splice"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.string.match"),h("core-js/modules/es.string.split"),h("core-js/modules/es.string.trim"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};function w(M,b,f){for(var u=0,d=M.length;u<d;u++)if(M[u]!==b.getUint8(f+u,!1))return!1;return!0}h("./p5.Geometry"),g.default.prototype.loadModel=function(M){var b,f,u;g.default._validateParameters("loadModel",arguments);var d=M.slice(-4);"boolean"==typeof arguments[1]?(b=arguments[1],f=arguments[2],u=arguments[3],void 0!==arguments[4]&&(d=arguments[4])):(b=!1,f=arguments[1],u=arguments[2],void 0!==arguments[3]&&(d=arguments[3]));var p=new g.default.Geometry;p.gid="".concat(M,"|").concat(b);var m=this;return d.match(/\.stl$/i)?this.httpDo(M,"GET","arrayBuffer",function(v){(function(D,I){if(function(V){for(var G=new DataView(V),K=[115,111,108,105,100],Q=0;Q<5;Q++)if(w(K,G,Q))return!1;return!0}(I))!function(V,G){for(var K,Q,W,Z,ne,X,se,oe=new DataView(G),Fe=oe.getUint32(80,!0),Be=!1,xe=0;xe<70;xe++)1129270351===oe.getUint32(xe,!1)&&82===oe.getUint8(xe+4)&&61===oe.getUint8(xe+5)&&(Be=!0,Z=[],ne=oe.getUint8(xe+6)/255,X=oe.getUint8(xe+7)/255,se=oe.getUint8(xe+8)/255);for(var Ue=0;Ue<Fe;Ue++){var Ve=84+50*Ue,Oe=oe.getFloat32(Ve,!0),Ge=oe.getFloat32(4+Ve,!0),De=oe.getFloat32(8+Ve,!0);if(Be){var lt=oe.getUint16(48+Ve,!0);W=0==(32768&lt)?(K=(31&lt)/31,Q=(lt>>5&31)/31,(lt>>10&31)/31):(K=ne,Q=X,se)}for(var Ke=new g.default.Vector(Oe,Ge,De),ct=1;ct<=3;ct++){var ut=Ve+12*ct,z=new g.default.Vector(oe.getFloat32(ut,!0),oe.getFloat32(4+ut,!0),oe.getFloat32(8+ut,!0));V.vertices.push(z),V.vertexNormals.push(Ke),Be&&Z.push(K,Q,W)}V.faces.push([3*Ue,3*Ue+1,3*Ue+2]),V.uvs.push([0,0],[0,0],[0,0])}}(D,I);else{var R=new DataView(I);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(V,G){for(var K,Q,W="",Z=[],ne=0;ne<G.length;++ne){for(var X=G[ne].trim(),se=X.split(" "),oe=0;oe<se.length;++oe)""===se[oe]&&se.splice(oe,1);if(0!==se.length)switch(W){case"":if("solid"!==se[0])return console.error(X),console.error('Invalid state "'.concat(se[0],'", should be "solid"'));W="solid";break;case"solid":if("facet"!==se[0]||"normal"!==se[1])return console.error(X),console.error('Invalid state "'.concat(se[0],'", should be "facet normal"'));K=new g.default.Vector(parseFloat(se[2]),parseFloat(se[3]),parseFloat(se[4])),V.vertexNormals.push(K,K,K),W="facet normal";break;case"facet normal":if("outer"!==se[0]||"loop"!==se[1])return console.error(X),console.error('Invalid state "'.concat(se[0],'", should be "outer loop"'));W="vertex";break;case"vertex":if("vertex"===se[0])Q=new g.default.Vector(parseFloat(se[1]),parseFloat(se[2]),parseFloat(se[3])),V.vertices.push(Q),V.uvs.push([0,0]),Z.push(V.vertices.indexOf(Q));else{if("endloop"!==se[0])return console.error(X),console.error('Invalid state "'.concat(se[0],'", should be "vertex" or "endloop"'));V.faces.push(Z),Z=[],W="endloop"}break;case"endloop":if("endfacet"!==se[0])return console.error(X),console.error('Invalid state "'.concat(se[0],'", should be "endfacet"'));W="endfacet";break;case"endfacet":if("endsolid"!==se[0]){if("facet"!==se[0]||"normal"!==se[1])return console.error(X),console.error('Invalid state "'.concat(se[0],'", should be "endsolid" or "facet normal"'));K=new g.default.Vector(parseFloat(se[2]),parseFloat(se[3]),parseFloat(se[4])),V.vertexNormals.push(K,K,K),W="facet normal"}break;default:console.error('Invalid state "'.concat(W,'"'))}}}(D,new TextDecoder("utf-8").decode(R).split("\n"))}})(p,v),b&&p.normalize(),m._decrementPreload(),"function"==typeof f&&f(p)},u):d.match(/\.obj$/i)?this.loadStrings(M,function(v){(function(D,I){for(var R={v:[],vt:[],vn:[]},B={},V=0;V<I.length;++V){var G=I[V].trim().split(/\b\s+/);if(0<G.length)if("v"===G[0]||"vn"===G[0]){var K=new g.default.Vector(parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3]));R[G[0]].push(K)}else if("vt"===G[0]){var Q=[parseFloat(G[1]),1-parseFloat(G[2])];R[G[0]].push(Q)}else if("f"===G[0])for(var W=3;W<G.length;++W){for(var Z=[],ne=[1,W-1,W],X=0;X<ne.length;++X){var se=G[ne[X]],oe=0;if(void 0!==B[se])oe=B[se];else{for(var Fe=se.split("/"),Be=0;Be<Fe.length;Be++)Fe[Be]=parseInt(Fe[Be])-1;oe=B[se]=D.vertices.length,D.vertices.push(R.v[Fe[0]].copy()),D.uvs.push(R.vt[Fe[1]]?R.vt[Fe[1]].slice():[0,0]),R.vn[Fe[2]]&&D.vertexNormals.push(R.vn[Fe[2]].copy())}Z.push(oe)}Z[0]!==Z[1]&&Z[0]!==Z[2]&&Z[1]!==Z[2]&&D.faces.push(Z)}}0===D.vertexNormals.length&&D.computeNormals()})(p,v),b&&p.normalize(),m._decrementPreload(),"function"==typeof f&&f(p)},u):(g.default._friendlyFileLoadError(3,M),u?u():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),p},g.default.prototype.model=function(M){this._assert3d("model"),g.default._validateParameters("model",arguments),0<M.vertices.length&&(this._renderer.geometryInHash(M.gid)||(M._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(M.gid,M)),this._renderer.drawBuffers(M.gid))},j.default=g.default},{"../core/main":260,"./p5.Geometry":309,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.match":184,"core-js/modules/es.string.split":188,"core-js/modules/es.string.trim":190}],307:[function(h,te,j){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}h("core-js/modules/es.array.join"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!=typeof f)return{default:f};var u=M();if(u&&u.has(f))return u.get(f);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)){var v=p?Object.getOwnPropertyDescriptor(f,m):null;v&&(v.get||v.set)?Object.defineProperty(d,m,v):d[m]=f[m]}return d.default=f,u&&u.set(f,d),d}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return M=function(){return f},f}h("./p5.Texture"),w.default.prototype.loadShader=function(f,u,d,p){function m(){D._decrementPreload(),d&&d(v)}w.default._validateParameters("loadShader",arguments),p=p||console.error;var v=new w.default.Shader,D=this,I=!1,R=!1;return this.loadStrings(f,function(B){v._vertSrc=B.join("\n"),R=!0,I&&m()},p),this.loadStrings(u,function(B){v._fragSrc=B.join("\n"),I=!0,R&&m()},p),v},w.default.prototype.createShader=function(f,u){return this._assert3d("createShader"),w.default._validateParameters("createShader",arguments),new w.default.Shader(this._renderer,f,u)},w.default.prototype.shader=function(f){return this._assert3d("shader"),w.default._validateParameters("shader",arguments),void 0===f._renderer&&(f._renderer=this._renderer),f.init(),f.isStrokeShader()?this._renderer.userStrokeShader=f:(this._renderer.userFillShader=f,this._renderer._useNormalMaterial=!1),this},w.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},w.default.prototype.texture=function(f){return this._assert3d("texture"),w.default._validateParameters("texture",arguments),f.gifProperties&&f._animateGif(this),this._renderer.drawMode=S.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=f,this._renderer._setProperty("_doFill",!0),this},w.default.prototype.textureMode=function(f){f!==S.IMAGE&&f!==S.NORMAL?console.warn("You tried to set ".concat(f," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=f},w.default.prototype.textureWrap=function(f){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f;this._renderer.textureWrapX=f,this._renderer.textureWrapY=u;for(var d=this._renderer.textures,p=0;p<d.length;p++)d[p].setWrapMode(f,u)},w.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var f=arguments.length,u=new Array(f),d=0;d<f;d++)u[d]=arguments[d];return w.default._validateParameters("normalMaterial",u),this._renderer.drawMode=S.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},w.default.prototype.ambientMaterial=function(f,u,d){this._assert3d("ambientMaterial"),w.default._validateParameters("ambientMaterial",arguments);var p=w.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=p._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},w.default.prototype.emissiveMaterial=function(f,u,d,p){this._assert3d("emissiveMaterial"),w.default._validateParameters("emissiveMaterial",arguments);var m=w.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=m._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},w.default.prototype.specularMaterial=function(f,u,d,p){this._assert3d("specularMaterial"),w.default._validateParameters("specularMaterial",arguments);var m=w.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=m._array,this._renderer._useSpecularMaterial=!0,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},w.default.prototype.shininess=function(f){return this._assert3d("shininess"),w.default._validateParameters("shininess",arguments),f<1&&(f=1),this._renderer._useShininess=f,this},w.default.RendererGL.prototype._applyColorBlend=function(f){var u=this.GL,d=this.drawMode===S.TEXTURE||f[f.length-1]<1||this._isErasing;return d!==this._isBlending&&(d||this.curBlendMode!==S.BLEND&&this.curBlendMode!==S.ADD?u.enable(u.BLEND):u.disable(u.BLEND),u.depthMask(!0),this._isBlending=d),this._applyBlendMode(),f},w.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var f=this.GL;switch(this.curBlendMode){case S.BLEND:case S.ADD:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA);break;case S.REMOVE:f.blendEquation(f.FUNC_REVERSE_SUBTRACT),f.blendFunc(f.SRC_ALPHA,f.DST_ALPHA);break;case S.MULTIPLY:f.blendEquationSeparate(f.FUNC_ADD,f.FUNC_ADD),f.blendFuncSeparate(f.ZERO,f.SRC_COLOR,f.ONE,f.ONE);break;case S.SCREEN:f.blendEquationSeparate(f.FUNC_ADD,f.FUNC_ADD),f.blendFuncSeparate(f.ONE_MINUS_DST_COLOR,f.ONE,f.ONE,f.ONE);break;case S.EXCLUSION:f.blendEquationSeparate(f.FUNC_ADD,f.FUNC_ADD),f.blendFuncSeparate(f.ONE_MINUS_DST_COLOR,f.ONE_MINUS_SRC_COLOR,f.ONE,f.ONE);break;case S.REPLACE:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ONE,f.ZERO);break;case S.SUBTRACT:f.blendEquationSeparate(f.FUNC_REVERSE_SUBTRACT,f.FUNC_ADD),f.blendFuncSeparate(f.SRC_ALPHA,f.ONE,f.ONE,f.ONE);break;case S.DARKEST:this.blendExt?(f.blendEquationSeparate(this.blendExt.MIN_EXT,f.FUNC_ADD),f.blendFuncSeparate(f.ONE,f.ONE,f.ONE,f.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case S.LIGHTEST:this.blendExt?(f.blendEquationSeparate(this.blendExt.MAX_EXT,f.FUNC_ADD),f.blendFuncSeparate(f.ONE,f.ONE,f.ONE,f.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}},j.default=w.default},{"../core/constants":250,"../core/main":260,"./p5.Texture":316,"core-js/modules/es.array.join":157}],308:[function(h,te,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.prototype.camera=function(){var S;this._assert3d("camera");for(var M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];return g.default._validateParameters("camera",b),(S=this._renderer._curCamera).camera.apply(S,b),this},g.default.prototype.perspective=function(){var S;this._assert3d("perspective");for(var M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];return g.default._validateParameters("perspective",b),(S=this._renderer._curCamera).perspective.apply(S,b),this},g.default.prototype.ortho=function(){var S;this._assert3d("ortho");for(var M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];return g.default._validateParameters("ortho",b),(S=this._renderer._curCamera).ortho.apply(S,b),this},g.default.prototype.frustum=function(){var S;this._assert3d("frustum");for(var M=arguments.length,b=new Array(M),f=0;f<M;f++)b[f]=arguments[f];return g.default._validateParameters("frustum",b),(S=this._renderer._curCamera).frustum.apply(S,b),this},g.default.prototype.createCamera=function(){this._assert3d("createCamera");var S=new g.default.Camera(this._renderer);return S._computeCameraDefaultSettings(),S._setDefaultCamera(),this._renderer._curCamera=S},g.default.Camera=function(S){this._renderer=S,this.cameraType="default",this.cameraMatrix=new g.default.Matrix,this.projMatrix=new g.default.Matrix},g.default.Camera.prototype.perspective=function(S,M,b,f){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===S?S=this.defaultCameraFOV:this._renderer._pInst._toRadians(S),void 0===M&&(M=this.defaultAspectRatio),void 0===b&&(b=this.defaultCameraNear),void 0===f&&(f=this.defaultCameraFar),b<=1e-4&&(b=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),f<b&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=M,this.cameraNear=b,this.cameraFar=f,this.projMatrix=g.default.Matrix.identity();var u=1/Math.tan(this.cameraFOV/2),d=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(u/M,0,0,0,0,-u,0,0,0,0,(f+b)*d,-1,0,0,2*f*b*d,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},g.default.Camera.prototype.ortho=function(S,M,b,f,u,d){void 0===S&&(S=-this._renderer.width/2),void 0===M&&(M=this._renderer.width/2),void 0===b&&(b=-this._renderer.height/2),void 0===f&&(f=this._renderer.height/2),void 0===u&&(u=0),void 0===d&&(d=Math.max(this._renderer.width,this._renderer.height));var p=M-S,m=f-b,v=d-u,D=2/p,I=2/m,R=-2/v,B=-(M+S)/p,V=-(f+b)/m,G=-(d+u)/v;this.projMatrix=g.default.Matrix.identity(),this.projMatrix.set(D,0,0,0,0,-I,0,0,0,0,R,0,B,V,G,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},g.default.Camera.prototype.frustum=function(S,M,b,f,u,d){void 0===S&&(S=-this._renderer.width/2),void 0===M&&(M=this._renderer.width/2),void 0===b&&(b=-this._renderer.height/2),void 0===f&&(f=this._renderer.height/2),void 0===u&&(u=0),void 0===d&&(d=Math.max(this._renderer.width,this._renderer.height));var p=M-S,m=f-b,v=d-u,D=2*u/p,I=2*u/m,R=-2*d*u/v,B=(M+S)/p,V=(f+b)/m,G=-(d+u)/v;this.projMatrix=g.default.Matrix.identity(),this.projMatrix.set(D,0,0,0,0,I,0,0,B,V,G,-1,0,0,R,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},g.default.Camera.prototype._rotateView=function(S,M,b,f){var u=this.centerX,d=this.centerY,p=this.centerZ;u-=this.eyeX,d-=this.eyeY,p-=this.eyeZ;var m=g.default.Matrix.identity(this._renderer._pInst);m.rotate(this._renderer._pInst._toRadians(S),M,b,f);var v=[u*m.mat4[0]+d*m.mat4[4]+p*m.mat4[8],u*m.mat4[1]+d*m.mat4[5]+p*m.mat4[9],u*m.mat4[2]+d*m.mat4[6]+p*m.mat4[10]];v[0]+=this.eyeX,v[1]+=this.eyeY,v[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,v[0],v[1],v[2],this.upX,this.upY,this.upZ)},g.default.Camera.prototype.pan=function(S){var M=this._getLocalAxes();this._rotateView(S,M.y[0],M.y[1],M.y[2])},g.default.Camera.prototype.tilt=function(S){var M=this._getLocalAxes();this._rotateView(S,M.x[0],M.x[1],M.x[2])},g.default.Camera.prototype.lookAt=function(S,M,b){this.camera(this.eyeX,this.eyeY,this.eyeZ,S,M,b,this.upX,this.upY,this.upZ)},g.default.Camera.prototype.camera=function(S,M,b,f,u,d,p,m,v){void 0===S&&(b=this.defaultEyeZ,f=S=this.defaultEyeX,u=M=this.defaultEyeY,m=1,v=p=d=0),this.eyeX=S,this.eyeY=M,this.eyeZ=b,void 0!==f&&(this.centerX=f,this.centerY=u,this.centerZ=d),void 0!==p&&(this.upX=p,this.upY=m,this.upZ=v);var D=this._getLocalAxes();return this.cameraMatrix.set(D.x[0],D.y[0],D.z[0],0,D.x[1],D.y[1],D.z[1],0,D.x[2],D.y[2],D.z[2],0,0,0,0,1),this.cameraMatrix.translate([-S,-M,-b]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},g.default.Camera.prototype.move=function(S,M,b){var f=this._getLocalAxes(),u=[f.x[0]*S,f.x[1]*S,f.x[2]*S],d=[f.y[0]*M,f.y[1]*M,f.y[2]*M],p=[f.z[0]*b,f.z[1]*b,f.z[2]*b];this.camera(this.eyeX+u[0]+d[0]+p[0],this.eyeY+u[1]+d[1]+p[1],this.eyeZ+u[2]+d[2]+p[2],this.centerX+u[0]+d[0]+p[0],this.centerY+u[1]+d[1]+p[1],this.centerZ+u[2]+d[2]+p[2],0,1,0)},g.default.Camera.prototype.setPosition=function(S,M,b){this.camera(S,M,b,this.centerX+(S-this.eyeX),this.centerY+(M-this.eyeY),this.centerZ+(b-this.eyeZ),0,1,0)},g.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},g.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},g.default.Camera.prototype._resize=function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},g.default.Camera.prototype.copy=function(){var S=new g.default.Camera(this._renderer);return S.cameraFOV=this.cameraFOV,S.aspectRatio=this.aspectRatio,S.eyeX=this.eyeX,S.eyeY=this.eyeY,S.eyeZ=this.eyeZ,S.centerX=this.centerX,S.centerY=this.centerY,S.centerZ=this.centerZ,S.cameraNear=this.cameraNear,S.cameraFar=this.cameraFar,S.cameraType=this.cameraType,S.cameraMatrix=this.cameraMatrix.copy(),S.projMatrix=this.projMatrix.copy(),S},g.default.Camera.prototype._getLocalAxes=function(){var S=this.eyeX-this.centerX,M=this.eyeY-this.centerY,b=this.eyeZ-this.centerZ,f=Math.sqrt(S*S+M*M+b*b);0!==f&&(S/=f,M/=f,b/=f);var u=this.upX,d=this.upY,p=this.upZ,m=d*b-p*M,v=-u*b+p*S,D=u*M-d*S;u=M*D-b*v,d=-S*D+b*m,p=S*v-M*m;var I=Math.sqrt(m*m+v*v+D*D);0!==I&&(m/=I,v/=I,D/=I);var R=Math.sqrt(u*u+d*d+p*p);return 0!==R&&(u/=R,d/=R,p/=R),{x:[m,v,D],y:[u,d,p],z:[S,M,b]}},g.default.Camera.prototype._orbit=function(S,M,b){var f=this.eyeX-this.centerX,u=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,p=Math.sqrt(f*f+u*u+d*d),m=Math.atan2(f,d),v=Math.acos(Math.max(-1,Math.min(1,u/p)));m+=S,(p+=b)<0&&(p=.1),(v+=M)>Math.PI?v=Math.PI:v<=0&&(v=.001);var D=Math.sin(v)*p*Math.sin(m),I=Math.cos(v)*p,R=Math.sin(v)*p*Math.cos(m);this.camera(D+this.centerX,I+this.centerY,R+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},g.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},g.default.prototype.setCamera=function(S){this._renderer._curCamera=S,this._renderer.uPMatrix.set(S.projMatrix.mat4[0],S.projMatrix.mat4[1],S.projMatrix.mat4[2],S.projMatrix.mat4[3],S.projMatrix.mat4[4],S.projMatrix.mat4[5],S.projMatrix.mat4[6],S.projMatrix.mat4[7],S.projMatrix.mat4[8],S.projMatrix.mat4[9],S.projMatrix.mat4[10],S.projMatrix.mat4[11],S.projMatrix.mat4[12],S.projMatrix.mat4[13],S.projMatrix.mat4[14],S.projMatrix.mat4[15])},j.default=g.default.Camera},{"../core/main":260}],309:[function(h,te,j){"use strict";h("core-js/modules/es.string.sub"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.Geometry=function(S,M,b){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=void 0!==S?S:1,this.detailY=void 0!==M?M:1,this.dirtyFlags={},b instanceof Function&&b.call(this),this},g.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},g.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var S,M,b,f,u=this.detailX+1,d=0;d<this.detailY;d++)for(var p=0;p<this.detailX;p++)M=(S=d*u+p)+1,b=(d+1)*u+p+1,this.faces.push([S,M,f=(d+1)*u+p]),this.faces.push([f,M,b]);return this},g.default.Geometry.prototype._getFaceNormal=function(S){var M=this.faces[S],b=this.vertices[M[0]],u=this.vertices[M[2]],d=g.default.Vector.sub(this.vertices[M[1]],b),p=g.default.Vector.sub(u,b),m=g.default.Vector.cross(d,p),v=g.default.Vector.mag(m),D=v/(g.default.Vector.mag(d)*g.default.Vector.mag(p));return 0===D||isNaN(D)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),m):(1<D&&(D=1),m.mult(Math.asin(D)/v))},g.default.Geometry.prototype.computeNormals=function(){var S,M=this.vertexNormals,b=this.vertices,f=this.faces;for(S=M.length=0;S<b.length;++S)M.push(new g.default.Vector);for(var u=0;u<f.length;++u)for(var d=f[u],p=this._getFaceNormal(u),m=0;m<3;++m)M[d[m]].add(p);for(S=0;S<b.length;++S)M[S].normalize();return this},g.default.Geometry.prototype.averageNormals=function(){for(var S=0;S<=this.detailY;S++){var M=this.detailX+1,b=g.default.Vector.add(this.vertexNormals[S*M],this.vertexNormals[S*M+this.detailX]);b=g.default.Vector.div(b,2),this.vertexNormals[S*M]=b,this.vertexNormals[S*M+this.detailX]=b}return this},g.default.Geometry.prototype.averagePoleNormals=function(){for(var S=new g.default.Vector(0,0,0),M=0;M<this.detailX;M++)S.add(this.vertexNormals[M]);S=g.default.Vector.div(S,this.detailX);for(var b=0;b<this.detailX;b++)this.vertexNormals[b]=S;S=new g.default.Vector(0,0,0);for(var f=this.vertices.length-1;f>this.vertices.length-1-this.detailX;f--)S.add(this.vertexNormals[f]);S=g.default.Vector.div(S,this.detailX);for(var u=this.vertices.length-1;u>this.vertices.length-1-this.detailX;u--)this.vertexNormals[u]=S;return this},g.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var S=0,M=this.strokeIndices.length;S<M;S++)this.edges.push(this.strokeIndices[S]);else for(var b=0;b<this.faces.length;b++)this.edges.push([this.faces[b][0],this.faces[b][1]]),this.edges.push([this.faces[b][1],this.faces[b][2]]),this.edges.push([this.faces[b][2],this.faces[b][0]]);return this},g.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var S=this.lineNormals.length=0;S<this.edges.length;S++){var M=this.vertices[this.edges[S][0]],b=this.vertices[this.edges[S][1]],f=b.copy().sub(M).normalize(),u=M.array(),d=M.array(),p=b.array(),m=b.array(),v=f.array(),D=f.array();v.push(1),D.push(-1),this.lineNormals.push(v,D,v,v,D,D),this.lineVertices.push(u,d,p,p,d,m)}return this},g.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var S=this.vertices[0].copy(),M=this.vertices[0].copy(),b=0;b<this.vertices.length;b++)S.x=Math.max(S.x,this.vertices[b].x),M.x=Math.min(M.x,this.vertices[b].x),S.y=Math.max(S.y,this.vertices[b].y),M.y=Math.min(M.y,this.vertices[b].y),S.z=Math.max(S.z,this.vertices[b].z),M.z=Math.min(M.z,this.vertices[b].z);for(var f=g.default.Vector.lerp(S,M,.5),u=g.default.Vector.sub(S,M),d=200/Math.max(Math.max(u.x,u.y),u.z),p=0;p<this.vertices.length;p++)this.vertices[p].sub(f),this.vertices[p].mult(d)}return this},j.default=g.default.Geometry},{"../core/main":260,"core-js/modules/es.string.sub":189}],310:[function(h,te,j){"use strict";h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.typed-array.float32-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k},w=Array,S=function(b){return b instanceof Array};"undefined"!=typeof Float32Array&&(w=Float32Array,S=function(b){return b instanceof Array||b instanceof Float32Array}),g.default.Matrix=function(){for(var b=new Array(arguments.length),f=0;f<b.length;++f)b[f]=arguments[f];return b.length&&b[b.length-1]instanceof g.default&&(this.p5=b[b.length-1]),"mat3"===b[0]?this.mat3=Array.isArray(b[1])?b[1]:new w([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(b[0])?b[0]:new w([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},g.default.Matrix.prototype.set=function(b){return b instanceof g.default.Matrix?this.mat4=b.mat4:S(b)?this.mat4=b:16===arguments.length&&(this.mat4[0]=b,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},g.default.Matrix.prototype.get=function(){return new g.default.Matrix(this.mat4,this.p5)},g.default.Matrix.prototype.copy=function(){var b=new g.default.Matrix(this.p5);return b.mat4[0]=this.mat4[0],b.mat4[1]=this.mat4[1],b.mat4[2]=this.mat4[2],b.mat4[3]=this.mat4[3],b.mat4[4]=this.mat4[4],b.mat4[5]=this.mat4[5],b.mat4[6]=this.mat4[6],b.mat4[7]=this.mat4[7],b.mat4[8]=this.mat4[8],b.mat4[9]=this.mat4[9],b.mat4[10]=this.mat4[10],b.mat4[11]=this.mat4[11],b.mat4[12]=this.mat4[12],b.mat4[13]=this.mat4[13],b.mat4[14]=this.mat4[14],b.mat4[15]=this.mat4[15],b},g.default.Matrix.identity=function(b){return new g.default.Matrix(b)},g.default.Matrix.prototype.transpose=function(b){var f,u,d,p,m,v;return b instanceof g.default.Matrix?(f=b.mat4[1],u=b.mat4[2],d=b.mat4[3],p=b.mat4[6],m=b.mat4[7],v=b.mat4[11],this.mat4[0]=b.mat4[0],this.mat4[1]=b.mat4[4],this.mat4[2]=b.mat4[8],this.mat4[3]=b.mat4[12],this.mat4[4]=f,this.mat4[5]=b.mat4[5],this.mat4[6]=b.mat4[9],this.mat4[7]=b.mat4[13],this.mat4[8]=u,this.mat4[9]=p,this.mat4[10]=b.mat4[10],this.mat4[11]=b.mat4[14],this.mat4[12]=d,this.mat4[13]=m,this.mat4[14]=v,this.mat4[15]=b.mat4[15]):S(b)&&(f=b[1],u=b[2],d=b[3],p=b[6],m=b[7],v=b[11],this.mat4[0]=b[0],this.mat4[1]=b[4],this.mat4[2]=b[8],this.mat4[3]=b[12],this.mat4[4]=f,this.mat4[5]=b[5],this.mat4[6]=b[9],this.mat4[7]=b[13],this.mat4[8]=u,this.mat4[9]=p,this.mat4[10]=b[10],this.mat4[11]=b[14],this.mat4[12]=d,this.mat4[13]=m,this.mat4[14]=v,this.mat4[15]=b[15]),this},g.default.Matrix.prototype.invert=function(b){var f,u,d,p,m,v,D,I,R,B,V,G,K,Q,W,Z;b instanceof g.default.Matrix?(f=b.mat4[0],u=b.mat4[1],d=b.mat4[2],p=b.mat4[3],m=b.mat4[4],v=b.mat4[5],D=b.mat4[6],I=b.mat4[7],R=b.mat4[8],B=b.mat4[9],V=b.mat4[10],G=b.mat4[11],K=b.mat4[12],Q=b.mat4[13],W=b.mat4[14],Z=b.mat4[15]):S(b)&&(f=b[0],u=b[1],d=b[2],p=b[3],m=b[4],v=b[5],D=b[6],I=b[7],R=b[8],B=b[9],V=b[10],G=b[11],K=b[12],Q=b[13],W=b[14],Z=b[15]);var ne=f*v-u*m,X=f*D-d*m,se=f*I-p*m,oe=u*D-d*v,Fe=u*I-p*v,Be=d*I-p*D,xe=R*Q-B*K,Ue=R*W-V*K,Ve=R*Z-G*K,Oe=B*W-V*Q,Ge=B*Z-G*Q,De=V*Z-G*W,lt=ne*De-X*Ge+se*Oe+oe*Ve-Fe*Ue+Be*xe;return lt?(this.mat4[0]=(v*De-D*Ge+I*Oe)*(lt=1/lt),this.mat4[1]=(d*Ge-u*De-p*Oe)*lt,this.mat4[2]=(Q*Be-W*Fe+Z*oe)*lt,this.mat4[3]=(V*Fe-B*Be-G*oe)*lt,this.mat4[4]=(D*Ve-m*De-I*Ue)*lt,this.mat4[5]=(f*De-d*Ve+p*Ue)*lt,this.mat4[6]=(W*se-K*Be-Z*X)*lt,this.mat4[7]=(R*Be-V*se+G*X)*lt,this.mat4[8]=(m*Ge-v*Ve+I*xe)*lt,this.mat4[9]=(u*Ve-f*Ge-p*xe)*lt,this.mat4[10]=(K*Fe-Q*se+Z*ne)*lt,this.mat4[11]=(B*se-R*Fe-G*ne)*lt,this.mat4[12]=(v*Ue-m*Oe-D*xe)*lt,this.mat4[13]=(f*Oe-u*Ue+d*xe)*lt,this.mat4[14]=(Q*X-K*oe-W*ne)*lt,this.mat4[15]=(R*oe-B*X+V*ne)*lt,this):null},g.default.Matrix.prototype.invert3x3=function(){var b=this.mat3[0],f=this.mat3[1],u=this.mat3[2],d=this.mat3[3],p=this.mat3[4],m=this.mat3[5],v=this.mat3[6],D=this.mat3[7],I=this.mat3[8],R=I*p-m*D,B=-I*d+m*v,V=D*d-p*v,G=b*R+f*B+u*V;return G?(this.mat3[0]=R*(G=1/G),this.mat3[1]=(-I*f+u*D)*G,this.mat3[2]=(m*f-u*p)*G,this.mat3[3]=B*G,this.mat3[4]=(I*b-u*v)*G,this.mat3[5]=(-m*b+u*d)*G,this.mat3[6]=V*G,this.mat3[7]=(-D*b+f*v)*G,this.mat3[8]=(p*b-f*d)*G,this):null},g.default.Matrix.prototype.transpose3x3=function(b){var f=b[1],u=b[2],d=b[5];return this.mat3[1]=b[3],this.mat3[2]=b[6],this.mat3[3]=f,this.mat3[5]=b[7],this.mat3[6]=u,this.mat3[7]=d,this},g.default.Matrix.prototype.inverseTranspose=function(b){void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=b.mat4[0],this.mat3[1]=b.mat4[1],this.mat3[2]=b.mat4[2],this.mat3[3]=b.mat4[4],this.mat3[4]=b.mat4[5],this.mat3[5]=b.mat4[6],this.mat3[6]=b.mat4[8],this.mat3[7]=b.mat4[9],this.mat3[8]=b.mat4[10]);var f=this.invert3x3();if(f)f.transpose3x3(this.mat3);else for(var u=0;u<9;u++)this.mat3[u]=0;return this},g.default.Matrix.prototype.determinant=function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])},g.default.Matrix.prototype.mult=function(b){var f;if(b===this||b===this.mat4)f=this.copy().mat4;else if(b instanceof g.default.Matrix)f=b.mat4;else if(S(b))f=b;else{if(16!==arguments.length)return;f=arguments}var u=this.mat4[0],d=this.mat4[1],p=this.mat4[2],m=this.mat4[3];return this.mat4[0]=u*f[0]+d*f[4]+p*f[8]+m*f[12],this.mat4[1]=u*f[1]+d*f[5]+p*f[9]+m*f[13],this.mat4[2]=u*f[2]+d*f[6]+p*f[10]+m*f[14],this.mat4[3]=u*f[3]+d*f[7]+p*f[11]+m*f[15],this.mat4[4]=(u=this.mat4[4])*f[0]+(d=this.mat4[5])*f[4]+(p=this.mat4[6])*f[8]+(m=this.mat4[7])*f[12],this.mat4[5]=u*f[1]+d*f[5]+p*f[9]+m*f[13],this.mat4[6]=u*f[2]+d*f[6]+p*f[10]+m*f[14],this.mat4[7]=u*f[3]+d*f[7]+p*f[11]+m*f[15],this.mat4[8]=(u=this.mat4[8])*f[0]+(d=this.mat4[9])*f[4]+(p=this.mat4[10])*f[8]+(m=this.mat4[11])*f[12],this.mat4[9]=u*f[1]+d*f[5]+p*f[9]+m*f[13],this.mat4[10]=u*f[2]+d*f[6]+p*f[10]+m*f[14],this.mat4[11]=u*f[3]+d*f[7]+p*f[11]+m*f[15],this.mat4[12]=(u=this.mat4[12])*f[0]+(d=this.mat4[13])*f[4]+(p=this.mat4[14])*f[8]+(m=this.mat4[15])*f[12],this.mat4[13]=u*f[1]+d*f[5]+p*f[9]+m*f[13],this.mat4[14]=u*f[2]+d*f[6]+p*f[10]+m*f[14],this.mat4[15]=u*f[3]+d*f[7]+p*f[11]+m*f[15],this},g.default.Matrix.prototype.apply=function(b){var f;if(b===this||b===this.mat4)f=this.copy().mat4;else if(b instanceof g.default.Matrix)f=b.mat4;else if(S(b))f=b;else{if(16!==arguments.length)return;f=arguments}var u=this.mat4,d=u[0],p=u[4],m=u[8],v=u[12];u[0]=f[0]*d+f[1]*p+f[2]*m+f[3]*v,u[4]=f[4]*d+f[5]*p+f[6]*m+f[7]*v,u[8]=f[8]*d+f[9]*p+f[10]*m+f[11]*v,u[12]=f[12]*d+f[13]*p+f[14]*m+f[15]*v;var D=u[1],I=u[5],R=u[9],B=u[13];u[1]=f[0]*D+f[1]*I+f[2]*R+f[3]*B,u[5]=f[4]*D+f[5]*I+f[6]*R+f[7]*B,u[9]=f[8]*D+f[9]*I+f[10]*R+f[11]*B,u[13]=f[12]*D+f[13]*I+f[14]*R+f[15]*B;var V=u[2],G=u[6],K=u[10],Q=u[14];u[2]=f[0]*V+f[1]*G+f[2]*K+f[3]*Q,u[6]=f[4]*V+f[5]*G+f[6]*K+f[7]*Q,u[10]=f[8]*V+f[9]*G+f[10]*K+f[11]*Q,u[14]=f[12]*V+f[13]*G+f[14]*K+f[15]*Q;var W=u[3],Z=u[7],ne=u[11],X=u[15];return u[3]=f[0]*W+f[1]*Z+f[2]*ne+f[3]*X,u[7]=f[4]*W+f[5]*Z+f[6]*ne+f[7]*X,u[11]=f[8]*W+f[9]*Z+f[10]*ne+f[11]*X,u[15]=f[12]*W+f[13]*Z+f[14]*ne+f[15]*X,this},g.default.Matrix.prototype.scale=function(b,f,u){return b instanceof g.default.Vector?(f=b.y,u=b.z,b=b.x):b instanceof Array&&(f=b[1],u=b[2],b=b[0]),this.mat4[0]*=b,this.mat4[1]*=b,this.mat4[2]*=b,this.mat4[3]*=b,this.mat4[4]*=f,this.mat4[5]*=f,this.mat4[6]*=f,this.mat4[7]*=f,this.mat4[8]*=u,this.mat4[9]*=u,this.mat4[10]*=u,this.mat4[11]*=u,this},g.default.Matrix.prototype.rotate=function(b,f,u,d){f instanceof g.default.Vector?(u=f.y,d=f.z,f=f.x):f instanceof Array&&(u=f[1],d=f[2],f=f[0]);var p=Math.sqrt(f*f+u*u+d*d);f*=1/p,u*=1/p,d*=1/p;var m=this.mat4[0],v=this.mat4[1],D=this.mat4[2],I=this.mat4[3],R=this.mat4[4],B=this.mat4[5],V=this.mat4[6],G=this.mat4[7],K=this.mat4[8],Q=this.mat4[9],W=this.mat4[10],Z=this.mat4[11],ne=Math.sin(b),X=Math.cos(b),se=1-X,oe=f*f*se+X,Fe=u*f*se+d*ne,Be=d*f*se-u*ne,xe=f*u*se-d*ne,Ue=u*u*se+X,Ve=d*u*se+f*ne,Oe=f*d*se+u*ne,Ge=u*d*se-f*ne,De=d*d*se+X;return this.mat4[0]=m*oe+R*Fe+K*Be,this.mat4[1]=v*oe+B*Fe+Q*Be,this.mat4[2]=D*oe+V*Fe+W*Be,this.mat4[3]=I*oe+G*Fe+Z*Be,this.mat4[4]=m*xe+R*Ue+K*Ve,this.mat4[5]=v*xe+B*Ue+Q*Ve,this.mat4[6]=D*xe+V*Ue+W*Ve,this.mat4[7]=I*xe+G*Ue+Z*Ve,this.mat4[8]=m*Oe+R*Ge+K*De,this.mat4[9]=v*Oe+B*Ge+Q*De,this.mat4[10]=D*Oe+V*Ge+W*De,this.mat4[11]=I*Oe+G*Ge+Z*De,this},g.default.Matrix.prototype.translate=function(b){var f=b[0],u=b[1],d=b[2]||0;this.mat4[12]+=this.mat4[0]*f+this.mat4[4]*u+this.mat4[8]*d,this.mat4[13]+=this.mat4[1]*f+this.mat4[5]*u+this.mat4[9]*d,this.mat4[14]+=this.mat4[2]*f+this.mat4[6]*u+this.mat4[10]*d,this.mat4[15]+=this.mat4[3]*f+this.mat4[7]*u+this.mat4[11]*d},g.default.Matrix.prototype.rotateX=function(b){this.rotate(b,1,0,0)},g.default.Matrix.prototype.rotateY=function(b){this.rotate(b,0,1,0)},g.default.Matrix.prototype.rotateZ=function(b){this.rotate(b,0,0,1)},g.default.Matrix.prototype.perspective=function(b,f,u,d){var p=1/Math.tan(b/2),m=1/(u-d);return this.mat4[0]=p/f,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=p,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(d+u)*m,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*d*u*m,this.mat4[15]=0,this},g.default.Matrix.prototype.ortho=function(b,f,u,d,p,m){var v=1/(b-f),D=1/(u-d),I=1/(p-m);return this.mat4[0]=-2*v,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*D,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*I,this.mat4[11]=0,this.mat4[12]=(b+f)*v,this.mat4[13]=(d+u)*D,this.mat4[14]=(m+p)*I,this.mat4[15]=1,this},j.default=g.default.Matrix},{"../core/main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220}],311:[function(h,te,j){"use strict";h("core-js/modules/es.array.map"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.RenderBuffer=function(S,M,b,f,u,d){this.size=S,this.src=M,this.dst=b,this.attr=f,this._renderer=u,this.map=d},g.default.RenderBuffer.prototype._prepareBuffer=function(S,M){var b,u=this._renderer.GL;b=S.model?S.model:S;var d=M.attributes[this.attr];if(d){var p=S[this.dst],m=b[this.src];if(0<m.length){var v=!p;if(v&&(S[this.dst]=p=u.createBuffer()),u.bindBuffer(u.ARRAY_BUFFER,p),v||!1!==b.dirtyFlags[this.src]){var D=this.map,I=D?D(m):m;this._renderer._bindBuffer(p,u.ARRAY_BUFFER,I),b.dirtyFlags[this.src]=!1}M.enableAttrib(d,this.size)}}},j.default=g.default.RenderBuffer},{"../core/main":260,"core-js/modules/es.array.map":159}],312:[function(h,te,j){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.typed-array.float32-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!=typeof f)return{default:f};var u=M();if(u&&u.has(f))return u.get(f);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)){var v=p?Object.getOwnPropertyDescriptor(f,m):null;v&&(v.get||v.set)?Object.defineProperty(d,m,v):d[m]=f[m]}return d.default=f,u&&u.set(f,d),d}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return M=function(){return f},f}h("./p5.RenderBuffer"),w.default.RendererGL.prototype.beginShape=function(f){return this.immediateMode.shapeMode=void 0!==f?f:S.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this},w.default.RendererGL.prototype.vertex=function(f,u){var d,p,m;d=p=m=0,3===arguments.length?d=arguments[2]:4===arguments.length?(p=arguments[2],m=arguments[3]):5===arguments.length&&(d=arguments[2],p=arguments[3],m=arguments[4]);var v=new w.default.Vector(f,u,d);this.immediateMode.geometry.vertices.push(v),this.immediateMode.geometry.vertexNormals.push(this._currentNormal);var D=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexColors.push(D[0],D[1],D[2],D[3]),this.textureMode===S.IMAGE&&(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(p/=this._tex.width,m/=this._tex.height):null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(p,m),this.immediateMode._bezierVertex[0]=f,this.immediateMode._bezierVertex[1]=u,this.immediateMode._bezierVertex[2]=d,this.immediateMode._quadraticVertex[0]=f,this.immediateMode._quadraticVertex[1]=u,this.immediateMode._quadraticVertex[2]=d,this},w.default.RendererGL.prototype.normal=function(f,u,d){return this._currentNormal=f instanceof w.default.Vector?f:new w.default.Vector(f,u,d),this},w.default.RendererGL.prototype.endShape=function(f,u,d,p,m,v){return this.immediateMode.shapeMode===S.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},w.default.RendererGL.prototype._processVertices=function(f){0!==this.immediateMode.geometry.vertices.length&&(this._doStroke&&this.drawMode!==S.TEXTURE&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,f===S.CLOSE),this.immediateMode.geometry._edgesToVertices()),(this.isBezier||this.isQuadratic||this.isCurve||this.immediateMode.shapeMode===S.TESS)&&this.immediateMode.shapeMode!==S.LINES&&this._tesselateShape())},w.default.RendererGL.prototype._calculateEdges=function(f,u,d){var p=[],m=0;switch(f){case S.TRIANGLE_STRIP:for(m=0;m<u.length-2;m++)p.push([m,m+1]),p.push([m,m+2]);p.push([m,m+1]);break;case S.TRIANGLES:for(m=0;m<u.length-2;m+=3)p.push([m,m+1]),p.push([m+1,m+2]),p.push([m+2,m]);break;case S.LINES:for(m=0;m<u.length-1;m+=2)p.push([m,m+1]);break;default:for(m=0;m<u.length-1;m++)p.push([m,m+1])}return d&&p.push([u.length-1,0]),p},w.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=S.TRIANGLES;var f=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))],u=this._triangulate(f);this.immediateMode.geometry.vertices=[];for(var d=0,p=u.length;d<p;d+=3)this.vertex(u[d],u[d+1],u[d+2])},w.default.RendererGL.prototype._drawImmediateFill=function(){var f=this.GL,u=this._getImmediateFillShader();this._setFillUniforms(u);var d=!0,p=!1,m=void 0;try{for(var v,D=this.immediateMode.buffers.fill[Symbol.iterator]();!(d=(v=D.next()).done);d=!0)v.value._prepareBuffer(this.immediateMode.geometry,u)}catch(I){p=!0,m=I}finally{try{d||null==D.return||D.return()}finally{if(p)throw m}}this.immediateMode.shapeMode!==S.LINE_STRIP&&this.immediateMode.shapeMode!==S.LINES||(this.immediateMode.shapeMode=S.TRIANGLE_FAN),this._applyColorBlend(this.curFillColor),f.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),u.unbindShader()},w.default.RendererGL.prototype._drawImmediateStroke=function(){var f=this.GL,u=this._getImmediateStrokeShader();this._setStrokeUniforms(u);var d=!0,p=!1,m=void 0;try{for(var v,D=this.immediateMode.buffers.stroke[Symbol.iterator]();!(d=(v=D.next()).done);d=!0)v.value._prepareBuffer(this.immediateMode.geometry,u)}catch(I){p=!0,m=I}finally{try{d||null==D.return||D.return()}finally{if(p)throw m}}this._applyColorBlend(this.curStrokeColor),f.drawArrays(f.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),u.unbindShader()},j.default=w.default.RendererGL},{"../core/constants":250,"../core/main":260,"./p5.RenderBuffer":311,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/web.dom-collections.iterator":226}],313:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.some"),h("core-js/modules/es.object.keys"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.typed-array.float32-array"),h("core-js/modules/es.typed-array.uint16-array"),h("core-js/modules/es.typed-array.uint32-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};h("./p5.RendererGL"),h("./p5.RenderBuffer");var w=0;g.default.RendererGL.prototype._initBufferDefaults=function(M){if(this._freeBuffers(M),1e3<++w){var b=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[b],w--}return this.retainedMode.geometry[M]={}},g.default.RendererGL.prototype._freeBuffers=function(M){var b=this.retainedMode.geometry[M];if(b){delete this.retainedMode.geometry[M],w--;var f=this.GL;b.indexBuffer&&f.deleteBuffer(b.indexBuffer),u(this.retainedMode.buffers.stroke),u(this.retainedMode.buffers.fill)}function u(d){var p=!0,m=!1,v=void 0;try{for(var D,I=d[Symbol.iterator]();!(p=(D=I.next()).done);p=!0){var R=D.value;b[R.dst]&&(f.deleteBuffer(b[R.dst]),b[R.dst]=null)}}catch(B){m=!0,v=B}finally{try{p||null==I.return||I.return()}finally{if(m)throw v}}}},g.default.RendererGL.prototype.createBuffers=function(M,b){var f=this.GL,u=this._initBufferDefaults(M);u.model=b;var d=u.indexBuffer;if(b.faces.length){d=d||(u.indexBuffer=f.createBuffer());var p=g.default.RendererGL.prototype._flatten(b.faces),m=p.some(function(D){return 65535<D}),v=m?Uint32Array:Uint16Array;this._bindBuffer(d,f.ELEMENT_ARRAY_BUFFER,p,v),u.indexBufferType=m?f.UNSIGNED_INT:f.UNSIGNED_SHORT,u.vertexCount=3*b.faces.length}else d&&(f.deleteBuffer(d),u.indexBuffer=null),u.vertexCount=b.vertices?b.vertices.length:0;return u.lineVertexCount=b.lineVertices?b.lineVertices.length:0,u},g.default.RendererGL.prototype.drawBuffers=function(M){var b=this.GL,f=this.retainedMode.geometry[M];if(this._doStroke&&0<f.lineVertexCount){var u=this._getRetainedStrokeShader();this._setStrokeUniforms(u);var d=!0,p=!1,m=void 0;try{for(var v,D=this.retainedMode.buffers.stroke[Symbol.iterator]();!(d=(v=D.next()).done);d=!0)v.value._prepareBuffer(f,u)}catch(Q){p=!0,m=Q}finally{try{d||null==D.return||D.return()}finally{if(p)throw m}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(b.TRIANGLES,M),u.unbindShader()}if(this._doFill){var I=this._getRetainedFillShader();this._setFillUniforms(I);var R=!0,B=!1,V=void 0;try{for(var G,K=this.retainedMode.buffers.fill[Symbol.iterator]();!(R=(G=K.next()).done);R=!0)G.value._prepareBuffer(f,I)}catch(Q){B=!0,V=Q}finally{try{R||null==K.return||K.return()}finally{if(B)throw V}}f.indexBuffer&&this._bindBuffer(f.indexBuffer,b.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(b.TRIANGLES,M),I.unbindShader()}return this},g.default.RendererGL.prototype.drawBuffersScaled=function(M,b,f,u){var d=this.uMVMatrix.copy();try{this.uMVMatrix.scale(b,f,u),this.drawBuffers(M)}finally{this.uMVMatrix=d}},g.default.RendererGL.prototype._drawArrays=function(M,b){return this.GL.drawArrays(M,0,this.retainedMode.geometry[b].lineVertexCount),this},g.default.RendererGL.prototype._drawElements=function(M,b){var f=this.retainedMode.geometry[b],u=this.GL;if(f.indexBuffer){if(f.indexBufferType===u.UNSIGNED_INT&&!u.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");u.drawElements(u.TRIANGLES,f.vertexCount,f.indexBufferType,0)}else u.drawArrays(M||u.TRIANGLES,0,f.vertexCount)},g.default.RendererGL.prototype._drawPoints=function(M,b){var f=this.GL,u=this._getImmediatePointShader();this._setPointUniforms(u),this._bindBuffer(b,f.ARRAY_BUFFER,this._vToNArray(M),Float32Array,f.STATIC_DRAW),u.enableAttrib(u.attributes.aPosition,3),f.drawArrays(f.Points,0,M.length),u.unbindShader()},j.default=g.default.RendererGL},{"../core/main":260,"./p5.RenderBuffer":311,"./p5.RendererGL":314,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.some":161,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint16-array":221,"core-js/modules/es.typed-array.uint32-array":222,"core-js/modules/web.dom-collections.iterator":226}],314:[function(h,te,j){"use strict";function k(m){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.filter"),h("core-js/modules/es.array.from"),h("core-js/modules/es.array.includes"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.object.assign"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.includes"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.typed-array.float32-array"),h("core-js/modules/es.typed-array.float64-array"),h("core-js/modules/es.typed-array.int16-array"),h("core-js/modules/es.typed-array.uint8-array"),h("core-js/modules/es.typed-array.uint16-array"),h("core-js/modules/es.typed-array.uint32-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g=b(h("../core/main")),w=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==k(m)&&"function"!=typeof m)return{default:m};var v=M();if(v&&v.has(m))return v.get(m);var D={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in m)if(Object.prototype.hasOwnProperty.call(m,R)){var B=I?Object.getOwnPropertyDescriptor(m,R):null;B&&(B.get||B.set)?Object.defineProperty(D,R,B):D[R]=m[R]}return D.default=m,v&&v.set(m,D),D}(h("../core/constants")),S=b(h("libtess"));function M(){if("function"!=typeof WeakMap)return null;var m=new WeakMap;return M=function(){return m},m}function b(m){return m&&m.__esModule?m:{default:m}}function f(m){return function(v){if(Array.isArray(v)){for(var D=0,I=new Array(v.length);D<v.length;D++)I[D]=v[D];return I}}(m)||function(v){if(Symbol.iterator in Object(v)||"[object Arguments]"===Object.prototype.toString.call(v))return Array.from(v)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}h("./p5.Shader"),h("./p5.Camera"),h("../core/p5.Renderer"),h("./p5.Matrix"),h("path");var u="precision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n",d={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",lightVert:u+"// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n}\n",lightTextureFrag:"precision highp float;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;\n  }\n}",phongVert:"precision highp float;\nprecision highp int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n}\n",phongFrag:u+"// include lighting.glsl\nprecision highp float;\nprecision highp int;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;\n  }\n}",fontVert:"precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n",fontFrag:"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}",lineVert:"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  vec3 scale = vec3(0.9995);\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  vec2 curPerspScale;\n\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n    // invert Y, projections in Processing invert Y\n    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n}\n",lineFrag:"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}"};g.default.RendererGL=function(m,v,D,I){return g.default.Renderer.call(this,m,v,D),this._setAttributeDefaults(v),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=w.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=w.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new g.default.Matrix,this.uPMatrix=new g.default.Matrix,this.uNMatrix=new g.default.Matrix("mat3"),this._currentNormal=new g.default.Vector(0,0,1),this._curCamera=new g.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new g.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new g.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new g.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new g.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new g.default.RenderBuffer(4,"vertexColors","colorBuffer","aMaterialColor",this),new g.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new g.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new g.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new g.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new g.default.Geometry,shapeMode:w.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new g.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new g.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new g.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new g.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new g.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new g.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new g.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=w.IMAGE,this.textureWrapX=w.CLAMP,this.textureWrapY=w.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},g.default.RendererGL.prototype=Object.create(g.default.Renderer.prototype),g.default.RendererGL.prototype._setAttributeDefaults=function(m){var v={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};m._glAttributes=null===m._glAttributes?v:Object.assign(v,m._glAttributes)},g.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),null===this.drawingContext)throw new Error("Error creating webgl context");var m=this.drawingContext;m.enable(m.DEPTH_TEST),m.depthFunc(m.LEQUAL),m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(v){throw v}},g.default.RendererGL.prototype._resetContext=function(m,v){var D=this.width,I=this.height,R=this.canvas.id,B=this._pInst instanceof g.default.Graphics;if(B){var V=this._pInst;V.canvas.parentNode.removeChild(V.canvas),V.canvas=document.createElement("canvas"),(V._pInst._userNode||document.body).appendChild(V.canvas),g.default.Element.call(V,V.canvas,V._pInst),V.width=D,V.height=I}else{var G=this.canvas;G&&G.parentNode.removeChild(G),(G=document.createElement("canvas")).id=R,this._pInst._userNode?this._pInst._userNode.appendChild(G):document.body.appendChild(G),this._pInst.canvas=G}var K=new g.default.RendererGL(this._pInst.canvas,this._pInst,!B);this._pInst._setProperty("_renderer",K),K.resize(D,I),K._applyDefaults(),B||this._pInst._elements.push(K),"function"==typeof v&&setTimeout(function(){v.apply(window._renderer,m)},0)},g.default.prototype.setAttributes=function(m,v){if(void 0!==this._glAttributes){var D=!0;if(void 0!==v?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[m]!==v&&(this._glAttributes[m]=v,D=!1)):m instanceof Object&&this._glAttributes!==m&&(this._glAttributes=m,D=!1),this._renderer.isP3D&&!D){if(!this._setupDone)for(var I in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(I))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},g.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},g.default.RendererGL.prototype.background=function(){var m,v=(m=this._pInst).color.apply(m,arguments);this.GL.clearColor(v.levels[0]/255,v.levels[1]/255,v.levels[2]/255,v.levels[3]/255),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},g.default.RendererGL.prototype.fill=function(m,v,D,I){var R=g.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=R._array,this.drawMode=w.FILL,this._useNormalMaterial=!1,this._tex=null},g.default.RendererGL.prototype.stroke=function(m,v,D,I){arguments[3]=255;var R=g.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=R._array},g.default.RendererGL.prototype.strokeCap=function(m){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},g.default.RendererGL.prototype.strokeJoin=function(m){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},g.default.RendererGL.prototype.filter=function(m){console.error("filter() does not work in WEBGL mode")},g.default.RendererGL.prototype.blendMode=function(m){m===w.DARKEST||m===w.LIGHTEST||m===w.ADD||m===w.BLEND||m===w.SUBTRACT||m===w.SCREEN||m===w.EXCLUSION||m===w.REPLACE||m===w.MULTIPLY||m===w.REMOVE?this.curBlendMode=m:m!==w.BURN&&m!==w.OVERLAY&&m!==w.HARD_LIGHT&&m!==w.SOFT_LIGHT&&m!==w.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},g.default.RendererGL.prototype.erase=function(m,v){this._isErasing||(this._applyBlendMode(w.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,m/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,v/255])},g.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},g.default.RendererGL.prototype.strokeWeight=function(m){this.curStrokeWeight!==m&&(this.pointSize=m,this.curStrokeWeight=m)},g.default.RendererGL.prototype._getPixel=function(m,v){var D;return D=new Uint8Array(4),this.drawingContext.readPixels(m,v,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,D),[D[0],D[1],D[2],D[3]]},g.default.RendererGL.prototype.loadPixels=function(){if(!0===this._pInst._glAttributes.preserveDrawingBuffer){var v=this._pixelsState.pixels,D=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;v instanceof Uint8Array&&v.length===D||(v=new Uint8Array(D),this._pixelsState._setProperty("pixels",v));var I=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*I,this.height*I,this.GL.RGBA,this.GL.UNSIGNED_BYTE,v)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},g.default.RendererGL.prototype.geometryInHash=function(m){return void 0!==this.retainedMode.geometry[m]},g.default.RendererGL.prototype.resize=function(m,v){g.default.Renderer.prototype.resize.call(this,m,v),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var D=this._pixelsState;void 0!==D.pixels&&D._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},g.default.RendererGL.prototype.clear=function(){this.GL.clearColor((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},g.default.RendererGL.prototype.applyMatrix=function(m,v,D,I,R,B){16===arguments.length?g.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([m,v,0,0,D,I,0,0,0,0,1,0,R,B,0,1])},g.default.RendererGL.prototype.translate=function(m,v,D){return m instanceof g.default.Vector&&(D=m.z,v=m.y,m=m.x),this.uMVMatrix.translate([m,v,D]),this},g.default.RendererGL.prototype.scale=function(m,v,D){return this.uMVMatrix.scale(m,v,D),this},g.default.RendererGL.prototype.rotate=function(m,v){return void 0===v?this.rotateZ(m):(g.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},g.default.RendererGL.prototype.rotateX=function(m){return this.rotate(m,1,0,0),this},g.default.RendererGL.prototype.rotateY=function(m){return this.rotate(m,0,1,0),this},g.default.RendererGL.prototype.rotateZ=function(m){return this.rotate(m,0,0,1),this},g.default.RendererGL.prototype.push=function(){var m=g.default.Renderer.prototype.push.apply(this),v=m.properties;return v.uMVMatrix=this.uMVMatrix.copy(),v.uPMatrix=this.uPMatrix.copy(),v._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),v.ambientLightColors=this.ambientLightColors.slice(),v.specularColors=this.specularColors.slice(),v.directionalLightDirections=this.directionalLightDirections.slice(),v.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),v.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),v.pointLightPositions=this.pointLightPositions.slice(),v.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),v.pointLightSpecularColors=this.pointLightSpecularColors.slice(),v.spotLightPositions=this.spotLightPositions.slice(),v.spotLightDirections=this.spotLightDirections.slice(),v.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),v.spotLightSpecularColors=this.spotLightSpecularColors.slice(),v.spotLightAngle=this.spotLightAngle.slice(),v.spotLightConc=this.spotLightConc.slice(),v.userFillShader=this.userFillShader,v.userStrokeShader=this.userStrokeShader,v.userPointShader=this.userPointShader,v.pointSize=this.pointSize,v.curStrokeWeight=this.curStrokeWeight,v.curStrokeColor=this.curStrokeColor,v.curFillColor=this.curFillColor,v._useSpecularMaterial=this._useSpecularMaterial,v._useEmissiveMaterial=this._useEmissiveMaterial,v._useShininess=this._useShininess,v.constantAttenuation=this.constantAttenuation,v.linearAttenuation=this.linearAttenuation,v.quadraticAttenuation=this.quadraticAttenuation,v._enableLighting=this._enableLighting,v._useNormalMaterial=this._useNormalMaterial,v._tex=this._tex,v.drawMode=this.drawMode,v._currentNormal=this._currentNormal,m},g.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=g.default.Matrix.identity(this._pInst),this},g.default.RendererGL.prototype._getImmediateStrokeShader=function(){var m=this.userStrokeShader;return m&&m.isStrokeShader()?m:this._getLineShader()},g.default.RendererGL.prototype._getRetainedStrokeShader=g.default.RendererGL.prototype._getImmediateStrokeShader,g.default.RendererGL.prototype._getImmediateFillShader=function(){var m=this.userFillShader;if(this._useNormalMaterial&&(!m||!m.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!m||!m.isLightShader())return this._getLightShader()}else if(this._tex){if(!m||!m.isTextureShader())return this._getLightShader()}else if(!m)return this._getImmediateModeShader();return m},g.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var m=this.userFillShader;if(this._enableLighting){if(!m||!m.isLightShader())return this._getLightShader()}else if(this._tex){if(!m||!m.isTextureShader())return this._getLightShader()}else if(!m)return this._getColorShader();return m},g.default.RendererGL.prototype._getImmediatePointShader=function(){var m=this.userPointShader;return m&&m.isPointShader()?m:this._getPointShader()},g.default.RendererGL.prototype._getRetainedLineShader=g.default.RendererGL.prototype._getImmediateLineShader,g.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new g.default.Shader(this,d.phongVert,d.phongFrag):new g.default.Shader(this,d.lightVert,d.lightTextureFrag)),this._defaultLightShader},g.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new g.default.Shader(this,d.immediateVert,d.vertexColorFrag)),this._defaultImmediateModeShader},g.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new g.default.Shader(this,d.normalVert,d.normalFrag)),this._defaultNormalShader},g.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new g.default.Shader(this,d.normalVert,d.basicFrag)),this._defaultColorShader},g.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new g.default.Shader(this,d.pointVert,d.pointFrag)),this._defaultPointShader},g.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new g.default.Shader(this,d.lineVert,d.lineFrag)),this._defaultLineShader},g.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new g.default.Shader(this,d.fontVert,d.fontFrag)),this._defaultFontShader},g.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var m=new g.default.Image(1,1);m.set(0,0,255),this._emptyTexture=new g.default.Texture(this,m)}return this._emptyTexture},g.default.RendererGL.prototype.getTexture=function(m){var v=this.textures,D=!0,I=!1,R=void 0;try{for(var B,V=v[Symbol.iterator]();!(D=(B=V.next()).done);D=!0){var G=B.value;if(G.src===m)return G}}catch(Q){I=!0,R=Q}finally{try{D||null==V.return||V.return()}finally{if(I)throw R}}var K=new g.default.Texture(this,m);return v.push(K),K},g.default.RendererGL.prototype._setStrokeUniforms=function(m){m.bindShader(),m.setUniform("uMaterialColor",this.curStrokeColor),m.setUniform("uStrokeWeight",this.curStrokeWeight)},g.default.RendererGL.prototype._setFillUniforms=function(m){m.bindShader(),m.setUniform("uMaterialColor",this.curFillColor),m.setUniform("isTexture",!!this._tex),this._tex&&m.setUniform("uSampler",this._tex),m.setUniform("uTint",this._tint),m.setUniform("uSpecular",this._useSpecularMaterial),m.setUniform("uEmissive",this._useEmissiveMaterial),m.setUniform("uShininess",this._useShininess),m.setUniform("uUseLighting",this._enableLighting),m.setUniform("uPointLightCount",this.pointLightDiffuseColors.length/3),m.setUniform("uPointLightLocation",this.pointLightPositions),m.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),m.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),m.setUniform("uDirectionalLightCount",this.directionalLightDiffuseColors.length/3),m.setUniform("uLightingDirection",this.directionalLightDirections),m.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),m.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),m.setUniform("uAmbientLightCount",this.ambientLightColors.length/3),m.setUniform("uAmbientColor",this.ambientLightColors),m.setUniform("uSpotLightCount",this.spotLightDiffuseColors.length/3),m.setUniform("uSpotLightAngle",this.spotLightAngle),m.setUniform("uSpotLightConc",this.spotLightConc),m.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),m.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),m.setUniform("uSpotLightLocation",this.spotLightPositions),m.setUniform("uSpotLightDirection",this.spotLightDirections),m.setUniform("uConstantAttenuation",this.constantAttenuation),m.setUniform("uLinearAttenuation",this.linearAttenuation),m.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),m.bindTextures()},g.default.RendererGL.prototype._setPointUniforms=function(m){m.bindShader(),m.setUniform("uMaterialColor",this.curStrokeColor),m.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},g.default.RendererGL.prototype._bindBuffer=function(m,v,D,I,R){if(this.GL.bindBuffer(v=v||this.GL.ARRAY_BUFFER,m),void 0!==D){var B=new(I||Float32Array)(D);this.GL.bufferData(v,B,R||this.GL.STATIC_DRAW)}},g.default.RendererGL.prototype._arraysEqual=function(m,v){var D=m.length;if(D!==v.length)return!1;for(var I=0;I<D;I++)if(m[I]!==v[I])return!1;return!0},g.default.RendererGL.prototype._isTypedArray=function(m){return m instanceof Uint32Array},g.default.RendererGL.prototype._flatten=function(m){if(0===m.length)return[];if(2e4<m.length){var v,D=Object.prototype.toString,I=[],R=m.slice();for(v=R.pop();"[object Array]"===D.call(v)?R.push.apply(R,f(v)):I.push(v),R.length&&void 0!==(v=R.pop()););return I.reverse(),I}var B;return(B=[]).concat.apply(B,f(m))},g.default.RendererGL.prototype._vToNArray=function(m){var v=[],D=!0,I=!1,R=void 0;try{for(var B,V=m[Symbol.iterator]();!(D=(B=V.next()).done);D=!0){var G=B.value;v.push(G.x,G.y,G.z)}}catch(K){I=!0,R=K}finally{try{D||null==V.return||V.return()}finally{if(I)throw R}}return v},g.default.prototype._assert3d=function(m){if(!this._renderer.isP3D)throw new Error("".concat(m,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},g.default.RendererGL.prototype._initTessy=function(){var m=new S.default.GluTesselator;return m.gluTessCallback(S.default.gluEnum.GLU_TESS_VERTEX_DATA,function(v,D){D[D.length]=v[0],D[D.length]=v[1],D[D.length]=v[2]}),m.gluTessCallback(S.default.gluEnum.GLU_TESS_BEGIN,function(v){v!==S.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(v))}),m.gluTessCallback(S.default.gluEnum.GLU_TESS_ERROR,function(v){console.log("error callback"),console.log("error number: ".concat(v))}),m.gluTessCallback(S.default.gluEnum.GLU_TESS_COMBINE,function(v,D,I){return[v[0],v[1],v[2]]}),m.gluTessCallback(S.default.gluEnum.GLU_TESS_EDGE_FLAG,function(v){}),m},g.default.RendererGL.prototype._triangulate=function(m){this._tessy.gluTessNormal(0,0,1);var v=[];this._tessy.gluTessBeginPolygon(v);for(var D=0;D<m.length;D++){this._tessy.gluTessBeginContour();for(var I=m[D],R=0;R<I.length;R+=3){var B=[I[R],I[R+1],I[R+2]];this._tessy.gluTessVertex(B,B)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),v},g.default.RendererGL.prototype._bezierCoefficients=function(m){var v=m*m,D=1-m,I=D*D;return[I*D,3*I*m,3*D*v,v*m]},g.default.RendererGL.prototype._quadraticCoefficients=function(m){var v=1-m;return[v*v,2*v*m,m*m]},g.default.RendererGL.prototype._bezierToCatmull=function(m){return[m[1],m[1]+(m[2]-m[0])/this._curveTightness,m[2]-(m[3]-m[1])/this._curveTightness,m[2]]},j.default=g.default.RendererGL},{"../core/constants":250,"../core/main":260,"../core/p5.Renderer":263,"./p5.Camera":308,"./p5.Matrix":310,"./p5.Shader":315,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.from":153,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.float64-array":201,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.int16-array":205,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint16-array":221,"core-js/modules/es.typed-array.uint32-array":222,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226,libtess:234,path:237}],315:[function(h,te,j){"use strict";h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.index-of"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var k,g=(k=h("../core/main"))&&k.__esModule?k:{default:k};g.default.Shader=function(S,M,b){this._renderer=S,this._vertSrc=M,this._fragSrc=b,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},g.default.Shader.prototype.init=function(){if(0===this._glProgram){var S=this._renderer.GL;if(this._vertShader=S.createShader(S.VERTEX_SHADER),S.shaderSource(this._vertShader,this._vertSrc),S.compileShader(this._vertShader),!S.getShaderParameter(this._vertShader,S.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(S.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=S.createShader(S.FRAGMENT_SHADER),S.shaderSource(this._fragShader,this._fragSrc),S.compileShader(this._fragShader),!S.getShaderParameter(this._fragShader,S.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(S.getShaderInfoLog(this._fragShader))),null;this._glProgram=S.createProgram(),S.attachShader(this._glProgram,this._vertShader),S.attachShader(this._glProgram,this._fragShader),S.linkProgram(this._glProgram),S.getProgramParameter(this._glProgram,S.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(S.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},g.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var S=this._renderer.GL,M=S.getProgramParameter(this._glProgram,S.ACTIVE_ATTRIBUTES),b=0;b<M;++b){var f=S.getActiveAttrib(this._glProgram,b),u=f.name,d=S.getAttribLocation(this._glProgram,u),p={};p.name=u,p.location=d,p.index=b,p.type=f.type,p.size=f.size,this.attributes[u]=p}this._loadedAttributes=!0}},g.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var S=this._renderer.GL,M=S.getProgramParameter(this._glProgram,S.ACTIVE_UNIFORMS),b=0,f=0;f<M;++f){var u=S.getActiveUniform(this._glProgram,f),d={};d.location=S.getUniformLocation(this._glProgram,u.name),d.size=u.size;var p=u.name;1<u.size&&(p=p.substring(0,p.indexOf("[0]"))),d.name=p,d.type=u.type,d._cachedData=void 0,d.type===S.SAMPLER_2D&&(d.samplerIndex=b,b++,this.samplers.push(d)),d.isArray=d.type===S.FLOAT_MAT3||d.type===S.FLOAT_MAT4||d.type===S.FLOAT_VEC2||d.type===S.FLOAT_VEC3||d.type===S.FLOAT_VEC4||d.type===S.INT_VEC2||d.type===S.INT_VEC3||d.type===S.INT_VEC4,this.uniforms[p]=d}this._loadedUniforms=!0}},g.default.Shader.prototype.compile=function(){},g.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},g.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},g.default.Shader.prototype.bindTextures=function(){var S=this._renderer.GL,M=!0,b=!1,f=void 0;try{for(var u,d=this.samplers[Symbol.iterator]();!(M=(u=d.next()).done);M=!0){var p=u.value,m=p.texture;void 0===m&&(m=this._renderer._getEmptyTexture()),S.activeTexture(S.TEXTURE0+p.samplerIndex),m.bindTexture(),m.update(),S.uniform1i(p.location,p.samplerIndex)}}catch(v){b=!0,f=v}finally{try{M||null==d.return||d.return()}finally{if(b)throw f}}},g.default.Shader.prototype.updateTextures=function(){var S=!0,M=!1,b=void 0;try{for(var f,u=this.samplers[Symbol.iterator]();!(S=(f=u.next()).done);S=!0){var d=f.value.texture;d&&d.update()}}catch(p){M=!0,b=p}finally{try{S||null==u.return||u.return()}finally{if(M)throw b}}},g.default.Shader.prototype.unbindTextures=function(){},g.default.Shader.prototype._setMatrixUniforms=function(){this.setUniform("uProjectionMatrix",this._renderer.uPMatrix.mat4),this.isStrokeShader()&&this.setUniform("uPerspective","default"===this._renderer._curCamera.cameraType?1:0),this.setUniform("uModelViewMatrix",this._renderer.uMVMatrix.mat4),this.setUniform("uViewMatrix",this._renderer._curCamera.cameraMatrix.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},g.default.Shader.prototype.useProgram=function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this},g.default.Shader.prototype.setUniform=function(S,M){var b=this.uniforms[S];if(b){var f=this._renderer.GL;if(b.isArray){if(b._cachedData&&this._renderer._arraysEqual(b._cachedData,M))return;b._cachedData=M.slice(0)}else{if(b._cachedData&&b._cachedData===M)return;b._cachedData=M}var u=b.location;switch(this.useProgram(),b.type){case f.BOOL:f.uniform1i(u,!0===M?1:0);break;case f.INT:1<b.size?M.length&&f.uniform1iv(u,M):f.uniform1i(u,M);break;case f.FLOAT:1<b.size?M.length&&f.uniform1fv(u,M):f.uniform1f(u,M);break;case f.FLOAT_MAT3:f.uniformMatrix3fv(u,!1,M);break;case f.FLOAT_MAT4:f.uniformMatrix4fv(u,!1,M);break;case f.FLOAT_VEC2:1<b.size?M.length&&f.uniform2fv(u,M):f.uniform2f(u,M[0],M[1]);break;case f.FLOAT_VEC3:1<b.size?M.length&&f.uniform3fv(u,M):f.uniform3f(u,M[0],M[1],M[2]);break;case f.FLOAT_VEC4:1<b.size?M.length&&f.uniform4fv(u,M):f.uniform4f(u,M[0],M[1],M[2],M[3]);break;case f.INT_VEC2:1<b.size?M.length&&f.uniform2iv(u,M):f.uniform2i(u,M[0],M[1]);break;case f.INT_VEC3:1<b.size?M.length&&f.uniform3iv(u,M):f.uniform3i(u,M[0],M[1],M[2]);break;case f.INT_VEC4:1<b.size?M.length&&f.uniform4iv(u,M):f.uniform4i(u,M[0],M[1],M[2],M[3]);break;case f.SAMPLER_2D:f.activeTexture(f.TEXTURE0+b.samplerIndex),b.texture=this._renderer.getTexture(M),f.uniform1i(b.location,b.samplerIndex)}return this}},g.default.Shader.prototype.isLightShader=function(){return void 0!==this.attributes.aNormal||void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalDiffuseColors||void 0!==this.uniforms.uDirectionalSpecularColors||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightDiffuseColors||void 0!==this.uniforms.uPointLightSpecularColors||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular},g.default.Shader.prototype.isNormalShader=function(){return void 0!==this.attributes.aNormal},g.default.Shader.prototype.isTextureShader=function(){return 0<this.samplerIndex},g.default.Shader.prototype.isColorShader=function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor},g.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},g.default.Shader.prototype.isStrokeShader=function(){return void 0!==this.uniforms.uStrokeWeight},g.default.Shader.prototype.enableAttrib=function(S,M,b,f,u,d){if(S){var p=S.location;if(-1!==p){var m=this._renderer.GL;S.enabled||(m.enableVertexAttribArray(p),S.enabled=!0),this._renderer.GL.vertexAttribPointer(p,M,b||m.FLOAT,f||!1,u||0,d||0)}}return this},j.default=g.default.Shader},{"../core/main":260,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],316:[function(h,te,j){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.typed-array.uint8-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!=typeof f)return{default:f};var u=M();if(u&&u.has(f))return u.get(f);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in f)if(Object.prototype.hasOwnProperty.call(f,m)){var v=p?Object.getOwnPropertyDescriptor(f,m):null;v&&(v.get||v.set)?Object.defineProperty(d,m,v):d[m]=f[m]}return d.default=f,u&&u.set(f,d),d}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return M=function(){return f},f}w.default.Texture=function(f,u){this._renderer=f;var d=this._renderer.GL;this.src=u,this.glTex=void 0,this.glTarget=d.TEXTURE_2D,this.glFormat=d.RGBA,this.mipmaps=!1,this.glMinFilter=d.LINEAR,this.glMagFilter=d.LINEAR,this.glWrapS=d.CLAMP_TO_EDGE,this.glWrapT=d.CLAMP_TO_EDGE,this.isSrcMediaElement=void 0!==w.default.MediaElement&&u instanceof w.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==w.default.Element&&u instanceof w.default.Element&&!(u instanceof w.default.Graphics),this.isSrcP5Image=u instanceof w.default.Image,this.isSrcP5Graphics=u instanceof w.default.Graphics,this.isImageData="undefined"!=typeof ImageData&&u instanceof ImageData;var p=this._getTextureDataFromSource();return this.width=p.width,this.height=p.height,this.init(p),this},w.default.Texture.prototype._getTextureDataFromSource=function(){var f;return this.isSrcP5Image?f=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?f=this.src.elt:this.isImageData&&(f=this.src),f},w.default.Texture.prototype.init=function(f){var u=this._renderer.GL;if(this.glTex=u.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,this.glMagFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.glMinFilter),0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata){var d=new Uint8Array([1,1,1,1]);u.texImage2D(this.glTarget,0,u.RGBA,1,1,0,this.glFormat,u.UNSIGNED_BYTE,d)}else u.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,u.UNSIGNED_BYTE,f)},w.default.Texture.prototype.update=function(){var f=this.src;if(0===f.width||0===f.height)return!1;var u=this._getTextureDataFromSource(),d=!1,p=this._renderer.GL;return u.width!==this.width||u.height!==this.height?(d=!0,this.width=u.width,this.height=u.height,this.isSrcP5Image?f.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&f.setModified(!0)):this.isSrcP5Image?f.isModified()&&(d=!0,f.setModified(!1)):this.isSrcMediaElement?f.isModified()?(d=!0,f.setModified(!1)):f.loadedmetadata&&this._videoPrevUpdateTime!==f.time()&&(this._videoPrevUpdateTime=f.time(),d=!0):this.isImageData?f._dirty&&(d=!(f._dirty=!1)):d=!0,d&&(this.bindTexture(),p.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,p.UNSIGNED_BYTE,u)),d},w.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},w.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},w.default.Texture.prototype.setInterpolation=function(f,u){var d=this._renderer.GL;this.glMinFilter=f===S.NEAREST?d.NEAREST:d.LINEAR,this.glMagFilter=u===S.NEAREST?d.NEAREST:d.LINEAR,this.bindTexture(),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,this.glMinFilter),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},w.default.Texture.prototype.setWrapMode=function(f,u){function d(D){return 0==(D&D-1)}var p=this._renderer.GL,m=d(this.width),v=d(this.height);f===S.REPEAT?m&&v?this.glWrapS=p.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=p.CLAMP_TO_EDGE):f===S.MIRROR?m&&v?this.glWrapS=p.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=p.CLAMP_TO_EDGE):this.glWrapS=p.CLAMP_TO_EDGE,u===S.REPEAT?m&&v?this.glWrapT=p.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=p.CLAMP_TO_EDGE):u===S.MIRROR?m&&v?this.glWrapT=p.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=p.CLAMP_TO_EDGE):this.glWrapT=p.CLAMP_TO_EDGE,this.bindTexture(),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,this.glWrapS),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()},j.default=w.default.Texture},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223}],317:[function(h,te,j){"use strict";function k(p){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.string.split"),h("core-js/modules/es.string.sub"),h("core-js/modules/web.dom-collections.iterator");var g,w=(g=h("../core/main"))&&g.__esModule?g:{default:g},S=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==k(p)&&"function"!=typeof p)return{default:p};var m=M();if(m&&m.has(p))return m.get(p);var v={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in p)if(Object.prototype.hasOwnProperty.call(p,I)){var R=D?Object.getOwnPropertyDescriptor(p,I):null;R&&(R.get||R.set)?Object.defineProperty(v,I,R):v[I]=p[I]}return v.default=p,m&&m.set(p,v),v}(h("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var p=new WeakMap;return M=function(){return p},p}function b(p,m){this.width=p,this.height=m,this.infos=[],this.findImage=function(v){var D,I,R=this.width*this.height;if(R<v)throw new Error("font is too complex to render in 3D");for(var B=this.infos.length-1;0<=B;--B){var V=this.infos[B];if(V.index+v<R){I=(D=V).imageData;break}}if(!D){try{I=new ImageData(this.width,this.height)}catch(Z){var G=document.getElementsByTagName("canvas")[0],K=!G;G||((G=document.createElement("canvas")).style.display="none",document.body.appendChild(G));var Q=G.getContext("2d");Q&&(I=Q.createImageData(this.width,this.height)),K&&document.body.removeChild(G)}this.infos.push(D={index:0,imageData:I})}var W=D.index;return D.index+=v,I._dirty=!0,{imageData:I,index:W}}}function f(p,m,v,D,I){var R=p.imageData.data,B=4*p.index++;R[B++]=m,R[B++]=v,R[B++]=D,R[B++]=I}function u(p){this.font=p,this.strokeImageInfos=new b(64,64),this.colDimImageInfos=new b(64,64),this.rowDimImageInfos=new b(64,64),this.colCellImageInfos=new b(64,64),this.rowCellImageInfos=new b(64,64),this.glyphInfos={},this.getGlyphInfo=function(m){var v=this.glyphInfos[m.index];if(v)return v;var D,I=m.getBoundingBox(),R=I.x1,B=I.y1,V=I.x2-R,G=I.y2-B,K=m.path.commands;if(0==V||0==G||!K.length)return this.glyphInfos[m.index]={};var Q,W,Z,ne,X=[],se=[],oe=[];for(D=8;0<=D;--D)oe.push([]);for(D=8;0<=D;--D)se.push([]);function Fe(xt,ln,An){var Ut=X.length;function Yn(_e,le,ve){for(var ze=_e.length;0<ze--;){var pt=_e[ze];pt<le&&(le=pt),ve<pt&&(ve=pt)}return{min:le,max:ve}}X.push(An);for(var Kn=Yn(xt,1,0),Vt=Math.max(Math.floor(9*Kn.min),0),Nt=Math.min(Math.ceil(9*Kn.max),9),gn=Vt;gn<Nt;++gn)oe[gn].push(Ut);for(var it=Yn(ln,1,0),yn=Math.max(Math.floor(9*it.min),0),Ht=Math.min(Math.ceil(9*it.max),9),de=yn;de<Ht;++de)se[de].push(Ut)}function Be(xt){return(ln=255*xt)<0?0:255<ln?255:ln;var ln}function xe(xt,ln,An,Ut){this.p0=xt,this.c0=ln,this.c1=An,this.p1=Ut,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return w.default.Vector.sub(w.default.Vector.sub(this.p1,this.p0),w.default.Vector.mult(w.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Yn){var Kn=w.default.Vector.lerp(this.p0,this.c0,Yn),Vt=w.default.Vector.lerp(this.c0,this.c1,Yn),Nt=w.default.Vector.lerp(Kn,Vt,Yn);this.c1=w.default.Vector.lerp(this.c1,this.p1,Yn),this.c0=w.default.Vector.lerp(Vt,this.c1,Yn);var gn=w.default.Vector.lerp(Nt,this.c0,Yn),it=new xe(this.p0,Kn,Nt,gn);return this.p0=gn,it},this.splitInflections=function(){var Yn=w.default.Vector.sub(this.c0,this.p0),Kn=w.default.Vector.sub(w.default.Vector.sub(this.c1,this.c0),Yn),Vt=w.default.Vector.sub(w.default.Vector.sub(w.default.Vector.sub(this.p1,this.c1),Yn),w.default.Vector.mult(Kn,2)),Nt=[],gn=Kn.x*Vt.y-Kn.y*Vt.x;if(0!==gn){var it=Yn.x*Vt.y-Yn.y*Vt.x,yn=Yn.x*Kn.y-Yn.y*Kn.x,Ht=it*it-4*gn*yn;if(0<=Ht){gn<0&&(gn=-gn,it=-it,yn=-yn);var de=Math.sqrt(Ht),_e=(-it-de)/(2*gn),le=(-it+de)/(2*gn);0<_e&&_e<1&&(Nt.push(this.split(_e)),le=1-(1-le)/(1-_e)),0<le&&le<1&&Nt.push(this.split(le))}}return Nt.push(this),Nt}}function Ue(xt,ln,An,Ut,Yn,Kn,Vt,Nt){var gn=new xe(new w.default.Vector(xt,ln),new w.default.Vector(An,Ut),new w.default.Vector(Yn,Kn),new w.default.Vector(Vt,Nt)).splitInflections(),it=[],yn=30/d,Ht=!0,de=!1,_e=void 0;try{for(var le,ve=gn[Symbol.iterator]();!(Ht=(le=ve.next()).done);Ht=!0){for(var ze=le.value,pt=[],Dt=void 0;!(.125<=(Dt=yn/ze.quadError()));){var Gt=Math.pow(Dt,1/3),nt=ze.split(Gt),dn=ze.split(1-Gt/(1-Gt));it.push(nt),pt.push(ze),ze=dn}Dt<1&&it.push(ze.split(.5)),it.push(ze),Array.prototype.push.apply(it,pt.reverse())}}catch(Ln){de=!0,_e=Ln}finally{try{Ht||null==ve.return||ve.return()}finally{if(de)throw _e}}return it}function Ve(xt,ln,An,Ut){Fe([xt,An],[ln,Ut],{x:xt,y:ln,cx:(xt+An)/2,cy:(ln+Ut)/2})}function Oe(xt,ln,An,Ut){return Math.abs(An-xt)<1e-5&&Math.abs(Ut-ln)<1e-5}var Ge=!0,De=!1,lt=void 0;try{for(var Ke,ct=K[Symbol.iterator]();!(Ge=(Ke=ct.next()).done);Ge=!0){var ut=Ke.value,z=(ut.x-R)/V,ie=(ut.y-B)/G;if(!Oe(Q,W,z,ie)){switch(ut.type){case"M":Z=z,ne=ie;break;case"L":Ve(Q,W,z,ie);break;case"Q":var fe=(ut.x1-R)/V,Ee=(ut.y1-B)/G;Fe([Q,z,fe],[W,ie,Ee],{x:Q,y:W,cx:fe,cy:Ee});break;case"Z":Oe(Q,W,Z,ne)?X.push({x:Q,y:W}):(Ve(Q,W,Z,ne),X.push({x:Z,y:ne}));break;case"C":for(var Ne=Ue(Q,W,(ut.x1-R)/V,(ut.y1-B)/G,(ut.x2-R)/V,(ut.y2-B)/G,z,ie),Ae=0;Ae<Ne.length;Ae++){var ft=Ne[Ae].toQuadratic();Fe([ft.x,ft.x1,ft.cx],[ft.y,ft.y1,ft.cy],ft)}break;default:throw new Error("unknown command type: ".concat(ut.type))}Q=z,W=ie}}}catch(xt){De=!0,lt=xt}finally{try{Ge||null==ct.return||ct.return()}finally{if(De)throw lt}}for(var Pe=X.length,tt=this.strokeImageInfos.findImage(Pe),st=tt.index,Ye=0;Ye<Pe;++Ye){var Mt=X[Ye];f(tt,Be(Mt.x),Be(Mt.y),Be(Mt.cx),Be(Mt.cy))}function Et(xt,ln,An){for(var Ut=xt.length,Yn=ln.findImage(Ut),Kn=Yn.index,Vt=0,Nt=0;Nt<Ut;++Nt)Vt+=xt[Nt].length;for(var gn=An.findImage(Vt),it=0;it<Ut;++it){var yn=xt[it],Ht=yn.length,de=gn.index;f(Yn,de>>7,127&de,Ht>>7,127&Ht);for(var _e=0;_e<Ht;++_e){var le=yn[_e]+st;f(gn,le>>7,127&le,0,0)}}return{cellImageInfo:gn,dimOffset:Kn,dimImageInfo:Yn}}return(v=this.glyphInfos[m.index]={glyph:m,uGlyphRect:[I.x1,-I.y1,I.x2,-I.y2],strokeImageInfo:tt,strokes:X,colInfo:Et(oe,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Et(se,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[v.colInfo.dimOffset,v.rowInfo.dimOffset],v}}h("./p5.Shader"),h("./p5.RendererGL.Retained"),w.default.RendererGL.prototype._applyTextProperties=function(){},w.default.RendererGL.prototype.textWidth=function(p){return this._isOpenType()?this._textFont._textWidth(p,this._textSize):0};var d=Math.sqrt(3);w.default.RendererGL.prototype._renderText=function(p,m,v,D,I){if(this._textFont&&"string"!=typeof this._textFont){if(!(I<=D)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported"),p;p.push();var R=this._doStroke,B=this.drawMode;this._doStroke=!1,this.drawMode=S.TEXTURE;var V=this._textFont.font,G=this._textFont._fontInfo;G=G||(this._textFont._fontInfo=new u(V));var K=this._textFont._handleAlignment(this,m,v,D),Q=this._textSize/V.unitsPerEm;this.translate(K.x,K.y,0),this.scale(Q,Q,1);var W=this.GL,Z=!this._defaultFontShader,ne=this._getFontShader();ne.init(),ne.bindShader(),Z&&(ne.setUniform("uGridImageSize",[64,64]),ne.setUniform("uCellsImageSize",[64,64]),ne.setUniform("uStrokeImageSize",[64,64]),ne.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var X=this.retainedMode.geometry.glyph;if(!X){var se=this._textGeom=new w.default.Geometry(1,1,function(){for(var Ne=0;Ne<=1;Ne++)for(var Ae=0;Ae<=1;Ae++)this.vertices.push(new w.default.Vector(Ae,Ne,0)),this.uvs.push(Ae,Ne)});se.computeFaces().computeNormals(),X=this.createBuffers("glyph",se)}var oe=!0,Fe=!1,Be=void 0;try{for(var xe,Ue=this.retainedMode.buffers.text[Symbol.iterator]();!(oe=(xe=Ue.next()).done);oe=!0)xe.value._prepareBuffer(X,ne)}catch(Ne){Fe=!0,Be=Ne}finally{try{oe||null==Ue.return||Ue.return()}finally{if(Fe)throw Be}}this._bindBuffer(X.indexBuffer,W.ELEMENT_ARRAY_BUFFER),ne.setUniform("uMaterialColor",this.curFillColor);try{var Ve=0,Oe=null,Ge=V.stringToGlyphs(m),De=!0,lt=!1,Ke=void 0;try{for(var ct,ut=Ge[Symbol.iterator]();!(De=(ct=ut.next()).done);De=!0){var z=ct.value;Oe&&(Ve+=V.getKerningValue(Oe,z));var ie=G.getGlyphInfo(z);if(ie.uGlyphRect){var fe=ie.rowInfo,Ee=ie.colInfo;ne.setUniform("uSamplerStrokes",ie.strokeImageInfo.imageData),ne.setUniform("uSamplerRowStrokes",fe.cellImageInfo.imageData),ne.setUniform("uSamplerRows",fe.dimImageInfo.imageData),ne.setUniform("uSamplerColStrokes",Ee.cellImageInfo.imageData),ne.setUniform("uSamplerCols",Ee.dimImageInfo.imageData),ne.setUniform("uGridOffset",ie.uGridOffset),ne.setUniform("uGlyphRect",ie.uGlyphRect),ne.setUniform("uGlyphOffset",Ve),ne.bindTextures(),W.drawElements(W.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}Ve+=z.advanceWidth,Oe=z}}catch(Ne){lt=!0,Ke=Ne}finally{try{De||null==ut.return||ut.return()}finally{if(lt)throw Ke}}}finally{ne.unbindShader(),this._doStroke=R,this.drawMode=B,p.pop()}return p}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":250,"../core/main":260,"./p5.RendererGL.Retained":313,"./p5.Shader":315,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/es.string.sub":189,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}]},{},[245])(245)},95:Ks=>{!function(){"use strict";var h=Math.PI,te=Math.sin,j=Math.cos,k=Math.tan,g=Math.asin,w=Math.atan2,S=Math.acos,M=h/180,b=864e5,f=2440588,u=2451545;function p(Oe){return new Date((Oe+.5-f)*b)}function m(Oe){return function d(Oe){return Oe.valueOf()/b-.5+f}(Oe)-u}var v=23.4397*M;function D(Oe,Ge){return w(te(Oe)*j(v)-k(Ge)*te(v),j(Oe))}function I(Oe,Ge){return g(te(Ge)*j(v)+j(Ge)*te(v)*te(Oe))}function R(Oe,Ge,De){return w(te(Oe),j(Oe)*te(Ge)-k(De)*j(Ge))}function B(Oe,Ge,De){return g(te(Ge)*te(De)+j(Ge)*j(De)*j(Oe))}function V(Oe,Ge){return M*(280.16+360.9856235*Oe)-Ge}function K(Oe){return M*(357.5291+.98560028*Oe)}function Q(Oe){return Oe+M*(1.9148*te(Oe)+.02*te(2*Oe)+3e-4*te(3*Oe))+102.9372*M+h}function W(Oe){var De=Q(K(Oe));return{dec:I(De,0),ra:D(De,0)}}var Z={getPosition:function(Oe,Ge,De){var lt=M*-De,Ke=M*Ge,ct=m(Oe),ut=W(ct),z=V(ct,lt)-ut.ra;return{azimuth:R(z,Ke,ut.dec),altitude:B(z,Ke,ut.dec)}}},ne=Z.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];Z.addTime=function(Oe,Ge,De){ne.push([Oe,Ge,De])};var X=9e-4;function oe(Oe,Ge,De){return X+(Oe+Ge)/(2*h)+De}function Fe(Oe,Ge,De){return u+Oe+.0053*te(Ge)-.0069*te(2*De)}function xe(Oe,Ge,De,lt,Ke,ct,ut){var z=function Be(Oe,Ge,De){return S((te(Oe)-te(Ge)*te(De))/(j(Ge)*j(De)))}(Oe,De,lt);return Fe(oe(z,Ge,Ke),ct,ut)}function Ue(Oe){var De=M*(134.963+13.064993*Oe),lt=M*(93.272+13.22935*Oe),Ke=M*(218.316+13.176396*Oe)+6.289*M*te(De),ct=5.128*M*te(lt),ut=385001-20905*j(De);return{ra:D(Ke,ct),dec:I(Ke,ct),dist:ut}}function Ve(Oe,Ge){return new Date(Oe.valueOf()+Ge*b/24)}Z.getTimes=function(Oe,Ge,De){var Ae,ft,Pe,tt,lt=M*-De,Ke=M*Ge,ut=function se(Oe,Ge){return Math.round(Oe-X-Ge/(2*h))}(m(Oe),lt),z=oe(0,lt,ut),ie=K(z),fe=Q(ie),Ee=I(fe,0),Ne=Fe(z,ie,fe),Ye={solarNoon:p(Ne),nadir:p(Ne-.5)};for(Ae=0,ft=ne.length;Ae<ft;Ae+=1)tt=xe((Pe=ne[Ae])[0]*M,lt,Ke,Ee,ut,ie,fe),Ye[Pe[1]]=p(Ne-(tt-Ne)),Ye[Pe[2]]=p(tt);return Ye},Z.getMoonPosition=function(Oe,Ge,De){var lt=M*-De,Ke=M*Ge,ct=m(Oe),ut=Ue(ct),z=V(ct,lt)-ut.ra,ie=B(z,Ke,ut.dec),fe=w(te(z),k(Ke)*j(ut.dec)-te(ut.dec)*j(z));return ie+=function G(Oe){return Oe<0&&(Oe=0),2967e-7/Math.tan(Oe+.00312536/(Oe+.08901179))}(ie),{azimuth:R(z,Ke,ut.dec),altitude:ie,distance:ut.dist,parallacticAngle:fe}},Z.getMoonIllumination=function(Oe){var Ge=m(Oe||new Date),De=W(Ge),lt=Ue(Ge),Ke=149598e3,ct=S(te(De.dec)*te(lt.dec)+j(De.dec)*j(lt.dec)*j(De.ra-lt.ra)),ut=w(Ke*te(ct),lt.dist-Ke*j(ct)),z=w(j(De.dec)*te(De.ra-lt.ra),te(De.dec)*j(lt.dec)-j(De.dec)*te(lt.dec)*j(De.ra-lt.ra));return{fraction:(1+j(ut))/2,phase:.5+.5*ut*(z<0?-1:1)/Math.PI,angle:z}},Z.getMoonTimes=function(Oe,Ge,De,lt){var Ke=new Date(Oe);lt?Ke.setUTCHours(0,0,0,0):Ke.setHours(0,0,0,0);for(var z,ie,fe,Ee,Ne,Ae,ft,Pe,tt,st,Ye,Mt,Et,ct=.133*M,ut=Z.getMoonPosition(Ke,Ge,De).altitude-ct,xt=1;xt<=24&&(z=Z.getMoonPosition(Ve(Ke,xt),Ge,De).altitude-ct,Pe=((Ne=(ut+(ie=Z.getMoonPosition(Ve(Ke,xt+1),Ge,De).altitude-ct))/2-z)*(ft=-(Ae=(ie-ut)/2)/(2*Ne))+Ae)*ft+z,st=0,(tt=Ae*Ae-4*Ne*z)>=0&&(Ye=ft-(Et=Math.sqrt(tt)/(2*Math.abs(Ne))),Mt=ft+Et,Math.abs(Ye)<=1&&st++,Math.abs(Mt)<=1&&st++,Ye<-1&&(Ye=Mt)),1===st?ut<0?fe=xt+Ye:Ee=xt+Ye:2===st&&(fe=xt+(Pe<0?Mt:Ye),Ee=xt+(Pe<0?Ye:Mt)),!fe||!Ee);xt+=2)ut=ie;var ln={};return fe&&(ln.rise=Ve(Ke,fe)),Ee&&(ln.set=Ve(Ke,Ee)),!fe&&!Ee&&(ln[Pe>0?"alwaysUp":"alwaysDown"]=!0),ln},Ks.exports=Z}()}},Ks=>{Ks(Ks.s=241)}]);